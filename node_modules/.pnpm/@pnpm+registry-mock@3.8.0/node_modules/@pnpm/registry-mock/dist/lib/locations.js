"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.storageCache = exports.storage = exports.REGISTRY_MOCK_PORT = exports.configPath = void 0;
const path_1 = __importDefault(require("path"));
const read_yaml_file_1 = require("read-yaml-file");
const REGISTRY_MOCK_PORT = process.env['PNPM_REGISTRY_MOCK_PORT'] || '4873';
exports.REGISTRY_MOCK_PORT = REGISTRY_MOCK_PORT;
const registry = () => path_1.default.join(__dirname, '../../registry');
const storageCache = () => path_1.default.join(registry(), 'storage-cache');
exports.storageCache = storageCache;
const configPath = () => path_1.default.join(registry(), `runtime-config-${REGISTRY_MOCK_PORT}.yaml`);
exports.configPath = configPath;
let _storage;
const storage = () => {
    if (!_storage) {
        _storage = (0, read_yaml_file_1.sync)(configPath()).storage;
    }
    return _storage;
};
exports.storage = storage;
//# sourceMappingURL=locations.js.map