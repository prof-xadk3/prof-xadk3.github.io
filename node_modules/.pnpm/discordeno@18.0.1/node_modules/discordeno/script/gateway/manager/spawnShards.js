"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.spawnShards = void 0;
/** Begin spawning shards. */
function spawnShards(gateway) {
    // PREPARES ALL SHARDS IN SPECIFIC BUCKETS
    gateway.prepareBuckets();
    // SPREAD THIS OUT TO DIFFERENT WORKERS TO BEGIN STARTING UP
    gateway.buckets.forEach(async (bucket, bucketId) => {
        for (const worker of bucket.workers) {
            for (const shardId of worker.queue) {
                await gateway.tellWorkerToIdentify(worker.id, shardId, bucketId);
            }
        }
    });
}
exports.spawnShards = spawnShards;
