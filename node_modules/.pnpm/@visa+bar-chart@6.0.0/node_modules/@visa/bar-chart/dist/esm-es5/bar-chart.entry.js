var __spreadArray=this&&this.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++){if(a||!(r in e)){if(!a)a=Array.prototype.slice.call(e,0,r);a[r]=e[r]}}return t.concat(a||Array.prototype.slice.call(e))};import{r as registerInstance,c as createEvent,h,g as getElement}from"./index-d5092806.js";var xhtml="http://www.w3.org/1999/xhtml";var namespaces={svg:"http://www.w3.org/2000/svg",xhtml:xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(t){var e=t+="",n=e.indexOf(":");if(n>=0&&(e=t.slice(0,n))!=="xmlns")t=t.slice(n+1);return namespaces.hasOwnProperty(e)?{space:namespaces[e],local:t}:t}function creatorInherit(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===xhtml&&e.documentElement.namespaceURI===xhtml?e.createElement(t):e.createElementNS(n,t)}}function creatorFixed(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function creator(t){var e=namespace(t);return(e.local?creatorFixed:creatorInherit)(e)}function none(){}function selector(t){return t==null?none:function(){return this.querySelector(t)}}function selection_select(t){if(typeof t!=="function")t=selector(t);for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i){for(var a=e[i],o=a.length,s=r[i]=new Array(o),u,l,c=0;c<o;++c){if((u=a[c])&&(l=t.call(u,u.__data__,c,a))){if("__data__"in u)l.__data__=u.__data__;s[c]=l}}}return new Selection$1(r,this._parents)}function empty(){return[]}function selectorAll(t){return t==null?empty:function(){return this.querySelectorAll(t)}}function selection_selectAll(t){if(typeof t!=="function")t=selectorAll(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a){for(var o=e[a],s=o.length,u,l=0;l<s;++l){if(u=o[l]){r.push(t.call(u,u.__data__,l,o));i.push(u)}}}return new Selection$1(r,i)}function matcher(t){return function(){return this.matches(t)}}function selection_filter(t){if(typeof t!=="function")t=matcher(t);for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i){for(var a=e[i],o=a.length,s=r[i]=[],u,l=0;l<o;++l){if((u=a[l])&&t.call(u,u.__data__,l,a)){s.push(u)}}}return new Selection$1(r,this._parents)}function sparse(t){return new Array(t.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(t,e){this.ownerDocument=t.ownerDocument;this.namespaceURI=t.namespaceURI;this._next=null;this._parent=t;this.__data__=e}EnterNode.prototype={constructor:EnterNode,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function constant$2(t){return function(){return t}}var keyPrefix="$";function bindIndex(t,e,n,r,i,a){var o=0,s,u=e.length,l=a.length;for(;o<l;++o){if(s=e[o]){s.__data__=a[o];r[o]=s}else{n[o]=new EnterNode(t,a[o])}}for(;o<u;++o){if(s=e[o]){i[o]=s}}}function bindKey(t,e,n,r,i,a,o){var s,u,l={},c=e.length,f=a.length,h=new Array(c),d;for(s=0;s<c;++s){if(u=e[s]){h[s]=d=keyPrefix+o.call(u,u.__data__,s,e);if(d in l){i[s]=u}else{l[d]=u}}}for(s=0;s<f;++s){d=keyPrefix+o.call(t,a[s],s,a);if(u=l[d]){r[s]=u;u.__data__=a[s];l[d]=null}else{n[s]=new EnterNode(t,a[s])}}for(s=0;s<c;++s){if((u=e[s])&&l[h[s]]===u){i[s]=u}}}function selection_data(t,e){if(!t){d=new Array(this.size()),l=-1;this.each((function(t){d[++l]=t}));return d}var n=e?bindKey:bindIndex,r=this._parents,i=this._groups;if(typeof t!=="function")t=constant$2(t);for(var a=i.length,o=new Array(a),s=new Array(a),u=new Array(a),l=0;l<a;++l){var c=r[l],f=i[l],h=f.length,d=t.call(c,c&&c.__data__,l,r),p=d.length,v=s[l]=new Array(p),y=o[l]=new Array(p),g=u[l]=new Array(h);n(c,f,v,y,g,d,e);for(var m=0,b=0,_,w;m<p;++m){if(_=v[m]){if(m>=b)b=m+1;while(!(w=y[b])&&++b<p);_._next=w||null}}}o=new Selection$1(o,r);o._enter=s;o._exit=u;return o}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(t,e,n){var r=this.enter(),i=this,a=this.exit();r=typeof t==="function"?t(r):r.append(t+"");if(e!=null)i=e(i);if(n==null)a.remove();else n(a);return r&&i?r.merge(i).order():i}function selection_merge(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s){for(var u=e[s],l=n[s],c=u.length,f=o[s]=new Array(c),h,d=0;d<c;++d){if(h=u[d]||l[d]){f[d]=h}}}for(;s<r;++s){o[s]=e[s]}return new Selection$1(o,this._parents)}function selection_order(){for(var t=this._groups,e=-1,n=t.length;++e<n;){for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;){if(o=r[i]){if(a&&o.compareDocumentPosition(a)^4)a.parentNode.insertBefore(o,a);a=o}}}return this}function selection_sort(t){if(!t)t=ascending$1;function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,u=i[a]=new Array(s),l,c=0;c<s;++c){if(l=o[c]){u[c]=l}}u.sort(e)}return new Selection$1(i,this._parents).order()}function ascending$1(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function selection_call(){var t=arguments[0];arguments[0]=this;t.apply(null,arguments);return this}function selection_nodes(){var t=new Array(this.size()),e=-1;this.each((function(){t[++e]=this}));return t}function selection_node(){for(var t=this._groups,e=0,n=t.length;e<n;++e){for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}}return null}function selection_size(){var t=0;this.each((function(){++t}));return t}function selection_empty(){return!this.node()}function selection_each(t){for(var e=this._groups,n=0,r=e.length;n<r;++n){for(var i=e[n],a=0,o=i.length,s;a<o;++a){if(s=i[a])t.call(s,s.__data__,a,i)}}return this}function attrRemove$1(t){return function(){this.removeAttribute(t)}}function attrRemoveNS$1(t){return function(){this.removeAttributeNS(t.space,t.local)}}function attrConstant$1(t,e){return function(){this.setAttribute(t,e)}}function attrConstantNS$1(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function attrFunction$1(t,e){return function(){var n=e.apply(this,arguments);if(n==null)this.removeAttribute(t);else this.setAttribute(t,n)}}function attrFunctionNS$1(t,e){return function(){var n=e.apply(this,arguments);if(n==null)this.removeAttributeNS(t.space,t.local);else this.setAttributeNS(t.space,t.local,n)}}function selection_attr(t,e){var n=namespace(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?attrRemoveNS$1:attrRemove$1:typeof e==="function"?n.local?attrFunctionNS$1:attrFunction$1:n.local?attrConstantNS$1:attrConstant$1)(n,e))}function defaultView(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function styleRemove$1(t){return function(){this.style.removeProperty(t)}}function styleConstant$1(t,e,n){return function(){this.style.setProperty(t,e,n)}}function styleFunction$1(t,e,n){return function(){var r=e.apply(this,arguments);if(r==null)this.style.removeProperty(t);else this.style.setProperty(t,r,n)}}function selection_style(t,e,n){return arguments.length>1?this.each((e==null?styleRemove$1:typeof e==="function"?styleFunction$1:styleConstant$1)(t,e,n==null?"":n)):styleValue(this.node(),t)}function styleValue(t,e){return t.style.getPropertyValue(e)||defaultView(t).getComputedStyle(t,null).getPropertyValue(e)}function propertyRemove(t){return function(){delete this[t]}}function propertyConstant(t,e){return function(){this[t]=e}}function propertyFunction(t,e){return function(){var n=e.apply(this,arguments);if(n==null)delete this[t];else this[t]=n}}function selection_property(t,e){return arguments.length>1?this.each((e==null?propertyRemove:typeof e==="function"?propertyFunction:propertyConstant)(t,e)):this.node()[t]}function classArray(t){return t.trim().split(/^|\s+/)}function classList(t){return t.classList||new ClassList(t)}function ClassList(t){this._node=t;this._names=classArray(t.getAttribute("class")||"")}ClassList.prototype={add:function(t){var e=this._names.indexOf(t);if(e<0){this._names.push(t);this._node.setAttribute("class",this._names.join(" "))}},remove:function(t){var e=this._names.indexOf(t);if(e>=0){this._names.splice(e,1);this._node.setAttribute("class",this._names.join(" "))}},contains:function(t){return this._names.indexOf(t)>=0}};function classedAdd(t,e){var n=classList(t),r=-1,i=e.length;while(++r<i)n.add(e[r])}function classedRemove(t,e){var n=classList(t),r=-1,i=e.length;while(++r<i)n.remove(e[r])}function classedTrue(t){return function(){classedAdd(this,t)}}function classedFalse(t){return function(){classedRemove(this,t)}}function classedFunction(t,e){return function(){(e.apply(this,arguments)?classedAdd:classedRemove)(this,t)}}function selection_classed(t,e){var n=classArray(t+"");if(arguments.length<2){var r=classList(this.node()),i=-1,a=n.length;while(++i<a)if(!r.contains(n[i]))return false;return true}return this.each((typeof e==="function"?classedFunction:e?classedTrue:classedFalse)(n,e))}function textRemove(){this.textContent=""}function textConstant$1(t){return function(){this.textContent=t}}function textFunction$1(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function selection_text(t){return arguments.length?this.each(t==null?textRemove:(typeof t==="function"?textFunction$1:textConstant$1)(t)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(t){return function(){this.innerHTML=t}}function htmlFunction(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function selection_html(t){return arguments.length?this.each(t==null?htmlRemove:(typeof t==="function"?htmlFunction:htmlConstant)(t)):this.node().innerHTML}function raise(){if(this.nextSibling)this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){if(this.previousSibling)this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(t){var e=typeof t==="function"?t:creator(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))}function constantNull(){return null}function selection_insert(t,e){var n=typeof t==="function"?t:creator(t),r=e==null?constantNull:typeof e==="function"?e:selector(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))}function remove(){var t=this.parentNode;if(t)t.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var t=this.cloneNode(false),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function selection_cloneDeep(){var t=this.cloneNode(true),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function selection_clone(t){return this.select(t?selection_cloneDeep:selection_cloneShallow)}function selection_datum(t){return arguments.length?this.property("__data__",t):this.node().__data__}var filterEvents={};var event=null;if(typeof document!=="undefined"){var element=document.documentElement;if(!("onmouseenter"in element)){filterEvents={mouseenter:"mouseover",mouseleave:"mouseout"}}}function filterContextListener(t,e,n){t=contextListener(t,e,n);return function(e){var n=e.relatedTarget;if(!n||n!==this&&!(n.compareDocumentPosition(this)&8)){t.call(this,e)}}}function contextListener(t,e,n){return function(r){var i=event;event=r;try{t.call(this,this.__data__,e,n)}finally{event=i}}}function parseTypenames$1(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0)e=t.slice(n+1),t=t.slice(0,n);return{type:t,name:e}}))}function onRemove(t){return function(){var e=this.__on;if(!e)return;for(var n=0,r=-1,i=e.length,a;n<i;++n){if(a=e[n],(!t.type||a.type===t.type)&&a.name===t.name){this.removeEventListener(a.type,a.listener,a.capture)}else{e[++r]=a}}if(++r)e.length=r;else delete this.__on}}function onAdd(t,e,n){var r=filterEvents.hasOwnProperty(t.type)?filterContextListener:contextListener;return function(i,a,o){var s=this.__on,u,l=r(e,a,o);if(s)for(var c=0,f=s.length;c<f;++c){if((u=s[c]).type===t.type&&u.name===t.name){this.removeEventListener(u.type,u.listener,u.capture);this.addEventListener(u.type,u.listener=l,u.capture=n);u.value=e;return}}this.addEventListener(t.type,l,n);u={type:t.type,name:t.name,value:e,listener:l,capture:n};if(!s)this.__on=[u];else s.push(u)}}function selection_on(t,e,n){var r=parseTypenames$1(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s)for(var u=0,l=s.length,c;u<l;++u){for(i=0,c=s[u];i<a;++i){if((o=r[i]).type===c.type&&o.name===c.name){return c.value}}}return}s=e?onAdd:onRemove;if(n==null)n=false;for(i=0;i<a;++i)this.each(s(r[i],e,n));return this}function dispatchEvent(t,e,n){var r=defaultView(t),i=r.CustomEvent;if(typeof i==="function"){i=new i(e,n)}else{i=r.document.createEvent("Event");if(n)i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail;else i.initEvent(e,false,false)}t.dispatchEvent(i)}function dispatchConstant(t,e){return function(){return dispatchEvent(this,t,e)}}function dispatchFunction(t,e){return function(){return dispatchEvent(this,t,e.apply(this,arguments))}}function selection_dispatch(t,e){return this.each((typeof e==="function"?dispatchFunction:dispatchConstant)(t,e))}var root=[null];function Selection$1(t,e){this._groups=t;this._parents=e}function selection(){return new Selection$1([[document.documentElement]],root)}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch};function select(t){return typeof t==="string"?new Selection$1([[document.querySelector(t)]],[document.documentElement]):new Selection$1([[t]],root)}function ascending(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function bisector(t){if(t.length===1)t=ascendingComparator(t);return{left:function(e,n,r,i){if(r==null)r=0;if(i==null)i=e.length;while(r<i){var a=r+i>>>1;if(t(e[a],n)<0)r=a+1;else i=a}return r},right:function(e,n,r,i){if(r==null)r=0;if(i==null)i=e.length;while(r<i){var a=r+i>>>1;if(t(e[a],n)>0)i=a;else r=a+1}return r}}}function ascendingComparator(t){return function(e,n){return ascending(t(e),n)}}var ascendingBisect=bisector(ascending);var bisectRight=ascendingBisect.right;function sequence(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);while(++r<i){a[r]=t+r*n}return a}var e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function ticks(t,e,n){var r,i=-1,a,o,s;e=+e,t=+t,n=+n;if(t===e&&n>0)return[t];if(r=e<t)a=t,t=e,e=a;if((s=tickIncrement(t,e,n))===0||!isFinite(s))return[];if(s>0){t=Math.ceil(t/s);e=Math.floor(e/s);o=new Array(a=Math.ceil(e-t+1));while(++i<a)o[i]=(t+i)*s}else{t=Math.floor(t*s);e=Math.ceil(e*s);o=new Array(a=Math.ceil(t-e+1));while(++i<a)o[i]=(t-i)/s}if(r)o.reverse();return o}function tickIncrement(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=e10?10:a>=e5?5:a>=e2?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=e10?10:a>=e5?5:a>=e2?2:1)}function tickStep(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;if(a>=e10)i*=10;else if(a>=e5)i*=5;else if(a>=e2)i*=2;return e<t?-i:i}function max(t,e){var n=t.length,r=-1,i,a;if(e==null){while(++r<n){if((i=t[r])!=null&&i>=i){a=i;while(++r<n){if((i=t[r])!=null&&i>a){a=i}}}}}else{while(++r<n){if((i=e(t[r],r,t))!=null&&i>=i){a=i;while(++r<n){if((i=e(t[r],r,t))!=null&&i>a){a=i}}}}}return a}function min(t,e){var n=t.length,r=-1,i,a;if(e==null){while(++r<n){if((i=t[r])!=null&&i>=i){a=i;while(++r<n){if((i=t[r])!=null&&a>i){a=i}}}}}else{while(++r<n){if((i=e(t[r],r,t))!=null&&i>=i){a=i;while(++r<n){if((i=e(t[r],r,t))!=null&&a>i){a=i}}}}}return a}function initRange(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}var prefix="$";function Map$1(){}Map$1.prototype=map$2.prototype={constructor:Map$1,has:function(t){return prefix+t in this},get:function(t){return this[prefix+t]},set:function(t,e){this[prefix+t]=e;return this},remove:function(t){var e=prefix+t;return e in this&&delete this[e]},clear:function(){for(var t in this)if(t[0]===prefix)delete this[t]},keys:function(){var t=[];for(var e in this)if(e[0]===prefix)t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)if(e[0]===prefix)t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)if(e[0]===prefix)t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)if(e[0]===prefix)++t;return t},empty:function(){for(var t in this)if(t[0]===prefix)return false;return true},each:function(t){for(var e in this)if(e[0]===prefix)t(this[e],e.slice(1),this)}};function map$2(t,e){var n=new Map$1;if(t instanceof Map$1)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r=-1,i=t.length,a;if(e==null)while(++r<i)n.set(r,t[r]);else while(++r<i)n.set(e(a=t[r],r,t),a)}else if(t)for(var o in t)n.set(o,t[o]);return n}function nest(){var t=[],e=[],n,r,i;function a(e,i,o,s){if(i>=t.length){if(n!=null)e.sort(n);return r!=null?r(e):e}var u=-1,l=e.length,c=t[i++],f,h,d=map$2(),p,v=o();while(++u<l){if(p=d.get(f=c(h=e[u])+"")){p.push(h)}else{d.set(f,[h])}}d.each((function(t,e){s(v,e,a(t,i,o,s))}));return v}function o(n,i){if(++i>t.length)return n;var a,s=e[i-1];if(r!=null&&i>=t.length)a=n.entries();else a=[],n.each((function(t,e){a.push({key:e,values:o(t,i)})}));return s!=null?a.sort((function(t,e){return s(t.key,e.key)})):a}return i={object:function(t){return a(t,0,createObject,setObject)},map:function(t){return a(t,0,createMap,setMap)},entries:function(t){return o(a(t,0,createMap,setMap),0)},key:function(e){t.push(e);return i},sortKeys:function(n){e[t.length-1]=n;return i},sortValues:function(t){n=t;return i},rollup:function(t){r=t;return i}}}function createObject(){return{}}function setObject(t,e,n){t[e]=n}function createMap(){return map$2()}function setMap(t,e,n){t.set(e,n)}var array=Array.prototype;var map$1=array.map;var slice=array.slice;var implicit={name:"implicit"};function ordinal(){var t=map$2(),e=[],n=[],r=implicit;function i(i){var a=i+"",o=t.get(a);if(!o){if(r!==implicit)return r;t.set(a,o=e.push(i))}return n[(o-1)%n.length]}i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=map$2();var r=-1,a=n.length,o,s;while(++r<a)if(!t.has(s=(o=n[r])+""))t.set(s,e.push(o));return i};i.range=function(t){return arguments.length?(n=slice.call(t),i):n.slice()};i.unknown=function(t){return arguments.length?(r=t,i):r};i.copy=function(){return ordinal(e,n).unknown(r)};initRange.apply(i,arguments);return i}function band(){var t=ordinal().unknown(undefined),e=t.domain,n=t.range,r=[0,1],i,a,o=false,s=0,u=0,l=.5;delete t.unknown;function c(){var t=e().length,c=r[1]<r[0],f=r[c-0],h=r[1-c];i=(h-f)/Math.max(1,t-s+u*2);if(o)i=Math.floor(i);f+=(h-f-i*(t-s))*l;a=i*(1-s);if(o)f=Math.round(f),a=Math.round(a);var d=sequence(t).map((function(t){return f+i*t}));return n(c?d.reverse():d)}t.domain=function(t){return arguments.length?(e(t),c()):e()};t.range=function(t){return arguments.length?(r=[+t[0],+t[1]],c()):r.slice()};t.rangeRound=function(t){return r=[+t[0],+t[1]],o=true,c()};t.bandwidth=function(){return a};t.step=function(){return i};t.round=function(t){return arguments.length?(o=!!t,c()):o};t.padding=function(t){return arguments.length?(s=Math.min(1,u=+t),c()):s};t.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),c()):s};t.paddingOuter=function(t){return arguments.length?(u=+t,c()):u};t.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),c()):l};t.copy=function(){return band(e(),r).round(o).paddingInner(s).paddingOuter(u).align(l)};return initRange.apply(c(),arguments)}function define(t,e,n){t.prototype=e.prototype=n;n.constructor=t}function extend(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Color(){}var darker=.7;var brighter=1/darker;var reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp("^rgb\\("+[reI,reI,reI]+"\\)$"),reRgbPercent=new RegExp("^rgb\\("+[reP,reP,reP]+"\\)$"),reRgbaInteger=new RegExp("^rgba\\("+[reI,reI,reI,reN]+"\\)$"),reRgbaPercent=new RegExp("^rgba\\("+[reP,reP,reP,reN]+"\\)$"),reHslPercent=new RegExp("^hsl\\("+[reN,reP,reP]+"\\)$"),reHslaPercent=new RegExp("^hsla\\("+[reN,reP,reP,reN]+"\\)$");var named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(t){var e,n;t=(t+"").trim().toLowerCase();return(e=reHex.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?rgbn(e):n===3?new Rgb(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?rgba(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?rgba(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=reRgbInteger.exec(t))?new Rgb(e[1],e[2],e[3],1):(e=reRgbPercent.exec(t))?new Rgb(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=reRgbaInteger.exec(t))?rgba(e[1],e[2],e[3],e[4]):(e=reRgbaPercent.exec(t))?rgba(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=reHslPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,1):(e=reHslaPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,e[4]):named.hasOwnProperty(t)?rgbn(named[t]):t==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(t){return new Rgb(t>>16&255,t>>8&255,t&255,1)}function rgba(t,e,n,r){if(r<=0)t=e=n=NaN;return new Rgb(t,e,n,r)}function rgbConvert(t){if(!(t instanceof Color))t=color(t);if(!t)return new Rgb;t=t.rgb();return new Rgb(t.r,t.g,t.b,t.opacity)}function rgb(t,e,n,r){return arguments.length===1?rgbConvert(t):new Rgb(t,e,n,r==null?1:r)}function Rgb(t,e,n,r){this.r=+t;this.g=+e;this.b=+n;this.opacity=+r}define(Rgb,rgb,extend(Color,{brighter:function(t){t=t==null?brighter:Math.pow(brighter,t);return new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){t=t==null?darker:Math.pow(darker,t);return new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&(-.5<=this.g&&this.g<255.5)&&(-.5<=this.b&&this.b<255.5)&&(0<=this.opacity&&this.opacity<=1)},hex:rgb_formatHex,formatHex:rgb_formatHex,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)}function rgb_formatRgb(){var t=this.opacity;t=isNaN(t)?1:Math.max(0,Math.min(1,t));return(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function hex(t){t=Math.max(0,Math.min(255,Math.round(t)||0));return(t<16?"0":"")+t.toString(16)}function hsla(t,e,n,r){if(r<=0)t=e=n=NaN;else if(n<=0||n>=1)t=e=NaN;else if(e<=0)t=NaN;return new Hsl(t,e,n,r)}function hslConvert(t){if(t instanceof Hsl)return new Hsl(t.h,t.s,t.l,t.opacity);if(!(t instanceof Color))t=color(t);if(!t)return new Hsl;if(t instanceof Hsl)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,u=(a+i)/2;if(s){if(e===a)o=(n-r)/s+(n<r)*6;else if(n===a)o=(r-e)/s+2;else o=(e-n)/s+4;s/=u<.5?a+i:2-a-i;o*=60}else{s=u>0&&u<1?0:o}return new Hsl(o,s,u,t.opacity)}function hsl(t,e,n,r){return arguments.length===1?hslConvert(t):new Hsl(t,e,n,r==null?1:r)}function Hsl(t,e,n,r){this.h=+t;this.s=+e;this.l=+n;this.opacity=+r}define(Hsl,hsl,extend(Color,{brighter:function(t){t=t==null?brighter:Math.pow(brighter,t);return new Hsl(this.h,this.s,this.l*t,this.opacity)},darker:function(t){t=t==null?darker:Math.pow(darker,t);return new Hsl(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Rgb(hsl2rgb(t>=240?t-240:t+120,i,r),hsl2rgb(t,i,r),hsl2rgb(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&(0<=this.l&&this.l<=1)&&(0<=this.opacity&&this.opacity<=1)},formatHsl:function(){var t=this.opacity;t=isNaN(t)?1:Math.max(0,Math.min(1,t));return(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function hsl2rgb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}function constant$1(t){return function(){return t}}function linear$1(t,e){return function(n){return t+n*e}}function exponential(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function gamma(t){return(t=+t)===1?nogamma:function(e,n){return n-e?exponential(e,n,t):constant$1(isNaN(e)?n:e)}}function nogamma(t,e){var n=e-t;return n?linear$1(t,n):constant$1(isNaN(t)?e:t)}var interpolateRgb=function t(e){var n=gamma(e);function r(t,e){var r=n((t=rgb(t)).r,(e=rgb(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=nogamma(t.opacity,e.opacity);return function(e){t.r=r(e);t.g=i(e);t.b=a(e);t.opacity=o(e);return t+""}}r.gamma=t;return r}(1);function numberArray(t,e){if(!e)e=[];var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function isNumberArray(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function genericArray(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=interpolateValue(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(t){for(o=0;o<r;++o)a[o]=i[o](t);return a}}function date(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function interpolateNumber(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function object(t,e){var n={},r={},i;if(t===null||typeof t!=="object")t={};if(e===null||typeof e!=="object")e={};for(i in e){if(i in t){n[i]=interpolateValue(t[i],e[i])}else{r[i]=e[i]}}return function(t){for(i in n)r[i]=n[i](t);return r}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(t){return function(){return t}}function one(t){return function(e){return t(e)+""}}function interpolateString(t,e){var n=reA.lastIndex=reB.lastIndex=0,r,i,a,o=-1,s=[],u=[];t=t+"",e=e+"";while((r=reA.exec(t))&&(i=reB.exec(e))){if((a=i.index)>n){a=e.slice(n,a);if(s[o])s[o]+=a;else s[++o]=a}if((r=r[0])===(i=i[0])){if(s[o])s[o]+=i;else s[++o]=i}else{s[++o]=null;u.push({i:o,x:interpolateNumber(r,i)})}n=reB.lastIndex}if(n<e.length){a=e.slice(n);if(s[o])s[o]+=a;else s[++o]=a}return s.length<2?u[0]?one(u[0].x):zero(e):(e=u.length,function(t){for(var n=0,r;n<e;++n)s[(r=u[n]).i]=r.x(t);return s.join("")})}function interpolateValue(t,e){var n=typeof e,r;return e==null||n==="boolean"?constant$1(e):(n==="number"?interpolateNumber:n==="string"?(r=color(e))?(e=r,interpolateRgb):interpolateString:e instanceof color?interpolateRgb:e instanceof Date?date:isNumberArray(e)?numberArray:Array.isArray(e)?genericArray:typeof e.valueOf!=="function"&&typeof e.toString!=="function"||isNaN(e)?object:interpolateNumber)(t,e)}function interpolateRound(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var degrees=180/Math.PI;var identity$2={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(t,e,n,r,i,a){var o,s,u;if(o=Math.sqrt(t*t+e*e))t/=o,e/=o;if(u=t*n+e*r)n-=t*u,r-=e*u;if(s=Math.sqrt(n*n+r*r))n/=s,r/=s,u/=s;if(t*r<e*n)t=-t,e=-e,u=-u,o=-o;return{translateX:i,translateY:a,rotate:Math.atan2(e,t)*degrees,skewX:Math.atan(u)*degrees,scaleX:o,scaleY:s}}var cssNode,cssRoot,cssView,svgNode;function parseCss(t){if(t==="none")return identity$2;if(!cssNode)cssNode=document.createElement("DIV"),cssRoot=document.documentElement,cssView=document.defaultView;cssNode.style.transform=t;t=cssView.getComputedStyle(cssRoot.appendChild(cssNode),null).getPropertyValue("transform");cssRoot.removeChild(cssNode);t=t.slice(7,-1).split(",");return decompose(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5])}function parseSvg(t){if(t==null)return identity$2;if(!svgNode)svgNode=document.createElementNS("http://www.w3.org/2000/svg","g");svgNode.setAttribute("transform",t);if(!(t=svgNode.transform.baseVal.consolidate()))return identity$2;t=t.matrix;return decompose(t.a,t.b,t.c,t.d,t.e,t.f)}function interpolateTransform(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function a(t,r,i,a,o,s){if(t!==i||r!==a){var u=o.push("translate(",null,e,null,n);s.push({i:u-4,x:interpolateNumber(t,i)},{i:u-2,x:interpolateNumber(r,a)})}else if(i||a){o.push("translate("+i+e+a+n)}}function o(t,e,n,a){if(t!==e){if(t-e>180)e+=360;else if(e-t>180)t+=360;a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:interpolateNumber(t,e)})}else if(e){n.push(i(n)+"rotate("+e+r)}}function s(t,e,n,a){if(t!==e){a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:interpolateNumber(t,e)})}else if(e){n.push(i(n)+"skewX("+e+r)}}function u(t,e,n,r,a,o){if(t!==n||e!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:interpolateNumber(t,n)},{i:s-2,x:interpolateNumber(e,r)})}else if(n!==1||r!==1){a.push(i(a)+"scale("+n+","+r+")")}}return function(e,n){var r=[],i=[];e=t(e),n=t(n);a(e.translateX,e.translateY,n.translateX,n.translateY,r,i);o(e.rotate,n.rotate,r,i);s(e.skewX,n.skewX,r,i);u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i);e=n=null;return function(t){var e=-1,n=i.length,a;while(++e<n)r[(a=i[e]).i]=a.x(t);return r.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)");var interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")");function constant(t){return function(){return t}}function number(t){return+t}var unit=[0,1];function identity$1(t){return t}function normalize(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:constant(isNaN(e)?NaN:.5)}function clamper(t){var e=t[0],n=t[t.length-1],r;if(e>n)r=e,e=n,n=r;return function(t){return Math.max(e,Math.min(n,t))}}function bimap(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];if(i<r)r=normalize(i,r),a=n(o,a);else r=normalize(r,i),a=n(a,o);return function(t){return a(r(t))}}function polymap(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;if(t[r]<t[0]){t=t.slice().reverse();e=e.slice().reverse()}while(++o<r){i[o]=normalize(t[o],t[o+1]);a[o]=n(e[o],e[o+1])}return function(e){var n=bisectRight(t,e,1,r)-1;return a[n](i[n](e))}}function copy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function transformer(){var t=unit,e=unit,n=interpolateValue,r,i,a,o=identity$1,s,u,l;function c(){s=Math.min(t.length,e.length)>2?polymap:bimap;u=l=null;return f}function f(i){return isNaN(i=+i)?a:(u||(u=s(t.map(r),e,n)))(r(o(i)))}f.invert=function(n){return o(i((l||(l=s(e,t.map(r),interpolateNumber)))(n)))};f.domain=function(e){return arguments.length?(t=map$1.call(e,number),o===identity$1||(o=clamper(t)),c()):t.slice()};f.range=function(t){return arguments.length?(e=slice.call(t),c()):e.slice()};f.rangeRound=function(t){return e=slice.call(t),n=interpolateRound,c()};f.clamp=function(e){return arguments.length?(o=e?clamper(t):identity$1,f):o!==identity$1};f.interpolate=function(t){return arguments.length?(n=t,c()):n};f.unknown=function(t){return arguments.length?(a=t,f):a};return function(t,e){r=t,i=e;return c()}}function continuous(t,e){return transformer()(t,e)}function formatDecimal(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function formatDecimalParts(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function exponent(t){return t=formatDecimalParts(Math.abs(t)),t?t[1]:NaN}function formatGroup(t,e){return function(n,r){var i=n.length,a=[],o=0,s=t[0],u=0;while(i>0&&s>0){if(u+s+1>r)s=Math.max(1,r-u);a.push(n.substring(i-=s,i+s));if((u+=s+1)>r)break;s=t[o=(o+1)%t.length]}return a.reverse().join(e)}}function formatNumerals(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(t){if(!(e=re.exec(t)))throw new Error("invalid format: "+t);var e;return new FormatSpecifier({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(t){this.fill=t.fill===undefined?" ":t.fill+"";this.align=t.align===undefined?">":t.align+"";this.sign=t.sign===undefined?"-":t.sign+"";this.symbol=t.symbol===undefined?"":t.symbol+"";this.zero=!!t.zero;this.width=t.width===undefined?undefined:+t.width;this.comma=!!t.comma;this.precision=t.precision===undefined?undefined:+t.precision;this.trim=!!t.trim;this.type=t.type===undefined?"":t.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===undefined?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===undefined?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n){switch(t[n]){case".":r=i=n;break;case"0":if(r===0)r=n;i=n;break;default:if(!+t[n])break t;if(r>0)r=0;break}}return r>0?t.slice(0,r)+t.slice(i+1):t}var prefixExponent;function formatPrefixAuto(t,e){var n=formatDecimalParts(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+formatDecimalParts(t,Math.max(0,e+a-1))[0]}function formatRounded(t,e){var n=formatDecimalParts(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var formatTypes={"%":function(t,e){return(t*100).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:formatDecimal,e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return formatRounded(t*100,e)},r:formatRounded,s:formatPrefixAuto,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function identity(t){return t}var map=Array.prototype.map,prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale(t){var e=t.grouping===undefined||t.thousands===undefined?identity:formatGroup(map.call(t.grouping,Number),t.thousands+""),n=t.currency===undefined?"":t.currency[0]+"",r=t.currency===undefined?"":t.currency[1]+"",i=t.decimal===undefined?".":t.decimal+"",a=t.numerals===undefined?identity:formatNumerals(map.call(t.numerals,String)),o=t.percent===undefined?"%":t.percent+"",s=t.minus===undefined?"-":t.minus+"",u=t.nan===undefined?"NaN":t.nan+"";function l(t){t=formatSpecifier(t);var l=t.fill,c=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,v=t.comma,y=t.precision,g=t.trim,m=t.type;if(m==="n")v=true,m="g";else if(!formatTypes[m])y===undefined&&(y=12),g=true,m="g";if(d||l==="0"&&c==="=")d=true,l="0",c="=";var b=h==="$"?n:h==="#"&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",_=h==="$"?r:/[%p]/.test(m)?o:"";var w=formatTypes[m],x=/[defgprs%]/.test(m);y=y===undefined?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function A(t){var n=b,r=_,o,h,A;if(m==="c"){r=w(t)+r;t=""}else{t=+t;var S=t<0||1/t<0;t=isNaN(t)?u:w(Math.abs(t),y);if(g)t=formatTrim(t);if(S&&+t===0&&f!=="+")S=false;n=(S?f==="("?f:s:f==="-"||f==="("?"":f)+n;r=(m==="s"?prefixes[8+prefixExponent/3]:"")+r+(S&&f==="("?")":"");if(x){o=-1,h=t.length;while(++o<h){if(A=t.charCodeAt(o),48>A||A>57){r=(A===46?i+t.slice(o+1):t.slice(o))+r;t=t.slice(0,o);break}}}}if(v&&!d)t=e(t,Infinity);var T=n.length+t.length+r.length,L=T<p?new Array(p-T+1).join(l):"";if(v&&d)t=e(L+t,L.length?p-r.length:Infinity),L="";switch(c){case"<":t=n+t+r+L;break;case"=":t=n+L+t+r;break;case"^":t=L.slice(0,T=L.length>>1)+n+t+r+L.slice(T);break;default:t=L+n+t+r;break}return a(t)}A.toString=function(){return t+""};return A}function c(t,e){var n=l((t=formatSpecifier(t),t.type="f",t)),r=Math.max(-8,Math.min(8,Math.floor(exponent(e)/3)))*3,i=Math.pow(10,-r),a=prefixes[8+r/3];return function(t){return n(i*t)+a}}return{format:l,formatPrefix:c}}var locale;var format;var formatPrefix;defaultLocale({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function defaultLocale(t){locale=formatLocale(t);format=locale.format;formatPrefix=locale.formatPrefix;return locale}function precisionFixed(t){return Math.max(0,-exponent(Math.abs(t)))}function precisionPrefix(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(e)/3)))*3-exponent(Math.abs(t)))}function precisionRound(t,e){t=Math.abs(t),e=Math.abs(e)-t;return Math.max(0,exponent(e)-exponent(t))+1}function tickFormat(t,e,n,r){var i=tickStep(t,e,n),a;r=formatSpecifier(r==null?",f":r);switch(r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));if(r.precision==null&&!isNaN(a=precisionPrefix(i,o)))r.precision=a;return formatPrefix(r,o)}case"":case"e":case"g":case"p":case"r":{if(r.precision==null&&!isNaN(a=precisionRound(i,Math.max(Math.abs(t),Math.abs(e)))))r.precision=a-(r.type==="e");break}case"f":case"%":{if(r.precision==null&&!isNaN(a=precisionFixed(i)))r.precision=a-(r.type==="%")*2;break}}return format(r)}function linearish(t){var e=t.domain;t.ticks=function(t){var n=e();return ticks(n[0],n[n.length-1],t==null?10:t)};t.tickFormat=function(t,n){var r=e();return tickFormat(r[0],r[r.length-1],t==null?10:t,n)};t.nice=function(n){if(n==null)n=10;var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],u;if(s<o){u=o,o=s,s=u;u=i,i=a,a=u}u=tickIncrement(o,s,n);if(u>0){o=Math.floor(o/u)*u;s=Math.ceil(s/u)*u;u=tickIncrement(o,s,n)}else if(u<0){o=Math.ceil(o*u)/u;s=Math.floor(s*u)/u;u=tickIncrement(o,s,n)}if(u>0){r[i]=Math.floor(o/u)*u;r[a]=Math.ceil(s/u)*u;e(r)}else if(u<0){r[i]=Math.ceil(o*u)/u;r[a]=Math.floor(s*u)/u;e(r)}return t};return t}function linear(){var t=continuous(identity$1,identity$1);t.copy=function(){return copy(t,linear())};initRange.apply(t,arguments);return linearish(t)}function cubicInOut(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function circleIn(t){return 1-Math.sqrt(1-t*t)}var commonjsGlobal=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function createCommonjsModule(t,e,n){return n={path:e,exports:{},require:function(t,e){return commonjsRequire()}},t(n,n.exports),n.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var visaChartsUtils_umd=createCommonjsModule((function(t,e){(function(e,n){t.exports=n()})(commonjsGlobal,(function(){
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var n=function(){n=Object.assign||function t(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a))e[a]=n[a]}return e};return n.apply(this,arguments)};function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}var i="http://www.w3.org/1999/xhtml";var a={svg:"http://www.w3.org/2000/svg",xhtml:i,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function o(t){var e=t+="",n=e.indexOf(":");if(n>=0&&(e=t.slice(0,n))!=="xmlns")t=t.slice(n+1);return a.hasOwnProperty(e)?{space:a[e],local:t}:t}function s(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===i&&e.documentElement.namespaceURI===i?e.createElement(t):e.createElementNS(n,t)}}function u(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function l(t){var e=o(t);return(e.local?u:s)(e)}function c(){}function f(t){return t==null?c:function(){return this.querySelector(t)}}function h(t){if(typeof t!=="function")t=f(t);for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i){for(var a=e[i],o=a.length,s=r[i]=new Array(o),u,l,c=0;c<o;++c){if((u=a[c])&&(l=t.call(u,u.__data__,c,a))){if("__data__"in u)l.__data__=u.__data__;s[c]=l}}}return new Gt(r,this._parents)}function d(){return[]}function p(t){return t==null?d:function(){return this.querySelectorAll(t)}}function v(t){if(typeof t!=="function")t=p(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a){for(var o=e[a],s=o.length,u,l=0;l<s;++l){if(u=o[l]){r.push(t.call(u,u.__data__,l,o));i.push(u)}}}return new Gt(r,i)}function y(t){return function(){return this.matches(t)}}function g(t){if(typeof t!=="function")t=y(t);for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i){for(var a=e[i],o=a.length,s=r[i]=[],u,l=0;l<o;++l){if((u=a[l])&&t.call(u,u.__data__,l,a)){s.push(u)}}}return new Gt(r,this._parents)}function m(t){return new Array(t.length)}function b(){return new Gt(this._enter||this._groups.map(m),this._parents)}function _(t,e){this.ownerDocument=t.ownerDocument;this.namespaceURI=t.namespaceURI;this._next=null;this._parent=t;this.__data__=e}_.prototype={constructor:_,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function w(t){return function(){return t}}var x="$";function A(t,e,n,r,i,a){var o=0,s,u=e.length,l=a.length;for(;o<l;++o){if(s=e[o]){s.__data__=a[o];r[o]=s}else{n[o]=new _(t,a[o])}}for(;o<u;++o){if(s=e[o]){i[o]=s}}}function S(t,e,n,r,i,a,o){var s,u,l={},c=e.length,f=a.length,h=new Array(c),d;for(s=0;s<c;++s){if(u=e[s]){h[s]=d=x+o.call(u,u.__data__,s,e);if(d in l){i[s]=u}else{l[d]=u}}}for(s=0;s<f;++s){d=x+o.call(t,a[s],s,a);if(u=l[d]){r[s]=u;u.__data__=a[s];l[d]=null}else{n[s]=new _(t,a[s])}}for(s=0;s<c;++s){if((u=e[s])&&l[h[s]]===u){i[s]=u}}}function T(t,e){if(!t){d=new Array(this.size()),l=-1;this.each((function(t){d[++l]=t}));return d}var n=e?S:A,r=this._parents,i=this._groups;if(typeof t!=="function")t=w(t);for(var a=i.length,o=new Array(a),s=new Array(a),u=new Array(a),l=0;l<a;++l){var c=r[l],f=i[l],h=f.length,d=t.call(c,c&&c.__data__,l,r),p=d.length,v=s[l]=new Array(p),y=o[l]=new Array(p),g=u[l]=new Array(h);n(c,f,v,y,g,d,e);for(var m=0,b=0,_,x;m<p;++m){if(_=v[m]){if(m>=b)b=m+1;while(!(x=y[b])&&++b<p);_._next=x||null}}}o=new Gt(o,r);o._enter=s;o._exit=u;return o}function L(){return new Gt(this._exit||this._groups.map(m),this._parents)}function E(t,e,n){var r=this.enter(),i=this,a=this.exit();r=typeof t==="function"?t(r):r.append(t+"");if(e!=null)i=e(i);if(n==null)a.remove();else n(a);return r&&i?r.merge(i).order():i}function N(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s){for(var u=e[s],l=n[s],c=u.length,f=o[s]=new Array(c),h,d=0;d<c;++d){if(h=u[d]||l[d]){f[d]=h}}}for(;s<r;++s){o[s]=e[s]}return new Gt(o,this._parents)}function C(){for(var t=this._groups,e=-1,n=t.length;++e<n;){for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;){if(o=r[i]){if(a&&o.compareDocumentPosition(a)^4)a.parentNode.insertBefore(o,a);a=o}}}return this}function M(t){if(!t)t=k;function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,u=i[a]=new Array(s),l,c=0;c<s;++c){if(l=o[c]){u[c]=l}}u.sort(e)}return new Gt(i,this._parents).order()}function k(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function I(){var t=arguments[0];arguments[0]=this;t.apply(null,arguments);return this}function O(){var t=new Array(this.size()),e=-1;this.each((function(){t[++e]=this}));return t}function D(){for(var t=this._groups,e=0,n=t.length;e<n;++e){for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}}return null}function R(){var t=0;this.each((function(){++t}));return t}function U(){return!this.node()}function P(t){for(var e=this._groups,n=0,r=e.length;n<r;++n){for(var i=e[n],a=0,o=i.length,s;a<o;++a){if(s=i[a])t.call(s,s.__data__,a,i)}}return this}function F(t){return function(){this.removeAttribute(t)}}function H(t){return function(){this.removeAttributeNS(t.space,t.local)}}function j(t,e){return function(){this.setAttribute(t,e)}}function V(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function B(t,e){return function(){var n=e.apply(this,arguments);if(n==null)this.removeAttribute(t);else this.setAttribute(t,n)}}function z(t,e){return function(){var n=e.apply(this,arguments);if(n==null)this.removeAttributeNS(t.space,t.local);else this.setAttributeNS(t.space,t.local,n)}}function Y(t,e){var n=o(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?H:F:typeof e==="function"?n.local?z:B:n.local?V:j)(n,e))}function W(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function G(t){return function(){this.style.removeProperty(t)}}function q(t,e,n){return function(){this.style.setProperty(t,e,n)}}function X(t,e,n){return function(){var r=e.apply(this,arguments);if(r==null)this.style.removeProperty(t);else this.style.setProperty(t,r,n)}}function $(t,e,n){return arguments.length>1?this.each((e==null?G:typeof e==="function"?X:q)(t,e,n==null?"":n)):K(this.node(),t)}function K(t,e){return t.style.getPropertyValue(e)||W(t).getComputedStyle(t,null).getPropertyValue(e)}function Z(t){return function(){delete this[t]}}function Q(t,e){return function(){this[t]=e}}function J(t,e){return function(){var n=e.apply(this,arguments);if(n==null)delete this[t];else this[t]=n}}function tt(t,e){return arguments.length>1?this.each((e==null?Z:typeof e==="function"?J:Q)(t,e)):this.node()[t]}function et(t){return t.trim().split(/^|\s+/)}function nt(t){return t.classList||new rt(t)}function rt(t){this._node=t;this._names=et(t.getAttribute("class")||"")}rt.prototype={add:function(t){var e=this._names.indexOf(t);if(e<0){this._names.push(t);this._node.setAttribute("class",this._names.join(" "))}},remove:function(t){var e=this._names.indexOf(t);if(e>=0){this._names.splice(e,1);this._node.setAttribute("class",this._names.join(" "))}},contains:function(t){return this._names.indexOf(t)>=0}};function it(t,e){var n=nt(t),r=-1,i=e.length;while(++r<i)n.add(e[r])}function at(t,e){var n=nt(t),r=-1,i=e.length;while(++r<i)n.remove(e[r])}function ot(t){return function(){it(this,t)}}function st(t){return function(){at(this,t)}}function ut(t,e){return function(){(e.apply(this,arguments)?it:at)(this,t)}}function lt(t,e){var n=et(t+"");if(arguments.length<2){var r=nt(this.node()),i=-1,a=n.length;while(++i<a)if(!r.contains(n[i]))return false;return true}return this.each((typeof e==="function"?ut:e?ot:st)(n,e))}function ct(){this.textContent=""}function ft(t){return function(){this.textContent=t}}function ht(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function dt(t){return arguments.length?this.each(t==null?ct:(typeof t==="function"?ht:ft)(t)):this.node().textContent}function pt(){this.innerHTML=""}function vt(t){return function(){this.innerHTML=t}}function yt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function gt(t){return arguments.length?this.each(t==null?pt:(typeof t==="function"?yt:vt)(t)):this.node().innerHTML}function mt(){if(this.nextSibling)this.parentNode.appendChild(this)}function bt(){return this.each(mt)}function _t(){if(this.previousSibling)this.parentNode.insertBefore(this,this.parentNode.firstChild)}function wt(){return this.each(_t)}function xt(t){var e=typeof t==="function"?t:l(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))}function At(){return null}function St(t,e){var n=typeof t==="function"?t:l(t),r=e==null?At:typeof e==="function"?e:f(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))}function Tt(){var t=this.parentNode;if(t)t.removeChild(this)}function Lt(){return this.each(Tt)}function Et(){var t=this.cloneNode(false),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Nt(){var t=this.cloneNode(true),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ct(t){return this.select(t?Nt:Et)}function Mt(t){return arguments.length?this.property("__data__",t):this.node().__data__}var kt={};var It=null;if(typeof document!=="undefined"){var Ot=document.documentElement;if(!("onmouseenter"in Ot)){kt={mouseenter:"mouseover",mouseleave:"mouseout"}}}function Dt(t,e,n){t=Rt(t,e,n);return function(e){var n=e.relatedTarget;if(!n||n!==this&&!(n.compareDocumentPosition(this)&8)){t.call(this,e)}}}function Rt(t,e,n){return function(r){var i=It;It=r;try{t.call(this,this.__data__,e,n)}finally{It=i}}}function Ut(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0)e=t.slice(n+1),t=t.slice(0,n);return{type:t,name:e}}))}function Pt(t){return function(){var e=this.__on;if(!e)return;for(var n=0,r=-1,i=e.length,a;n<i;++n){if(a=e[n],(!t.type||a.type===t.type)&&a.name===t.name){this.removeEventListener(a.type,a.listener,a.capture)}else{e[++r]=a}}if(++r)e.length=r;else delete this.__on}}function Ft(t,e,n){var r=kt.hasOwnProperty(t.type)?Dt:Rt;return function(i,a,o){var s=this.__on,u,l=r(e,a,o);if(s)for(var c=0,f=s.length;c<f;++c){if((u=s[c]).type===t.type&&u.name===t.name){this.removeEventListener(u.type,u.listener,u.capture);this.addEventListener(u.type,u.listener=l,u.capture=n);u.value=e;return}}this.addEventListener(t.type,l,n);u={type:t.type,name:t.name,value:e,listener:l,capture:n};if(!s)this.__on=[u];else s.push(u)}}function Ht(t,e,n){var r=Ut(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s)for(var u=0,l=s.length,c;u<l;++u){for(i=0,c=s[u];i<a;++i){if((o=r[i]).type===c.type&&o.name===c.name){return c.value}}}return}s=e?Ft:Pt;if(n==null)n=false;for(i=0;i<a;++i)this.each(s(r[i],e,n));return this}function jt(t,e,n,r){var i=It;t.sourceEvent=It;It=t;try{return e.apply(n,r)}finally{It=i}}function Vt(t,e,n){var r=W(t),i=r.CustomEvent;if(typeof i==="function"){i=new i(e,n)}else{i=r.document.createEvent("Event");if(n)i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail;else i.initEvent(e,false,false)}t.dispatchEvent(i)}function Bt(t,e){return function(){return Vt(this,t,e)}}function zt(t,e){return function(){return Vt(this,t,e.apply(this,arguments))}}function Yt(t,e){return this.each((typeof e==="function"?zt:Bt)(t,e))}var Wt=[null];function Gt(t,e){this._groups=t;this._parents=e}function qt(){return new Gt([[document.documentElement]],Wt)}Gt.prototype=qt.prototype={constructor:Gt,select:h,selectAll:v,filter:g,data:T,enter:b,exit:L,join:E,merge:N,order:C,sort:M,call:I,nodes:O,node:D,size:R,empty:U,each:P,attr:Y,style:$,property:tt,classed:lt,text:dt,html:gt,raise:bt,lower:wt,append:xt,insert:St,remove:Lt,clone:Ct,datum:Mt,on:Ht,dispatch:Yt};function Xt(t){return typeof t==="string"?new Gt([[document.querySelector(t)]],[document.documentElement]):new Gt([[t]],Wt)}function $t(){var t=It,e;while(e=t.sourceEvent)t=e;return t}function Kt(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();r.x=e.clientX,r.y=e.clientY;r=r.matrixTransform(t.getScreenCTM().inverse());return[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function Zt(t){var e=$t();if(e.changedTouches)e=e.changedTouches[0];return Kt(t,e)}function Qt(t){return typeof t==="string"?new Gt([document.querySelectorAll(t)],[document.documentElement]):new Gt([t==null?[]:t],Wt)}function Jt(t,e,n){if(arguments.length<3)n=e,e=$t().changedTouches;for(var r=0,i=e?e.length:0,a;r<i;++r){if((a=e[r]).identifier===n){return Kt(t,a)}}return null}var te=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof commonjsGlobal!=="undefined"?commonjsGlobal:typeof self!=="undefined"?self:{};function ee(t,e){return e={exports:{}},t(e,e.exports),e.exports}var ne=ee((function(t,e){(function(n,r){var i="0.7.33",a="",o="?",s="function",u="undefined",l="object",c="string",f="major",h="model",d="name",p="type",v="vendor",y="version",g="architecture",m="console",b="mobile",_="tablet",w="smarttv",x="wearable",A="embedded",S=350;var T="Amazon",L="Apple",E="ASUS",N="BlackBerry",C="Browser",M="Chrome",k="Edge",I="Firefox",O="Google",D="Huawei",R="LG",U="Microsoft",P="Motorola",F="Opera",H="Samsung",j="Sharp",V="Sony",B="Xiaomi",z="Zebra",Y="Facebook";var W=function(t,e){var n={};for(var r in t){if(e[r]&&e[r].length%2===0){n[r]=e[r].concat(t[r])}else{n[r]=t[r]}}return n},G=function(t){var e={};for(var n=0;n<t.length;n++){e[t[n].toUpperCase()]=t[n]}return e},q=function(t,e){return typeof t===c?X(e).indexOf(X(t))!==-1:false},X=function(t){return t.toLowerCase()},$=function(t){return typeof t===c?t.replace(/[^\d\.]/g,a).split(".")[0]:r},K=function(t,e){if(typeof t===c){t=t.replace(/^\s\s*/,a);return typeof e===u?t:t.substring(0,S)}};var Z=function(t,e){var n=0,i,a,o,u,c,f;while(n<e.length&&!c){var h=e[n],d=e[n+1];i=a=0;while(i<h.length&&!c){c=h[i++].exec(t);if(!!c){for(o=0;o<d.length;o++){f=c[++a];u=d[o];if(typeof u===l&&u.length>0){if(u.length===2){if(typeof u[1]==s){this[u[0]]=u[1].call(this,f)}else{this[u[0]]=u[1]}}else if(u.length===3){if(typeof u[1]===s&&!(u[1].exec&&u[1].test)){this[u[0]]=f?u[1].call(this,f,u[2]):r}else{this[u[0]]=f?f.replace(u[1],u[2]):r}}else if(u.length===4){this[u[0]]=f?u[3].call(this,f.replace(u[1],u[2])):r}}else{this[u]=f?f:r}}}}n+=2}},Q=function(t,e){for(var n in e){if(typeof e[n]===l&&e[n].length>0){for(var i=0;i<e[n].length;i++){if(q(e[n][i],t)){return n===o?r:n}}}else if(q(e[n],t)){return n===o?r:n}}return t};var J={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},tt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"};var et={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,y],[/opios[\/ ]+([\w\.]+)/i],[y,[d,F+" Mini"]],[/\bopr\/([\w\.]+)/i],[y,[d,F]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[d,y],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[d,"UC"+C]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[y,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[y,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[d,"IE"]],[/yabrowser\/([\w\.]+)/i],[y,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+C],y],[/\bfocus\/([\w\.]+)/i],[y,[d,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[d,F+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[d,F+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[d,"MIUI "+C]],[/fxios\/([-\w\.]+)/i],[y,[d,I]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 "+C]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 "+C],y],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,y],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,Y],y],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[d,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[d,M+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,M+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[d,"Android "+C]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[y,Q,J]],[/(webkit|khtml)\/([\w\.]+)/i],[d,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[d,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[d,y],[/(cobalt)\/([\w\.]+)/i],[d,[y,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,X]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,a,X]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,X]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[v,H],[p,_]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[h,[v,H],[p,b]],[/\((ip(?:hone|od)[\w ]*);/i],[h,[v,L],[p,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[v,L],[p,_]],[/(macintosh);/i],[h,[v,L]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[v,D],[p,_]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[v,D],[p,b]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[h,/_/g," "],[v,B],[p,b]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[v,B],[p,_]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[v,"OPPO"],[p,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[v,"Vivo"],[p,b]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[h,[v,"Realme"],[p,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[v,P],[p,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[v,P],[p,_]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[v,R],[p,_]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[v,R],[p,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[v,"Lenovo"],[p,_]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[v,"Nokia"],[p,b]],[/(pixel c)\b/i],[h,[v,O],[p,_]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[v,O],[p,b]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[v,V],[p,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[v,V],[p,_]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[v,"OnePlus"],[p,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[v,T],[p,_]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[v,T],[p,b]],[/(playbook);[-\w\),; ]+(rim)/i],[h,v,[p,_]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[v,N],[p,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[v,E],[p,_]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[v,E],[p,b]],[/(nexus 9)/i],[h,[v,"HTC"],[p,_]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[h,/_/g," "],[p,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[v,"Acer"],[p,_]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[v,"Meizu"],[p,b]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[v,j],[p,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,h,[p,b]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,h,[p,_]],[/(surface duo)/i],[h,[v,U],[p,_]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[v,"Fairphone"],[p,b]],[/(u304aa)/i],[h,[v,"AT&T"],[p,b]],[/\bsie-(\w*)/i],[h,[v,"Siemens"],[p,b]],[/\b(rct\w+) b/i],[h,[v,"RCA"],[p,_]],[/\b(venue[\d ]{2,7}) b/i],[h,[v,"Dell"],[p,_]],[/\b(q(?:mv|ta)\w+) b/i],[h,[v,"Verizon"],[p,_]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[v,"Barnes & Noble"],[p,_]],[/\b(tm\d{3}\w+) b/i],[h,[v,"NuVision"],[p,_]],[/\b(k88) b/i],[h,[v,"ZTE"],[p,_]],[/\b(nx\d{3}j) b/i],[h,[v,"ZTE"],[p,b]],[/\b(gen\d{3}) b.+49h/i],[h,[v,"Swiss"],[p,b]],[/\b(zur\d{3}) b/i],[h,[v,"Swiss"],[p,_]],[/\b((zeki)?tb.*\b) b/i],[h,[v,"Zeki"],[p,_]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],h,[p,_]],[/\b(ns-?\w{0,9}) b/i],[h,[v,"Insignia"],[p,_]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[v,"NextBook"],[p,_]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],h,[p,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],h,[p,b]],[/\b(ph-1) /i],[h,[v,"Essential"],[p,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[v,"Envizen"],[p,_]],[/\b(trio[-\w\. ]+) b/i],[h,[v,"MachSpeed"],[p,_]],[/\btu_(1491) b/i],[h,[v,"Rotor"],[p,_]],[/(shield[\w ]+) b/i],[h,[v,"Nvidia"],[p,_]],[/(sprint) (\w+)/i],[v,h,[p,b]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[v,U],[p,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[v,z],[p,_]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[v,z],[p,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,h,[p,m]],[/droid.+; (shield) bui/i],[h,[v,"Nvidia"],[p,m]],[/(playstation [345portablevi]+)/i],[h,[v,V],[p,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[v,U],[p,m]],[/smart-tv.+(samsung)/i],[v,[p,w]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[v,H],[p,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,R],[p,w]],[/(apple) ?tv/i],[v,[h,L+" TV"],[p,w]],[/crkey/i],[[h,M+"cast"],[v,O],[p,w]],[/droid.+aft(\w)( bui|\))/i],[h,[v,T],[p,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[v,j],[p,w]],[/(bravia[\w ]+)( bui|\))/i],[h,[v,V],[p,w]],[/(mitv-\w{5}) bui/i],[h,[v,B],[p,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[v,K],[h,K],[p,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,w]],[/((pebble))app/i],[v,h,[p,x]],[/droid.+; (glass) \d/i],[h,[v,O],[p,x]],[/droid.+; (wt63?0{2,3})\)/i],[h,[v,z],[p,x]],[/(quest( 2)?)/i],[h,[v,Y],[p,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[p,A]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[h,[p,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[p,_]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,_]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,b]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[d,k+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[d,y],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,y],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[y,Q,tt]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[y,Q,tt]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,"Mac OS"],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,y],[/\(bb(10);/i],[y,[d,N]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[y,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[d,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[d,"webOS"]],[/crkey\/([\d\.]+)/i],[y,[d,M+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[d,"Chromium OS"],y],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,y],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[d,y]]};var nt=function(t,e){if(typeof t===l){e=t;t=r}if(!(this instanceof nt)){return new nt(t,e).getResult()}var i=t||(typeof n!==u&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:a);var o=e?W(et,e):et;this.getBrowser=function(){var t={};t[d]=r;t[y]=r;Z.call(t,i,o.browser);t.major=$(t.version);return t};this.getCPU=function(){var t={};t[g]=r;Z.call(t,i,o.cpu);return t};this.getDevice=function(){var t={};t[v]=r;t[h]=r;t[p]=r;Z.call(t,i,o.device);return t};this.getEngine=function(){var t={};t[d]=r;t[y]=r;Z.call(t,i,o.engine);return t};this.getOS=function(){var t={};t[d]=r;t[y]=r;Z.call(t,i,o.os);return t};this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}};this.getUA=function(){return i};this.setUA=function(t){i=typeof t===c&&t.length>S?K(t,S):t;return this};this.setUA(i);return this};nt.VERSION=i;nt.BROWSER=G([d,y,f]);nt.CPU=G([g]);nt.DEVICE=G([h,v,p,m,b,w,_,x,A]);nt.ENGINE=nt.OS=G([d,y]);{if(t.exports){e=t.exports=nt}e.UAParser=nt}var rt=typeof n!==u&&(n.jQuery||n.Zepto);if(rt&&!rt.ua){var it=new nt;rt.ua=it.getResult();rt.ua.get=function(){return it.getUA()};rt.ua.set=function(t){it.setUA(t);var e=it.getResult();for(var n in e){rt.ua[n]=e[n]}}}})(typeof window==="object"?window:te)}));var re=ne(window.navigator.userAgent);var ie=function(){return re.browser.name};var ae=function(){return re.os.name};var oe=function(t){var e=function(e,n){n=n||{bubbles:false,cancelable:false};var r=document.createEvent("MouseEvent");r.initMouseEvent(e,n.bubbles,n.cancelable,t,0,n.screenX||0,n.screenY||0,n.clientX||0,n.clientY||0,n.ctrlKey||false,n.altKey||false,n.shiftKey||false,n.metaKey||false,n.button||0,n.relatedTarget||null);return r};e.prototype=Event.prototype;t.MouseEvent=e};var se=function(){if(Element.prototype.getAttributeNames==undefined){Element.prototype.getAttributeNames=function(){var t=this.attributes;var e=t.length;var n=new Array(e);for(var r=0;r<e;r++){n[r]=t[r].name}return n}}};
/*! @preserve
     * numeral.js
     * version : 2.0.6
     * author : Adam Draper
     * license : MIT
     * http://adamwdraper.github.com/Numeral-js/
     */var ue,le,ce="2.0.6",fe={},he={},de={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:true},pe={currentLocale:de.currentLocale,zeroFormat:de.zeroFormat,nullFormat:de.nullFormat,defaultFormat:de.defaultFormat,scalePercentBy100:de.scalePercentBy100};function ve(t,e){this._input=t;this._value=e}ue=function(t){var e,n,r,i;if(ue.isNumeral(t)){e=t.value()}else if(t===0||typeof t==="undefined"){e=0}else if(t===null||le.isNaN(t)){e=null}else if(typeof t==="string"){if(pe.zeroFormat&&t===pe.zeroFormat){e=0}else if(pe.nullFormat&&t===pe.nullFormat||!t.replace(/[^0-9]+/g,"").length){e=null}else{for(n in fe){i=typeof fe[n].regexps.unformat==="function"?fe[n].regexps.unformat():fe[n].regexps.unformat;if(i&&t.match(i)){r=fe[n].unformat;break}}r=r||ue._.stringToNumber;e=r(t)}}else{e=Number(t)||null}return new ve(t,e)};ue.version=ce;ue.isNumeral=function(t){return t instanceof ve};ue._=le={numberToFormat:function(t,e,n){var r=he[ue.options.currentLocale],i=false,a=false,o=0,s="",u=1e12,l=1e9,c=1e6,f=1e3,h="",d=false,p,v,y,g,m,b,_;t=t||0;v=Math.abs(t);if(ue._.includes(e,"(")){i=true;e=e.replace(/[\(|\)]/g,"")}else if(ue._.includes(e,"+")||ue._.includes(e,"-")){m=ue._.includes(e,"+")?e.indexOf("+"):t<0?e.indexOf("-"):-1;e=e.replace(/[\+|\-]/g,"")}if(ue._.includes(e,"a")){p=e.match(/a(k|m|b|t)?/);p=p?p[1]:false;if(ue._.includes(e," a")){s=" "}e=e.replace(new RegExp(s+"a[kmbt]?"),"");if(v>=u&&!p||p==="t"){s+=r.abbreviations.trillion;t=t/u}else if(v<u&&v>=l&&!p||p==="b"){s+=r.abbreviations.billion;t=t/l}else if(v<l&&v>=c&&!p||p==="m"){s+=r.abbreviations.million;t=t/c}else if(v<c&&v>=f&&!p||p==="k"){s+=r.abbreviations.thousand;t=t/f}}if(ue._.includes(e,"[.]")){a=true;e=e.replace("[.]",".")}y=t.toString().split(".")[0];g=e.split(".")[1];b=e.indexOf(",");o=(e.split(".")[0].split(",")[0].match(/0/g)||[]).length;if(g){if(ue._.includes(g,"[")){g=g.replace("]","");g=g.split("[");h=ue._.toFixed(t,g[0].length+g[1].length,n,g[1].length)}else{h=ue._.toFixed(t,g.length,n)}y=h.split(".")[0];if(ue._.includes(h,".")){h=r.delimiters.decimal+h.split(".")[1]}else{h=""}if(a&&Number(h.slice(1))===0){h=""}}else{y=ue._.toFixed(t,0,n)}if(s&&!p&&Number(y)>=1e3&&s!==r.abbreviations.trillion){y=String(Number(y)/1e3);switch(s){case r.abbreviations.thousand:s=r.abbreviations.million;break;case r.abbreviations.million:s=r.abbreviations.billion;break;case r.abbreviations.billion:s=r.abbreviations.trillion;break}}if(ue._.includes(y,"-")){y=y.slice(1);d=true}if(y.length<o){for(var w=o-y.length;w>0;w--){y="0"+y}}if(b>-1){y=y.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+r.delimiters.thousands)}if(e.indexOf(".")===0){y=""}_=y+h+(s?s:"");if(i){_=(i&&d?"(":"")+_+(i&&d?")":"")}else{if(m>=0){_=m===0?(d?"-":"+")+_:_+(d?"-":"+")}else if(d){_="-"+_}}return _},stringToNumber:function(t){var e=he[pe.currentLocale],n=t,r={thousand:3,million:6,billion:9,trillion:12},i,a,o;if(pe.zeroFormat&&t===pe.zeroFormat){a=0}else if(pe.nullFormat&&t===pe.nullFormat||!t.replace(/[^0-9]+/g,"").length){a=null}else{a=1;if(e.delimiters.decimal!=="."){t=t.replace(/\./g,"").replace(e.delimiters.decimal,".")}for(i in r){o=new RegExp("[^a-zA-Z]"+e.abbreviations[i]+"(?:\\)|(\\"+e.currency.symbol+")?(?:\\))?)?$");if(n.match(o)){a*=Math.pow(10,r[i]);break}}a*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1;t=t.replace(/[^0-9\.]+/g,"");a*=Number(t)}return a},isNaN:function(t){return typeof t==="number"&&isNaN(t)},includes:function(t,e){return t.indexOf(e)!==-1},insert:function(t,e,n){return t.slice(0,n)+e+t.slice(n)},reduce:function(t,e){if(this===null){throw new TypeError("Array.prototype.reduce called on null or undefined")}if(typeof e!=="function"){throw new TypeError(e+" is not a function")}var n=Object(t),r=n.length>>>0,i=0,a;if(arguments.length===3){a=arguments[2]}else{while(i<r&&!(i in n)){i++}if(i>=r){throw new TypeError("Reduce of empty array with no initial value")}a=n[i++]}for(;i<r;i++){if(i in n){a=e(a,n[i],i,n)}}return a},multiplier:function(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)},correctionFactor:function(){var t=Array.prototype.slice.call(arguments);return t.reduce((function(t,e){var n=le.multiplier(e);return t>n?t:n}),1)},toFixed:function(t,e,n,r){var i=t.toString().split("."),a=e-(r||0),o,s,u,l;if(i.length===2){o=Math.min(Math.max(i[1].length,a),e)}else{o=a}u=Math.pow(10,o);l=(n(t+"e+"+o)/u).toFixed(o);if(r>e-o){s=new RegExp("\\.?0{1,"+(r-(e-o))+"}$");l=l.replace(s,"")}return l}};ue.options=pe;ue.formats=fe;ue.locales=he;ue.locale=function(t){if(t){pe.currentLocale=t.toLowerCase()}return pe.currentLocale};ue.localeData=function(t){if(!t){return he[pe.currentLocale]}t=t.toLowerCase();if(!he[t]){throw new Error("Unknown locale : "+t)}return he[t]};ue.reset=function(){for(var t in de){pe[t]=de[t]}};ue.zeroFormat=function(t){pe.zeroFormat=typeof t==="string"?t:null};ue.nullFormat=function(t){pe.nullFormat=typeof t==="string"?t:null};ue.defaultFormat=function(t){pe.defaultFormat=typeof t==="string"?t:"0.0"};ue.register=function(t,e,n){e=e.toLowerCase();if(this[t+"s"][e]){throw new TypeError(e+" "+t+" already registered.")}this[t+"s"][e]=n;return n};ue.validate=function(t,e){var n,r,i,a,o,s,u,l;if(typeof t!=="string"){t+="";if(console.warn){console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)}}t=t.trim();if(!!t.match(/^\d+$/)){return true}if(t===""){return false}try{u=ue.localeData(e)}catch(c){u=ue.localeData(ue.locale())}i=u.currency.symbol;o=u.abbreviations;n=u.delimiters.decimal;if(u.delimiters.thousands==="."){r="\\."}else{r=u.delimiters.thousands}l=t.match(/^[^\d]+/);if(l!==null){t=t.substr(1);if(l[0]!==i){return false}}l=t.match(/[^\d]+$/);if(l!==null){t=t.slice(0,-1);if(l[0]!==o.thousand&&l[0]!==o.million&&l[0]!==o.billion&&l[0]!==o.trillion){return false}}s=new RegExp(r+"{2}");if(!t.match(/[^\d.,]/g)){a=t.split(n);if(a.length>2){return false}else{if(a.length<2){return!!a[0].match(/^\d+.*\d$/)&&!a[0].match(s)}else{if(a[0].length===1){return!!a[0].match(/^\d+$/)&&!a[0].match(s)&&!!a[1].match(/^\d+$/)}else{return!!a[0].match(/^\d+.*\d$/)&&!a[0].match(s)&&!!a[1].match(/^\d+$/)}}}}return false};ue.fn=ve.prototype={clone:function(){return ue(this)},format:function(t,e){var n=this._value,r=t||pe.defaultFormat,i,a,o;e=e||Math.round;if(n===0&&pe.zeroFormat!==null){a=pe.zeroFormat}else if(n===null&&pe.nullFormat!==null){a=pe.nullFormat}else{for(i in fe){if(r.match(fe[i].regexps.format)){o=fe[i].format;break}}o=o||ue._.numberToFormat;a=o(n,r,e)}return a},value:function(){return this._value},input:function(){return this._input},set:function(t){this._value=Number(t);return this},add:function(t){var e=le.correctionFactor.call(null,this._value,t);function n(t,n,r,i){return t+Math.round(e*n)}this._value=le.reduce([this._value,t],n,0)/e;return this},subtract:function(t){var e=le.correctionFactor.call(null,this._value,t);function n(t,n,r,i){return t-Math.round(e*n)}this._value=le.reduce([t],n,Math.round(this._value*e))/e;return this},multiply:function(t){function e(t,e,n,r){var i=le.correctionFactor(t,e);return Math.round(t*i)*Math.round(e*i)/Math.round(i*i)}this._value=le.reduce([this._value,t],e,1);return this},divide:function(t){function e(t,e,n,r){var i=le.correctionFactor(t,e);return Math.round(t*i)/Math.round(e*i)}this._value=le.reduce([this._value,t],e);return this},difference:function(t){return Math.abs(ue(this._value).subtract(t).value())}};ue.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return~~(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th"},currency:{symbol:"$"}});(function(){ue.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(t,e,n){var r=ue._.includes(e," BPS")?" ":"",i;t=t*1e4;e=e.replace(/\s?BPS/,"");i=ue._.numberToFormat(t,e,n);if(ue._.includes(i,")")){i=i.split("");i.splice(-1,0,r+"BPS");i=i.join("")}else{i=i+r+"BPS"}return i},unformat:function(t){return+(ue._.stringToNumber(t)*1e-4).toFixed(15)}})})();(function(){var t={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},e={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]};var n=t.suffixes.concat(e.suffixes.filter((function(e){return t.suffixes.indexOf(e)<0})));var r=n.join("|");r="("+r.replace("B","B(?!PS)")+")";ue.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(r)},format:function(n,r,i){var a,o=ue._.includes(r,"ib")?e:t,s=ue._.includes(r," b")||ue._.includes(r," ib")?" ":"",u,l,c;r=r.replace(/\s?i?b/,"");for(u=0;u<=o.suffixes.length;u++){l=Math.pow(o.base,u);c=Math.pow(o.base,u+1);if(n===null||n===0||n>=l&&n<c){s+=o.suffixes[u];if(l>0){n=n/l}break}}a=ue._.numberToFormat(n,r,i);return a+s},unformat:function(n){var r=ue._.stringToNumber(n),i,a;if(r){for(i=t.suffixes.length-1;i>=0;i--){if(ue._.includes(n,t.suffixes[i])){a=Math.pow(t.base,i);break}if(ue._.includes(n,e.suffixes[i])){a=Math.pow(e.base,i);break}}r*=a||1}return r}})})();(function(){ue.register("format","currency",{regexps:{format:/(\$)/},format:function(t,e,n){var r=ue.locales[ue.options.currentLocale],i={before:e.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:e.match(/([\+|\-|\)|\s|\$]*)$/)[0]},a,o,s;e=e.replace(/\s?\$\s?/,"");a=ue._.numberToFormat(t,e,n);if(t>=0){i.before=i.before.replace(/[\-\(]/,"");i.after=i.after.replace(/[\-\)]/,"")}else if(t<0&&(!ue._.includes(i.before,"-")&&!ue._.includes(i.before,"("))){i.before="-"+i.before}for(s=0;s<i.before.length;s++){o=i.before[s];switch(o){case"$":a=ue._.insert(a,r.currency.symbol,s);break;case" ":a=ue._.insert(a," ",s+r.currency.symbol.length-1);break}}for(s=i.after.length-1;s>=0;s--){o=i.after[s];switch(o){case"$":a=s===i.after.length-1?a+r.currency.symbol:ue._.insert(a,r.currency.symbol,-(i.after.length-(1+s)));break;case" ":a=s===i.after.length-1?a+" ":ue._.insert(a," ",-(i.after.length-(1+s)+r.currency.symbol.length-1));break}}return a}})})();(function(){ue.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(t,e,n){var r,i=typeof t==="number"&&!ue._.isNaN(t)?t.toExponential():"0e+0",a=i.split("e");e=e.replace(/e[\+|\-]{1}0/,"");r=ue._.numberToFormat(Number(a[0]),e,n);return r+"e"+a[1]},unformat:function(t){var e=ue._.includes(t,"e+")?t.split("e+"):t.split("e-"),n=Number(e[0]),r=Number(e[1]);r=ue._.includes(t,"e-")?r*=-1:r;function i(t,e,n,r){var i=ue._.correctionFactor(t,e),a=t*i*(e*i)/(i*i);return a}return ue._.reduce([n,Math.pow(10,r)],i,1)}})})();(function(){ue.register("format","ordinal",{regexps:{format:/(o)/},format:function(t,e,n){var r=ue.locales[ue.options.currentLocale],i,a=ue._.includes(e," o")?" ":"";e=e.replace(/\s?o/,"");a+=r.ordinal(t);i=ue._.numberToFormat(t,e,n);return i+a}})})();(function(){ue.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(t,e,n){var r=ue._.includes(e," %")?" ":"",i;if(ue.options.scalePercentBy100){t=t*100}e=e.replace(/\s?\%/,"");i=ue._.numberToFormat(t,e,n);if(ue._.includes(i,")")){i=i.split("");i.splice(-1,0,r+"%");i=i.join("")}else{i=i+r+"%"}return i},unformat:function(t){var e=ue._.stringToNumber(t);if(ue.options.scalePercentBy100){return e*.01}return e}})})();(function(){ue.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(t,e,n){var r=Math.floor(t/60/60),i=Math.floor((t-r*60*60)/60),a=Math.round(t-r*60*60-i*60);return r+":"+(i<10?"0"+i:i)+":"+(a<10?"0"+a:a)},unformat:function(t){var e=t.split(":"),n=0;if(e.length===3){n=n+Number(e[0])*60*60;n=n+Number(e[1])*60;n=n+Number(e[2])}else if(e.length===2){n=n+Number(e[0])*60;n=n+Number(e[1])}return Number(n)}})})();var ye=ue;function ge(t,e,n){if(t===void 0){t="format"}if(e===void 0){e="formatName"}if(!(ye[t+"s"]&&ye[t+"s"][e])){try{ye.register(t,e,n)}catch(r){console.error("error encountered when registering to numeral instance",t,e,r)}}}function me(){return ye}function be(t,e){if(t===void 0){t="formatName"}ge("locale",t,e)}function _e(t,e){if(t===void 0){t="formatName"}ge("format",t,e)}function we(t){if(t===void 0){t="en"}if(ye.locales&&ye.locales[t]){ye.locale(t)}else{console.error("numeral instance does not have the locale ",t," registered.")}}function xe(t,e){if(t===void 0){t="0"}if(e===void 0){e="(0.00a)"}return ye(t).format(e)}function Ae(t,e){var n=Math.pow(10,e||0);return Math.round((t+Number.EPSILON)*n)/n}var Se=new Date,Te=new Date;function Le(t,e,n,r){function i(e){return t(e=arguments.length===0?new Date:new Date(+e)),e}i.floor=function(e){return t(e=new Date(+e)),e};i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n};i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n};i.offset=function(t,n){return e(t=new Date(+t),n==null?1:Math.floor(n)),t};i.range=function(n,r,a){var o=[],s;n=i.ceil(n);a=a==null?1:Math.floor(a);if(!(n<r)||!(a>0))return o;do{o.push(s=new Date(+n)),e(n,a),t(n)}while(s<n&&n<r);return o};i.filter=function(n){return Le((function(e){if(e>=e)while(t(e),!n(e))e.setTime(e-1)}),(function(t,r){if(t>=t){if(r<0)while(++r<=0){while(e(t,-1),!n(t)){}}else while(--r>=0){while(e(t,+1),!n(t)){}}}}))};if(n){i.count=function(e,r){Se.setTime(+e),Te.setTime(+r);t(Se),t(Te);return Math.floor(n(Se,Te))};i.every=function(t){t=Math.floor(t);return!isFinite(t)||!(t>0)?null:!(t>1)?i:i.filter(r?function(e){return r(e)%t===0}:function(e){return i.count(0,e)%t===0})}}return i}var Ee=Le((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));Ee.every=function(t){t=Math.floor(t);if(!isFinite(t)||!(t>0))return null;if(!(t>1))return Ee;return Le((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t}))};var Ne=1e3;var Ce=6e4;var Me=36e5;var ke=864e5;var Ie=6048e5;Le((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*Ne)}),(function(t,e){return(e-t)/Ne}),(function(t){return t.getUTCSeconds()}));Le((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ne)}),(function(t,e){t.setTime(+t+e*Ce)}),(function(t,e){return(e-t)/Ce}),(function(t){return t.getMinutes()}));Le((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ne-t.getMinutes()*Ce)}),(function(t,e){t.setTime(+t+e*Me)}),(function(t,e){return(e-t)/Me}),(function(t){return t.getHours()}));var Oe=Le((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ce)/ke}),(function(t){return t.getDate()-1}));function De(t){return Le((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7);e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e*7)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ce)/Ie}))}var Re=De(0);var Ue=De(1);De(2);De(3);var Pe=De(4);De(5);De(6);Le((function(t){t.setDate(1);t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12}),(function(t){return t.getMonth()}));var Fe=Le((function(t){t.setMonth(0,1);t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Fe.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Le((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t);e.setMonth(0,1);e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)}))};Le((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*Ce)}),(function(t,e){return(e-t)/Ce}),(function(t){return t.getUTCMinutes()}));Le((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*Me)}),(function(t,e){return(e-t)/Me}),(function(t){return t.getUTCHours()}));var He=Le((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/ke}),(function(t){return t.getUTCDate()-1}));function je(t){return Le((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7);e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e*7)}),(function(t,e){return(e-t)/Ie}))}var Ve=je(0);var Be=je(1);je(2);je(3);var ze=je(4);je(5);je(6);Le((function(t){t.setUTCDate(1);t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12}),(function(t){return t.getUTCMonth()}));var Ye=Le((function(t){t.setUTCMonth(0,1);t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));Ye.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Le((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t);e.setUTCMonth(0,1);e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}))};function We(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);e.setFullYear(t.y);return e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ge(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));e.setUTCFullYear(t.y);return e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function qe(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Xe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,u=t.shortMonths;var l=en(i),c=nn(i),f=en(a),h=nn(a),d=en(o),p=nn(o),v=en(s),y=nn(s),g=en(u),m=nn(u);var b={a:O,A:D,b:R,B:U,c:null,d:Sn,e:Sn,f:Cn,g:jn,G:Bn,H:Tn,I:Ln,j:En,L:Nn,m:Mn,M:kn,p:P,q:F,Q:fr,s:hr,S:In,u:On,U:Dn,V:Un,w:Pn,W:Fn,x:null,X:null,y:Hn,Y:Vn,Z:zn,"%":cr};var _={a:H,A:j,b:V,B:B,c:null,d:Yn,e:Yn,f:$n,g:or,G:ur,H:Wn,I:Gn,j:qn,L:Xn,m:Kn,M:Zn,p:z,q:Y,Q:fr,s:hr,S:Qn,u:Jn,U:tr,V:nr,w:rr,W:ir,x:null,X:null,y:ar,Y:sr,Z:lr,"%":cr};var w={a:L,A:E,b:N,B:C,c:M,d:pn,e:pn,f:_n,g:cn,G:ln,H:yn,I:yn,j:vn,L:bn,m:dn,M:gn,p:T,q:hn,Q:xn,s:An,S:mn,u:an,U:on,V:sn,w:rn,W:un,x:k,X:I,y:cn,Y:ln,Z:fn,"%":wn};b.x=x(n,b);b.X=x(r,b);b.c=x(e,b);_.x=x(n,_);_.X=x(r,_);_.c=x(e,_);function x(t,e){return function(n){var r=[],i=-1,a=0,o=t.length,s,u,l;if(!(n instanceof Date))n=new Date(+n);while(++i<o){if(t.charCodeAt(i)===37){r.push(t.slice(a,i));if((u=$e[s=t.charAt(++i)])!=null)s=t.charAt(++i);else u=s==="e"?" ":"0";if(l=e[s])s=l(n,u);r.push(s);a=i+1}}r.push(t.slice(a,i));return r.join("")}}function A(t,e){return function(n){var r=qe(1900,undefined,1),i=S(r,t,n+="",0),a,o;if(i!=n.length)return null;if("Q"in r)return new Date(r.Q);if("s"in r)return new Date(r.s*1e3+("L"in r?r.L:0));if(e&&!("Z"in r))r.Z=0;if("p"in r)r.H=r.H%12+r.p*12;if(r.m===undefined)r.m="q"in r?r.q:0;if("V"in r){if(r.V<1||r.V>53)return null;if(!("w"in r))r.w=1;if("Z"in r){a=Ge(qe(r.y,0,1)),o=a.getUTCDay();a=o>4||o===0?Be.ceil(a):Be(a);a=He.offset(a,(r.V-1)*7);r.y=a.getUTCFullYear();r.m=a.getUTCMonth();r.d=a.getUTCDate()+(r.w+6)%7}else{a=We(qe(r.y,0,1)),o=a.getDay();a=o>4||o===0?Ue.ceil(a):Ue(a);a=Oe.offset(a,(r.V-1)*7);r.y=a.getFullYear();r.m=a.getMonth();r.d=a.getDate()+(r.w+6)%7}}else if("W"in r||"U"in r){if(!("w"in r))r.w="u"in r?r.u%7:"W"in r?1:0;o="Z"in r?Ge(qe(r.y,0,1)).getUTCDay():We(qe(r.y,0,1)).getDay();r.m=0;r.d="W"in r?(r.w+6)%7+r.W*7-(o+5)%7:r.w+r.U*7-(o+6)%7}if("Z"in r){r.H+=r.Z/100|0;r.M+=r.Z%100;return Ge(r)}return We(r)}}function S(t,e,n,r){var i=0,a=e.length,o=n.length,s,u;while(i<a){if(r>=o)return-1;s=e.charCodeAt(i++);if(s===37){s=e.charAt(i++);u=w[s in $e?e.charAt(i++):s];if(!u||(r=u(t,n,r))<0)return-1}else if(s!=n.charCodeAt(r++)){return-1}}return r}function T(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=c[r[0].toLowerCase()],n+r[0].length):-1}function L(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1}function E(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1}function N(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1}function C(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1}function M(t,n,r){return S(t,e,n,r)}function k(t,e,r){return S(t,n,e,r)}function I(t,e,n){return S(t,r,e,n)}function O(t){return o[t.getDay()]}function D(t){return a[t.getDay()]}function R(t){return u[t.getMonth()]}function U(t){return s[t.getMonth()]}function P(t){return i[+(t.getHours()>=12)]}function F(t){return 1+~~(t.getMonth()/3)}function H(t){return o[t.getUTCDay()]}function j(t){return a[t.getUTCDay()]}function V(t){return u[t.getUTCMonth()]}function B(t){return s[t.getUTCMonth()]}function z(t){return i[+(t.getUTCHours()>=12)]}function Y(t){return 1+~~(t.getUTCMonth()/3)}return{format:function(t){var e=x(t+="",b);e.toString=function(){return t};return e},parse:function(t){var e=A(t+="",false);e.toString=function(){return t};return e},utcFormat:function(t){var e=x(t+="",_);e.toString=function(){return t};return e},utcParse:function(t){var e=A(t+="",true);e.toString=function(){return t};return e}}}var $e={"-":"",_:" ",0:"0"},Ke=/^\s*\d+/,Ze=/^%/,Qe=/[\\^$*+?|[\]().{}]/g;function Je(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function tn(t){return t.replace(Qe,"\\$&")}function en(t){return new RegExp("^(?:"+t.map(tn).join("|")+")","i")}function nn(t){var e={},n=-1,r=t.length;while(++n<r)e[t[n].toLowerCase()]=n;return e}function rn(t,e,n){var r=Ke.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function an(t,e,n){var r=Ke.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function on(t,e,n){var r=Ke.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function sn(t,e,n){var r=Ke.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function un(t,e,n){var r=Ke.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ln(t,e,n){var r=Ke.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function cn(t,e,n){var r=Ke.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function fn(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function hn(t,e,n){var r=Ke.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function dn(t,e,n){var r=Ke.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function pn(t,e,n){var r=Ke.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function vn(t,e,n){var r=Ke.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function yn(t,e,n){var r=Ke.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function gn(t,e,n){var r=Ke.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function mn(t,e,n){var r=Ke.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function bn(t,e,n){var r=Ke.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function _n(t,e,n){var r=Ke.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function wn(t,e,n){var r=Ze.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function xn(t,e,n){var r=Ke.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function An(t,e,n){var r=Ke.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Sn(t,e){return Je(t.getDate(),e,2)}function Tn(t,e){return Je(t.getHours(),e,2)}function Ln(t,e){return Je(t.getHours()%12||12,e,2)}function En(t,e){return Je(1+Oe.count(Fe(t),t),e,3)}function Nn(t,e){return Je(t.getMilliseconds(),e,3)}function Cn(t,e){return Nn(t,e)+"000"}function Mn(t,e){return Je(t.getMonth()+1,e,2)}function kn(t,e){return Je(t.getMinutes(),e,2)}function In(t,e){return Je(t.getSeconds(),e,2)}function On(t){var e=t.getDay();return e===0?7:e}function Dn(t,e){return Je(Re.count(Fe(t)-1,t),e,2)}function Rn(t){var e=t.getDay();return e>=4||e===0?Pe(t):Pe.ceil(t)}function Un(t,e){t=Rn(t);return Je(Pe.count(Fe(t),t)+(Fe(t).getDay()===4),e,2)}function Pn(t){return t.getDay()}function Fn(t,e){return Je(Ue.count(Fe(t)-1,t),e,2)}function Hn(t,e){return Je(t.getFullYear()%100,e,2)}function jn(t,e){t=Rn(t);return Je(t.getFullYear()%100,e,2)}function Vn(t,e){return Je(t.getFullYear()%1e4,e,4)}function Bn(t,e){var n=t.getDay();t=n>=4||n===0?Pe(t):Pe.ceil(t);return Je(t.getFullYear()%1e4,e,4)}function zn(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Je(e/60|0,"0",2)+Je(e%60,"0",2)}function Yn(t,e){return Je(t.getUTCDate(),e,2)}function Wn(t,e){return Je(t.getUTCHours(),e,2)}function Gn(t,e){return Je(t.getUTCHours()%12||12,e,2)}function qn(t,e){return Je(1+He.count(Ye(t),t),e,3)}function Xn(t,e){return Je(t.getUTCMilliseconds(),e,3)}function $n(t,e){return Xn(t,e)+"000"}function Kn(t,e){return Je(t.getUTCMonth()+1,e,2)}function Zn(t,e){return Je(t.getUTCMinutes(),e,2)}function Qn(t,e){return Je(t.getUTCSeconds(),e,2)}function Jn(t){var e=t.getUTCDay();return e===0?7:e}function tr(t,e){return Je(Ve.count(Ye(t)-1,t),e,2)}function er(t){var e=t.getUTCDay();return e>=4||e===0?ze(t):ze.ceil(t)}function nr(t,e){t=er(t);return Je(ze.count(Ye(t),t)+(Ye(t).getUTCDay()===4),e,2)}function rr(t){return t.getUTCDay()}function ir(t,e){return Je(Be.count(Ye(t)-1,t),e,2)}function ar(t,e){return Je(t.getUTCFullYear()%100,e,2)}function or(t,e){t=er(t);return Je(t.getUTCFullYear()%100,e,2)}function sr(t,e){return Je(t.getUTCFullYear()%1e4,e,4)}function ur(t,e){var n=t.getUTCDay();t=n>=4||n===0?ze(t):ze.ceil(t);return Je(t.getUTCFullYear()%1e4,e,4)}function lr(){return"+0000"}function cr(){return"%"}function fr(t){return+t}function hr(t){return Math.floor(+t/1e3)}var dr;var pr;var vr;var yr;gr({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function gr(t){dr=Xe(t);pr=dr.format;vr=dr.utcFormat;yr=dr.utcParse;return dr}var mr="%Y-%m-%dT%H:%M:%S.%LZ";function br(t){return t.toISOString()}Date.prototype.toISOString?br:vr(mr);function _r(t){var e=new Date(t);return isNaN(e)?null:e}+new Date("2000-01-01T00:00:00.000Z")?_r:yr(mr);var wr=function(t){var e=t.date,n=t.format,r=t.offsetTimezone;var i=r?e.getTimezoneOffset()*6e4:0;var a=new Date(e.getTime()+i);n=n.includes("%")?n:"%Y %b";var o=pr(n)(a);return o};function xr(t,e,n,r){var i=[];t.forEach((function(t){var a={};if(!i.length){a[e]=t[e];a[t[n]]=t[r];i.push(a)}else{a=i.filter((function(n){return n[e]===t[e]})).pop();if(!!a){var o=i.findIndex((function(n){return n[e]===t[e]}));a[t[n]]=t[r];i[o]=a}else{a={};a[e]=t[e];a[t[n]]=t[r];i.push(a)}}}));return i}var Ar={number:"0[.][0][0]a",date:"%B %d %Y",percent:"0[.][0][0]%",string:""};var Sr={valueAccessor:"number",nodeSizeAccessor:"number",latitudeAccessor:"number",longitudeAccessor:"number",xAccessor:[{charts:["scatter-plot"],type:"number"}],yAccessor:[{charts:["scatter-plot"],type:"number"}],sizeAccessor:[{charts:["scatter-plot"],type:"number"}]};var Tr={"alluvial-diagram":["nodeIDAccessor","labelAccessor","valueAccessor"],"alluvial-diagram-secondary-table":["groupAccessor","sourceAccessor","targetAccessor","valueAccessor"],"bar-chart":["groupAccessor","ordinalAccessor","valueAccessor"],"clustered-bar-chart":["groupAccessor","ordinalAccessor","valueAccessor"],"stacked-bar-chart":["groupAccessor","ordinalAccessor","valueAccessor"],"line-chart":["seriesAccessor","ordinalAccessor","valueAccessor"],"pie-chart":["ordinalAccessor","valueAccessor"],"scatter-plot":["groupAccessor","xAccessor","yAccessor","sizeAccessor"],"heat-map":["xAccessor","yAccessor","valueAccessor"],"circle-packing":["clusterAccessor","nodeAccessor","nodeSizeAccessor","idAccessor"],"parallel-plot":["seriesAccessor","ordinalAccessor","valueAccessor"],"dumbbell-plot":["seriesAccessor","ordinalAccessor","valueAccessor"],"world-map":["groupAccessor","markerNameAccessor","joinNameAccessor","valueAccessor"]};var Lr={singleAccessors:["valueAccessor","sizeAccessor","xAccessor","yAccessor","latitudeAccessor","longitudeAccessor","ordinalAccessor","idAccessor","markerAccessor","markerNameAccessor","joinAccessor","joinNameAccessor","nodeAccessor","parentAccessor","groupAccessor","seriesAccessor","sourceAccessor","targetAccessor"],arrayAccessors:["interactionKeys"],nestedAccessors:[{objectName:"tooltipLabel",objectAccessors:["labelAccessor"],formatAccessors:["format"]},{objectName:"accessibility",objectAccessors:["elementDescriptionAccessor"]},{objectName:"dataLabel",objectAccessors:["labelAccessor"],formatAccessors:["format"]},{objectName:"sizeConfig",objectAccessors:["sizeAccessor"],formatAccessors:["format"]}]};function Er(t,e,n){var r=[];Tr[n].forEach((function(n){if(t[n]&&e[t[n]]!==undefined){r.push(t[n])}}));Object.keys(e).forEach((function(t){if(r.indexOf(t)<0){r.push(t)}}));return r}function Nr(t,e){var n=[];t.forEach((function(t){var r={};Object.keys(e).forEach((function(n){if(t[n]instanceof Date){r[n]=wr({date:t[n],format:e[n]?e[n]:Ar["date"],offsetTimezone:true})}else{if(e[n]==="normalized"){r[n]=e[n]&&t[n]?xe(t[n],Ar["number"]):t[n];r[n+"%"]=e[n]&&t[n]&&t.getSum?xe(t[n]/t.getSum(),Ar["percent"]):t[n]}else{r[n]=e[n]&&t[n]?xe(t[n],e[n]):t[n]}}}));n.push(r)}));return n}function Cr(t,e,n,r){if(e[t]){if(e[t]instanceof Array){var i=undefined;e[t].forEach((function(t){if(t.charts.indexOf(r)>=0){i=n[t.type]}else{i=i?i:i=""}}));return i}else{if(n[e[t]]){return n[e[t]]}else{return""}}}else{return""}}function Mr(t,e,n,r){var i={};var a={};if(e.nestedAccessors&&e.nestedAccessors instanceof Array){e.nestedAccessors.forEach((function(e){if(e.objectName&&e.objectAccessors&&e.objectAccessors instanceof Array){if(t[e.objectName]){e.objectAccessors.forEach((function(n,r){if(t[e.objectName][n]instanceof Array){t[e.objectName][n].forEach((function(n,o){if(!a[n]){i[n]=e.formatAccessors&&e.formatAccessors instanceof Array&&t[e.objectName][e.formatAccessors[r]]?t[e.objectName][e.formatAccessors[r]][o]:undefined;a[n]=1}}))}else{if(t[e.objectName][n]&&!a[t[e.objectName][n]]){i[t[e.objectName][n]]=e.formatAccessors?t[e.objectName][e.formatAccessors]:undefined;a[t[e.objectName][n]]=1}}}))}}}))}if(e.singleAccessors&&e.singleAccessors instanceof Array){e.singleAccessors.forEach((function(e){if(t[e]&&!a[t[e]]){var r=Cr(e,Sr,Ar,n);i[t[e]]=r;a[t[e]]=1}}))}if(e.arrayAccessors&&e.arrayAccessors instanceof Array){e.arrayAccessors.forEach((function(e){if(t[e]){t[e].forEach((function(t){if(!a[t]&&t!=="xAccessor"&&t!=="yAccessor"){i[t]=undefined;a[t]=1}}))}}))}if(!r){var o={};var s=Er(t,i,n);s.forEach((function(t){o[t]=i[t]}));i=o}return i}function kr(t,e,n,r,i){var a={};var o={};t.forEach((function(t){a[t[e]]=1;if(!o[t[n]]){o[t[n]]={}}o[t[n]][t[e]]=1}));var s=Object.keys(a);Object.keys(o).forEach((function(a){s.forEach((function(s){if(!o[a][s]){var u={};u[r]=i||0;u[e]=s;u[n]=a;t.push(u)}}))}))}var Ir=function(t){var e=t.d,n=t.i,r=t.n,i=t.capitalizedGeomType,a=t.capitalizedGroupName,o=t.includeKeyNames,s=t.dataKeys,u=t.dataKeyNames,l=t.groupKeys,c=t.nested,f=t.recursive;var h=!f?e:e.data.data;var d="";if(c){if(h[c].length){h[c].forEach((function(t){d+=Dr(t,s,u,o,true)}))}if(l&&l.length){l.forEach((function(t){d+=!t?"":h[t]+". "}))}}else{d+=Dr(h,s,u,o)}d+=i+" "+(n+1)+" of "+r.length+".";if(f){var p=e.depth;var v=Xt(r[n].parentNode).selectAll("g:not(.vcl-accessibility-focus-highlight)").filter((function(t){return p===undefined?true:t&&t.depth===p+1})).size();d+=(" This "+a||i+" group")+" contains "+(v||"0")+" child elements"+(!v&&e.children&&e.children.length?" (but some may be hidden until you interact with this node)":"")}return d};var Or=function(t){var e=t.d,n=t.targetNode,r=t.index,i=t.groupAccessor,a=t.groupKeys,o=t.dataKeyNames,s=t.siblings,u=t.isOffsetGroup,l=t.includeKeyNames,c=t.capitalizedGroupName,f=t.capitalizedGeomType,h=t.geomType;var d=0;Array.prototype.forEach.call(s,(function(t){if(Xt(t).attr("tabindex")!==null){d++}}));if(d>1){var p=!u?n:n.parentNode.nextSibling.childNodes[r];var v=n.querySelectorAll("*:not(.vcl-accessibility-focus-highlight)")[0];var y=v&&v["__data__"]?l&&i&&o&&v["__data__"][i]&&o[i]?o[i]+" "+v["__data__"][i]+". ":l&&i&&v["__data__"][i]?i+" "+v["__data__"][i]+". ":v["__data__"][i]+". ":"";if(a&&a.length){a.forEach((function(t){y+=!t?"":e[t]+". "}))}var g=p?p.querySelectorAll("*:not(.vcl-accessibility-focus-highlight)").length:0;return y+(c||f+" group")+" "+(r+1)+" of "+n.parentNode.querySelectorAll("g:not(.vcl-accessibility-focus-highlight)").length+" which contains "+g+" interactive "+h+(g!==1?"s.":".")}else{var g=s[r].querySelectorAll("*:not(.vcl-accessibility-focus-highlight)").length;return(c||f+" group")+" which contains "+g+" interactive "+h+(g!==1?"s.":".")}};var Dr=function(t,e,n,r,i){var a=Object.keys(e);var o="";var s=!t.data?Nr([t],e)[0]:Nr([t.data],e)[0];var u=1;a.forEach((function(t){var e=n&&n[t]?n[t]:t;if(s[t]!==undefined){var a=typeof s[t]==="string"&&s[t][s[t].length-1]==="."?" ":". ";if(!(i&&!r)){o+=r?e+" ":"";o+=s[t]+a}else{o+=s[t]+(u%2?" ":a)}if(s[t+"%"]!==undefined){var l=s[t+"%"][s[t+"%"].length-1]==="."?" ":". ";o+=r?e+" as a percentage ":"";o+=s[t+"%"]+l}u++}}));return o};var Rr={hideTooltip:27,parent:13,child:13,select:32,nextSibling:39,previousSibling:37,nextCousin:40,previousCousin:38,nextCousinAlternate:190,previousCousinAlternate:188,shift:16,tab:9,escape:27};var Ur=ie();var Pr=Ur==="IE";var Fr=Ur==="Edge";var Hr="application";var jr="img";var Vr="button";var Br="node-";var zr=false;if(Pr){oe(window)}var Yr=function(t){var e=t.node,n=t.chartTag,r=t.title,i=t.description,a=t.uniqueID,o=t.geomType,s=t.includeKeyNames,u=t.dataKeys,l=t.dataKeyNames,c=t.groupKeys,f=t.nested,h=t.groupName,d=t.groupAccessor,p=t.recursive,v=t.disableKeyNav;var y=Xt(e);var g=d&&(n==="bar-chart"||n==="world-map")?d:"";y.attr("role","presentation").attr("focusable",false).attr("tabindex",-1).style("overflow","hidden").on("focus",!v?function(){ui(Xt(m).select(".VCL-controller").node())}:null);var m=e.parentNode;var b=Xt(m).select(".VCL-controller");var _=function(){var t=r+". ";var e=i?i+". ":"";var n=e+" Navigate into the chart area by pressing ENTER.";return t+n};if(!b.size()){Xt(m).style("position","relative");b=Xt(m).insert("div",":first-child");b.attr("class","VCL-controller").style("position","absolute").style("top",0).style("left",0).style("opacity",0).style("pointer-events","none")}var w=e.getBoundingClientRect();b.style("width",w.width+"px").style("height",w.height+"px").attr("id","chart-area-"+a).attr("data-sgck",g||null).attr("data-group",d).attr("aria-label",!v?_():null).text(!v?"Interactive "+n+".":"").attr("role",!v?Hr:"presentation").attr("tabindex",!v?"0":"-1").on("keyup",!v?function(){zr=false}:null).on("focus",!v?function(t,n,r){Xt(r[n]).selectAll("[tabindex]").attr("tabindex",-1);Ai(r[n],p);var i=e.getBoundingClientRect();b.style("width",i.width+"px").style("height",i.height+"px").attr("aria-label",_())}:null).on("blur",!v?function(t,e,r){wi(Xt(r[e].parentNode).select("svg :first-child").node(),true);b.attr("aria-label","Interactive "+n+".")}:null).on("keydown",!v?function(){var t=It;var e=It.keyCode||It.which;var n=Kr(e);if(n&&!zr){zr=true;t.stopPropagation();var r=pi(t);if(r){Zr({rootNode:b.node(),nodeID:r.id,geomType:o,includeKeyNames:s,dataKeys:u,dataKeyNames:l,groupKeys:c,nested:f,groupName:h,groupAccessor:d,recursive:p,sameGroupCousinKey:g})}}}:null);var x=b.attr("aria-activedescendant");if(x&&!v){var A=document.getElementById(x.substring(5));if(A){oi(A)}else{b.attr("aria-activedescendant",null)}}else{b.attr("aria-activedescendant",null)}var S=b.node();if(v&&S.children&&S.children.length){var T=S.children.length;while(T){S.removeChild(S.children[0]);T--}}Vi(e,a)};var Wr=function(t){var e=t.node,n=t.geomType,r=t.includeKeyNames,i=t.dataKeys,a=t.dataKeyNames,o=t.groupKeys,s=t.nested,u=t.recursive,l=t.groupName,c=t.uniqueID,f=t.disableKeyNav;Xt(e).on("focus",!f?function(t,e,f){var h=f[e].id;if(h){var d=document.getElementById("chart-area-"+c);var p=Xt(d).attr("data-sgck");var v=Xt(d).attr("data-group");Zr({rootNode:d,nodeID:h,geomType:n,includeKeyNames:r,dataKeys:i,dataKeyNames:a,groupKeys:o,nested:s,groupName:l,groupAccessor:v,recursive:u,sameGroupCousinKey:p,deleteControllers:false});xi(f[e])}}:null)};var Gr=function(t,e,n){var r="#"+Br+Xt(t).attr("id");Xt(t).attr("data-aria-pressed",n?e:null).attr("data-role",n?Vr:jr);Xt(r).attr("aria-pressed",n?e:null).attr("role",n?Vr:jr)};var qr=function(t){var e=t.node,n=t.uniqueID;Xt(e).attr("id",(function(){if(!e.id){return ri(n)}return e.id}))};var Xr=function(t){return!!Xt(t).select(".vcl-accessibility-focus-source").size()};var $r=function(t){var e=t.parentGNode,n=t.focusDidExist,r=t.recursive;var i=Xt(e);if(i.select(".vcl-accessibility-focus-source").size()){var a=i.select(".vcl-accessibility-focus-source").node();var o=i.select(".vcl-accessibility-focus-indicator").classed("hidden");Ai(a,r);if(o){xi(a)}}else if(n){var s;i.selectAll("[tabindex]").each((function(t,e,n){if(!s&&Xt(n[e]).attr("tabindex")!==null){s=n[e]}}));if(!s){var u=di(e);s=Xt(u).select("[tabindex]").node()||u}ui(s);Ai(s,r)}};var Kr=function(t){return t===Rr.select||t===Rr.child||t===Rr.parent||t===Rr.nextSibling||t===Rr.previousSibling||t===Rr.nextCousin||t===Rr.previousCousin||t===Rr.nextCousinAlternate||t===Rr.previousCousinAlternate};var Zr=function(t){var e=t.rootNode,n=t.nodeID,r=t.geomType,i=t.includeKeyNames,a=t.dataKeys,o=t.dataKeyNames,s=t.groupKeys,u=t.nested,l=t.groupName,c=t.groupAccessor,f=t.recursive,h=t.sameGroupCousinKey,d=t.deleteControllers;if(Pr||Fr){zr=false}var p=0;if(!d){var v=ai(n,f);if(v&&v.id){p++;ti({rootNode:e,nodeID:v.id,isTarget:false,geomType:r,includeKeyNames:i,dataKeys:a,dataKeyNames:o,groupKeys:s,nested:u,recursive:f,groupName:l,groupAccessor:c,direction:"backward",sourceID:n,sameGroupCousinKey:h})}var y=document.getElementById(Br+n);if(!y){p++;ti({rootNode:e,nodeID:n,isTarget:true,geomType:r,includeKeyNames:i,dataKeys:a,dataKeyNames:o,groupKeys:s,nested:u,recursive:f,groupName:l,groupAccessor:c,sameGroupCousinKey:h})}else{p++;e.appendChild(y.parentNode);var g=document.getElementById(n);var m=g.getBoundingClientRect();var b=e.getBoundingClientRect();Xt(y).on("focus",(function(){})).style("position","absolute").style("padding",0).style("margin",0).style("overflow","visible").style("left",m.left-b.left+"px").style("top",m.top-b.top+"px").style("width",m.width+"px").style("height",m.height+"px")}var _=ii(n,f);if(_&&_.id){p++;ti({rootNode:e,nodeID:_.id,isTarget:false,geomType:r,includeKeyNames:i,dataKeys:a,dataKeyNames:o,groupKeys:s,nested:u,recursive:f,groupName:l,groupAccessor:c,direction:"forward",sourceID:n,sameGroupCousinKey:h})}}Qr(n,f,d);var w=e.children.length-p;while(w){e.removeChild(e.children[0]);w--}};var Qr=function(t,e,n){var r=!n?Br+t:t;var i=document.getElementById(r);var a=document.getElementById(t);Jr(!n?i.parentNode.parentNode:i);ui(i);if(!n){Xt(i).classed("VCL-controller-focused",true);ki(a,e,false);oi(a)}else{si(a,true)}Ai(a,e)};var Jr=function(t){var e=Xt(t).select(".VCL-controller-focused");if(e.size()){e.classed("VCL-controller-focused",false);var n=document.getElementById(e.node().id.substring(5));li(n)}};var ti=function(t){var e=t.rootNode,n=t.nodeID,r=t.isTarget,i=t.geomType,a=t.includeKeyNames,o=t.dataKeys,s=t.dataKeyNames,u=t.groupKeys,l=t.nested,c=t.recursive,f=t.groupName,h=t.groupAccessor,d=t.direction,p=t.sourceID,v=t.sameGroupCousinKey;var y=document.getElementById(n);var g=Xt(y).attr("data-offset-group");var m=y.nodeName==="g"||g;var b="div";var _="img";var w=null;if(!m){_=Xt(y).attr("data-role");w=Xt(y).attr("data-aria-pressed");b=w?"button":"div"}var x=y.getBoundingClientRect();var A=e.getBoundingClientRect();Xt(e).append(!Fr?"figure":"div").attr("role","figure").append(b).style("position","absolute").style("padding",0).style("margin",0).style("overflow","visible").attr("role",_).attr("id",Br+n).attr("tabindex",-1).on("keydown",(function(){var t=It;t.stopPropagation();var r=_i(n,t,m,c,v);if(r){if(r.clicked){var d=document.getElementById(r.id);xi(d.parentNode);var p=new MouseEvent("click",{bubbles:false,cancelable:true});d.dispatchEvent(p);Qr(n,c)}else if(r.focused){var y=r.id||e.id;Zr({rootNode:e,nodeID:y,geomType:i,includeKeyNames:a,dataKeys:o,dataKeyNames:s,groupKeys:u,nested:l,groupName:f,groupAccessor:h,recursive:c,sameGroupCousinKey:v,deleteControllers:y===e.id})}}})).on("keyup",(function(){zr=false})).on("focus",!r?function(){var t=n;if(d){var r=d==="backward"?ai(p,c):ii(p,c);t=r?r.id:""}if(t){Zr({rootNode:e,nodeID:t,geomType:i,includeKeyNames:a,dataKeys:o,dataKeyNames:s,groupKeys:u,nested:l,groupName:f,groupAccessor:h,recursive:c,sameGroupCousinKey:v})}}:null).on("blur",(function(){var t=document.getElementById(n);li(t)})).attr("aria-label",(function(t,e,n){var r="";var d=i[0].toUpperCase()+i.substring(1);var p=f?f[0].toUpperCase()+f.substring(1):"";var v=!c?y:y.parentNode;var b=!c?v.parentNode.childNodes:yi(y);var _=Array.prototype.indexOf.call(b,y);var x=Xt(v);var A=v["__data__"]||x.data()[0];if(m){r=Or({d:A,targetNode:v,index:_,groupAccessor:h,groupKeys:u,dataKeyNames:s,siblings:b,isOffsetGroup:g,includeKeyNames:a,capitalizedGroupName:p,capitalizedGeomType:d,geomType:i})}else{r=Ir({d:A,i:_,n:b,capitalizedGeomType:d,capitalizedGroupName:p,includeKeyNames:a,dataKeys:o,dataKeyNames:s,groupKeys:u,nested:l,recursive:c})}Xt(n[e]).text(r);if(w){Xt(n[e]).attr("aria-pressed",w)}return r})).style("left",x.left-A.left+"px").style("top",x.top-A.top+"px").style("width",x.width+"px").style("height",x.height+"px").style("pointer-events","none")};var ei=function(t){var e=Array.prototype.indexOf.call(t.parentNode.childNodes,t);return t.parentNode.nextSibling.childNodes[e]?t.parentNode.nextSibling.childNodes[e].childNodes[0]:undefined};var ni=function(t,e){var n=e==="next"?"target":"source";var r=e?t.__data__[n].index:Array.prototype.indexOf.call(t.parentNode.parentNode.childNodes,t.parentNode);return t.parentNode.parentNode.previousSibling.childNodes[r]};var ri=function(t){return t+"-"+Math.round(Math.random()*1e6)+"-"+Math.round(Math.random()*1e6)+"-"+Math.round(Math.random()*1e6)};var ii=function(t,e,n){var r=t===""?null:document.getElementById(t);if(!r||r.tagName==="svg"){return null}else if(!e&&r.nextElementSibling){if(Xt(r.nextElementSibling).attr("tabindex")!==null){return r.nextElementSibling}else{return ii(r.nextElementSibling.id,e)}}else if(e&&gi(r,"next",true)){return gi(r,"next",true)}else if(!n){var i=hi(r,e);var a=!e?i.nextElementSibling:i?gi(i,"next",true):null;if(a){if(Xt(a).attr("tabindex")!==null){return a}else if(a.id){return ii(a.id,e,true)}}}return null};var ai=function(t,e){var n=t===""?null:document.getElementById(t);if(!n||n.tagName==="svg"){return null}else if(!e&&n.previousElementSibling){if(Xt(n.previousElementSibling).attr("tabindex")!==null){return n.previousElementSibling}else{return ai(n.previousElementSibling.id,e)}}else if(e&&gi(n,"previous",true)){return gi(n,"previous",true)}else if(n.tagName==="g"){return null}return hi(n,e)};var oi=function(t){var e=di(t);if(!(e===document.body)&&Hr==="application"){var n=e.parentNode.firstElementChild;n.setAttribute("aria-activedescendant",Br+t.id)}};var si=function(t,e){var n=!e?di(t):t;if(!(n===document.body)&&Hr==="application"){var r=!e?n.parentNode.firstElementChild:t;r.setAttribute("aria-activedescendant",null)}};var ui=function(t){if(Pr){setTimeout((function(){t.focus()}),10)}else{t.focus()}};var li=function(t){if(!t){return}si(t);Mi(t);wi(t)};var ci=function(t,e){var n=e+"Sibling";var r=(e==="next"?"first":"last")+"ElementChild";var i=function(){return e==="next"?t.parentNode.firstElementChild:fi(t)};var a=t[n]&&Xt(t[n]).attr("tabindex")!==null?t[n]:null;var o=!a?i():t[n];return o||o.parentNode[r]};var fi=function(t){if(Xt(t.parentNode.lastElementChild).attr("tabindex")!==null){return t.parentNode.lastElementChild}var e=null;var n=t.parentNode.childNodes.length-2;while(!e&&n>=0){var r=t.parentNode.childNodes[n];if(Xt(r).attr("tabindex")!==null){e=r}n--}return e};var hi=function(t,e,n){if(!e){if(n&&Xt(t.parentNode).attr("tabindex")!==null){return t.parentNode}return di(t)}if(t.parentNode&&t.parentNode.parentNode&&t.parentNode.parentNode.firstElementChild){return Ni(t.parentNode.parentNode.firstElementChild,true)||di(t)}return di(t)};var di=function(t){if(t.ownerSVGElement){return t.ownerSVGElement}if(t.parentNode.nodeName==="svg"||t.parentNode===document.body){return t.parentNode}else{return di(t.parentNode)}};var pi=function(t){var e=t.target;var n=t.keyCode||t.which;if(!t.shiftKey&&(n===Rr.child||n===Rr.select)){t.preventDefault();return Xt(e.parentNode).select("svg").select("[tabindex]").node()}};var vi=function(t,e){var n=!e?t:Ei(t);return n&&n.firstElementChild?Ni(n.firstElementChild,true):null};var yi=function(t){var e=t.parentNode.parentNode;var n=e.childNodes;var r=[];Array.prototype.forEach.call(n,(function(t){if(t.tagName==="g"&&!t.classList.contains(".vcl-accessibility-focus-highlight")){r.push(t.firstElementChild)}}));return r};var gi=function(t,e,n){var r;var i;var a=bi(t.parentNode);var o=Xt(t).attr("data-index")?+Xt(t).attr("data-index"):bi(t);var s=t.parentNode.parentNode;var u=[];Array.prototype.forEach.call(s.childNodes,(function(t){if(t.tagName==="g"&&!t.classList.contains("vcl-accessibility-focus-highlight")){u.push(t)}}));var l=u.length;if(!l){return null}if(e==="previous"){if(n&&a===0){return null}r=a!==0?u[a-1].childNodes:u[l-1].childNodes}else if(e==="next"){if(n&&a===l-1){return null}r=a!==l-1?u[a+1].childNodes:u[0].childNodes}i=Xt(t).attr("data-index")?Array.prototype.filter.call(r,(function(t){return o===+Xt(t).attr("data-index")}))[0]:r[o];while(!i&&o>-1){i=Xt(t).attr("data-index")?Array.prototype.filter.call(r,(function(t){return o===+Xt(t).attr("data-index")}))[0]:r[o];if(o===0&&!i&&Xt(t).attr("data-index")){i=r[o]}o--}return!(t===i)?i:null};var mi=function(t,e,n){var r=Xt(t).data()[0];var i=r[n];var a;var o=[];var s=-1;var u=0;Xt(t.parentNode).selectAll("*").each((function(e,r,a){if(e&&e[n]===i){o.push(a[r]);u++}if(s<0&&t===a[r]){s=u-1}}));if(u&&s>-1){if(e==="previous"){a=o[s-1]||o[o.length-1]}else if(e==="next"){a=o[s+1]||o[0]}}return a};var bi=function(t){var e=0;var n=t.nodeName;while(t.previousSibling){if(n===t.previousSibling.nodeName&&!Xt(t.previousSibling).classed("vcl-accessibility-focus-hover")){e++}t=t.previousSibling}return e};var _i=function(t,e,n,r,i){var a;var o={clicked:false,focused:false,id:""};var s=document.getElementById(t);var u=e.keyCode||e.which;var l=Kr(u);var c=u===Rr.nextSibling||u===Rr.nextCousin||u===Rr.nextCousinAlternate?"next":u===Rr.previousSibling||u===Rr.previousCousin||u===Rr.previousCousinAlternate?"previous":e.shiftKey&&u===Rr.parent?"up":u===Rr.child?"down":"";if(c||u===Rr.select){e.preventDefault()}if(l&&!zr){zr=true;if(u===Rr.select){o.clicked=true;o.id=t}else if((u===Rr.nextSibling||u===Rr.previousSibling)&&!r){a=ci(s,c)}else if(!r&&(u===Rr.nextCousin||u===Rr.nextCousinAlternate||u===Rr.previousCousin||u===Rr.previousCousinAlternate)||(u===Rr.nextSibling||u===Rr.previousSibling)&&r){if(i&&!n){a=mi(s,c,i)}else if(!n){var f=Xt(s).attr("data-offset-element");a=!f?gi(s,c):ni(s,c)}}else if(c==="down"||r&&(u===Rr.nextCousin||u===Rr.nextCousinAlternate)){if(n||r){var f=Xt(s).attr("data-offset-group");a=!f?vi(s,r):ei(s)}}else if(c==="up"||r&&(u===Rr.previousCousin||u===Rr.previousCousinAlternate)){if(n){a=di(s)}else{var f=Xt(s).attr("data-offset-element");a=!f?hi(s,r,true):ni(s)}}}if(a&&Xt(a).attr("tabindex")){o.focused=true;o.id=a.id}return o};var wi=function(t,e){var n=!e?"vcl-accessibility-focus":"vcl-accessibility-focus-root";Xt(t.ownerSVGElement).selectAll("."+n+"-source").classed(n+"-source",false);Xt(t.ownerSVGElement).selectAll("."+n+"-indicator").remove()};var xi=function(t){Xt(t.ownerSVGElement).selectAll(".vcl-accessibility-focus-indicator").classed("hidden",true).style("opacity",0).attr("opacity",0)};var Ai=function(t,e){var n=t.tagName!=="DIV"?t:Xt(t.parentNode).select("svg").node();var r=false;var i=!(n.tagName==="svg")?"vcl-accessibility-focus":"vcl-accessibility-focus-root";var a=n.tagName==="g"||n.tagName==="svg";if(a){var o=n.getBBox();var s=n.tagName==="svg"?Math.max(+n.getAttribute("width")-10,0):+o.width+10;var u=n.tagName==="svg"?Math.max(+n.getAttribute("height")-10,0):+o.height+10;var l=n.tagName==="svg"?5:+o.x-5;var c=n.tagName==="svg"?5:+o.y-5;var f=Xt(!(n.tagName==="svg")?n.parentNode:n).append("rect").attr("x",l).attr("y",c).attr("width",s).attr("height",u).attr("transform",Xt(n).attr("transform")||null).attr("fill","none").style("fill","none");n=f.node();r=true}else{var h=Xt(n).style("outline").includes("auto");if(h){Xt(n).style("outline-width","0px").style("outline-offset","0px").style("outline-color","none")}}var d=n.parentNode;wi(d.tagName!=="svg"?d:d.firstElementChild);Xt(n).classed(i+"-source",true);var p=Xt(n).attr("width");var v=n.cloneNode(false);var y=n.cloneNode(false);var g=n.cloneNode(false);if(!e&&!r||e&&a){var m=!a&&(!(Xt(n.parentNode).attr("tabindex")===null)||Xt(n.parentNode).classed("offset-target"));var b=!m?d:d.parentNode;var _=d.cloneNode(false);_.appendChild(y);_.appendChild(v);_.appendChild(g);b.appendChild(_);Si(Xt(_),i);Xt(_).attr("filter",null)}else{if(e){var w=+Xt(g).attr("r");d.parentNode.appendChild(y);Xt(y).attr("r",w+6).attr("stroke-width",0);d.parentNode.appendChild(v);Xt(v).attr("r",w+3).attr("stroke-width",0)}else{var x=!!Xt(t).attr("data-offset-group");if(!x){if(n.nextSibling){d.insertBefore(g,n.nextSibling);d.insertBefore(v,n.nextSibling);d.insertBefore(y,n.nextSibling)}else{d.appendChild(y);d.appendChild(v);d.appendChild(g)}}else{var A=d.nextSibling.nextSibling;d.parentNode.insertBefore(y,A);d.parentNode.insertBefore(v,A);d.parentNode.insertBefore(g,A)}}}var S=Xt(g).style("opacity",!a?1:0).attr("opacity",!a?1:0).style("stroke-opacity",!a?1:0).attr("stroke-opacity",!a?1:0);if(!e&&!a&&p||a){S.style("fill-opacity",0).attr("fill-opacity",0)}Si(S,i);var T=Xt(n).data()&&Xt(n).data()[0]&&Xt(n).data()[0].source&&Xt(n).data()[0].target&&(Xt(n).data()[0].y0||Xt(n).data()[0].y0===0);var L=Xt(v);Si(L,i);Li(L,!a&&!e&&!p?10:6,"#ffffff",T?Xt(n).data()[0]:undefined);if(!e&&!a&&p){Ti(L,3)}L.style("opacity",1).attr("opacity",1);var E=Xt(y);Si(E,i);Li(E,!a&&!e&&!p?14:!a?2:10,"#000000",T?Xt(n).data()[0]:undefined);if(!e&&!a&&p){Ti(E,7)}E.style("opacity",1).attr("opacity",1);if(r){Xt(n).remove()}};var Si=function(t,e){if(t.attr("d")&&t.attr("filter")&&!t.attr("marker-start")){t.attr("filter",null)}t.attr("id",null).attr("class",e+"-highlight "+e+"-indicator").attr("focusable",false).attr("aria-label",null).attr("aria-hidden",true).attr("role",null).style("pointer-events","none").attr("tabindex",null).attr("mix-blend-mode",null).style("mix-blend-mode",null).attr("r",(function(t,e,n){var r=parseFloat(Xt(n[e]).attr("r"));return r||1}))};var Ti=function(t,e){t.attr("width",(function(t,n,r){var i=parseFloat(Xt(r[n]).attr("width"));return i+e*2})).attr("height",(function(t,n,r){var i=parseFloat(Xt(r[n]).attr("height"));return i+e*2})).attr("x",(function(t,n,r){var i=parseFloat(Xt(r[n]).attr("x"));return i-e})).attr("y",(function(t,n,r){var i=parseFloat(Xt(r[n]).attr("y"));return i-e}))};var Li=function(t,e,n,r){t.style("stroke-dasharray","").attr("stroke-dasharray",null).style("outline-offset","0px").style("outline-color","none").style("outline-width","0px").attr("filter",null).style("stroke-linecap",!r?"round":"butt").style("fill","none").style("stroke-opacity",1).style("stroke",n).style("stroke-width",(function(t,n,i){var a=Xt(i[n]).style("stroke")!=="none"?parseFloat(Xt(i[n]).style("stroke-width"))||0:0;var o=Xt(i[n]).attr("transform")?Xt(i[n]).attr("transform").indexOf("scale"):-1;var s=1;if(o>-1){var u=Xt(i[n]).attr("transform").substring(o+6);var l=u.indexOf(",")<u.indexOf(")")&&u.indexOf(",")!==-1?u.indexOf(","):u.indexOf(")");s=+u.substring(0,l)}var c=0;var f=Xt(i[n]);if(f.attr("d")&&r){var h=f.attr("d").substr(1);var d="M "+(r.source.x1-e/2)+" "+r.y0+" L";var p="L "+(r.target.x0+e/2)+" "+r.y1;f.attr("d",d+h+p)}else if(f.attr("marker-start")&&f.attr("data-centerX1")&&f.attr("d")){var v=f.attr("data-centerX1");var y=f.attr("data-centerY1");var g=f.attr("data-centerX2");var m=f.attr("data-centerY2");f.attr("d","M "+v+" "+y+" L "+g+" "+m);c=+f.attr("data-barSize")+6}f.attr("marker-start",null);f.attr("marker-end",null);return(a+e+c)/s+"px"}))};var Ei=function(t){return!t.nextElementSibling?null:t.nextElementSibling.nodeName==="g"?t.nextElementSibling:Ei(t.nextElementSibling)};var Ni=function(t,e){if((!e||e&&Xt(t).attr("tabindex")!==null)&&!Xt(t).classed("vcl-accessibility-focus-highlight")){return t}if(t.nextElementSibling){return Ni(t.nextElementSibling,e)}else{return null}};var Ci=function(t){var e=t.getBoundingClientRect();var n=e.left+(Pr?0:document.body.scrollLeft+document.documentElement.scrollLeft);var r=e.top+(Pr?0:document.body.scrollTop+document.documentElement.scrollTop);return{top:r,left:n}};var Mi=function(t){wi(t.parentNode);var e=new MouseEvent("mouseout",{bubbles:false,cancelable:true});t.dispatchEvent(e)};var ki=function(t,e,n){var r=Ci(t).left;var i=Ci(t).top;var a=new MouseEvent("mouseover",{bubbles:false,cancelable:true,clientX:r,clientY:i});if(n){Ai(t,e)}t.dispatchEvent(a)};var Ii=ie();var Oi=Ii==="IE";var Di=Ii==="Edge";var Ri=function(t){Xt(t).attr("tabindex",-1).attr("role","presentation").attr("focusable",false)};var Ui=function(t,e){var n=t.childNodes.length>1?t.childNodes:t.firstElementChild.childNodes;if(n){Qt(n).each((function(t,n,r){if(!(r[n]===e)){Hi(r[n])}}))}};var Pi=function(t){t.setAttribute("role","tooltip");t.setAttribute("aria-hidden","true");t.setAttribute("tabindex",null)};var Fi=function(t,e){Hi(t);Hi(t.parentNode,true);Xt(t).classed("vcl-svg",true);if(Oi||Di){Bi(null,e)}};var Hi=function(t,e){Xt(t).attr("aria-hidden","true").attr("role","presentation").attr("focusable",!e?"false":null).attr("tabindex",null)};var ji=function(t){var e=window.location.pathname;if(e[e.length-1]==="/"){e=e.substring(0,e.length-1)}var n=t?t+")":"";return"url(#"+n};var Vi=function(t,e){Xt(t).classed("vcl-svg",true);var n=Xt(t).select(".vcl-inversion-filter");if(!n.size()){var r=Xt(t).select("defs");if(!r.size()){r=Xt(t).append("defs")}n=r.append("filter").attr("class","vcl-inversion-filter").attr("color-interpolation-filters","sRGB");n.append("feColorMatrix").attr("in","SourceGraphic").attr("type","matrix").attr("values","-1 0 0 0 1 \n        0 -1 0 0 1 \n        0 0 -1 0 1\n        0 0 0 1 0");n.append("feColorMatrix").attr("type","hueRotate").attr("values","180")}n.attr("id","inversion-"+e);var i=function(t){Bi(t,e)};var a=function(){Bi(null,e)};if(Oi||Di){matchMedia("(-ms-high-contrast: active)").addListener(i);matchMedia("(-ms-high-contrast: black-on-white)").addListener(a);i(matchMedia("(-ms-high-contrast: active)"))}};var Bi=function(t,e){var n=t||matchMedia("(-ms-high-contrast: active)");if(n.matches&&!matchMedia("(-ms-high-contrast: black-on-white)").matches){var r=ji("inversion-"+e);Xt("#"+e).selectAll(".vcl-svg").select("g").attr("filter",r)}else{Xt("#"+e).selectAll(".vcl-svg").select("g").attr("filter",null)}};var zi=function(t){if(t.keyCode===Rr.escape){Qt(".vcl-tooltip").each((function(t,e,n){var r=Xt(n[e]);if(r.style("opacity")==1){Jf({root:r,isToShow:false})}}))}};var Yi=function(t){if(t){window.addEventListener("keydown",zi,true)}else{window.removeEventListener("keydown",zi,true)}};function Wi(t,e){var n=function(t,e){return t+e};var r=t.reduce(n)*1/t.length;var i=e.reduce(n)*1/e.length;var a=t.map((function(t){return Math.pow(t-r,2)})).reduce(n);var o=e.map((function(t){return Math.pow(t-i,2)})).reduce(n);var s=t.map((function(t,n){return(t-r)*(e[n]-i)})).reduce(n);var u=s/a;var l=i-r*u;var c=Math.pow(s,2)/(a*o);return[u,l,c]}function Gi(t){return t.charAt(0).toUpperCase()+t.slice(1)}function qi(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Xi(t){if(t.length===1)t=$i(t);return{left:function(e,n,r,i){if(r==null)r=0;if(i==null)i=e.length;while(r<i){var a=r+i>>>1;if(t(e[a],n)<0)r=a+1;else i=a}return r},right:function(e,n,r,i){if(r==null)r=0;if(i==null)i=e.length;while(r<i){var a=r+i>>>1;if(t(e[a],n)>0)i=a;else r=a+1}return r}}}function $i(t){return function(e,n){return qi(t(e),n)}}var Ki=Xi(qi);var Zi=Ki.right;function Qi(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);while(++r<i){a[r]=t+r*n}return a}var Ji=Math.sqrt(50),ta=Math.sqrt(10),ea=Math.sqrt(2);function na(t,e,n){var r,i=-1,a,o,s;e=+e,t=+t,n=+n;if(t===e&&n>0)return[t];if(r=e<t)a=t,t=e,e=a;if((s=ra(t,e,n))===0||!isFinite(s))return[];if(s>0){t=Math.ceil(t/s);e=Math.floor(e/s);o=new Array(a=Math.ceil(e-t+1));while(++i<a)o[i]=(t+i)*s}else{t=Math.floor(t*s);e=Math.ceil(e*s);o=new Array(a=Math.ceil(t-e+1));while(++i<a)o[i]=(t-i)/s}if(r)o.reverse();return o}function ra(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=Ji?10:a>=ta?5:a>=ea?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=Ji?10:a>=ta?5:a>=ea?2:1)}function ia(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;if(a>=Ji)i*=10;else if(a>=ta)i*=5;else if(a>=ea)i*=2;return e<t?-i:i}function aa(t,e){var n=t.length,r=-1,i,a;if(e==null){while(++r<n){if((i=t[r])!=null&&i>=i){a=i;while(++r<n){if((i=t[r])!=null&&i>a){a=i}}}}}else{while(++r<n){if((i=e(t[r],r,t))!=null&&i>=i){a=i;while(++r<n){if((i=e(t[r],r,t))!=null&&i>a){a=i}}}}}return a}function oa(t){var e=t.length,n,r=-1,i=0,a,o;while(++r<e)i+=t[r].length;a=new Array(i);while(--e>=0){o=t[e];n=o.length;while(--n>=0){a[--i]=o[n]}}return a}function sa(t,e){var n=t.length,r=-1,i,a;if(e==null){while(++r<n){if((i=t[r])!=null&&i>=i){a=i;while(++r<n){if((i=t[r])!=null&&a>i){a=i}}}}}else{while(++r<n){if((i=e(t[r],r,t))!=null&&i>=i){a=i;while(++r<n){if((i=e(t[r],r,t))!=null&&a>i){a=i}}}}}return a}function ua(t,e){var n=t.length,r=-1,i,a=0;if(e==null){while(++r<n){if(i=+t[r])a+=i}}else{while(++r<n){if(i=+e(t[r],r,t))a+=i}}return a}function la(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}var ca="$";function fa(){}fa.prototype=ha.prototype={constructor:fa,has:function(t){return ca+t in this},get:function(t){return this[ca+t]},set:function(t,e){this[ca+t]=e;return this},remove:function(t){var e=ca+t;return e in this&&delete this[e]},clear:function(){for(var t in this)if(t[0]===ca)delete this[t]},keys:function(){var t=[];for(var e in this)if(e[0]===ca)t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)if(e[0]===ca)t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)if(e[0]===ca)t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)if(e[0]===ca)++t;return t},empty:function(){for(var t in this)if(t[0]===ca)return false;return true},each:function(t){for(var e in this)if(e[0]===ca)t(this[e],e.slice(1),this)}};function ha(t,e){var n=new fa;if(t instanceof fa)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r=-1,i=t.length,a;if(e==null)while(++r<i)n.set(r,t[r]);else while(++r<i)n.set(e(a=t[r],r,t),a)}else if(t)for(var o in t)n.set(o,t[o]);return n}var da=Array.prototype;var pa=da.map;var va=da.slice;var ya={name:"implicit"};function ga(){var t=ha(),e=[],n=[],r=ya;function i(i){var a=i+"",o=t.get(a);if(!o){if(r!==ya)return r;t.set(a,o=e.push(i))}return n[(o-1)%n.length]}i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=ha();var r=-1,a=n.length,o,s;while(++r<a)if(!t.has(s=(o=n[r])+""))t.set(s,e.push(o));return i};i.range=function(t){return arguments.length?(n=va.call(t),i):n.slice()};i.unknown=function(t){return arguments.length?(r=t,i):r};i.copy=function(){return ga(e,n).unknown(r)};la.apply(i,arguments);return i}function ma(t,e,n){t.prototype=e.prototype=n;n.constructor=t}function ba(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function _a(){}var wa=.7;var xa=1/wa;var Aa="\\s*([+-]?\\d+)\\s*",Sa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ta="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",La=/^#([0-9a-f]{3,8})$/,Ea=new RegExp("^rgb\\("+Aa+","+Aa+","+Aa+"\\)$"),Na=new RegExp("^rgb\\("+Ta+","+Ta+","+Ta+"\\)$"),Ca=new RegExp("^rgba\\("+Aa+","+Aa+","+Aa+","+Sa+"\\)$"),Ma=new RegExp("^rgba\\("+Ta+","+Ta+","+Ta+","+Sa+"\\)$"),ka=new RegExp("^hsl\\("+Sa+","+Ta+","+Ta+"\\)$"),Ia=new RegExp("^hsla\\("+Sa+","+Ta+","+Ta+","+Sa+"\\)$");var Oa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ma(_a,Fa,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Da,formatHex:Da,formatHex8:Ra,formatHsl:Ua,formatRgb:Pa,toString:Pa});function Da(){return this.rgb().formatHex()}function Ra(){return this.rgb().formatHex8()}function Ua(){return Za(this).formatHsl()}function Pa(){return this.rgb().formatRgb()}function Fa(t){var e,n;t=(t+"").trim().toLowerCase();return(e=La.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ha(e):n===3?new za(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ja(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ja(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ea.exec(t))?new za(e[1],e[2],e[3],1):(e=Na.exec(t))?new za(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ca.exec(t))?ja(e[1],e[2],e[3],e[4]):(e=Ma.exec(t))?ja(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ka.exec(t))?Ka(e[1],e[2]/100,e[3]/100,1):(e=Ia.exec(t))?Ka(e[1],e[2]/100,e[3]/100,e[4]):Oa.hasOwnProperty(t)?Ha(Oa[t]):t==="transparent"?new za(NaN,NaN,NaN,0):null}function Ha(t){return new za(t>>16&255,t>>8&255,t&255,1)}function ja(t,e,n,r){if(r<=0)t=e=n=NaN;return new za(t,e,n,r)}function Va(t){if(!(t instanceof _a))t=Fa(t);if(!t)return new za;t=t.rgb();return new za(t.r,t.g,t.b,t.opacity)}function Ba(t,e,n,r){return arguments.length===1?Va(t):new za(t,e,n,r==null?1:r)}function za(t,e,n,r){this.r=+t;this.g=+e;this.b=+n;this.opacity=+r}ma(za,Ba,ba(_a,{brighter:function(t){t=t==null?xa:Math.pow(xa,t);return new za(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){t=t==null?wa:Math.pow(wa,t);return new za(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},clamp:function(){return new za(Xa(this.r),Xa(this.g),Xa(this.b),qa(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&(-.5<=this.g&&this.g<255.5)&&(-.5<=this.b&&this.b<255.5)&&(0<=this.opacity&&this.opacity<=1)},hex:Ya,formatHex:Ya,formatHex8:Wa,formatRgb:Ga,toString:Ga}));function Ya(){return"#"+$a(this.r)+$a(this.g)+$a(this.b)}function Wa(){return"#"+$a(this.r)+$a(this.g)+$a(this.b)+$a((isNaN(this.opacity)?1:this.opacity)*255)}function Ga(){var t=qa(this.opacity);return""+(t===1?"rgb(":"rgba(")+Xa(this.r)+", "+Xa(this.g)+", "+Xa(this.b)+(t===1?")":", "+t+")")}function qa(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Xa(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function $a(t){t=Xa(t);return(t<16?"0":"")+t.toString(16)}function Ka(t,e,n,r){if(r<=0)t=e=n=NaN;else if(n<=0||n>=1)t=e=NaN;else if(e<=0)t=NaN;return new Ja(t,e,n,r)}function Za(t){if(t instanceof Ja)return new Ja(t.h,t.s,t.l,t.opacity);if(!(t instanceof _a))t=Fa(t);if(!t)return new Ja;if(t instanceof Ja)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,u=(a+i)/2;if(s){if(e===a)o=(n-r)/s+(n<r)*6;else if(n===a)o=(r-e)/s+2;else o=(e-n)/s+4;s/=u<.5?a+i:2-a-i;o*=60}else{s=u>0&&u<1?0:o}return new Ja(o,s,u,t.opacity)}function Qa(t,e,n,r){return arguments.length===1?Za(t):new Ja(t,e,n,r==null?1:r)}function Ja(t,e,n,r){this.h=+t;this.s=+e;this.l=+n;this.opacity=+r}ma(Ja,Qa,ba(_a,{brighter:function(t){t=t==null?xa:Math.pow(xa,t);return new Ja(this.h,this.s,this.l*t,this.opacity)},darker:function(t){t=t==null?wa:Math.pow(wa,t);return new Ja(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new za(no(t>=240?t-240:t+120,i,r),no(t,i,r),no(t<120?t+240:t-120,i,r),this.opacity)},clamp:function(){return new Ja(to(this.h),eo(this.s),eo(this.l),qa(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&(0<=this.l&&this.l<=1)&&(0<=this.opacity&&this.opacity<=1)},formatHsl:function(){var t=qa(this.opacity);return""+(t===1?"hsl(":"hsla(")+to(this.h)+", "+eo(this.s)*100+"%, "+eo(this.l)*100+"%"+(t===1?")":", "+t+")")}}));function to(t){t=(t||0)%360;return t<0?t+360:t}function eo(t){return Math.max(0,Math.min(1,t||0))}function no(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var ro=Math.PI/180;var io=180/Math.PI;var ao=18,oo=.96422,so=1,uo=.82521,lo=4/29,co=6/29,fo=3*co*co,ho=co*co*co;function po(t){if(t instanceof go)return new go(t.l,t.a,t.b,t.opacity);if(t instanceof To)return Lo(t);if(!(t instanceof za))t=Va(t);var e=wo(t.r),n=wo(t.g),r=wo(t.b),i=mo((.2225045*e+.7168786*n+.0606169*r)/so),a,o;if(e===n&&n===r)a=o=i;else{a=mo((.4360747*e+.3850649*n+.1430804*r)/oo);o=mo((.0139322*e+.0971045*n+.7141733*r)/uo)}return new go(116*i-16,500*(a-i),200*(i-o),t.opacity)}function vo(t,e){return new go(t,0,0,e==null?1:e)}function yo(t,e,n,r){return arguments.length===1?po(t):new go(t,e,n,r==null?1:r)}function go(t,e,n,r){this.l=+t;this.a=+e;this.b=+n;this.opacity=+r}ma(go,yo,ba(_a,{brighter:function(t){return new go(this.l+ao*(t==null?1:t),this.a,this.b,this.opacity)},darker:function(t){return new go(this.l-ao*(t==null?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;e=oo*bo(e);t=so*bo(t);n=uo*bo(n);return new za(_o(3.1338561*e-1.6168667*t-.4906146*n),_o(-.9787684*e+1.9161415*t+.033454*n),_o(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function mo(t){return t>ho?Math.pow(t,1/3):t/fo+lo}function bo(t){return t>co?t*t*t:fo*(t-lo)}function _o(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function wo(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function xo(t){if(t instanceof To)return new To(t.h,t.c,t.l,t.opacity);if(!(t instanceof go))t=po(t);if(t.a===0&&t.b===0)return new To(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*io;return new To(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ao(t,e,n,r){return arguments.length===1?xo(t):new To(n,e,t,r==null?1:r)}function So(t,e,n,r){return arguments.length===1?xo(t):new To(t,e,n,r==null?1:r)}function To(t,e,n,r){this.h=+t;this.c=+e;this.l=+n;this.opacity=+r}function Lo(t){if(isNaN(t.h))return new go(t.l,0,0,t.opacity);var e=t.h*ro;return new go(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}ma(To,So,ba(_a,{brighter:function(t){return new To(this.h,this.c,this.l+ao*(t==null?1:t),this.opacity)},darker:function(t){return new To(this.h,this.c,this.l-ao*(t==null?1:t),this.opacity)},rgb:function(){return Lo(this).rgb()}}));var Eo=-.14861,No=+1.78277,Co=-.29227,Mo=-.90649,ko=+1.97294,Io=ko*Mo,Oo=ko*No,Do=No*Co-Mo*Eo;function Ro(t){if(t instanceof Po)return new Po(t.h,t.s,t.l,t.opacity);if(!(t instanceof za))t=Va(t);var e=t.r/255,n=t.g/255,r=t.b/255,i=(Do*r+Io*e-Oo*n)/(Do+Io-Oo),a=r-i,o=(ko*(n-i)-Co*a)/Mo,s=Math.sqrt(o*o+a*a)/(ko*i*(1-i)),u=s?Math.atan2(o,a)*io-120:NaN;return new Po(u<0?u+360:u,s,i,t.opacity)}function Uo(t,e,n,r){return arguments.length===1?Ro(t):new Po(t,e,n,r==null?1:r)}function Po(t,e,n,r){this.h=+t;this.s=+e;this.l=+n;this.opacity=+r}ma(Po,Uo,ba(_a,{brighter:function(t){t=t==null?xa:Math.pow(xa,t);return new Po(this.h,this.s,this.l*t,this.opacity)},darker:function(t){t=t==null?wa:Math.pow(wa,t);return new Po(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*ro,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new za(255*(e+n*(Eo*r+No*i)),255*(e+n*(Co*r+Mo*i)),255*(e+n*(ko*r)),this.opacity)}}));function Fo(t){return function(){return t}}function Ho(t,e){return function(n){return t+n*e}}function jo(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Vo(t){return(t=+t)===1?Bo:function(e,n){return n-e?jo(e,n,t):Fo(isNaN(e)?n:e)}}function Bo(t,e){var n=e-t;return n?Ho(t,n):Fo(isNaN(t)?e:t)}var zo=function t(e){var n=Vo(e);function r(t,e){var r=n((t=Ba(t)).r,(e=Ba(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=Bo(t.opacity,e.opacity);return function(e){t.r=r(e);t.g=i(e);t.b=a(e);t.opacity=o(e);return t+""}}r.gamma=t;return r}(1);function Yo(t,e){if(!e)e=[];var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Wo(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Go(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=es(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(t){for(o=0;o<r;++o)a[o]=i[o](t);return a}}function qo(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Xo(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function $o(t,e){var n={},r={},i;if(t===null||typeof t!=="object")t={};if(e===null||typeof e!=="object")e={};for(i in e){if(i in t){n[i]=es(t[i],e[i])}else{r[i]=e[i]}}return function(t){for(i in n)r[i]=n[i](t);return r}}var Ko=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zo=new RegExp(Ko.source,"g");function Qo(t){return function(){return t}}function Jo(t){return function(e){return t(e)+""}}function ts(t,e){var n=Ko.lastIndex=Zo.lastIndex=0,r,i,a,o=-1,s=[],u=[];t=t+"",e=e+"";while((r=Ko.exec(t))&&(i=Zo.exec(e))){if((a=i.index)>n){a=e.slice(n,a);if(s[o])s[o]+=a;else s[++o]=a}if((r=r[0])===(i=i[0])){if(s[o])s[o]+=i;else s[++o]=i}else{s[++o]=null;u.push({i:o,x:Xo(r,i)})}n=Zo.lastIndex}if(n<e.length){a=e.slice(n);if(s[o])s[o]+=a;else s[++o]=a}return s.length<2?u[0]?Jo(u[0].x):Qo(e):(e=u.length,function(t){for(var n=0,r;n<e;++n)s[(r=u[n]).i]=r.x(t);return s.join("")})}function es(t,e){var n=typeof e,r;return e==null||n==="boolean"?Fo(e):(n==="number"?Xo:n==="string"?(r=Fa(e))?(e=r,zo):ts:e instanceof Fa?zo:e instanceof Date?qo:Wo(e)?Yo:Array.isArray(e)?Go:typeof e.valueOf!=="function"&&typeof e.toString!=="function"||isNaN(e)?$o:Xo)(t,e)}function ns(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var rs=180/Math.PI;var is={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function as(t,e,n,r,i,a){var o,s,u;if(o=Math.sqrt(t*t+e*e))t/=o,e/=o;if(u=t*n+e*r)n-=t*u,r-=e*u;if(s=Math.sqrt(n*n+r*r))n/=s,r/=s,u/=s;if(t*r<e*n)t=-t,e=-e,u=-u,o=-o;return{translateX:i,translateY:a,rotate:Math.atan2(e,t)*rs,skewX:Math.atan(u)*rs,scaleX:o,scaleY:s}}var os,ss,us,ls;function cs(t){if(t==="none")return is;if(!os)os=document.createElement("DIV"),ss=document.documentElement,us=document.defaultView;os.style.transform=t;t=us.getComputedStyle(ss.appendChild(os),null).getPropertyValue("transform");ss.removeChild(os);t=t.slice(7,-1).split(",");return as(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5])}function fs(t){if(t==null)return is;if(!ls)ls=document.createElementNS("http://www.w3.org/2000/svg","g");ls.setAttribute("transform",t);if(!(t=ls.transform.baseVal.consolidate()))return is;t=t.matrix;return as(t.a,t.b,t.c,t.d,t.e,t.f)}function hs(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function a(t,r,i,a,o,s){if(t!==i||r!==a){var u=o.push("translate(",null,e,null,n);s.push({i:u-4,x:Xo(t,i)},{i:u-2,x:Xo(r,a)})}else if(i||a){o.push("translate("+i+e+a+n)}}function o(t,e,n,a){if(t!==e){if(t-e>180)e+=360;else if(e-t>180)t+=360;a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Xo(t,e)})}else if(e){n.push(i(n)+"rotate("+e+r)}}function s(t,e,n,a){if(t!==e){a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Xo(t,e)})}else if(e){n.push(i(n)+"skewX("+e+r)}}function u(t,e,n,r,a,o){if(t!==n||e!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:Xo(t,n)},{i:s-2,x:Xo(e,r)})}else if(n!==1||r!==1){a.push(i(a)+"scale("+n+","+r+")")}}return function(e,n){var r=[],i=[];e=t(e),n=t(n);a(e.translateX,e.translateY,n.translateX,n.translateY,r,i);o(e.rotate,n.rotate,r,i);s(e.skewX,n.skewX,r,i);u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i);e=n=null;return function(t){var e=-1,n=i.length,a;while(++e<n)r[(a=i[e]).i]=a.x(t);return r.join("")}}}var ds=hs(cs,"px, ","px)","deg)");var ps=hs(fs,", ",")",")");var vs=Math.SQRT2,ys=2,gs=4,ms=1e-12;function bs(t){return((t=Math.exp(t))+1/t)/2}function _s(t){return((t=Math.exp(t))-1/t)/2}function ws(t){return((t=Math.exp(2*t))-1)/(t+1)}function xs(t,e){var n=t[0],r=t[1],i=t[2],a=e[0],o=e[1],s=e[2],u=a-n,l=o-r,c=u*u+l*l,f,h;if(c<ms){h=Math.log(s/i)/vs;f=function(t){return[n+t*u,r+t*l,i*Math.exp(vs*t*h)]}}else{var d=Math.sqrt(c),p=(s*s-i*i+gs*c)/(2*i*ys*d),v=(s*s-i*i-gs*c)/(2*s*ys*d),y=Math.log(Math.sqrt(p*p+1)-p),g=Math.log(Math.sqrt(v*v+1)-v);h=(g-y)/vs;f=function(t){var e=t*h,a=bs(y),o=i/(ys*d)*(a*ws(vs*e+y)-_s(y));return[n+o*u,r+o*l,i*a/bs(vs*e+y)]}}f.duration=h*1e3;return f}function As(t){return function(){return t}}function Ss(t){return+t}var Ts=[0,1];function Ls(t){return t}function Es(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:As(isNaN(e)?NaN:.5)}function Ns(t){var e=t[0],n=t[t.length-1],r;if(e>n)r=e,e=n,n=r;return function(t){return Math.max(e,Math.min(n,t))}}function Cs(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];if(i<r)r=Es(i,r),a=n(o,a);else r=Es(r,i),a=n(a,o);return function(t){return a(r(t))}}function Ms(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;if(t[r]<t[0]){t=t.slice().reverse();e=e.slice().reverse()}while(++o<r){i[o]=Es(t[o],t[o+1]);a[o]=n(e[o],e[o+1])}return function(e){var n=Zi(t,e,1,r)-1;return a[n](i[n](e))}}function ks(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Is(){var t=Ts,e=Ts,n=es,r,i,a,o=Ls,s,u,l;function c(){s=Math.min(t.length,e.length)>2?Ms:Cs;u=l=null;return f}function f(i){return isNaN(i=+i)?a:(u||(u=s(t.map(r),e,n)))(r(o(i)))}f.invert=function(n){return o(i((l||(l=s(e,t.map(r),Xo)))(n)))};f.domain=function(e){return arguments.length?(t=pa.call(e,Ss),o===Ls||(o=Ns(t)),c()):t.slice()};f.range=function(t){return arguments.length?(e=va.call(t),c()):e.slice()};f.rangeRound=function(t){return e=va.call(t),n=ns,c()};f.clamp=function(e){return arguments.length?(o=e?Ns(t):Ls,f):o!==Ls};f.interpolate=function(t){return arguments.length?(n=t,c()):n};f.unknown=function(t){return arguments.length?(a=t,f):a};return function(t,e){r=t,i=e;return c()}}function Os(t,e){return Is()(t,e)}function Ds(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Rs(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Us(t){return t=Rs(Math.abs(t)),t?t[1]:NaN}function Ps(t,e){return function(n,r){var i=n.length,a=[],o=0,s=t[0],u=0;while(i>0&&s>0){if(u+s+1>r)s=Math.max(1,r-u);a.push(n.substring(i-=s,i+s));if((u+=s+1)>r)break;s=t[o=(o+1)%t.length]}return a.reverse().join(e)}}function Fs(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}var Hs=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function js(t){if(!(e=Hs.exec(t)))throw new Error("invalid format: "+t);var e;return new Vs({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}js.prototype=Vs.prototype;function Vs(t){this.fill=t.fill===undefined?" ":t.fill+"";this.align=t.align===undefined?">":t.align+"";this.sign=t.sign===undefined?"-":t.sign+"";this.symbol=t.symbol===undefined?"":t.symbol+"";this.zero=!!t.zero;this.width=t.width===undefined?undefined:+t.width;this.comma=!!t.comma;this.precision=t.precision===undefined?undefined:+t.precision;this.trim=!!t.trim;this.type=t.type===undefined?"":t.type+""}Vs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===undefined?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===undefined?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Bs(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n){switch(t[n]){case".":r=i=n;break;case"0":if(r===0)r=n;i=n;break;default:if(!+t[n])break t;if(r>0)r=0;break}}return r>0?t.slice(0,r)+t.slice(i+1):t}var zs;function Ys(t,e){var n=Rs(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(zs=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Rs(t,Math.max(0,e+a-1))[0]}function Ws(t,e){var n=Rs(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var Gs={"%":function(t,e){return(t*100).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:Ds,e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Ws(t*100,e)},r:Ws,s:Ys,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function qs(t){return t}var Xs=Array.prototype.map,$s=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ks(t){var e=t.grouping===undefined||t.thousands===undefined?qs:Ps(Xs.call(t.grouping,Number),t.thousands+""),n=t.currency===undefined?"":t.currency[0]+"",r=t.currency===undefined?"":t.currency[1]+"",i=t.decimal===undefined?".":t.decimal+"",a=t.numerals===undefined?qs:Fs(Xs.call(t.numerals,String)),o=t.percent===undefined?"%":t.percent+"",s=t.minus===undefined?"-":t.minus+"",u=t.nan===undefined?"NaN":t.nan+"";function l(t){t=js(t);var l=t.fill,c=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,v=t.comma,y=t.precision,g=t.trim,m=t.type;if(m==="n")v=true,m="g";else if(!Gs[m])y===undefined&&(y=12),g=true,m="g";if(d||l==="0"&&c==="=")d=true,l="0",c="=";var b=h==="$"?n:h==="#"&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",_=h==="$"?r:/[%p]/.test(m)?o:"";var w=Gs[m],x=/[defgprs%]/.test(m);y=y===undefined?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function A(t){var n=b,r=_,o,h,A;if(m==="c"){r=w(t)+r;t=""}else{t=+t;var S=t<0||1/t<0;t=isNaN(t)?u:w(Math.abs(t),y);if(g)t=Bs(t);if(S&&+t===0&&f!=="+")S=false;n=(S?f==="("?f:s:f==="-"||f==="("?"":f)+n;r=(m==="s"?$s[8+zs/3]:"")+r+(S&&f==="("?")":"");if(x){o=-1,h=t.length;while(++o<h){if(A=t.charCodeAt(o),48>A||A>57){r=(A===46?i+t.slice(o+1):t.slice(o))+r;t=t.slice(0,o);break}}}}if(v&&!d)t=e(t,Infinity);var T=n.length+t.length+r.length,L=T<p?new Array(p-T+1).join(l):"";if(v&&d)t=e(L+t,L.length?p-r.length:Infinity),L="";switch(c){case"<":t=n+t+r+L;break;case"=":t=n+L+t+r;break;case"^":t=L.slice(0,T=L.length>>1)+n+t+r+L.slice(T);break;default:t=L+n+t+r;break}return a(t)}A.toString=function(){return t+""};return A}function c(t,e){var n=l((t=js(t),t.type="f",t)),r=Math.max(-8,Math.min(8,Math.floor(Us(e)/3)))*3,i=Math.pow(10,-r),a=$s[8+r/3];return function(t){return n(i*t)+a}}return{format:l,formatPrefix:c}}var Zs;var Qs;var Js;tu({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function tu(t){Zs=Ks(t);Qs=Zs.format;Js=Zs.formatPrefix;return Zs}function eu(t){return Math.max(0,-Us(Math.abs(t)))}function nu(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Us(e)/3)))*3-Us(Math.abs(t)))}function ru(t,e){t=Math.abs(t),e=Math.abs(e)-t;return Math.max(0,Us(e)-Us(t))+1}function iu(t,e,n,r){var i=ia(t,e,n),a;r=js(r==null?",f":r);switch(r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));if(r.precision==null&&!isNaN(a=nu(i,o)))r.precision=a;return Js(r,o)}case"":case"e":case"g":case"p":case"r":{if(r.precision==null&&!isNaN(a=ru(i,Math.max(Math.abs(t),Math.abs(e)))))r.precision=a-(r.type==="e");break}case"f":case"%":{if(r.precision==null&&!isNaN(a=eu(i)))r.precision=a-(r.type==="%")*2;break}}return Qs(r)}function au(t){var e=t.domain;t.ticks=function(t){var n=e();return na(n[0],n[n.length-1],t==null?10:t)};t.tickFormat=function(t,n){var r=e();return iu(r[0],r[r.length-1],t==null?10:t,n)};t.nice=function(n){if(n==null)n=10;var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],u;if(s<o){u=o,o=s,s=u;u=i,i=a,a=u}u=ra(o,s,n);if(u>0){o=Math.floor(o/u)*u;s=Math.ceil(s/u)*u;u=ra(o,s,n)}else if(u<0){o=Math.ceil(o*u)/u;s=Math.floor(s*u)/u;u=ra(o,s,n)}if(u>0){r[i]=Math.floor(o/u)*u;r[a]=Math.ceil(s/u)*u;e(r)}else if(u<0){r[i]=Math.ceil(o*u)/u;r[a]=Math.floor(s*u)/u;e(r)}return t};return t}function ou(){var t=Os(Ls,Ls);t.copy=function(){return ks(t,ou())};la.apply(t,arguments);return au(t)}function su(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function uu(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function lu(t){return t<0?-t*t:t*t}function cu(t){var e=t(Ls,Ls),n=1;function r(){return n===1?t(Ls,Ls):n===.5?t(uu,lu):t(su(n),su(1/n))}e.exponent=function(t){return arguments.length?(n=+t,r()):n};return au(e)}function fu(){var t=cu(Is());t.copy=function(){return ks(t,fu()).exponent(t.exponent())};la.apply(t,arguments);return t}function hu(){return fu.apply(null,arguments).exponent(.5)}function du(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(t){return t<=t?i[Zi(r,t,0,n)]:a}function s(){var i=-1;r=new Array(n);while(++i<n)r[i]=((i+1)*e-(i-n)*t)/(n+1);return o}o.domain=function(n){return arguments.length?(t=+n[0],e=+n[1],s()):[t,e]};o.range=function(t){return arguments.length?(n=(i=va.call(t)).length-1,s()):i.slice()};o.invertExtent=function(a){var o=i.indexOf(a);return o<0?[NaN,NaN]:o<1?[t,r[0]]:o>=n?[r[n-1],e]:[r[o-1],r[o]]};o.unknown=function(t){return arguments.length?(a=t,o):o};o.thresholds=function(){return r.slice()};o.copy=function(){return du().domain([t,e]).range(i).unknown(a)};return la.apply(au(o),arguments)}var pu=Math.PI,vu=2*pu,yu=1e-6,gu=vu-yu;function mu(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function bu(){return new mu}mu.prototype=bu.prototype={constructor:mu,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){if(this._x1!==null){this._x1=this._x0,this._y1=this._y0;this._+="Z"}},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,s=n-t,u=r-e,l=a-t,c=o-e,f=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null){this._+="M"+(this._x1=t)+","+(this._y1=e)}else if(!(f>yu));else if(!(Math.abs(c*s-u*l)>yu)||!i){this._+="L"+(this._x1=t)+","+(this._y1=e)}else{var h=n-a,d=r-o,p=s*s+u*u,v=h*h+d*d,y=Math.sqrt(p),g=Math.sqrt(f),m=i*Math.tan((pu-Math.acos((p+f-v)/(2*y*g)))/2),b=m/g,_=m/y;if(Math.abs(b-1)>yu){this._+="L"+(t+b*l)+","+(e+b*c)}this._+="A"+i+","+i+",0,0,"+ +(c*h>l*d)+","+(this._x1=t+_*s)+","+(this._y1=e+_*u)}},arc:function(t,e,n,r,i,a){t=+t,e=+e,n=+n,a=!!a;var o=n*Math.cos(r),s=n*Math.sin(r),u=t+o,l=e+s,c=1^a,f=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);if(this._x1===null){this._+="M"+u+","+l}else if(Math.abs(this._x1-u)>yu||Math.abs(this._y1-l)>yu){this._+="L"+u+","+l}if(!n)return;if(f<0)f=f%vu+vu;if(f>gu){this._+="A"+n+","+n+",0,1,"+c+","+(t-o)+","+(e-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l)}else if(f>yu){this._+="A"+n+","+n+",0,"+ +(f>=pu)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))}},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function _u(t){return function e(){return t}}var wu=Math.PI;var xu=2*wu;function Au(t){return t[0]}function Su(t){return t[1]}var Tu=Array.prototype.slice;function Lu(t){return t.source}function Eu(t){return t.target}function Nu(t){var e=Lu,n=Eu,r=Au,i=Su,a=null;function o(){var o,s=Tu.call(arguments),u=e.apply(this,s),l=n.apply(this,s);if(!a)a=o=bu();t(a,+r.apply(this,(s[0]=u,s)),+i.apply(this,s),+r.apply(this,(s[0]=l,s)),+i.apply(this,s));if(o)return a=null,o+""||null}o.source=function(t){return arguments.length?(e=t,o):e};o.target=function(t){return arguments.length?(n=t,o):n};o.x=function(t){return arguments.length?(r=typeof t==="function"?t:_u(+t),o):r};o.y=function(t){return arguments.length?(i=typeof t==="function"?t:_u(+t),o):i};o.context=function(t){return arguments.length?(a=t==null?null:t,o):a};return o}function Cu(t,e,n,r,i){t.moveTo(e,n);t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function Mu(){return Nu(Cu)}var ku={draw:function(t,e){var n=Math.sqrt(e/wu);t.moveTo(n,0);t.arc(0,0,n,0,xu)}};var Iu={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n);t.lineTo(-n,-n);t.lineTo(-n,-3*n);t.lineTo(n,-3*n);t.lineTo(n,-n);t.lineTo(3*n,-n);t.lineTo(3*n,n);t.lineTo(n,n);t.lineTo(n,3*n);t.lineTo(-n,3*n);t.lineTo(-n,n);t.lineTo(-3*n,n);t.closePath()}};var Ou=Math.sqrt(1/3),Du=Ou*2;var Ru={draw:function(t,e){var n=Math.sqrt(e/Du),r=n*Ou;t.moveTo(0,-n);t.lineTo(r,0);t.lineTo(0,n);t.lineTo(-r,0);t.closePath()}};var Uu=.8908130915292852,Pu=Math.sin(wu/10)/Math.sin(7*wu/10),Fu=Math.sin(xu/10)*Pu,Hu=-Math.cos(xu/10)*Pu;var ju={draw:function(t,e){var n=Math.sqrt(e*Uu),r=Fu*n,i=Hu*n;t.moveTo(0,-n);t.lineTo(r,i);for(var a=1;a<5;++a){var o=xu*a/5,s=Math.cos(o),u=Math.sin(o);t.lineTo(u*n,-s*n);t.lineTo(s*r-u*i,u*r+s*i)}t.closePath()}};var Vu={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}};var Bu=Math.sqrt(3);var zu={draw:function(t,e){var n=-Math.sqrt(e/(Bu*3));t.moveTo(0,n*2);t.lineTo(-Bu*n,-n);t.lineTo(Bu*n,-n);t.closePath()}};function Yu(t){return t<0?-1:1}function Wu(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(Yu(a)+Yu(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Gu(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function qu(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function Xu(t){this._context=t}Xu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qu(this,this._t0,Gu(this,this._t0));break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(t,e){var n=NaN;t=+t,e=+e;if(t===this._x1&&e===this._y1)return;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;qu(this,Gu(this,n=Wu(this,t,e)),n);break;default:qu(this,this._t0,n=Wu(this,t,e));break}this._x0=this._x1,this._x1=t;this._y0=this._y1,this._y1=e;this._t0=n}};Object.create(Xu.prototype).point=function(t,e){Xu.prototype.point.call(this,e,t)};function $u(t,e,n,r){var i=!n?1.1:1;var a=document.createElement("canvas");var o=a.getContext("2d");o.font=e+"px "+(r||"OpenSans");return o.measureText(t).width*i}var Ku=function(t){var e=t.text,n=t.dimensions,r=t.fontSize,i=t.noPadding;var a=document.createElement("canvas");var o=a.getContext("2d");o.font=r+"px OpenSans";var s=o.measureText(e);var u=!i?1.1:1;var l=Object.keys(n);var c=true;var f=0;while(c&&f<l.length){if(!(l[f]==="height")){c=s[l[f]]*u<=n[l[f]]}else{c=r*u<=n[l[f]]}f++}return c};var Zu=function(t){var e=t.text,n=t.width,r=t.fontSize,i=t.noPadding,a=t.wholeWords;var o=e.split(/\s+/).reverse();var s=[];var u=0;var l=o.pop();while(l){var c=s[u];if(!c){s.push([]);c=s[u]}c.push(l);var f=$u(c.join(" "),r);if(c.length===1&&f>n){if(!a){var h=Qu(l,n,r,i);c.pop();c.push(h[0]+(h[1]?"-":""));if(h[1]){l=h[1]}else{l=o.pop()}}else{l=o.pop()}s[u]=c.join(" ");u++}else if(f>n){c.pop();s[u]=c.join(" ");u++}else{l=o.pop();if(!l){s[u]=c.join(" ")}}}return s};var Qu=function(t,e,n,r){if(t.length<=1){return[t,""]}var i=t.length-1;var a=t.substring(0,i);var o=t.substring(i);while($u(a+"-",n,r)>e&&i>1){i--;a=t.substring(0,i);o=t.substring(i)}return[a,o]};var Ju={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},tl=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/];function el(t){var e=[];var n,r,i,a,o,s,u,l,c,f;var h=t.slice().replace(tl[0],"###$1").split(tl[1]).slice(1);for(u=0,c=h.length;u<c;++u){n=h[u];r=n.slice(1).trim().replace(tl[2],"$1###$2").replace(tl[3],"$1###$2").split(tl[4]);o=n.charAt(0);i=[o];for(l=0,f=r.length;l<f;++l){if((a=+r[l])===a){i.push(a)}}s=Ju[o.toLowerCase()];if(i.length-1>s){var d=i.length;l=1;e.push([o].concat(i.slice(l,l+=s)));o=o==="M"?"L":o==="m"?"l":o;for(;l<d;l+=s){e.push([o].concat(i.slice(l,l+s)))}}else{e.push(i)}}return e}var nl=Math.PI/180;var rl=Math.PI/2;var il=Math.PI*2;var al={};var ol={};var sl=[].join;function ul(t,e,n,r,i,a,o,s,u){var l=sl.call(arguments);if(al[l]){return al[l]}var c=o*nl;var f=Math.sin(c);var h=Math.cos(c);n=Math.abs(n);r=Math.abs(r);var d=h*(s-t)*.5+f*(u-e)*.5;var p=h*(u-e)*.5-f*(s-t)*.5;var v=d*d/(n*n)+p*p/(r*r);if(v>1){v=Math.sqrt(v);n*=v;r*=v}var y=h/n;var g=f/n;var m=-f/r;var b=h/r;var _=y*s+g*u;var w=m*s+b*u;var x=y*t+g*e;var A=m*t+b*e;var S=(x-_)*(x-_)+(A-w)*(A-w);var T=1/S-.25;if(T<0)T=0;var L=Math.sqrt(T);if(a==i)L=-L;var E=.5*(_+x)-L*(A-w);var N=.5*(w+A)+L*(x-_);var C=Math.atan2(w-N,_-E);var M=Math.atan2(A-N,x-E);var k=M-C;if(k<0&&a===1){k+=il}else if(k>0&&a===0){k-=il}var I=Math.ceil(Math.abs(k/(rl+.001)));var O=[];for(var D=0;D<I;++D){var R=C+D*k/I;var U=C+(D+1)*k/I;O[D]=[E,N,R,U,n,r,f,h]}return al[l]=O}function ll(t){var e=sl.call(t);if(ol[e]){return ol[e]}var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7];var c=l*o;var f=-u*s;var h=u*o;var d=l*s;var p=Math.cos(i);var v=Math.sin(i);var y=Math.cos(a);var g=Math.sin(a);var m=.5*(a-i);var b=Math.sin(m*.5);var _=8/3*b*b/Math.sin(m);var w=n+p-_*v;var x=r+v+_*p;var A=n+y;var S=r+g;var T=A+_*g;var L=S-_*y;return ol[e]=[c*w+f*x,h*w+d*x,c*T+f*L,h*T+d*L,c*A+f*S,h*A+d*S]}var cl=["l",0,0,0,0,0,0,0];function fl(t,e,n){var r=cl[0]=t[0];if(r==="a"||r==="A"){cl[1]=e*t[1];cl[2]=n*t[2];cl[3]=t[3];cl[4]=t[4];cl[5]=t[5];cl[6]=e*t[6];cl[7]=n*t[7]}else if(r==="h"||r==="H"){cl[1]=e*t[1]}else if(r==="v"||r==="V"){cl[1]=n*t[1]}else{for(var i=1,a=t.length;i<a;++i){cl[i]=(i%2==1?e:n)*t[i]}}return cl}function hl(t,e,n,r,i,a){var o,s=null,u=0,l=0,c=0,f=0,h,d,p,v;if(n==null)n=0;if(r==null)r=0;if(i==null)i=1;if(a==null)a=i;if(t.beginPath)t.beginPath();for(var y=0,g=e.length;y<g;++y){o=e[y];if(i!==1||a!==1){o=fl(o,i,a)}switch(o[0]){case"l":u+=o[1];l+=o[2];t.lineTo(u+n,l+r);break;case"L":u=o[1];l=o[2];t.lineTo(u+n,l+r);break;case"h":u+=o[1];t.lineTo(u+n,l+r);break;case"H":u=o[1];t.lineTo(u+n,l+r);break;case"v":l+=o[1];t.lineTo(u+n,l+r);break;case"V":l=o[1];t.lineTo(u+n,l+r);break;case"m":u+=o[1];l+=o[2];t.moveTo(u+n,l+r);break;case"M":u=o[1];l=o[2];t.moveTo(u+n,l+r);break;case"c":h=u+o[5];d=l+o[6];c=u+o[3];f=l+o[4];t.bezierCurveTo(u+o[1]+n,l+o[2]+r,c+n,f+r,h+n,d+r);u=h;l=d;break;case"C":u=o[5];l=o[6];c=o[3];f=o[4];t.bezierCurveTo(o[1]+n,o[2]+r,c+n,f+r,u+n,l+r);break;case"s":h=u+o[3];d=l+o[4];c=2*u-c;f=2*l-f;t.bezierCurveTo(c+n,f+r,u+o[1]+n,l+o[2]+r,h+n,d+r);c=u+o[1];f=l+o[2];u=h;l=d;break;case"S":h=o[3];d=o[4];c=2*u-c;f=2*l-f;t.bezierCurveTo(c+n,f+r,o[1]+n,o[2]+r,h+n,d+r);u=h;l=d;c=o[1];f=o[2];break;case"q":h=u+o[3];d=l+o[4];c=u+o[1];f=l+o[2];t.quadraticCurveTo(c+n,f+r,h+n,d+r);u=h;l=d;break;case"Q":h=o[3];d=o[4];t.quadraticCurveTo(o[1]+n,o[2]+r,h+n,d+r);u=h;l=d;c=o[1];f=o[2];break;case"t":h=u+o[1];d=l+o[2];if(s[0].match(/[QqTt]/)===null){c=u;f=l}else if(s[0]==="t"){c=2*u-p;f=2*l-v}else if(s[0]==="q"){c=2*u-c;f=2*l-f}p=c;v=f;t.quadraticCurveTo(c+n,f+r,h+n,d+r);u=h;l=d;c=u+o[1];f=l+o[2];break;case"T":h=o[1];d=o[2];c=2*u-c;f=2*l-f;t.quadraticCurveTo(c+n,f+r,h+n,d+r);u=h;l=d;break;case"a":dl(t,u+n,l+r,[o[1],o[2],o[3],o[4],o[5],o[6]+u+n,o[7]+l+r]);u+=o[6];l+=o[7];break;case"A":dl(t,u+n,l+r,[o[1],o[2],o[3],o[4],o[5],o[6]+n,o[7]+r]);u=o[6];l=o[7];break;case"z":case"Z":t.closePath();break}s=o}}function dl(t,e,n,r){var i=ul(r[5],r[6],r[0],r[1],r[3],r[4],r[2],e,n);for(var a=0;a<i.length;++a){var o=ll(i[a]);t.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}}var pl=5;var vl=31;var yl=32;var gl=new Uint32Array(yl+1);var ml=new Uint32Array(yl+1);ml[0]=0;gl[0]=~ml[0];for(var bl=1;bl<=yl;bl++){ml[bl]=ml[bl-1]<<1|1;gl[bl]=~ml[bl]}function _l(t,e,n){t[e]|=n}function wl(t,e,n){t[e]&=n}var xl=function(){function t(t,e,n){this.pixelRatio=Math.sqrt(t*e/1e6);if(this.pixelRatio<1){this.pixelRatio=1}this.padding=n;this.width=~~((t+2*n+this.pixelRatio)/this.pixelRatio);this.height=~~((e+2*n+this.pixelRatio)/this.pixelRatio);this.array=new Uint32Array(~~((this.width*this.height+yl)/yl))}t.prototype.getPixelRatio=function(){return this.pixelRatio};t.prototype.scalePixel=function(t){return~~((t+this.padding)/this.pixelRatio)};t.prototype.markScaled=function(t,e){var n=e*this.width+t;_l(this.array,n>>>pl,1<<(n&vl))};t.prototype.mark=function(t,e){this.markScaled(this.scalePixel(t),this.scalePixel(e))};t.prototype.unmarkScaled=function(t,e){var n=e*this.width+t;wl(this.array,n>>>pl,~(1<<(n&vl)))};t.prototype.unmark=function(t,e){this.unmarkScaled(this.scalePixel(t),this.scalePixel(e))};t.prototype.getScaled=function(t,e){var n=e*this.width+t;return this.array[n>>>pl]&1<<(n&vl)};t.prototype.get=function(t,e){return this.getScaled(this.scalePixel(t),this.scalePixel(e))};t.prototype.markInRangeScaled=function(t,e,n,r){var i,a,o,s;for(;e<=r;e++){i=e*this.width+t;a=e*this.width+n;o=i>>>pl;s=a>>>pl;if(o===s){_l(this.array,o,gl[i&vl]&ml[(a&vl)+1])}else{_l(this.array,o,gl[i&vl]);_l(this.array,s,ml[(a&vl)+1]);for(var u=o+1;u<s;u++){_l(this.array,u,4294967295)}}}};t.prototype.markInRange=function(t,e,n,r){return this.markInRangeScaled(this.scalePixel(t),this.scalePixel(e),this.scalePixel(n),this.scalePixel(r))};t.prototype.unmarkInRangeScaled=function(t,e,n,r){var i,a,o,s;for(;e<=r;e++){i=e*this.width+t;a=e*this.width+n;o=i>>>pl;s=a>>>pl;if(o===s){wl(this.array,o,ml[i&vl]|gl[(a&vl)+1])}else{wl(this.array,o,ml[i&vl]);wl(this.array,s,gl[(a&vl)+1]);for(var u=o+1;u<s;u++){wl(this.array,u,0)}}}};t.prototype.unmarkInRange=function(t,e,n,r){return this.unmarkInRangeScaled(this.scalePixel(t),this.scalePixel(e),this.scalePixel(n),this.scalePixel(r))};t.prototype.getInRangeScaled=function(t,e,n,r){var i,a,o,s;for(;e<=r;e++){i=e*this.width+t;a=e*this.width+n;o=i>>>pl;s=a>>>pl;if(o===s){if(this.array[o]&gl[i&vl]&ml[(a&vl)+1]){return true}}else{if(this.array[o]&gl[i&vl]){return true}if(this.array[s]&ml[(a&vl)+1]){return true}for(var u=o+1;u<s;u++){if(this.array[u]){return true}}}}return false};t.prototype.getInRange=function(t,e,n,r){return this.getInRangeScaled(this.scalePixel(t),this.scalePixel(e),this.scalePixel(n),this.scalePixel(r))};t.prototype.searchOutOfBound=function(t,e,n,r){return t<0||e<0||r>=this.height||n>=this.width};return t}();var Al=4278190080;var Sl=268435456;var Tl=.0625;function Ll(t,e,n,r,i,a,o){var s=false;var u=e[0];var l=e[1];var c=t.length;if(i.length){var f=Cl(i,u,l,a||s);return Ml(f,u,l,a,s,o)}else{var h=new xl(u,l,o);if(r){for(var d=0;d<c;d++){var p=t[d];h.mark(p.markBound[0],p.markBound[3])}}return[h,undefined]}}function El(t,e,n,r,i,a,o,s){var u=false;var l=n[0];var c=n[1];var f=e.length;if(a.length){var h=Cl(a,l,c,o||u);return Nl(h,t,l,c,o,u)}else{if(i){for(var d=0;d<f;d++){var p=e[d];t[0].mark(p.markBound[0],p.markBound[3])}}return t}}function Nl(t,e,n,r,i,a,o){var s=t.getImageData(0,0,n,r);var u=new Uint32Array(s.data.buffer);var l,c,f;if(a){for(c=0;c<r;c++){for(l=0;l<n;l++){f=u[c*n+l]&Al;if(f&&f^Sl){e[1].mark(l,c)}}}}else{for(c=0;c<r;c++){for(l=0;l<n;l++){f=u[c*n+l]&Al;if(f){e[0].mark(l,c);if(i&&f^Sl){e[1].mark(l,c)}}}}}return e}function Cl(t,e,n,r){var i=t.length;var a=document.createElement("canvas");var o=a.getContext("2d");var s,u;a.setAttribute("width",e);a.setAttribute("height",n);for(var l=0;l<i;l++){s=t[l];u=s.length;if(!u){continue}if(s[0].nodeName!=="group"){kl(o,s,r)}else{Il(o,s,r)}}return o}function Ml(t,e,n,r,i,a){var o=new xl(e,n,a);var s=(r||i)&&new xl(e,n,a);var u=t.getImageData(0,0,e,n);var l=new Uint32Array(u.data.buffer);var c,f,h;if(i){for(f=0;f<n;f++){for(c=0;c<e;c++){h=l[f*e+c]&Al;if(h&&h^Sl){s.mark(c,f)}}}}else{for(f=0;f<n;f++){for(c=0;c<e;c++){h=l[f*e+c]&Al;if(h){o.mark(c,f);if(r&&h^Sl){s.mark(c,f)}}}}}return[o,s]}function kl(t,e,n){var r=e.length;var i;if(n){i=new Array(r);for(var a=0;a<r;a++){i[a]=Ol(e[a])}}else{i=e}i.forEach((function(e){return Dl(t,e)}))}function Il(t,e,n){var r=e.length;var i;for(var a=0;a<r;a++){i=e[a].items;for(var o=0;o<i.length;o++){var s=i[o];if(s.marktype!=="group"){kl(t,s.items,n)}else{Il(t,s.items,n)}}}}function Ol(t){var e={};for(var n in t){e[n]=t[n]}if(e.stroke){e.strokeOpacity=1}if(e.fill){e.fillOpacity=Tl;e.stroke="#000";e.strokeOpacity=1;e.strokeWidth=2}return e}function Dl(t,e){var n=!+e["data-translate-x"]?0:+e["data-translate-x"];var r=!+e["data-translate-y"]?0:+e["data-translate-y"];var i=e["data-use-dx"]==="true"&&+e["dx"]?+e["dx"]:0;var a=e["data-use-dy"]==="true"&&+e["dy"]?+e["dy"]:0;t.beginPath();if(e.nodeName==="rect"){t.rect(+e["data-x"]+n,+e["data-y"]+r,+e["data-width"],+e["data-height"]);t.stroke();if(e["data-fill"]&&e["data-fill"]==="true")t.fill()}else if(e.nodeName==="text"){var o=e["text-anchor"]?!e["text-anchor"]||e["text-anchor"]==="start"?0:e["text-anchor"]==="middle"?e["data-width"]/2:e["data-width"]:0;var s=e["baseline"]&&false?e["baseline"]==="top"?+e["data-height"]:e["baseline"]==="middle"?+e["data-height"]/3:0:0;t.rect(+e["data-x"]+n-o+i,+e["data-y"]+r+s+a,+e["data-width"],+e["data-height"]);t.stroke();if(e["data-fill"]&&e["data-fill"]==="true")t.fill()}else if(e.nodeName==="circle"){t.arc(+e["data-cx"]+n,+e["data-cy"]+r,+e["data-r"],0,2*Math.PI);t.stroke();if(e["data-fill"]&&e["data-fill"]==="true")t.fill()}else if(e.nodeName==="line"){t.moveTo(+e["data-x1"]+n,+e["data-y1"]+r);t.lineTo(+e["data-x2"]+n,+e["data-y2"]+r);t.stroke()}else if(e.nodeName==="path"){var u=el(e["data-d"]);var l=(+e["data-x"]||0)+n;var c=(+e["data-y"]||0)+r;var f=+e["data-r"]||1;var h=f;hl(t,u,l,c,f,h);t.stroke();if(e["data-fill"]&&e["data-fill"]==="true")t.fill()}t.closePath()}function Rl(t,e){if(typeof document!=="undefined"&&document.createElement){var n=document.createElement("canvas");if(n&&n.getContext){n.width=t;n.height=e;return n}}return null}function Ul(t,e,n,r){t.font=n+"px "+r;return t.measureText(e).width}function Pl(t,e,n,r,i){return!i||i.getInRangeScaled(t,r,n,r)||i.getInRangeScaled(t,e,n,r-1)}var Fl=.707106781186548;var Hl=["right","center","left"];var jl=["bottom","middle","top"];var Vl=function(){function t(t,e,n,r){this.bm0=t[0];this.bm1=t[1];this.width=e[0];this.height=e[1];this.anchors=n;this.offsets=r}t.prototype.place=function(t){var e=t.markBound;if(e[2]<0||e[5]<0||e[0]>this.width||e[3]>this.height){return false}var n=Rl().getContext("2d");var r=this.offsets.length;var i=t.textHeight;var a=t.markBound;var o=t.text;var s=t.font;var u=t.textWidth;var l,c,f,h,d;var p,v,y,g,m,b,_;var w,x,A,S;for(var T=0;T<r;T++){l=(this.anchors[T]&3)-1;c=(this.anchors[T]>>>2&3)-1;f=this.bm1&&(l===0&&c===0||this.offsets[T]<0);h=l&&c?Fl:1;d=this.offsets[T]<0?-1:1;b=a[4+c]+d*i*c/2+this.offsets[T]*c*h;p=a[1+l]+this.offsets[T]*l*h;m=b-i/2;_=b+i/2;A=this.bm0.scalePixel(m);S=this.bm0.scalePixel(_);w=this.bm0.scalePixel(p);if(!u){if(!Bl(w,w,A,S,this.bm0,this.bm1,p,p,m,_,a,f)){continue}else{u=Ul(n,o,i,s)}}y=p+d*u*l/2;v=y-u/2;g=y+u/2;w=this.bm0.scalePixel(v);x=this.bm0.scalePixel(g);t.x=!l?y:l*d<0?g:v;t.y=!c?b:c*d<0?_:m;t.align=Hl[l*d+1];t.baseline=jl[c*d+1];if(Bl(w,x,A,S,this.bm0,this.bm1,v,g,m,_,a,f)){this.bm0.markInRangeScaled(w,A,x,S);return true}}return false};t.prototype.unplace=function(t){var e=this.offsets.length;var n=t.textHeight;var r=t.markBound;var i=t.textWidth;var a,o,s,u;var l,c,f,h,d,p,v;var y,g,m,b;for(var _=0;_<e;_++){a=(this.anchors[_]&3)-1;o=(this.anchors[_]>>>2&3)-1;s=a&&o?Fl:1;u=this.offsets[_]<0?-1:1;p=r[4+o]+u*n*o/2+this.offsets[_]*o*s;l=r[1+a]+this.offsets[_]*a*s;d=p-n/2;v=p+n/2;m=this.bm0.scalePixel(d);b=this.bm0.scalePixel(v);y=this.bm0.scalePixel(l);f=l+u*i*a/2;c=f-i/2;h=f+i/2;y=this.bm0.scalePixel(c);g=this.bm0.scalePixel(h);this.bm0.unmarkInRangeScaled(y,m,g,b+3)}return true};return t}();function Bl(t,e,n,r,i,a,o,s,u,l,c,f){return!(i.searchOutOfBound(t,n,e,r)||(f?Pl(t,n,e,r,a)||!zl(o,u,s,l,c):Pl(t,n,e,r,i)))}function zl(t,e,n,r,i){return i[0]<=t&&n<=i[2]&&i[3]<=e&&r<=i[5]}var Yl=ie();var Wl=Yl==="IE";if(Wl){se()}var Gl=0,ql=1<<2,Xl=2<<2,$l=0,Kl=1,Zl=2;var Ql={"top-left":Gl+$l,top:Gl+Kl,"top-right":Gl+Zl,left:ql+$l,middle:ql+Kl,right:ql+Zl,"bottom-left":Xl+$l,bottom:Xl+Kl,"bottom-right":Xl+Zl};var Jl=function(t,e){return t.x<=e.x+e.width&&e.x<=t.x+t.width&&e.y<=t.y+t.height&&t.y<=e.y+e.height};var tc=function(t){var e=t.labelSelection,n=t.avoidMarks,r=t.validPositions,i=t.offsets,a=t.accessors,o=t.size,s=t.boundsScope,u=t.bitmaps,l=t.hideOnly,c=t.removeOnly,f=t.suppressMarkDraw;var h=r;var d=[];var p=[];var v={};if(!o||o.length!==2){throw Error("Size of chart should be specified as an array of width and height")}if(n&&n.length){n.forEach((function(t){var e=[];t.each((function(t,n,r){var i={};i["node"]=r[n];i["nodeName"]=r[n].nodeName;i["datum"]=t&&t.data&&t.data.data?t.data.data:t&&t.data?t.data:t?t:{};r[n].getAttributeNames().forEach((function(t){i[t]=Xt(r[n]).attr(t)}));i["boundsScope"]=s;i["bounds"]=ec(i);var o=a.map((function(t){return i["datum"][t]||"Not Found"}));v[o.join("-")]=i["bounds"];i["key"]=o.join("-");e.push(i)}));p.push(e)}))}if(e){e.each((function(t,e,n){var r={};var i=n[e];var o=getComputedStyle(i);var u=parseFloat(o.fontSize);var f=o.fontFamily;r["node"]=n[e];r["i"]=e;r["nodeName"]=i.nodeName;r["fontSize"]=u;r["font"]=o.fontFamily;r["text"]=i.textContent;r["sort"]=false;r["originalOpacity"]=1;r["datum"]=t&&t.data&&t.data.data?t.data.data:t&&t.data?t.data:t?t:{};i.getAttributeNames().forEach((function(t){r[t]=Xt(i).attr(t)}));r["textWidth"]=i.nodeName==="rect"?+r["width"]:$u(i.textContent,u,true,f);r["textHeight"]=i.nodeName==="rect"?+r["height"]:Math.max(u-1,1);var h=a.map((function(t){return r["datum"][t]||"Not Found"}));r["key"]=h.join("-");r["boundsScope"]=s;var p=r["data-x"];var y=r["data-y"];if(c&&r["x"]&&r["y"]&&!(r["keep-data-y"]==="true")){r["data-x"]=r["x"];r["data-y"]=r["y"]}r["markBound"]=v[h.join("-")]&&!l?v[h.join("-")]:ec(r);if(c){r["data-x"]=p;r["data-y"]=y}d.push(r)}))}var y=false;if(u&&u.length===2&&!c&&!f){El(u,d,o,"markType_unused",y,p,false)}else if(!c&&!f){u=Ll(d,o,"markType_unused",y,p,false,1)}var g={right:"end",center:"middle",left:"start"};var m=h.map((function(t){return Ql[t]}));var b=new Vl(u,o,m,i);var _={};if(c){d.forEach((function(t,e){var n=t.key==="Not Found"?e:t.i+"-"+t.key;if(t["data-label-hidden"]!=="true")b.unplace(t);_[n]={"do-nothing":true}}))}else{d.forEach((function(t,e){var n=t.key==="Not Found"?e:t.i+"-"+t.key;if(t["data-hidden"]==="true"){_[n]={"do-nothing":true}}else if(+t["opacity"]===0){_[n]={"do-nothing":true}}else if(!t["data-hidden"]&&b.place(t)){_[n]={visibility:null,x:t.x,y:t.y,translateX:!+t["data-translate-x"]?0:+t["data-translate-x"],translateY:!+t["data-translate-y"]?0:+t["data-translate-y"],translateHeight:!t["data-no-text-anchor"]?t.baseline==="top"?+t["textHeight"]:t.baseline==="middle"?+t["textHeight"]/3:0:0,"text-anchor":!t["data-no-text-anchor"]?g[t.align]:null,"data-align":t.align,"data-baseline":t.baseline,"data-label-moved":true,"data-label-hidden":false,textHeight:t.textHeight}}else{_[n]={visibility:"hidden",x:t.x,y:t.y,translateX:!+t["data-translate-x"]?0:+t["data-translate-x"],translateY:!+t["data-translate-y"]?0:+t["data-translate-y"],translateHeight:!t["data-no-text-anchor"]?t.baseline==="top"?+t["textHeight"]:t.baseline==="middle"?+t["textHeight"]/3:0:0,"text-anchor":!t["data-no-text-anchor"]?g[t.align]:null,"data-align":t.align,"data-baseline":t.baseline,textHeight:t.textHeight,"data-label-moved":true,"data-label-hidden":true}}}));e.style("visibility",(function(t,e,n){var r=t&&t.data&&t.data.data?t.data.data:t&&t.data?t.data:t?t:{};var i=a.map((function(t){return r[t]||"Not Found"}));var o=i.join("-")==="Not Found"?_[e]:_[e+"-"+i.join("-")];if(a&&a.length&&o&&o["do-nothing"]){return Xt(n[e]).style("visibility")}else{Xt(n[e]).attr("data-label-hidden",a&&a.length&&o&&o["data-label-hidden"]).attr("data-label-moved",a&&a.length&&o&&o["data-label-moved"]).attr("data-align",o["data-align"]).attr("data-baseline",o["data-baseline"]).attr("dx",!(Xt(n[e]).attr("data-use-dx")==="true")?null:Xt(n[e]).attr("dx")).attr("dy",!(Xt(n[e]).attr("data-use-dy")==="true")?null:Xt(n[e]).attr("dy")).attr("data-use-dx",null).attr("data-use-dy",null);return a&&a.length&&o&&(o.visibility===null||!o.visibility)?null:"hidden"}}));if(!l){e.attr("x",(function(t,e,n){var r=t&&t.data&&t.data.data?t.data.data:t&&t.data?t.data:t?t:{};var i=a.map((function(t){return r[t]||"Not Found"}));var o=i.join("-")==="Not Found"?_[e]:_[e+"-"+i.join("-")];return a&&a.length&&o&&o.x?o.x-o.translateX:Xt(n[e]).attr("data-x")})).attr("y",(function(t,e,n){var r=t&&t.data&&t.data.data?t.data.data:t&&t.data?t.data:t?t:{};var i=a.map((function(t){return r[t]||"Not Found"}));var o=i.join("-")==="Not Found"?_[e]:_[e+"-"+i.join("-")];var s=a&&a.length&&o&&o["translateHeight"];return a&&a.length&&o&&o.y?o.y-o.translateY+s:Xt(n[e]).attr("data-y")})).attr("text-anchor",(function(t,e,n){var r=t&&t.data&&t.data.data?t.data.data:t&&t.data?t.data:t?t:{};var i=a.map((function(t){return r[t]||"Not Found"}));var o=i.join("-")==="Not Found"?_[e]:_[e+"-"+i.join("-")];return a&&a.length&&o&&o["text-anchor"]?o["text-anchor"]:Xt(n[e]).attr("text-anchor")}))}}return u};var ec=function(t){var e=!+t["data-translate-x"]?0:+t["data-translate-x"];var n=!+t["data-translate-y"]?0:+t["data-translate-y"];switch(t["nodeName"]){case"text":var r=(!t["textWidth"]?+t["data-width"]:+t["textWidth"])||0;var i=(!t["textHeight"]?+t["data-height"]:+t["textHeight"])||0;var a=+t["fontSize"]||i;var o=t["data-text-anchor"]?!t["data-text-anchor"]||t["data-text-anchor"]==="start"?0:t["data-text-anchor"]==="middle"?r/2:r:t["text-anchor"]?!t["text-anchor"]||t["text-anchor"]==="start"?0:t["text-anchor"]==="middle"?r/2:r:0;var s=t["data-use-dx"]!=="true"?0:+t["dx"]?+t["dx"]:t["dx"]&&t["dx"].indexOf("em")>=0?+t["dx"].replace("em","")*a:0;var u=t["data-use-dy"]!=="true"?0:+t["dy"]?+t["dy"]:t["dy"]&&t["dy"].indexOf("em")>=0?+t["dy"].replace("em","")*a:0;switch(t["boundsScope"]){case"centroid":return[+t["data-x"]+s+e-o+r/2,+t["data-x"]+s+e-o+r/2,+t["data-x"]+s+e-o+r/2,+t["data-y"]+u+n+i/2,+t["data-y"]+u+n+i/2,+t["data-y"]+u+n+i/2];case"top":return[+t["data-x"]+s+e-o,+t["data-x"]+s+e-o+r/2,+t["data-x"]+s+e-o+r,+t["data-y"]+u+n,+t["data-y"]+u+n,+t["data-y"]+u+n];case"middle":return[+t["data-x"]+s+e-o,+t["data-x"]+s+e-o+r/2,+t["data-x"]+s+e-o+r,+t["data-y"]+u+n+i/2,+t["data-y"]+u+n+i/2,+t["data-y"]+u+n+i/2];case"bottom":return[+t["data-x"]+s+e-o,+t["data-x"]+s+e-o+r/2,+t["data-x"]+s+e-o+r,+t["data-y"]+u+n+i,+t["data-y"]+u+n+i,+t["data-y"]+u+n+i];case"center":return[+t["data-x"]+s+e-o+r/2,+t["data-x"]+s+e-o+r/2,+t["data-x"]+s+e-o+r/2,+t["data-y"]+u+n,+t["data-y"]+u+n+i/2,+t["data-y"]+u+n+i];case"right":return[+t["data-x"]+s+e-o+r,+t["data-x"]+s+e-o+r,+t["data-x"]+s+e-o+r,+t["data-y"]+u+n,+t["data-y"]+u+n+i/2,+t["data-y"]+u+n+i];case"left":return[+t["data-x"]+s+e-o,+t["data-x"]+s+e-o,+t["data-x"]+s+e-o,+t["data-y"]+u+n,+t["data-y"]+u+n+i/2,+t["data-y"]+u+n+i];default:return[+t["data-x"]+s+e-o,+t["data-x"]+s+e-o+r/2,+t["data-x"]+s+e-o+r,+t["data-y"]+u+n-i,+t["data-y"]+u+n-i/2,+t["data-y"]+u+n]}case"circle":return[+t["data-cx"]+e-+t["data-r"],+t["data-cx"]+e,+t["data-cx"]+e+ +t["data-r"],+t["data-cy"]+n-+t["data-r"],+t["data-cy"]+n,+t["data-cy"]+n+ +t["data-r"]];case"rect":switch(t["boundsScope"]){case"annotation":return[+t["data-x"]+e-+t["data-width"]/2,+t["data-x"]+e,+t["data-x"]+e+ +t["data-width"]/2,+t["data-y"]+n-+t["data-height"]/2,+t["data-y"]+n,+t["data-y"]+n+ +t["data-height"]/2];case"top":return[+t["data-x"]+e,+t["data-x"]+e+ +t["data-width"]/2,+t["data-x"]+e+ +t["data-width"],+t["data-y"]+n,+t["data-y"]+n,+t["data-y"]+n];case"middle":return[+t["data-x"]+e+ +t["data-width"]/2,+t["data-x"]+e+ +t["data-width"]/2,+t["data-x"]+e+ +t["data-width"]/2,+t["data-y"]+n+ +t["data-height"]/2,+t["data-y"]+n+ +t["data-height"]/2,+t["data-y"]+n+ +t["data-height"]/2];case"bottom":return[+t["data-x"]+e,+t["data-x"]+e+ +t["data-width"]/2,+t["data-x"]+e+ +t["data-width"],+t["data-y"]+n+ +t["data-height"]-6,+t["data-y"]+n+ +t["data-height"]-6,+t["data-y"]+n+ +t["data-height"]-6];case"right":return[+t["data-x"]+e+ +t["data-width"],+t["data-x"]+e+ +t["data-width"],+t["data-x"]+e+ +t["data-width"],+t["data-y"]+n,+t["data-y"]+n+ +t["data-height"]/2,+t["data-y"]+n+ +t["data-height"]];case"left":return[+t["data-x"]+e,+t["data-x"]+e,+t["data-x"]+e,+t["data-y"]+n,+t["data-y"]+n+ +t["data-height"]/2,+t["data-y"]+n+ +t["data-height"]];default:return[+t["data-x"]+e,+t["data-x"]+e+ +t["data-width"]/2,+t["data-x"]+e+ +t["data-width"],+t["data-y"]+n,+t["data-y"]+n+ +t["data-height"]/2,+t["data-y"]+n+ +t["data-height"]]}case"path":return+t["data-fake-x"]?[+t["data-fake-x"]+e-(+t["data-r"]||0),+t["data-fake-x"]+e,+t["data-fake-x"]+e+(+t["data-r"]||0),+t["data-fake-y"]+n-(+t["data-r"]||0),+t["data-fake-y"]+n,+t["data-fake-y"]+n+(+t["data-r"]||0)]:+t["data-centerX1"]?[+t["data-centerX1"]+e,+t["data-centerX1"]+(+t["data-centerX2"]-+t["data-centerX1"])/2+e,+t["data-centerX2"]+e,+t["data-centerY1"]+n,+t["data-centerY1"]+(+t["data-centerY2"]-+t["data-centerY1"])/2+n,+t["data-centerY2"]+n]:[+t["data-x"]+e-(+t["data-r"]||0),+t["data-x"]+e,+t["data-x"]+e+(+t["data-r"]||0),+t["data-y"]+n-(+t["data-r"]||0),+t["data-y"]+n,+t["data-y"]+n+(+t["data-r"]||0)];default:return[+t["data-x"]+e,+t["data-x"]+e+ +t["data-width"]/2,+t["data-x"]+e+ +t["data-width"],+t["data-y"]+n,+t["data-y"]+n+ +t["data-height"]/2,+t["data-y"]+n+ +t["data-height"]]}};function nc(t,e,n,r){var i=r?t.getSum():1;return n?xe(t[e]/i,n==="normalized"?"0[.][0]%":n):t[e]/i}var rc=function(t){var e=t.root,n=t.xScale,r=t.yScale,i=t.sizeScale,a=t.ordinalAccessor,o=t.valueAccessor,s=t.groupAccessor,u=t.sizeAccessor,l=t.shapeArea,c=t.placement,f=t.layout,h=t.labelOffset,d=t.radius,p=t.chartType,v=t.normalized,y=t.avoidCollision;var g;var m;var b;var _;var w;if(p==="bar"){switch(c){case"auto":if(f==="vertical"){g=function(t){return n(t[a])+n.bandwidth()/2};m=function(t){return r(Math.max(0,t[o]*(h||1)))};_="0.25em";w="middle"}else if(f==="horizontal"){m=function(t){return r(t[a])+r.bandwidth()/2};g=function(t){return n(Math.max(0,t[o]*(h||1)))};_="0.25em";w="middle"}break;case"top":g=function(t){return n(t[a])+n.bandwidth()/2};m=function(t){return r(Math.max(0,t[o]*(h||1)))};b="-.3em";w="middle";break;case"bottom":g=function(t){return n(t[a])+n.bandwidth()/2};m=function(t){return r(Math.min(0,t[o]*(-h||1)))};b="-.3em";w="middle";break;case"left":m=function(t){return r(t[a])+r.bandwidth()/2};g=function(t){return n(Math.min(0,t[o]*(-h||1)))};b=".2em";_=".3em";w="start";break;case"right":m=function(t){return r(t[a])+r.bandwidth()/2};g=function(t){return n(Math.max(0,t[o]*(h||1)))};b=".3em";_=".3em";w="start";break;case"top-left":m=function(t){return r(t[a])};g=function(t){return n(Math.min(0,t[o]*(-h||1)))};b=".2em";_="-.2em";w="start";break;case"top-right":m=function(t){return r(t[a])};g=function(t){return n(Math.max(0,t[o]*(h||1)))};b="-3em";_="-.2em";w="start";break;case"bottom-left":m=function(t){return r(t[a])+r.bandwidth()};g=function(t){return n(Math.min(0,t[o]*(-h||1)))};b=".2em";_="1em";w="start";break;case"bottom-right":m=function(t){return r(t[a])+r.bandwidth()};g=function(t){return n(Math.max(0,t[o]*(h||1)))};b="-3em";_="1em";w="start";break}}else if(p==="stacked"){var x=function(t){return v?t.getSum():1};if(f==="vertical"){switch(c){case"auto":g=function(t){return n(t[a])+n.bandwidth()/2};m=function(t){return(r(t.stackStart/x(t))+r(t.stackEnd/x(t)))/2};_="0.25em";w="middle";break;case"bottom":g=function(t){return n(t[a])+n.bandwidth()/2};m=function(t){return r(t.stackEnd/x(t))};b="-.3em";w="middle";break;case"top":g=function(t){return n(t[a])+n.bandwidth()/2};m=function(t){return r(t.stackStart/x(t))};b="1em";w="middle";break;case"middle":g=function(t){return n(t[a])+n.bandwidth()/2};m=function(t){return(r(t.stackStart/x(t))+r(t.stackEnd/x(t)))/2};b=".3em";w="middle";break}}else{switch(c){case"auto":m=function(t){return r(t[a])+r.bandwidth()/2+4};g=function(t){return(n(t.stackStart)+n(t.stackEnd))/2};b="0em";w="middle";break;case"base":m=function(t){return r(t[a])+r.bandwidth()/2+4};g=function(t){return t.stackEnd<0?n(t.stackStart/x(t)):n(t.stackEnd/x(t))};b=function(t){return t.stackEnd<0?"-.3em":".3em"};w=function(t){return t.stackEnd<0?"end":"start"};break;case"end":m=function(t){return r(t[a])+r.bandwidth()/2+4};g=function(t){return t.stackEnd<0?n(t.stackEnd/x(t)):n(t.stackStart/x(t))};b=function(t){return t.stackEnd<0?".3em":"-.3em"};w=function(t){return t.stackEnd<0?"start":"end"};break;case"middle":m=function(t){return r(t[a])+r.bandwidth()/2+4};g=function(t){return(n(t.stackStart)+n(t.stackEnd))/2};b="0em";w="middle";break}}}else if(p==="line"){switch(c){case"auto":g=function(t){return n(t[a])};m=function(t){return r(t[o])};_="-0.6em";w="middle";break;case"top":g=function(t){return n(t[a])};m=function(t){return r(t[o])};_="-0.6em";w="middle";break;case"bottom":g=function(t){return n(t[a])};m=function(t){return r(t[o])+20};w="middle";break;case"left":m=function(t){return r(t[a])};g=function(t){return n(t[o])};b=".2em";w="start";break;case"right":m=function(t){return r(t[a])};g=function(t){return n(t[o])+4};b=".2em";w="start";break}}else if(p==="parallel"){switch(c){case"auto":g=function(t){return n(t[a])};m=function(t){return r(t)};b="0em";_="0em";w="middle";break;case"bottom-right":g=function(t){return n(t[a])};m=function(t){return r(t)};b="0.45em";_="1.1em";w="start";break;case"top-right":g=function(t){return n(t[a])};m=function(t){return r(t)};b="0.45em";_="-0.3em";w="start";break;case"bottom-left":g=function(t){return n(t[a])};m=function(t){return r(t)};b="-0.45em";_="1.1em";w="end";break;case"top-left":g=function(t){return n(t[a])};m=function(t){return r(t)};b="-0.45em";_="-0.3em";w="end";break}}else if(p==="dumbbell"){switch(c){case"ends":g=function(t){return f==="vertical"?n(t[a]):n(t[o])-t.offset};m=function(t){return f==="vertical"?r(t[o])+t.offset:r(t[a])};b=function(t){return f==="vertical"&&t.offset>=0?"0.9em":f==="vertical"?"-0.3em":t.offset>=0?"-0.3em":"0.3em"};_=f==="vertical"?"0.0em":"0.3em";w=function(t){return f==="vertical"?"middle":t.offset>=0?"end":"start"};break;case"auto":g=function(t){return f==="vertical"?n(t[a]):n(t[o])-t.offset};m=function(t){return f==="vertical"?r(t[o])+t.offset:r(t[a])};b=function(t){return f==="vertical"&&t.offset>=0?"0.9em":f==="vertical"?"-0.3em":t.offset>=0?"-0.3em":"0.3em"};_=f==="vertical"?"0.0em":"0.3em";w=function(t){return f==="vertical"?"middle":t.offset>=0?"end":"start"};break;case"top":m=function(t){return r(t[a])-Math.abs(t.offset)};g=function(t){return n(t[o])};_="-0.3em";b="0.0em";w="middle";break;case"bottom":m=function(t){return r(t[a])+Math.abs(t.offset)};g=function(t){return n(t[o])+4};_="0.9em";b="0.0em";w="middle";break;case"left":m=function(t){return r(t[o])};g=function(t){return n(t[a])-4-Math.abs(t.offset)};_="0.0em";b="0.3em";w="end";break;case"right":m=function(t){return r(t[o])};g=function(t){return n(t[a])+4+Math.abs(t.offset)};_="0.0em";b="0.3em";w="start";break}}else if(p==="pie"){switch(c){case"inside":_="0.1em";w="middle";break;case"outside":w=function(t,e){return t.endAngle<Math.PI||e===0?"start":"end"};g=function(t){return(d+5)*Math.sin((t.startAngle+t.endAngle)/2)};m=function(t){return-(d+5)*Math.cos((t.startAngle+t.endAngle)/2)};b=function(t){return t.endAngle<Math.PI?-h:h};_=function(t){return t.endAngle<Math.PI?h:-h};break;case"edge":g=function(t){return(d+10)*Math.sin(t.endAngle)};m=function(t){return-(d+10)*Math.cos(t.endAngle)};b=function(t){return t.endAngle<Math.PI?-h:h};_=function(t){return t.endAngle<Math.PI?h:-h};w=function(t,e){return t.endAngle<Math.PI||e===0?"start":"end"};break;case"note":w=function(t,e){return t.endAngle<Math.PI||e===0?"start":"end"};g=function(t){return(d+5)*Math.sin((t.startAngle+t.endAngle)/2)};m=function(t){return-(d+5)*Math.cos((t.startAngle+t.endAngle)/2)};b=function(t){return t.endAngle<Math.PI?-h:h};_=function(t){return t.endAngle<Math.PI?h+15:-h+15};break;case"note_edge":g=function(t){return(d+10)*Math.sin(t.endAngle)};m=function(t){return-(d+10)*Math.cos(t.endAngle)};b=function(t){return t.endAngle<Math.PI?-h:h};_=function(t){return t.endAngle<Math.PI?h+15:-h+15};w=function(t,e){return t.endAngle<Math.PI||e===0?"start":"end"};break}}else if(p==="scatter"){var A=hu().domain([i.domain()[0],i.domain()[1]]).range([1,4]);var S=function(t){return l[s?t[s]:""]["shape"]};var T=function(t){return i(t[u]*l[s?t[s]:""]["toCircle"])||h};switch(c){case"auto":g=function(t){return n(t[a])};m=function(t){return r(t[o])};_="0.25em";w="middle";break;case"middle":g=function(t){return n(t[a])};m=function(t){return r(t[o])};_="0.25em";w="middle";break;case"top":g=function(t){return n(t[a])};m=function(t){return r(t[o])-T(t)};_=function(t){return["diamond","triangle","star"].includes(S(t))&&u?-1*(.35+.35*A(t[u]))+"em":"-0.35em"};w="middle";break;case"bottom":g=function(t){return n(t[a])};m=function(t){return r(t[o])+T(t)};_=function(t){return S(t)==="diamond"&&u?.75+.5*A(t[u])+"em":S(t)==="triangle"&&u?1.1-.2*A(t[u])+"em":"1.1em"};w="middle";break;case"left":g=function(t){return n(t[a])-T(t)};m=function(t){return r(t[o])};b=function(t){return S(t)==="diamond"&&u?"-.2em":"-.4em"};_="0.3em";w="end";break;case"right":g=function(t){return n(t[a])+T(t)};m=function(t){return r(t[o])};b=function(t){return S(t)==="diamond"&&u?".125em":".35em"};_="0.3em";w="start";break}}else if(p==="heat-map"){g=function(t){return n(t[a])+n.bandwidth()/2};m=function(t){return r(t[o])+r.bandwidth()/2};_=".5em";w="middle"}else if(p==="world-map"){g=function(t){return n([+t[a],+t[o]])[0]};m=function(t){return n([+t[a],+t[o]])[1]}}var L=y&&y.runOccupancyBitmap&&c==="auto";var E=y&&y.hideOnly&&!L;if(p!=="heat-map"&&L&&!E){var N=tc({bitmaps:y.bitmaps,labelSelection:y.labelSelection,avoidMarks:y.avoidMarks,validPositions:y.validPositions,offsets:y.offsets,accessors:y.accessors,size:y.size,boundsScope:y.boundsScope,hideOnly:E,removeOnly:y.removeOnly,suppressMarkDraw:y.suppressMarkDraw});e.filter((function(t,e,n){return Xt(n[e]).attr("data-label-moved")!=="true"&&!Xt(n[e]).classed("collision-added")})).attr("x",g).attr("y",m).attr(f==="vertical"?"dy":"dx",b).attr(f==="vertical"?"dx":"dy",_).attr("text-anchor",w);return N}else if(p!=="heat-map"&&E){e.each((function(t,e,n){Xt(n[e]).attr("data-x",g).attr("data-use-dx",true).attr("dx",f==="vertical"?_:b).attr("data-y",m).attr("data-use-dy",true).attr("dy",f==="vertical"?b:_).attr("text-anchor",w)}));var N=void 0;if(!y.suppressMarkDraw){N=tc({bitmaps:y.bitmaps,labelSelection:Xt(".empty-stuff-vcc-do-not-use"),avoidMarks:y.avoidMarks,validPositions:["middle"],offsets:[1],accessors:y.accessors,size:y.size})}N=tc({bitmaps:N||y.bitmaps,labelSelection:e,avoidMarks:[],validPositions:["middle"],offsets:[1],accessors:y.accessors,size:y.size,hideOnly:E,removeOnly:y.removeOnly,suppressMarkDraw:y.suppressMarkDraw});e.attr("x",g).attr("y",m).attr(f==="vertical"?"dy":"dx",b).attr(f==="vertical"?"dx":"dy",_).attr("text-anchor",w);return N}else{e.attr("x",g).attr("y",m).attr(f==="vertical"?"dy":"dx",b).attr(f==="vertical"?"dx":"dy",_).attr("text-anchor",w);return null}};function ic(t,e){var n={cross:Iu,circle:ku,square:Vu,star:ju,triangle:zu,diamond:Ru};return n[e]?t.type(n[e])():t.type(ku)()}var ac={value:function(){}};function oc(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new sc(n)}function sc(t){this._=t}function uc(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0)n=t.slice(r+1),t=t.slice(0,r);if(t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}sc.prototype=oc.prototype={constructor:sc,on:function(t,e){var n=this._,r=uc(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){while(++a<o)if((i=(t=r[a]).type)&&(i=lc(n[i],t.name)))return i;return}if(e!=null&&typeof e!=="function")throw new Error("invalid callback: "+e);while(++a<o){if(i=(t=r[a]).type)n[i]=cc(n[i],t.name,e);else if(e==null)for(i in n)n[i]=cc(n[i],t.name,null)}return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new sc(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function lc(t,e){for(var n=0,r=t.length,i;n<r;++n){if((i=t[n]).name===e){return i.value}}}function cc(t,e,n){for(var r=0,i=t.length;r<i;++r){if(t[r].name===e){t[r]=ac,t=t.slice(0,r).concat(t.slice(r+1));break}}if(n!=null)t.push({name:e,value:n});return t}var fc=0,hc=0,dc=0,pc=1e3,vc,yc,gc=0,mc=0,bc=0,_c=typeof performance==="object"&&performance.now?performance:Date,wc=typeof window==="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function xc(){return mc||(wc(Ac),mc=_c.now()+bc)}function Ac(){mc=0}function Sc(){this._call=this._time=this._next=null}Sc.prototype=Tc.prototype={constructor:Sc,restart:function(t,e,n){if(typeof t!=="function")throw new TypeError("callback is not a function");n=(n==null?xc():+n)+(e==null?0:+e);if(!this._next&&yc!==this){if(yc)yc._next=this;else vc=this;yc=this}this._call=t;this._time=n;Mc()},stop:function(){if(this._call){this._call=null;this._time=Infinity;Mc()}}};function Tc(t,e,n){var r=new Sc;r.restart(t,e,n);return r}function Lc(){xc();++fc;var t=vc,e;while(t){if((e=mc-t._time)>=0)t._call.call(null,e);t=t._next}--fc}function Ec(){mc=(gc=_c.now())+bc;fc=hc=0;try{Lc()}finally{fc=0;Cc();mc=0}}function Nc(){var t=_c.now(),e=t-gc;if(e>pc)bc-=e,gc=t}function Cc(){var t,e=vc,n,r=Infinity;while(e){if(e._call){if(r>e._time)r=e._time;t=e,e=e._next}else{n=e._next,e._next=null;e=t?t._next=n:vc=n}}yc=t;Mc(r)}function Mc(t){if(fc)return;if(hc)hc=clearTimeout(hc);var e=t-mc;if(e>24){if(t<Infinity)hc=setTimeout(Ec,t-_c.now()-bc);if(dc)dc=clearInterval(dc)}else{if(!dc)gc=_c.now(),dc=setInterval(Nc,pc);fc=1,wc(Ec)}}function kc(t,e,n){var r=new Sc;e=e==null?0:+e;r.restart((function(n){r.stop();t(n+e)}),e,n);return r}var Ic=oc("start","end","interrupt");var Oc=[];var Dc=0;var Rc=1;var Uc=2;var Pc=3;var Fc=4;var Hc=5;var jc=6;function Vc(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;Wc(t,n,{name:e,index:r,group:i,on:Ic,tween:Oc,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Dc})}function Bc(t,e){var n=Yc(t,e);if(n.state>Dc)throw new Error("too late; already scheduled");return n}function zc(t,e){var n=Yc(t,e);if(n.state>Uc)throw new Error("too late; already started");return n}function Yc(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Wc(t,e,n){var r=t.__transition,i;r[e]=n;n.timer=Tc(a,0,n.time);function a(t){n.state=Rc;n.timer.restart(o,n.delay,n.time);if(n.delay<=t)o(t-n.delay)}function o(a){var l,c,f,h;if(n.state!==Rc)return u();for(l in r){h=r[l];if(h.name!==n.name)continue;if(h.state===Pc)return kc(o);if(h.state===Fc){h.state=jc;h.timer.stop();h.on.call("interrupt",t,t.__data__,h.index,h.group);delete r[l]}else if(+l<e){h.state=jc;h.timer.stop();delete r[l]}}kc((function(){if(n.state===Pc){n.state=Fc;n.timer.restart(s,n.delay,n.time);s(a)}}));n.state=Uc;n.on.call("start",t,t.__data__,n.index,n.group);if(n.state!==Uc)return;n.state=Pc;i=new Array(f=n.tween.length);for(l=0,c=-1;l<f;++l){if(h=n.tween[l].value.call(t,t.__data__,n.index,n.group)){i[++c]=h}}i.length=c+1}function s(e){var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=Hc,1),a=-1,o=i.length;while(++a<o){i[a].call(null,r)}if(n.state===Hc){n.on.call("end",t,t.__data__,n.index,n.group);u()}}function u(){n.state=jc;n.timer.stop();delete r[e];for(var i in r)return;delete t.__transition}}function Gc(t,e){var n=t.__transition,r,i,a=true,o;if(!n)return;e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=false;continue}i=r.state>Uc&&r.state<Hc;r.state=jc;r.timer.stop();if(i)r.on.call("interrupt",t,t.__data__,r.index,r.group);delete n[o]}if(a)delete t.__transition}function qc(t){return this.each((function(){Gc(this,t)}))}function Xc(t,e){var n,r;return function(){var i=zc(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o){if(r[o].name===e){r=r.slice();r.splice(o,1);break}}}i.tween=r}}function $c(t,e,n){var r,i;if(typeof n!=="function")throw new Error;return function(){var a=zc(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u){if(i[u].name===e){i[u]=s;break}}if(u===l)i.push(s)}a.tween=i}}function Kc(t,e){var n=this._id;t+="";if(arguments.length<2){var r=Yc(this.node(),n).tween;for(var i=0,a=r.length,o;i<a;++i){if((o=r[i]).name===t){return o.value}}return null}return this.each((e==null?Xc:$c)(n,t,e))}function Zc(t,e,n){var r=t._id;t.each((function(){var t=zc(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}));return function(t){return Yc(t,r).value[e]}}function Qc(t,e){var n;return(typeof e==="number"?Xo:e instanceof Fa?zo:(n=Fa(e))?(e=n,zo):ts)(t,e)}function Jc(t){return function(){this.removeAttribute(t)}}function tf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ef(t,e,n){var r,i;return function(){var a=this.getAttribute(t);return a===n?null:a===r?i:i=e(r=a,n)}}function nf(t,e,n){var r,i;return function(){var a=this.getAttributeNS(t.space,t.local);return a===n?null:a===r?i:i=e(r=a,n)}}function rf(t,e,n){var r,i,a;return function(){var o,s=n(this);if(s==null)return void this.removeAttribute(t);o=this.getAttribute(t);return o===s?null:o===r&&s===i?a:a=e(r=o,i=s)}}function af(t,e,n){var r,i,a;return function(){var o,s=n(this);if(s==null)return void this.removeAttributeNS(t.space,t.local);o=this.getAttributeNS(t.space,t.local);return o===s?null:o===r&&s===i?a:a=e(r=o,i=s)}}function of(t,e){var n=o(t),r=n==="transform"?ps:Qc;return this.attrTween(t,typeof e==="function"?(n.local?af:rf)(n,r,Zc(this,"attr."+t,e)):e==null?(n.local?tf:Jc)(n):(n.local?nf:ef)(n,r,e+""))}function sf(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttributeNS(t.space,t.local,r(e))}}n._value=e;return n}function uf(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttribute(t,r(e))}}n._value=e;return n}function lf(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!=="function")throw new Error;var r=o(t);return this.tween(n,(r.local?sf:uf)(r,e))}function cf(t,e){return function(){Bc(this,t).delay=+e.apply(this,arguments)}}function ff(t,e){return e=+e,function(){Bc(this,t).delay=e}}function hf(t){var e=this._id;return arguments.length?this.each((typeof t==="function"?cf:ff)(e,t)):Yc(this.node(),e).delay}function df(t,e){return function(){zc(this,t).duration=+e.apply(this,arguments)}}function pf(t,e){return e=+e,function(){zc(this,t).duration=e}}function vf(t){var e=this._id;return arguments.length?this.each((typeof t==="function"?df:pf)(e,t)):Yc(this.node(),e).duration}function yf(t,e){if(typeof e!=="function")throw new Error;return function(){zc(this,t).ease=e}}function gf(t){var e=this._id;return arguments.length?this.each(yf(e,t)):Yc(this.node(),e).ease}function mf(t){if(typeof t!=="function")t=y(t);for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i){for(var a=e[i],o=a.length,s=r[i]=[],u,l=0;l<o;++l){if((u=a[l])&&t.call(u,u.__data__,l,a)){s.push(u)}}}return new Vf(r,this._parents,this._name,this._id)}function bf(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s){for(var u=e[s],l=n[s],c=u.length,f=o[s]=new Array(c),h,d=0;d<c;++d){if(h=u[d]||l[d]){f[d]=h}}}for(;s<r;++s){o[s]=e[s]}return new Vf(o,this._parents,this._name,this._id)}function _f(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");if(e>=0)t=t.slice(0,e);return!t||t==="start"}))}function wf(t,e,n){var r,i,a=_f(e)?Bc:zc;return function(){var o=a(this,t),s=o.on;if(s!==r)(i=(r=s).copy()).on(e,n);o.on=i}}function xf(t,e){var n=this._id;return arguments.length<2?Yc(this.node(),n).on.on(t):this.each(wf(n,t,e))}function Af(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;if(e)e.removeChild(this)}}function Sf(){return this.on("end.remove",Af(this._id))}function Tf(t){var e=this._name,n=this._id;if(typeof t!=="function")t=f(t);for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o){for(var s=r[o],u=s.length,l=a[o]=new Array(u),c,h,d=0;d<u;++d){if((c=s[d])&&(h=t.call(c,c.__data__,d,s))){if("__data__"in c)h.__data__=c.__data__;l[d]=h;Vc(l[d],e,n,d,l,Yc(c,n))}}}return new Vf(a,this._parents,e,n)}function Lf(t){var e=this._name,n=this._id;if(typeof t!=="function")t=p(t);for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s){for(var u=r[s],l=u.length,c,f=0;f<l;++f){if(c=u[f]){for(var h=t.call(c,c.__data__,f,u),d,v=Yc(c,n),y=0,g=h.length;y<g;++y){if(d=h[y]){Vc(d,e,n,y,h,v)}}a.push(h);o.push(c)}}}return new Vf(a,o,e,n)}var Ef=qt.prototype.constructor;function Nf(){return new Ef(this._groups,this._parents)}function Cf(t,e){var n,r,i;return function(){var a=K(this,t),o=(this.style.removeProperty(t),K(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function Mf(t){return function(){this.style.removeProperty(t)}}function kf(t,e,n){var r,i;return function(){var a=K(this,t);return a===n?null:a===r?i:i=e(r=a,n)}}function If(t,e,n){var r,i,a;return function(){var o=K(this,t),s=n(this);if(s==null)s=(this.style.removeProperty(t),K(this,t));return o===s?null:o===r&&s===i?a:a=e(r=o,i=s)}}function Of(t,e,n){var r=(t+="")==="transform"?ds:Qc;return e==null?this.styleTween(t,Cf(t,r)).on("end.style."+t,Mf(t)):this.styleTween(t,typeof e==="function"?If(t,r,Zc(this,"style."+t,e)):kf(t,r,e+""),n)}function Df(t,e,n){function r(){var r=this,i=e.apply(r,arguments);return i&&function(e){r.style.setProperty(t,i(e),n)}}r._value=e;return r}function Rf(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!=="function")throw new Error;return this.tween(r,Df(t,e,n==null?"":n))}function Uf(t){return function(){this.textContent=t}}function Pf(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function Ff(t){return this.tween("text",typeof t==="function"?Pf(Zc(this,"text",t)):Uf(t==null?"":t+""))}function Hf(){var t=this._name,e=this._id,n=zf();for(var r=this._groups,i=r.length,a=0;a<i;++a){for(var o=r[a],s=o.length,u,l=0;l<s;++l){if(u=o[l]){var c=Yc(u,e);Vc(u,t,n,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}}}return new Vf(r,this._parents,t,n)}var jf=0;function Vf(t,e,n,r){this._groups=t;this._parents=e;this._name=n;this._id=r}function Bf(t){return qt().transition(t)}function zf(){return++jf}var Yf=qt.prototype;Vf.prototype=Bf.prototype={constructor:Vf,select:Tf,selectAll:Lf,filter:mf,merge:bf,selection:Nf,transition:Hf,call:Yf.call,nodes:Yf.nodes,node:Yf.node,size:Yf.size,empty:Yf.empty,each:Yf.each,on:xf,attr:of,attrTween:lf,style:Of,styleTween:Rf,text:Ff,remove:Sf,tween:Kc,delay:hf,duration:vf,ease:gf};function Wf(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function Gf(t){return 1-Math.sqrt(1-t*t)}var qf={time:null,delay:0,duration:250,ease:Wf};function Xf(t,e){var n;while(!(n=t.__transition)||!(n=n[e])){if(!(t=t.parentNode)){return qf.time=xc(),qf}}return n}function $f(t){var e,n;if(t instanceof Vf){e=t._id,t=t._name}else{e=zf(),(n=qf).time=xc(),t=t==null?null:t+""}for(var r=this._groups,i=r.length,a=0;a<i;++a){for(var o=r[a],s=o.length,u,l=0;l<s;++l){if(u=o[l]){Vc(u,t,e,l,o,n||Xf(u,e))}}}return new Vf(r,this._parents,t,e)}qt.prototype.interrupt=qc;qt.prototype.transition=$f;var Kf=function(t){var e=t.data,n=t.tooltipLabel,r=t.dataKeyNames,i=t.xAxis,a=t.yAxis,o=t.dataLabel,s=t.layout,u=t.ordinalAccessor,l=t.valueAccessor,c=t.xAccessor,f=t.yAccessor,h=t.groupAccessor,d=t.sizeConfig,p=t.diffLabelDetails,v=t.normalized,y=t.chartType;if(n&&n.labelAccessor.length>0){var g="";n.labelAccessor.map((function(t,i){var a=n.labelTitle&&n.labelTitle[i]!==""?n.labelTitle[i]+": ":r&&r[t]?r[t]+": ":"";g+=a+"<b>"+(n.format&&n.format[i]?e[t]instanceof Date?wr({date:e[t],format:n.format[i],offsetTimezone:true}):v&&n.format[i]==="normalized"?nc(e,t,o.format,t===l):!isNaN(parseFloat(e[t]))?xe(e[t],n.format[i]):e[t]:e[t])+" </b><br/>"}));g.replace(",","");return g}else{var m="";var b=i&&a?c||u:u;var _=i&&a?f||l:l;var w=d?d.sizeAccessor:"";var x=r&&r[b]?r[b]:i&&a?s==="horizontal"?a.label:i.label:b;var A=r&&r[_]?r[_]:i&&a?s==="horizontal"?i.label:a.label:_;var S=r&&r[w]?r[w]:w;if(y==="bar"){m="\n      <b>"+(h&&e[h]?e[h]+"<br/>":"")+" </b>\n      "+(Gi(x)+": <b>"+e[u])+" </b><br/> \n        "+(Gi(A)+":")+"\n        <b>"+xe(e[l],o.format)+"</b>"}else if(y==="pie"){m="\n        "+(Gi(x)+": <b>"+e[u])+" </b><br/> \n        "+(v?Gi(A)+" (%): <b>"+nc(e,l,"0[.][0]%",v)+"</b><br/>":"")+"\n        "+(Gi(A)+": ")+"\n        <b>"+xe(e[l],o.format==="normalized"?"0[.][0]a":o.format)+"</b>\n      "}else if(y==="scatter"){m="\n        <b>"+(h&&e[h]?e[h]+"<br/>":"")+" </b>\n        "+(Gi(x)+":")+" \n        <b>"+xe(e[c],i.format||"")+" </b><br/>\n        "+(Gi(A)+":")+" \n        <b>"+xe(e[f],a.format||"")+"</b>\n        "+(d&&d.sizeAccessor?"<br/>"+Gi(S)+":":"")+" \n        "+(d&&d.sizeAccessor?"<b>"+xe(e[d.sizeAccessor],d.format||o.format||"")+"</b>":"")}else if(y==="line"||y==="parallel"){m="\n        <b>"+(h&&e[h]?e[h]+"<br/>":"")+"</b>\n        "+(Gi(x)+":")+" \n        <b>"+(e[u]instanceof Date?wr({date:e[u],format:i.format,offsetTimezone:true}):e[u])+" </b><br/>\n        "+(Gi(A)+":")+" \n        <b>"+xe(e[l],o.format||"")+"</b>"}else if(y==="stacked"||y==="clustered"){m="\n        <b>"+(e[h]+"<br/>")+"</b>\n        "+(Gi(x)+":")+" \n        <b>"+e[u]+" </b><br/> \n        "+(v?Gi(A)+" (%): <b>"+nc(e,l,"0[.][0]%",v)+"</b><br/>":"")+"\n        "+(Gi(A)+": ")+"\n        <b>"+xe(e[l],o.format==="normalized"?"0[.][0]a":o.format)+"</b>\n      "}else if(y==="heat-map"){m="\n        "+(Gi(x)+":")+" \n        <b>"+(e[c]instanceof Date?wr({date:e[c],format:i.format,offsetTimezone:true}):e[c])+" </b><br/>\n        "+(Gi(A)+":")+" \n        <b>"+(e[f]instanceof Date?wr({date:e[f],format:a.format,offsetTimezone:true}):e[f])+" </b><br/>\n        "+(Gi(r&&r[l]?r[l]:l)+":")+"\n        <b>"+xe(e[l],o.format||"")+"</b>"}else if(y==="circle-packing"){m="\n        <b>"+Gi(e[u])+" </b><br/>\n        "+(Gi(r&&r[h]?r[h]:h)+": <b>"+e[h])+" </b><br/>\n        "+(Gi(r&&r[l]?r[l]:l)+":")+"\n        <b>"+xe(e[l],o.format||"")+"</b>"}else if(y==="world-map"){m="\n        <b>"+(h&&e[h]?e[h]+"<br/>":"")+" </b>\n        <b>"+e[c]+" ("+e[f]+") </b><br/>\n          "+(r&&r[l]?r[l]:l)+": \n          <b>"+xe(e[l],o.format||"")+"</b>"}else if(y==="dumbbell"){if(e&&e.key&&e.values){m="<b>\n          "+(e.values[0][u]instanceof Date?wr({date:e.values[0][u],format:i.format,offsetTimezone:true}):e.values[0][u])+" </b><br/>"+"Difference: "+("<b>"+(o.format?xe(e[p.calculation],o.format):e[p.calculation])+" <br/></b>")+e.values[0][h]+": "+("<b>"+(o.format?xe(e.values[0][l],o.format):e.values[0][l])+" </b><br/>")+e.values[1][h]+": "+("<b>"+(o.format?xe(e.values[1][l],o.format):e.values[1][l])+"</b>\n        ")}else{m="<b>\n        "+(e[u]instanceof Date?wr({date:e[u],format:i.format,offsetTimezone:true}):e[u])+" </b><br/>"+e[h]+": "+("<b>"+(o.format?xe(e[l],o.format):e[l])+"</b>\n        ")}}else if(y==="alluvial-diagram"){m="\n      <b>"+(h&&e[h]?e[h]+"<br/>":"")+" </b>\n      <b>"+Gi(e[c])+"</b> to <b>"+Gi(e[f])+" </b><br/>\n      "+(Gi(r&&r[l]?r[l]:l)+":")+"\n      <b>"+(o&&o.format?xe(e[l],o.format):e[l])+"</b>"}return m}};var Zf=function(t,e){var n="visa-viz-padding-container-g-";var r=Xt("#"+n+t);if(e){if(r.select("title").size()===0){r.append("title").text("")}}else{r.select("title").remove()}};var Qf=function(t){t.style("position","absolute").style("padding","0.5rem").style("opacity",0).style("background-color","#ffffff").style("font-size","14px").style("font-weight","400").style("color","#222222").style("border","1px solid #565656").style("border-radius","3px").style("pointer-events","none").style("min-width","80px").style("max-width","300px").style("z-index",10);t.append("p").style("margin",0)};var Jf=function(t){var e=t.root,n=t.data,r=t.event,i=t.isToShow,a=t.tooltipLabel,o=t.dataKeyNames,s=t.xAxis,u=t.yAxis,l=t.dataLabel,c=t.layout,f=t.ordinalAccessor,h=t.valueAccessor,d=t.xAccessor,p=t.yAccessor,v=t.groupAccessor,y=t.sizeConfig,g=t.diffLabelDetails,m=t.normalized,b=t.chartType;var _=function(){var t=[r.pageX,r.pageY];var i=Kf({data:n,tooltipLabel:a,dataKeyNames:o,xAxis:s,yAxis:u,dataLabel:l,layout:c,ordinalAccessor:f,valueAccessor:h,xAccessor:d,yAccessor:p,groupAccessor:v,sizeConfig:y,diffLabelDetails:g,normalized:m,chartType:b});var _=e.node().parentElement.getBoundingClientRect();e.style("left","0px").style("top","0px");e.select("p").html(i);var w=e.node().getBoundingClientRect();var x=(document.body.scrollLeft||0)+(document.documentElement.scrollLeft||0);var A=_.width/2-(t[0]-w.left-x)<0?w.width:0;var S=(document.body.scrollTop||0)+(document.documentElement.scrollTop||0);e.style("left",t[0]-w.left-x-A+"px").style("top",t[1]-w.top-w.height-S+"px").transition(Bf().duration(200)).style("opacity",1)};var w=function(){e.transition(Bf().duration(500)).style("opacity",0)};if(e){i?_():w();Pi(e.node());Yi(i)}};var th=function(t,e){var n=e%t.length;return t[n===0?0:n]};var eh={pri_grey:"#5C5C5C",sec_blue:"#003ea9",sec_orange:"#ef8400",sec_yellow:"#ffd700",comp_blue:"#2bb4da",comp_green:"#00a25e",supp_pink:"#ae48b4",supp_purple:"#7f48b4",supp_green:"#649f4a",supp_red:"#a50026",base_grey:"#D7D7DE",light_text:"#ffffff",grey_text:"#565656",dark_text:"#222222",oss_blue:"#0051dc",oss_light_blue:"#7FA8ED",oss_dark_grey:"#363636",oss_light_grey:"#D7D7D7",categorical_blue:"#226092",categorical_light_blue:"#7c99b1",categorical_blue_text:"#164d79",categorical_purple:"#796aaf",categorical_light_purple:"#cacae7",categorical_purple_text:"#66589b",categorical_olive:"#829e46",categorical_light_olive:"#abb798",categorical_olive_text:"#498329",categorical_grey:"#7a6763",categorical_light_grey:"#a19491",categorical_grey_text:"#6e5a55",categorical_rose:"#c18174",categorical_light_rose:"#e7c0b8",categorical_rose_text:"#954737",categorical_brown:"#43312d",categorical_light_brown:"#624c48",categorical_brown_text:"#43312d"};function nh(t){var e=eh[t]||t;return Qa(e).darker(1.5).hex()}function rh(t){var e=eh[t]||t;var n=ou().domain([0,.45]).range([4,2]);return Qa(e).brighter(n(Qa(e).l)).hex()}function ih(t){var e=eh[t]||t;return Qa(e).l>.4?nh(e):rh(e)}var ah=[[7],[7],[2,6],[0,3,6],[0,2,4,6],[0,1,3,5,7],[1,2,3,4,5,6],[0,1,2,3,4,5,6],[0,1,2,3,4,5,6,7]];var oh=[[0],[0],[0,9],[0,4,9],[0,3,6,9],[0,2,4,6,9],[0,2,4,5,7,9],[0,1,2,4,7,8,9],[0,1,2,3,6,7,8,9],[0,1,2,3,4,6,7,8,9],[0,1,2,3,4,5,6,7,8,9]];var sh=[[0],[0],[0,1],[0,1,2],[0,1,2,3],[0,1,2,3,4],[0,1,2,3,4,5],[0,1,2,3,4,5,6],[0,1,2,3,4,5,6,7],[0,1,2,3,4,5,6,7,8],[0,1,2,3,4,5,6,7,8,9]];function uh(t,e){var n=[];n["single_blue"]=[eh.categorical_blue];n["single_brown"]=[eh.categorical_brown];n["single_grey"]=[eh.pri_grey];n["single_secBlue"]=[eh.sec_blue];n["single_secOrange"]=[eh.sec_orange];n["single_compBlue"]=[eh.comp_blue];n["single_compGreen"]=[eh.comp_green];n["single_suppPink"]=[eh.supp_pink];n["single_suppPurple"]=[eh.supp_purple];n["single_suppGreen"]=[eh.supp_green];n["single_ossBlue"]=[eh.oss_blue];n["single_ossLightBlue"]=[eh.oss_light_blue];n["single_ossGrey"]=[eh.oss_dark_grey];n["single_ossLightGrey"]=[eh.oss_light_grey];n["single_categorical_blue"]=[eh.categorical_blue];n["single_categorical_light_blue"]=[eh.categorical_light_blue];n["single_categorical_blue_text"]=[eh.categorical_blue_text];n["single_categorical_purple"]=[eh.categorical_purple];n["single_categorical_light_purple"]=[eh.categorical_light_purple];n["single_categorical_purple_text"]=[eh.categorical_purple_text];n["single_categorical_olive"]=[eh.categorical_olive];n["single_categorical_light_olive"]=[eh.categorical_light_olive];n["single_categorical_olive_text"]=[eh.categorical_olive_text];n["single_categorical_grey"]=[eh.categorical_grey];n["single_categorical_light_grey"]=[eh.categorical_light_grey];n["single_categorical_grey_text"]=[eh.categorical_grey_text];n["single_categorical_rose"]=[eh.categorical_rose];n["single_categorical_light_rose"]=[eh.categorical_light_rose];n["single_categorical_rose_text"]=[eh.categorical_rose_text];n["single_categorical_brown"]=[eh.categorical_brown];n["single_categorical_light_brown"]=[eh.categorical_light_brown];n["single_categorical_brown_text"]=[eh.categorical_brown_text];n["sequential_grey"]=["#f2f2f2","#d7d7d7","#bdbdbd","#a3a3a3","#898989","#717171","#595959","#434343","#2e2e2e"];n["sequential_secBlue"]=["#ecf9f9","#c0e0f1","#91c8ea","#57b0e2","#0c96d7","#1778c7","#145bb8","#003da8","#002c76"];n["sequential_secOrange"]=["#fee9c7","#ffc78d","#faa654","#ef8506","#e36001","#c04e04","#9c3d05","#7b2c05","#5c1c00"];n["sequential_compBlue"]=["#f3fbfe","#bde3f2","#81cae6","#2ab1d7","#2294b5","#1b7994","#135d74","#0c4557","#062c3a"];n["sequential_compGreen"]=["#eafed4","#bae7b4","#89cf95","#53b677","#009e5c","#00814b","#00663b","#004b2b","#00321d"];n["sequential_suppPink"]=["#f8f4f9","#f3cef3","#eca6ed","#e37ce6","#d74adf","#aa45af","#86378a","#632a66","#421b44"];n["sequential_suppPurple"]=["#f7fcfd","#e3daec","#cebadd","#b59acc","#977ebb","#7367a5","#554f87","#423667","#331d48"];n["sequential_suppGreen"]=["#ffffe5","#deebc3","#bed6a2","#9ec283","#7fae61","#5e9a48","#448340","#286e3a","#005a32"];n["diverging_RtoB"]=["#a50026","#c7422a","#df7232","#f3a14b","#ffcf7b","#afdbf1","#7ab7e5","#5390d1","#386bb6","#2d4697"];n["diverging_RtoG"]=["#972800","#ba4d18","#df7131","#f0a04e","#fecd6e","#bcdeba","#72c1a7","#529f8e","#307e75","#015e5d"];n["diverging_GtoP"]=["#194f46","#377258","#57976f","#7abb8c","#a6e0b5","#bbd4f9","#aba6ea","#9879d2","#7655b2","#3c3f85"];n["categorical"]=["#7c99b1","#cacae7","#abb798","#a19491","#e7c0b8","#624c48"];n["categorical_light"]=["#7c99b1","#cacae7","#abb798","#a19491","#e7c0b8","#624c48"];n["categorical_dark"]=["#226092","#796aaf","#829e46","#7a6763","#c18174","#43312d"];n["categorical_text"]=["#164d79","#66589b","#498329","#6e5a55","#954737","#43312d"];var r=typeof t==="string"?n[t]:t;if(Array.isArray(e)){var i=void 0;if(typeof e[0]==="string"){var a=[];var o=t.includes("diverging")?oh:t.includes("categorical")?sh:ah;typeof t==="string"&&o[e.length]?o[e.length].map((function(t){r[t]?a.push(r[t]):a.push(r[0])})):a=r;i=ga().domain(e).range(a)}else{i=du().domain(e).range(r)}return i}else if(Number.isInteger(e)){var s=[];var o=t.includes("diverging")?oh:t.includes("categorical")?sh:ah;o[e]?o[e].map((function(t){r[t]?s.push(r[t]):s.push(r[0])})):s=r;return s}else return r}function lh(t){var e=[];e.push(hh(t));var n=vh(ph(t),1);if(n>=3){e.push(t)}return e}function ch(t,e){var n={};var r=ph(t);var i=ph(e);var a=vh(r,1);var o=vh(i,1);n[t]={};n[e]={};n[t].min=a-3>1?a-3:1;n[t].max=a+3<21?a+3:21;n[e].min=o-3>1?o-3:1;n[e].max=o+3<21?o+3:21;var s=n[t].max>=n[e].max?t:e;var u=n[t].min<=n[e].min?t:e;var l=n[u].min;var c=n[s].max;var f={dark:21-c>0?21-c:0,light:l-1>0?l-1:0};var h="";var d="";var p="";if(u===t&&n[t].max<n[e].min){d="darken";p=t}else if(s===t&&n[t].min>n[e].max){d="lighten";p=t}if(d){var v=fh(p,d,3);var y=ph(v);h=vh(i,y)>=3?v:0}if(!h){if(s===t&&f.dark){d="darken";p=t}else if(u===t&&f.light){d="lighten";p=t}h=d?fh(p,d,3):""}if(!h){if(f.dark>f.light){d="darken";p=e}else{d="lighten";p=e}h=d?fh(p,d,3):""}if(!h){h=t}return h}function fh(t,e,n){var r=ph(t);var i=Qa(t);var a=false;var o=false;if(e==="darken"){i.l-=.01;while(vh(ph(i.hex()),r)<n&&!o){i.l-=.01;if(a){o=true}if(i.l<0){i.l=0;a=true}}}else{i.l+=.01;while(vh(ph(i.hex()),r)<n&&!o){i.l+=.01;if(a){o=true}if(i.l>1){i.l=1;a=true}}}return!o?i.hex():""}function hh(t){var e=ph(t);var n=vh(e,1);var r=Qa(t);if(n<3){r.l-=.01;while(r.l>0&&vh(ph(r.hex()),e)<3&&r.l){r.l-=.01;if(r.l<0){r.l=0}}}else{r.l+=.01;while(vh(ph(r.hex()),e)<3&&r.l!==1){r.l+=.01;if(r.l>1){r.l=1}}}return r.hex()}function dh(t){var e=ph(t);var n=vh(e,1);var r=Qa(t);if(n<4.5){r.l-=.01;while(r.l>0&&vh(ph(r.hex()),1)<4.5&&r.l){r.l-=.01;if(r.l<0){r.l=0}}}return r.hex()}function ph(t){function e(t){return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}var n=Ba(t);var r=.2126*e(n.r/255);var i=.7152*e(n.g/255);var a=.0722*e(n.b/255);return r+i+a}function vh(t,e){return t>=e?(t+.05)/(e+.05):(e+.05)/(t+.05)}function yh(t){var e=ph(eh["light_text"]);var n=ph(eh["dark_text"]);var r=ph(t);var i=vh(e,r);var a=vh(n,r);return a<4.5&&i<4.5?eh["dark_text"]:a>i?eh["dark_text"]:eh["light_text"]}function gh(t){if(t[0].includes("_")){t.map((function(e,n){return t[n]=eh[e]}))}return t}function mh(t){var e=eh[t]||t;return e}function bh(t,e,n){if(n){e.apply(this,arguments)}else{var r=0;t.each((function(){++r})).on("end",(function(){if(!--r)e.apply(this,arguments)}))}}var _h={categorical:[[0],[0],[0,1],[0,1,2],[0,1,2,3],[0,1,2,3,4],[0,1,2,3,4,5]],sequential:[[0],[0],[0,8],[0,4,8],[1,3,5,7],[0,2,4,6,8],[1,2,3,4,5,6],[1,2,3,4,5,6,7],[0,1,2,3,4,5,6,7],[0,1,2,3,4,5,6,7,8]],diverging_center:[,[5],,[0,5,10],,[1,3,5,7,9],,[2,3,4,5,6,7,8],,[1,2,3,4,5,6,7,8,9],,[0,1,2,3,4,5,6,7,8,9,10]],diverging_split:[,,[1,8],,[0,3,6,9],,[0,2,4,5,7,9],,[0,1,2,3,6,7,8,9],,[0,1,2,3,4,5,6,7,8,9]]};function wh(t){var e=t.scheme,n=t.id,r=t.index,i=t.fillColor,a=t.textureColor;var o={categorical:[{attributes:{width:12,height:12,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"12",height:"12",fill:""+i}},{name:"path",attributes:{d:"M 0,0 l 12,12 M -3,9 l 6,6 M 9,-3 l 6,6","stroke-width":"1","shape-rendering":"auto",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:12,height:12,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"12",height:"12",fill:""+i}},{name:"circle",attributes:{cx:"6",cy:"6",r:"1",fill:""+a,stroke:"#343434","stroke-width":"0"}},{name:"circle",attributes:{cx:"0",cy:"0",r:"1",fill:""+a,stroke:"#343434","stroke-width":"0"}},{name:"circle",attributes:{cx:"0",cy:"12",r:"1",fill:""+a,stroke:"#343434","stroke-width":"0"}},{name:"circle",attributes:{cx:"12",cy:"0",r:"1",fill:""+a,stroke:"#343434","stroke-width":"0"}},{name:"circle",attributes:{cx:"12",cy:"12",r:"1",fill:""+a,stroke:"#343434","stroke-width":"0"}}]},{attributes:{width:24,height:24,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"24",height:"24",fill:""+i}},{name:"path",attributes:{d:"M 0,0 l 24,24 M -6,18 l 12,12 M 18,-6 l 12,12","stroke-width":"1","shape-rendering":"auto",stroke:""+a,"stroke-linecap":"square"}},{name:"path",attributes:{d:"M 0,24 l 24,-24 M -6,6 l 12,-12 M 18,30 l 12,-12","stroke-width":"1","shape-rendering":"auto",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:12,height:12,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"12",height:"12",fill:""+i}},{name:"path",attributes:{d:"M 4.5,4.5l3,3M4.5,7.5l3,-3",fill:"transparent",stroke:""+a,"stroke-width":"1","stroke-linecap":"square","shape-rendering":"auto"}}]},{attributes:{width:10,height:10,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"10",height:"10",fill:""+i}},{name:"path",attributes:{d:"M 5, 0 l 0, 10","stroke-width":"1","shape-rendering":"auto",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:12,height:12,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"12",height:"12",fill:""+i}},{name:"circle",attributes:{cx:"6",cy:"6",r:"1.5",fill:"none",stroke:""+a,"stroke-width":"1"}},{name:"circle",attributes:{cx:"2",cy:"10",r:"1.5",fill:"none",stroke:""+a,"stroke-width":"1"}},{name:"circle",attributes:{cx:"10",cy:"2",r:"1.5",fill:"none",stroke:""+a,"stroke-width":"1"}}]}],sequential:[{attributes:{width:10,height:10,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"10",height:"10",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 0 L 10 0M 0 10 L 10 10","stroke-width":"1",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:52.40843064167849,height:10.187166949552141,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"52.40843064167849",height:"10.187166949552141",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -52.40843064167849 10.187166949552141 L 52.40843064167849 -10.187166949552141M -52.40843064167849 20.374333899104283 L 104.81686128335699 -10.187166949552141M 0 20.374333899104283 L 104.81686128335699 0","stroke-width":"2",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:26.694671625540145,height:10.785347426775834,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"26.694671625540145",height:"10.785347426775834",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -26.694671625540145 10.785347426775834 L 26.694671625540145 -10.785347426775834M -26.694671625540145 21.570694853551668 L 53.38934325108029 -10.785347426775834M 0 21.570694853551668 L 53.38934325108029 0","stroke-width":"3",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:17.882916499714003,height:12.062179485039053,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"17.882916499714003",height:"12.062179485039053",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -17.882916499714003 12.062179485039053 L 17.882916499714003 -12.062179485039053M -17.882916499714003 24.124358970078106 L 35.76583299942801 -12.062179485039053M 0 24.124358970078106 L 35.76583299942801 0","stroke-width":"4",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:14.142135623730951,height:14.14213562373095,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"14.142135623730951",height:"14.14213562373095",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -14.142135623730951 14.14213562373095 L 14.142135623730951 -14.14213562373095M -14.142135623730951 28.2842712474619 L 28.284271247461902 -14.14213562373095M 0 28.2842712474619 L 28.284271247461902 0","stroke-width":"5",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:12.062179485039053,height:17.882916499714003,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"12.062179485039053",height:"17.882916499714003",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -12.062179485039053 17.882916499714003 L 12.062179485039053 -17.882916499714003M -12.062179485039053 35.76583299942801 L 24.124358970078106 -17.882916499714003M 0 35.76583299942801 L 24.124358970078106 0","stroke-width":"6",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:10.863603774052963,height:25.593046652474495,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"10.863603774052963",height:"25.593046652474495",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -10.863603774052963 25.593046652474495 L 10.863603774052963 -25.593046652474495M -10.863603774052963 51.18609330494899 L 21.727207548105927 -25.593046652474495M 0 51.18609330494899 L 21.727207548105927 0","stroke-width":"7",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:10.187166949552141,height:52.40843064167844,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"10.187166949552141",height:"52.40843064167844",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -10.187166949552141 52.40843064167844 L 10.187166949552141 -52.40843064167844M -10.187166949552141 104.81686128335689 L 20.374333899104283 -52.40843064167844M 0 104.81686128335689 L 20.374333899104283 0","stroke-width":"8",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:10,height:10,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"10",height:"10",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 0 L 0 10M 10 0 L 10 10","stroke-width":"9",stroke:""+a,"stroke-linecap":"square"}}]}],diverging_split:[{attributes:{width:10.35276180410083,height:38.63703305156273,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"10.35276180410083",height:"38.63703305156273",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -38.63703305156273 L 20.70552360820166 38.63703305156273M -10.35276180410083 -38.63703305156273 L 10.35276180410083 38.63703305156273M -10.35276180410083 0 L 10.35276180410083 77.27406610312546","stroke-width":"9",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:11.547005383792516,height:20.000000000000004,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"11.547005383792516",height:"20.000000000000004",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -20.000000000000004 L 23.094010767585033 20.000000000000004M -11.547005383792516 -20.000000000000004 L 11.547005383792516 20.000000000000004M -11.547005383792516 0 L 11.547005383792516 40.00000000000001","stroke-width":"7",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:14.142135623730951,height:14.142135623730951,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"14.142135623730951",height:"14.142135623730951",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -14.142135623730951 L 28.284271247461902 14.142135623730951M -14.142135623730951 -14.142135623730951 L 14.142135623730951 14.142135623730951M -14.142135623730951 0 L 14.142135623730951 28.284271247461902","stroke-width":"5",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:20.000000000000004,height:11.547005383792516,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"20.000000000000004",height:"11.547005383792516",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -11.547005383792516 L 40.00000000000001 11.547005383792516M -20.000000000000004 -11.547005383792516 L 20.000000000000004 11.547005383792516M -20.000000000000004 0 L 20.000000000000004 23.094010767585033","stroke-width":"3",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:38.63703305156273,height:10.35276180410083,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"38.63703305156273",height:"10.35276180410083",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -10.35276180410083 L 77.27406610312546 10.35276180410083M -38.63703305156273 -10.35276180410083 L 38.63703305156273 10.35276180410083M -38.63703305156273 0 L 38.63703305156273 20.70552360820166","stroke-width":"1",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:38.63703305156273,height:10.35276180410083,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"38.63703305156273",height:"10.35276180410083",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -38.63703305156273 10.35276180410083 L 38.63703305156273 -10.35276180410083M -38.63703305156273 20.70552360820166 L 77.27406610312546 -10.35276180410083M 0 20.70552360820166 L 77.27406610312546 0","stroke-width":"1",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:20.000000000000004,height:11.547005383792515,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"20.000000000000004",height:"11.547005383792515",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -20.000000000000004 11.547005383792515 L 20.000000000000004 -11.547005383792515M -20.000000000000004 23.09401076758503 L 40.00000000000001 -11.547005383792515M 0 23.09401076758503 L 40.00000000000001 0","stroke-width":"3",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:14.142135623730951,height:14.14213562373095,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"14.142135623730951",height:"14.14213562373095",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -14.142135623730951 14.14213562373095 L 14.142135623730951 -14.14213562373095M -14.142135623730951 28.2842712474619 L 28.284271247461902 -14.14213562373095M 0 28.2842712474619 L 28.284271247461902 0","stroke-width":"5",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:11.547005383792516,height:20.000000000000004,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"11.547005383792516",height:"20.000000000000004",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -11.547005383792516 20.000000000000004 L 11.547005383792516 -20.000000000000004M -11.547005383792516 40.00000000000001 L 23.094010767585033 -20.000000000000004M 0 40.00000000000001 L 23.094010767585033 0","stroke-width":"7",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:10.35276180410083,height:38.637033051562696,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"10.35276180410083",height:"38.637033051562696",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -10.35276180410083 38.637033051562696 L 10.35276180410083 -38.637033051562696M -10.35276180410083 77.27406610312539 L 20.70552360820166 -38.637033051562696M 0 77.27406610312539 L 20.70552360820166 0","stroke-width":"9",stroke:""+a,"stroke-linecap":"square"}}]}],diverging_center:[{attributes:{width:12.423314164920995,height:46.36443966187528,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"12.423314164920995",height:"46.36443966187528",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -46.36443966187528 L 24.84662832984199 46.36443966187528M -12.423314164920995 -46.36443966187528 L 12.423314164920995 46.36443966187528M -12.423314164920995 0 L 12.423314164920995 92.72887932375056","stroke-width":"11",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:13.85640646055102,height:24.000000000000004,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"13.85640646055102",height:"24.000000000000004",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -24.000000000000004 L 27.71281292110204 24.000000000000004M -13.85640646055102 -24.000000000000004 L 13.85640646055102 24.000000000000004M -13.85640646055102 0 L 13.85640646055102 48.00000000000001","stroke-width":"9",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:16.970562748477143,height:16.970562748477143,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"16.970562748477143",height:"16.970562748477143",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -16.970562748477143 L 33.941125496954285 16.970562748477143M -16.970562748477143 -16.970562748477143 L 16.970562748477143 16.970562748477143M -16.970562748477143 0 L 16.970562748477143 33.941125496954285","stroke-width":"7",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:24.000000000000004,height:13.85640646055102,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"24.000000000000004",height:"13.85640646055102",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -13.85640646055102 L 48.00000000000001 13.85640646055102M -24.000000000000004 -13.85640646055102 L 24.000000000000004 13.85640646055102M -24.000000000000004 0 L 24.000000000000004 27.71281292110204","stroke-width":"5",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:46.36443966187528,height:12.423314164920995,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"46.36443966187528",height:"12.423314164920995",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -12.423314164920995 L 92.72887932375056 12.423314164920995M -46.36443966187528 -12.423314164920995 L 46.36443966187528 12.423314164920995M -46.36443966187528 0 L 46.36443966187528 24.84662832984199","stroke-width":"3",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:12,height:12,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"12",height:"12",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 0 L 12 0M 0 12 L 12 12","stroke-width":"1",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:46.36443966187528,height:12.423314164920995,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"46.36443966187528",height:"12.423314164920995",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -46.36443966187528 12.423314164920995 L 46.36443966187528 -12.423314164920995M -46.36443966187528 24.84662832984199 L 92.72887932375056 -12.423314164920995M 0 24.84662832984199 L 92.72887932375056 0","stroke-width":"3",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:24.000000000000004,height:13.856406460551018,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"24.000000000000004",height:"13.856406460551018",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -24.000000000000004 13.856406460551018 L 24.000000000000004 -13.856406460551018M -24.000000000000004 27.712812921102035 L 48.00000000000001 -13.856406460551018M 0 27.712812921102035 L 48.00000000000001 0","stroke-width":"5",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:16.970562748477143,height:16.97056274847714,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"16.970562748477143",height:"16.97056274847714",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -16.970562748477143 16.97056274847714 L 16.970562748477143 -16.97056274847714M -16.970562748477143 33.94112549695428 L 33.941125496954285 -16.97056274847714M 0 33.94112549695428 L 33.941125496954285 0","stroke-width":"7",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:13.85640646055102,height:24.000000000000004,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"13.85640646055102",height:"24.000000000000004",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -13.85640646055102 24.000000000000004 L 13.85640646055102 -24.000000000000004M -13.85640646055102 48.00000000000001 L 27.71281292110204 -24.000000000000004M 0 48.00000000000001 L 27.71281292110204 0","stroke-width":"9",stroke:""+a,"stroke-linecap":"square"}}]},{attributes:{width:12.423314164920995,height:46.36443966187523,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"12.423314164920995",height:"46.36443966187523",fill:""+i,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -12.423314164920995 46.36443966187523 L 12.423314164920995 -46.36443966187523M -12.423314164920995 92.72887932375046 L 24.84662832984199 -46.36443966187523M 0 92.72887932375046 L 24.84662832984199 0","stroke-width":"11",stroke:""+a,"stroke-linecap":"square"}}]}]};return o[e][r]}var xh=function(t,e){var n=false;var r=0;while(!n&&r<e.length){var i=e[r];var a=i.numeric?parseFloat(t.attr(i.attr)):t.attr(i.attr);n=!(a===i.newValue);r++}return n};function Ah(t,e,n){var r=Xt(t);var i=r.select("defs");if(!i.size()){i=r.append("defs")}var a=i.selectAll(".VCL-texture-pattern").data(e,(function(t){return t.scheme+t.index}));var o=a.enter().append("pattern");var s=a.merge(o);s.transition("exit").duration(!n?750:0).call(bh,(function(){a.exit().remove()}));s.each((function(t,e,n){var r=Object.keys(t.attributes);var i=Xt(n[e]);r.forEach((function(e){i.attr(e,t.attributes[e])}))})).attr("patternContentUnits","userSpaceOnUse").attr("x",0).attr("y",0);var u=s.selectAll(".VCL-t-p-e").data((function(t){return t.children}),(function(t,e){return t.name+e}));u.exit().remove();var l=u.enter().append((function(t){return document.createElementNS("http://www.w3.org/2000/svg",t.name)})).attr("class","VCL-t-p-e");var c=u.merge(l);c.each((function(t,e,n){var r=Xt(n[e]);var i=Object.keys(t.attributes);i.forEach((function(e){r.attr(e,t.attributes[e])}))}))}function Sh(t){var e=t.colors,n=t.rootSVG,r=t.id,i=t.scheme,a=t.disableTransitions;var o=[];var s=[];var u=0;var l=e.range?e.range():e;l.forEach((function(t){var n=r+"_texture_"+u;var a=Th(t,u,l,i);var c=wh({scheme:a.textureScheme,id:n,index:_h[a.textureScheme][e.length][u],fillColor:a.fillColor,textureColor:a.textureColor});c.scheme=a.textureScheme;c.index=_h[a.textureScheme][e.length][u];s.push(c);o.push(ji(n));u++}));Ah(n,s,a);return o}var Th=function(t,e,n,r){var i=n[0];var a=n[n.length-1];var o=r==="categorical"||!r?"categorical":r==="sequential"?"sequential":n.length%2?"diverging_center":"diverging_split";if(o==="categorical"){a=hh(t);i=t}else if(o!=="sequential"){if(o.includes("center")){var s=(n.length-1)/2-1;var u=s+1;var l=u+1;if(e<=s){a=n[0];i=n[s]}else if(e>=l){a=n[n.length-1];i=n[l]}else{a=hh(t);i=t}}else{var c=n.length/2;if(e<c){a=n[0];i=n[c-1]}else{a=n[n.length-1];i=n[c]}}}return{fillColor:i,textureColor:a,textureScheme:o}};var Lh=function(t){Xt(t).selectAll(".VCL-accessibility-stroke-filter").remove()};var Eh=function(t){var e=t.root,n=t.id,r=t.color,i=t.strokeSizeOverride;var a=r[0]==="#"?r.substr(1):r;var o=((i||"")+"").replace(".","p");var s="VCL-t-s-f-"+a+o;var u=s+n+o;var l=Xt(e).select("."+s);if(!l.size()){var c=Xt(e).select("defs");if(!c.size()){c=Xt(e).append("defs")}l=c.append("filter").attr("id",u).attr("class",s);l.append("feMorphology").attr("in","SourceAlpha").attr("result","dilatedText").attr("operator","dilate").attr("radius",i||1.5);l.append("feFlood").attr("flood-color",r||"#ffffff").attr("flood-opacity",1).attr("result","whiteTextFlood");l.append("feComposite").attr("in","whiteTextFlood").attr("in2","dilatedText").attr("operator","in").attr("result","textOutline");var f=l.append("feMerge");f.append("feMergeNode").attr("in","textOutline");if(!i){f.append("feMergeNode").attr("in","textOutline");f.append("feMergeNode").attr("in","textOutline")}f.append("feMergeNode").attr("in","SourceGraphic")}else{l.attr("id",u)}return ji(u)};var Nh=function(t){var e=t.root,n=t.id,r=t.state,i=t.fillColor,a=t.strokeWidth,o=t.forceStrokeColor,s=t.includeOuterStroke,u=t.strokeOnHover,l=t.alwaysShowStroke,c=t.stacked;var f=Xt(e).select("defs");var h=lh(i);var d=(r!=="hover"||u)&&(h.length===1||r==="click")?h[0]:i;var p=i;var v=h[1]||"";var y=s?"#ffffff":"";var g="VCL-filter-"+(d[0]==="#"?d.substring(1):d)+"-"+r+"-"+n;if(f.select("#"+g).size()){f.select("#"+g).remove()}var m=f.append("filter").attr("id",g).attr("class","VCL-accessibility-stroke-filter");var b=Ch(r!=="hover"&&o?o:d,p,d!==i||r==="hover"||l?a:0,y,v,!c?0:.5);b.forEach((function(t){m.append("feMorphology").attr("in","SourceAlpha").attr("operator",t.operator).attr("radius",t.radius).attr("result",t.result?t.result+"-morph":"morph-"+t.operator+"-"+t.radius);if(t.color){m.append("feFlood").attr("flood-color",t.color).attr("result",t.result+"-color")}m.append("feComposite").attr("in",t.result?t.result+"-color":"SourceGraphic").attr("in2",t.result?t.result+"-morph":"morph-"+t.operator+"-"+t.radius).attr("operator","in").attr("result",t.result?t.result+"-stroke":"fill")}));var _=m.append("feMerge");b.forEach((function(t){_.append("feMergeNode").attr("in",t.result?t.result+"-stroke":"fill")}));return ji(g)};var Ch=function(t,e,n,r,i,a){var o=[];var s=ie();var u=s!=="IE"&&s!=="Edge"?0:1;var l=s!=="Safari"?u:.1;if(r){o.push({color:r,result:"outside",operator:!a?"dilate":"erode",radius:!a?1:0})}if(i){l++;o.push({color:i,result:"edge",operator:"erode",radius:u+a})}o.push({color:t,result:"primary",operator:"erode",radius:l+a});o.push({color:e,result:"clean",operator:"erode",radius:l+n+a});o.push({operator:"erode",radius:l+n+1+a});return o};var Mh=function(t){var e="vcl-accessibility-focus";Xt(t).selectAll("."+e+"-hoverSource").classed(e+"-hoverSource",false);Xt(t).selectAll("."+e+"-hover").remove()};var kh=function(t,e){var n=Xt(t.ownerSVGElement);n.selectAll(".vcl-accessibility-focus-hoverSource").classed("vcl-accessibility-focus-hoverSource",false);n.select("#VCL-clip-"+e).remove();n.select("#VCL-hover-stroke-"+e).remove();n.select("#VCL-buffer-stroke"+e).remove();n.select("#VCL-parent-"+e).remove()};var Ih=function(t){var e=t.inputElement,n=t.id,r=t.key,i=t.strokeWidth,a=t.fill,o=t.recursive,s=t.strokeOverride;var u=lh(a);var l=s||u[0];var c=!!u[1];var f=Uh(n,r);var h=e.tagName!=="DIV"?e:Xt(e.parentNode).select("svg").node();var d="vcl-accessibility-focus";var p=Xt(h).style("outline").includes("auto");if(p){Xt(h).style("outline-width","0px").style("outline-offset","0px").style("outline-color","none")}var v=h.parentNode;kh(v,f);Xt(h).classed(d+"-hoverSource",true);var y=h.cloneNode(false);var g=c?h.cloneNode(false):null;var m=h.cloneNode(false);var b=document.createElementNS("http://www.w3.org/2000/svg","clipPath");b.appendChild(m);if(!o){var _=v.parentNode;var w=v.cloneNode(false);var x=Xt(w).attr("id","VCL-parent-"+f);w.appendChild(b);w.appendChild(y);if(c){w.appendChild(g)}if(v.nextSibling){_.insertBefore(w,v.nextSibling)}else{_.appendChild(w)}Dh(x,d)}else{if(h.nextSibling){if(c){v.insertBefore(g,h.nextSibling)}v.insertBefore(y,h.nextSibling);v.insertBefore(b,h.nextSibling)}else{v.appendChild(b);v.appendChild(y);if(c){v.appendChild(g)}}}var A="VCL-clip-"+f;var S=ji(A);Xt(b).attr("id",A).attr("clipPathUnits","userSpaceOnUse").attr("class",d+"-highlight "+d+"-hover");var T=Xt(m).attr("id","VCL-clip-element-"+f).style("opacity",1).attr("opacity",1);Dh(T,d);var L=Xt(y).attr("id","VCL-buffer-stroke-"+f).style("opacity",1).attr("opacity",1).style("stroke",l);Dh(L,d);Rh(L,i,S,c,true);if(c){var E=Xt(g).attr("id","VCL-buffer-stroke-"+f).style("opacity",1).attr("opacity",1).style("stroke",a);Dh(E,d);Rh(E,1,S,false,false)}};var Oh=function(t){var e=t.id,n=t.key,r=t.attribute,i=t.newValue,a=t.easing,o=t.duration;var s=Uh(e,n);var u=["VCL-clip-element-","VCL-buffer-stroke-","VCL-buffer-stroke-"];u.forEach((function(t){var e="#"+t+s;var n=Xt(e);if(n.size()){if(o){n=n.transition(r).duration(o);if(a){n=n.ease(a)}}n.attr(r,i)}}))};var Dh=function(t,e){t.attr("class",e+"-highlight "+e+"-hover").attr("focusable",false).attr("aria-label",null).attr("aria-hidden",true).attr("role",null).style("pointer-events","none").attr("tabindex",null).attr("mix-blend-mode",null).style("mix-blend-mode",null)};var Rh=function(t,e,n,r,i){t.style("stroke-linecap","butt").style("outline-offset","0px").style("outline-color","none").style("outline-width","0px").attr("fill","none").style("fill","none").style("stroke-opacity",1).attr("marker-start",null).attr("marker-end",null).attr("filter",null).attr("stroke-dasharray",i?"8 6":null).attr("clip-path",n).style("stroke-width",(function(t,n,i){var a=Xt(i[n]).attr("transform")?Xt(i[n]).attr("transform").indexOf("scale"):-1;var o=1;if(a>-1){var s=Xt(i[n]).attr("transform").substring(a+6);var u=s.indexOf(",")<s.indexOf(")")&&s.indexOf(",")!==-1?s.indexOf(","):s.indexOf(")");o=+s.substring(0,u)}return((r?2:0)+e*2)/o+"px"}))};var Uh=function(t,e){var n=e instanceof Date?e.getTime():e;return t+"-"+(n+"").replace(/\W/g,"-")};var Ph=2;var Fh=2;function Hh(t,e,n,r,i,a){var o=e===0?0:n;var s=Vh(t,i,a);var u=jh(t,r,a);if(u||s){o=e}else if((!r||u)&&(i.length===0||s)){o=e}return o}function jh(t,e,n){var r=t&&t.data&&t.data.data?t.data.data:t&&t.data?t.data:t?t:{};var i=0;if(e){n.map((function(t){if(e[t]instanceof Date&&r[t]instanceof Date){if(e[t].getTime()===r[t].getTime()){i++}}else if(e[t]===r[t]){i++}}))}return n&&n.length&&i===n.length}function Vh(t,e,n){var r=false;var i=t&&t.data&&t.data.data?t.data.data:t&&t.data?t.data:t?t:{};if(e&&e.length){var a=function(t){var a=0;n.map((function(n){if(e[t][n]instanceof Date&&i[n]instanceof Date){if(e[t][n].getTime()===i[n].getTime()){a++}}else if(e[t][n]===i[n]){a++}}));if(a===n.length){r=true;return"break"}};for(var o=0;o<e.length;o++){var s=a(o);if(s==="break")break}}return n&&n.length&&r}var Bh=function(t){var e=t.root,n=t.id,r=t.colors,i=t.clickStyle,a=t.hoverStyle,o=t.additionalStrokeSize,s=t.strokeOnHover,u=t.stacked,l=t.strokeOverride;var c={};var f=o||o===0;var h=0;r.forEach((function(t){var r=f?o:1;if(!c["rest"+t]){c["rest"+t]=Nh({root:e,id:n,state:"rest",fillColor:t,forceStrokeColor:l&&l.length?l[h]:undefined,strokeWidth:r,includeOuterStroke:true,alwaysShowStroke:!!f,stacked:u})}if(f&&!c["default"+t]){c["default"+t]=Nh({root:e,id:n,state:"default",fillColor:t,forceStrokeColor:l&&l.length?l[h]:undefined,strokeWidth:1,includeOuterStroke:true,alwaysShowStroke:!!f,stacked:u})}if(a&&a.color&&!c["hover"+a.color]){c["hover"+a.color]=Nh({root:e,id:n,state:"hover",fillColor:a.color,strokeWidth:a&&a.strokeWidth?parseFloat(a.strokeWidth):Ph,includeOuterStroke:true,strokeOnHover:s,alwaysShowStroke:!!f,stacked:u})}else{c["hover"+t]=Nh({root:e,id:n,state:"hover",fillColor:t,forceStrokeColor:l&&l.length?l[h]:undefined,strokeWidth:a&&a.strokeWidth?parseFloat(a.strokeWidth):Ph,includeOuterStroke:true,strokeOnHover:s,alwaysShowStroke:!!f,stacked:u})}if(i&&i.color&&!c["click"+i.color]){c["click"+i.color]=Nh({root:e,id:n,state:"click",fillColor:i.color,strokeWidth:i&&i.strokeWidth?parseFloat(i.strokeWidth):Fh,includeOuterStroke:true,alwaysShowStroke:!!f,stacked:u})}else{c["click"+t]=Nh({root:e,id:n,state:"click",fillColor:t,forceStrokeColor:l&&l.length?l[h]:undefined,strokeWidth:i&&i.strokeWidth?parseFloat(i.strokeWidth):Fh,includeOuterStroke:true,alwaysShowStroke:!!f,stacked:u})}h++}));return c};var zh=function(t){var e=t.data,n=t.clickHighlight,r=t.hoverHighlight,i=t.clickStyle,a=t.hoverStyle,o=t.interactionKeys,s=t.defaultStroke,u=t.defaultStrokeWidth,l=t.offset;var c=n.length>0&&Vh(e,n,o)?s:r&&jh(e,r,o)?s:"none";var f=Vh(e,n,o)?"solid":"dashed";var h=Vh(e,n,o)?i.strokeWidth||u:r&&jh(e,r,o)&&a.strokeWidth?a.strokeWidth||u:0;if(typeof h==="string"&&h.includes("px")){h=parseInt(h.substr(0,h.indexOf("p")))}var d=l?h+l:h;return"outline-color:"+c+";\n        outline-style:"+f+";\n        outline-width:"+h+"px;\n        outline-offset:-"+d+"px;"};var Yh=[];var Wh=null;var Gh=750;var qh=1;var Xh=null;var $h=6;var Kh=6;var Zh=3;var Qh=0;var Jh=0;var td=0;var ed;var nd;var rd=1;var id="x";var ad=yd;var od=1;var sd=2;var ud=3;var ld=4;var cd=1e-6;var fd=function(t){var e=t.root,n=t.height,r=t.width,i=t.axisScale,a=t.left,o=t.right,s=t.top,u=t.wrapLabel,l=t.format,c=t.dateFormat,f=t.tickInterval,h=t.label,d=t.padding,p=t.hide,v=t.markOffset,y=t.hidePath,g=t.ticks,m=t.duration;Gh=m||m===0?m:Gh;ed=i;nd=y;Wh=g?g:null;var b=1;if(p){b=0}td=u?u:0;if(v){if(a){var _=e.selectAll(".axis-mark-y");if(_.empty()){Gh=0;_=e.append("g").attr("class","axis-mark-y axis-mark")}Xh=function(){return null};qh=ld;pd();var w=_.attr("data-testid","y-axis-mark");if(Gh){w=w.transition("axis_base").ease(Gf).duration(Gh)}w.attr("transform",v>0?"translate("+v+", 0)":"").attr("opacity",b).call(hd)}else{var _=e.selectAll(".axis-mark-x");if(_.empty()){Gh=0;_=e.append("g")}Xh=function(){return null};qh=ud;pd();var w=_.attr("class","axis-mark-x axis-mark").attr("data-testid","x-axis-mark");if(Gh){w=w.transition("axis_base").ease(Gf).duration(Gh)}w.attr("transform",v>0?"translate(0, "+v+")":"").attr("opacity",b).call(hd)}}else if(a){var x=e.selectAll(".axis").filter(".y").filter(".left");var A=e.selectAll(".axis-label").filter(".y").filter(".left");if(x.empty()){Gh=0;x=e.append("g");A=e.append("text")}Xh=function(t,e){if(f&&e%f!==0){return null}else if(l&&typeof t==="number"){return xe(t,l)}else if(t instanceof Date){var n=pr(c);return n(t)}else{return t}};$h=0;Kh=0;Zh=10;if(td){Qh=-8;Jh=.6}qh=ld;pd();var w=x.attr("class","y axis left").attr("data-testid","y-axis");if(Gh){w=w.transition("axis_node").ease(Gf).duration(Gh)}w.attr("opacity",b).call(hd);var S=A.attr("class","y axis-label left").attr("data-testid","y-axis-label").attr("transform","rotate(-90)").text(h);if(Gh){S=S.transition("axis_label").ease(Gf).duration(Gh)}S.attr("y",d?0-d.left:-50).attr("x",0-n/2).attr("dy","1em")}else if(o){var x=e.selectAll(".axis").filter(".y").filter(".right");var A=e.selectAll(".axis-label").filter(".y").filter(".right");if(x.empty()){Gh=0;x=e.append("g");A=e.append("text")}Xh=function(t,e){if(f&&e%f!==0){return null}else if(l&&typeof t==="number"){return xe(t,l)}else if(t instanceof Date){var n=pr(c);return n(t)}else{return t}};$h=0;Kh=0;Zh=10;if(td){Qh=8;Jh=.6}qh=sd;pd();var w=x.attr("class","y axis right").attr("data-testid","sec-y-axis");if(Gh){w=w.transition("axis_node").ease(Gf).duration(Gh)}w.attr("transform","translate("+r+",0)").attr("opacity",b).call(hd);var S=A.attr("class","y axis-label right").attr("data-testid","sec-y-axis-label").attr("transform","rotate(-90)").text(h||"Cumulative Percentage");if(Gh){S=S.transition("axis_label").ease(Gf).duration(Gh)}S.attr("y",d?r+d.left+d.right-50:r-50).attr("x",0-n/2).attr("dy","1em")}else if(s){var x=e.selectAll(".axis").filter(".x").filter(".top");var A=e.selectAll(".axis-label").filter(".x").filter(".top");if(x.empty()){Gh=0;x=e.append("g");A=e.append("text")}Xh=function(t,e){if(f&&e%f!==0){return null}else if(l&&typeof t==="number"){return xe(t,l)}else if(t instanceof Date){var n=pr(c);return n(t)}else{return t}};$h=0;Kh=0;Zh=10;if(td){Qh=0;Jh=1}qh=od;pd();var w=x.attr("class","x axis top").attr("data-testid","sec-x-axis");if(Gh){w=w.transition("axis_node").ease(Gf).duration(Gh)}w.attr("transform","translate(0, 0)").attr("opacity",b).call(hd);var S=A.attr("class","x axis-label top").attr("data-testid","sec-x-axis-label").attr("transform","translate(0, 0)").text(l&&typeof h==="number"?xe(h,l):h);if(Gh){S=S.transition("axis_label").ease(Gf).duration(Gh)}S.attr("x",r/2).attr("y",d?-d.top:-50).attr("dy","1em")}else{var x=e.selectAll(".axis").filter(".x").filter(".bottom");var A=e.selectAll(".axis-label").filter(".x").filter(".bottom");if(x.empty()){Gh=0;x=e.append("g");A=e.append("text")}Xh=function(t,e){if(f&&e%f!==0){return null}else if(l&&typeof t==="number"){return xe(t,l)}else if(t instanceof Date){var n=pr(c);return n(t)}else{return t}};$h=0;Kh=0;Zh=10;if(td){Qh=0;Jh=1}qh=ud;pd();var w=x.attr("class","x axis bottom").attr("data-testid","x-axis");if(Gh){w=w.transition("axis_node").ease(Gf).duration(Gh)}w.attr("transform","translate(0, "+n+")").attr("opacity",b).call(hd);var S=A.attr("class","x axis-label bottom").attr("data-testid","x-axis-label").attr("transform","translate(0, 0)").text(l&&typeof h==="number"?xe(h,l):h);if(Gh){S=S.transition("axis_node").ease(Gf).duration(Gh)}S.attr("x",r/2).attr("y",d?n+d.bottom:n)}};function hd(t){var e=Wh==null?ed.ticks?ed.ticks.apply(ed,Yh):ed.domain():Wh;var n=Xh==null?ed.tickFormat?ed.tickFormat.apply(ed,Yh):vd:Xh;var r=Math.max($h,0)+Zh;var i=ed.range();var a=+i[0]+.5;var o=+i[i.length-1]+.5;var s=(ed.bandwidth?bd:md)(ed.copy());var u=t.selection?t.selection():t;var l=u.selectAll(".domain").data([null]);var c=u.selectAll(".tick").data(e,ed).order();var f=c.exit();var h=c.enter().append("g").attr("class","tick").attr("data-testid","axis-tick");var d=c.select("line");var p=c.select("text");l=l.merge(l.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor"));u.selectAll(".domain").attr("class",nd?"domain hidden":"domain");c=c.merge(h);d=d.merge(h.append("line").attr("data-testid","axis-tick-line").attr("stroke","currentColor").attr(id+"2",rd*$h));if(!ed.formattedTicks){ed.formattedTicks=[]}p=p.merge(h.append("text").attr("data-testid","axis-tick-text").attr("fill","currentColor").attr(id,rd*r).attr("dy",qh===od?"0em":qh===ud?"0.71em":"0.32em")).text((function(t,e){if(n(t,e)){ed.formattedTicks.push(n(t,e))}return n(t,e)}));if(td>0){p.call(dd)}if(t!==u&&Gh){l=l.transition(t).duration(Gh).ease(Gf);c=c.transition(t).duration(Gh).ease(Gf);d=d.transition(t).duration(Gh).ease(Gf);p=p.transition(t).duration(Gh).ease(Gf);f=f.transition(t).attr("opacity",cd).attr("transform",(function(t){return isFinite(t=s(t))?ad(t):this.getAttribute("transform")}));h.attr("opacity",cd).attr("transform",(function(t){var e=this.parentNode.__axis;return ad(e&&isFinite(e=e(t))?e:s(t))}))}f.remove();l.attr("d",qh===ld||qh===sd?Kh?"M"+rd*Kh+","+a+"H0.5V"+o+"H"+rd*Kh:"M0.5,"+a+"V"+o:Kh?"M"+a+","+rd*Kh+"V0.5H"+o+"V"+rd*Kh:"M"+a+",0.5H"+o);c.attr("opacity",1).attr("transform",(function(t){return ad(s(t))}));d.attr(id+"2",rd*$h);p.attr(id,rd*r);u.filter(_d).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",qh===sd?"start":qh===ld?"end":"middle");u.each((function(){this.__axis=s}))}function dd(t){t.each((function(){var t=Xt(this);var e=Zu({text:t.text(),width:td,fontSize:12,noPadding:false,wholeWords:false});var n=Jh;var r=0;var i=t.attr("y");var a=parseFloat(t.attr("dy"));t.text(null);e.forEach((function(e){t.append("tspan").attr("data-testid","axis-tick-text-tspan").attr("x",Qh).attr("y",i).attr("dy",r*n+a+"em").text(e);r++}))}))}function pd(){rd=qh===od||qh===ld?-1:1;id=qh===ld||qh===sd?"x":"y";ad=qh===od||qh===ud?yd:gd}function vd(t){return t}function yd(t){return"translate("+(t+.5)+",0)"}function gd(t){return"translate(0,"+(t+.5)+")"}function md(t){return function(e){return+t(e)}}function bd(t){var e=Math.max(0,t.bandwidth()-1)/2;if(t.round()){e=Math.round(e)}return function(n){return+t(n)+e}}function _d(){return!this.__axis}var wd=function(t){return t/2};var xd=Array.prototype.slice;function Ad(t){return t}var Sd=1,Td=2,Ld=3,Ed=4,Nd=1e-6;function Cd(t){return"translate("+(t+.5)+",0)"}function Md(t){return"translate(0,"+(t+.5)+")"}function kd(t){return function(e){return+t(e)}}function Id(t){var e=Math.max(0,t.bandwidth()-1)/2;if(t.round())e=Math.round(e);return function(n){return+t(n)+e}}function Od(){return!this.__axis}function Dd(t,e){var n=[],r=null,i=null,a=6,o=6,s=3,u=t===Sd||t===Ed?-1:1,l=t===Ed||t===Td?"x":"y",c=t===Sd||t===Ld?Cd:Md;function f(f){var h=r==null?e.ticks?e.ticks.apply(e,n):e.domain():r,d=i==null?e.tickFormat?e.tickFormat.apply(e,n):Ad:i,p=Math.max(a,0)+s,v=e.range(),y=+v[0]+.5,g=+v[v.length-1]+.5,m=(e.bandwidth?Id:kd)(e.copy()),b=f.selection?f.selection():f,_=b.selectAll(".domain").data([null]),w=b.selectAll(".tick").data(h,e).order(),x=w.exit(),A=w.enter().append("g").attr("class","tick"),S=w.select("line"),T=w.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor"));w=w.merge(A);S=S.merge(A.append("line").attr("stroke","currentColor").attr(l+"2",u*a));T=T.merge(A.append("text").attr("fill","currentColor").attr(l,u*p).attr("dy",t===Sd?"0em":t===Ld?"0.71em":"0.32em"));if(f!==b){_=_.transition(f);w=w.transition(f);S=S.transition(f);T=T.transition(f);x=x.transition(f).attr("opacity",Nd).attr("transform",(function(t){return isFinite(t=m(t))?c(t):this.getAttribute("transform")}));A.attr("opacity",Nd).attr("transform",(function(t){var e=this.parentNode.__axis;return c(e&&isFinite(e=e(t))?e:m(t))}))}x.remove();_.attr("d",t===Ed||t==Td?o?"M"+u*o+","+y+"H0.5V"+g+"H"+u*o:"M0.5,"+y+"V"+g:o?"M"+y+","+u*o+"V0.5H"+g+"V"+u*o:"M"+y+",0.5H"+g);w.attr("opacity",1).attr("transform",(function(t){return c(m(t))}));S.attr(l+"2",u*a);T.attr(l,u*p).text(d);b.filter(Od).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Td?"start":t===Ed?"end":"middle");b.each((function(){this.__axis=m}))}f.scale=function(t){return arguments.length?(e=t,f):e};f.ticks=function(){return n=xd.call(arguments),f};f.tickArguments=function(t){return arguments.length?(n=t==null?[]:xd.call(t),f):n.slice()};f.tickValues=function(t){return arguments.length?(r=t==null?null:xd.call(t),f):r&&r.slice()};f.tickFormat=function(t){return arguments.length?(i=t,f):i};f.tickSize=function(t){return arguments.length?(a=o=+t,f):a};f.tickSizeInner=function(t){return arguments.length?(a=+t,f):a};f.tickSizeOuter=function(t){return arguments.length?(o=+t,f):o};f.tickPadding=function(t){return arguments.length?(s=+t,f):s};return f}function Rd(t){return Dd(Ld,t)}function Ud(t){return Dd(Ed,t)}var Pd=function(t,e,n,r,i,a,o,s){var u=s||s===0?s:750;var l=1;if(a){l=0}if(i){var c=t.selectAll(".grid").filter(".left");if(!c.node()){u=0;c=t.append("g").attr("class","grid left").attr("data-testid","grid-left")}var f=c;if(u){f=c.transition("grid-left-update").duration(u).ease(Gf)}f.attr("opacity",l).call(Ud(r).tickSize(-n).tickFormat("").tickValues((r.ticks?r.ticks():r.domain()).filter((function(t,e){return!(o&&e%o!==0)}))))}else{var c=t.selectAll(".grid").filter(".bottom");if(!c.node()){u=0;c=t.append("g").attr("class","grid bottom").attr("data-testid","grid-bottom")}var f=c;if(u){f=c.transition("grid-bottom-update").duration(u).ease(Gf)}f.attr("opacity",l).call(Rd(r).tickSize(e).tickFormat("").tickValues((r.ticks?r.ticks():r.domain()).filter((function(t,e){return!(o&&e%o!==0)}))))}};var Fd={cross:"M-1.0606601717798214,-0.3535533905932738L-0.3535533905932738,-0.3535533905932738L-0.3535533905932738,-1.0606601717798214L0.3535533905932738,-1.0606601717798214L0.3535533905932738,-0.3535533905932738L1.0606601717798214,-0.3535533905932738L1.0606601717798214,0.3535533905932738L0.3535533905932738,0.3535533905932738L0.3535533905932738,1.0606601717798214L-0.3535533905932738,1.0606601717798214L-0.3535533905932738,0.3535533905932738L-1.0606601717798214,0.3535533905932738Z",circle:"M1,0A1,1,0,1,1,-1,0A1,1,0,1,1,1,0",square:"M-0.9219544457292888,-0.9219544457292888h1.8439088914585775v1.8439088914585775h-1.8439088914585775Z",star:"M0,-1.4621735258409942L0.3282784098583098,-0.4518364682100035L1.3906096597053377,-0.4518364682100036L0.5311656249235138,0.17258617349950994L0.859444034781824,1.1829232311305005L1.1102230246251565e-16,0.5585005894209871L-0.8594440347818236,1.1829232311305007L-0.5311656249235137,0.17258617349951003L-1.390609659705338,-0.4518364682100033L-0.3282784098583099,-0.4518364682100034Z",triangle:"M0,-1.330616708716245L1.1523478724483067,0.6653083543581225L-1.1523478724483067,0.6653083543581225Z",diamond:"M0,-1.4416868484808527L0.8323582900575635,0L0,1.4416868484808527L-0.8323582900575635,0Z"};var Hd={cross:"M-1.0606601238250732,-0.3535534143447876L-0.919238805770874,-0.3535534143447876L-0.7778174877166748,-0.3535534143447876L-0.6363961100578308,-0.3535534143447876L-0.4949747920036316,-0.3535534143447876L-0.3535534739494324,-0.3535534143447876L-0.3535533845424652,-0.4949747323989868L-0.3535533845424652,-0.636396050453186L-0.3535534143447876,-0.7778173685073853L-0.3535534143447876,-0.9192386865615845L-0.3535534143447876,-1.0606600046157837L-0.21213221549987793,-1.0606601238250732L-0.07071077823638916,-1.0606601238250732L0.07071053981781006,-1.0606601238250732L0.21213185787200928,-1.0606601238250732L0.3535531759262085,-1.0606601238250732L0.35355344414711,-0.9192389249801636L0.35355344414711,-0.7778176069259644L0.3535534143447876,-0.6363962888717651L0.3535534143447876,-0.4949749708175659L0.3535534143447876,-0.3535536527633667L0.49497461318969727,-0.3535534143447876L0.6363959312438965,-0.3535534143447876L0.7778174877166748,-0.3535534143447876L0.919238805770874,-0.3535534143447876L1.0606601238250732,-0.3535534143447876L1.0606601238250732,-0.21213233470916748L1.0606601238250732,-0.07071101665496826L1.0606601238250732,0.07071030139923096L1.0606601238250732,0.21213161945343018L1.0606601238250732,0.3535529375076294L0.9192391633987427,0.35355332493782043L0.7778178453445435,0.3535533547401428L0.6363965272903442,0.3535533845424652L0.494975209236145,0.3535533845424652L0.3535538911819458,0.3535534143447876L0.35355344414711,0.49497437477111816L0.35355344414711,0.6363956928253174L0.3535534143447876,0.7778170108795166L0.3535534143447876,0.9192383289337158L0.3535534143447876,1.060659646987915L0.21213233470916748,1.0606600046157837L0.07071101665496826,1.0606600046157837L-0.07071030139923096,1.0606601238250732L-0.21213161945343018,1.0606601238250732L-0.3535529375076294,1.0606601238250732L-0.3535533845424652,0.9192386865615845L-0.3535533845424652,0.7778173685073853L-0.3535534143447876,0.636396050453186L-0.3535534143447876,0.4949747323989868L-0.3535534143447876,0.3535534143447876L-0.49497485160827637,0.35355332493782043L-0.6363961696624756,0.3535533547401428L-0.7778174877166748,0.3535533845424652L-0.919238805770874,0.3535533845424652L-1.0606601238250732,0.3535534143447876L-1.0606601238250732,0.21213185787200928L-1.0606601238250732,0.07071053981781006L-1.0606601238250732,-0.07071077823638916L-1.0606601238250732,-0.21213209629058838Z",circle:"M1,0L0.9952487945556641,0.10496900230646133L0.9802308678627014,0.20940586924552917L0.9531400799751282,0.31073155999183655L0.9148818850517273,0.4079720079898834L0.8663365244865417,0.5002545714378357L0.8094649910926819,0.5883480906486511L0.743568480014801,0.6698152422904968L0.6695123314857483,0.7439088225364685L0.5881620049476624,0.8099220395088196L0.5004010796546936,0.867180347442627L0.4069012701511383,0.9140697717666626L0.30910128355026245,0.9513185620307922L0.2079721838235855,0.9784069061279297L0.10456041246652603,0.9948219656944275L9.057112038135529e-8,1L-0.10454819351434708,0.994599461555481L-0.20796485245227814,0.9783451557159424L-0.30910056829452515,0.9513131976127625L-0.40682557225227356,0.9137774109840393L-0.5000651478767395,0.8661796450614929L-0.5878113508224487,0.8090839982032776L-0.6691301465034485,0.7431550621986389L-0.7431550025939941,0.6691302061080933L-0.8090841770172119,0.5878111720085144L-0.8661795258522034,0.5000653266906738L-0.9137775301933289,0.4068255126476288L-0.9513131976127625,0.30910077691078186L-0.9783450961112976,0.20796531438827515L-0.994599461555481,0.10454835742712021L-1,1.5099580252808664e-7L-0.9952487945556641,-0.1049688383936882L-0.9802308082580566,-0.2094057947397232L-0.953140139579773,-0.3107314109802246L-0.9148820638656616,-0.4079718291759491L-0.8663367629051208,-0.5002543926239014L-0.8094651103019714,-0.5883479714393616L-0.7435685396194458,-0.6698151230812073L-0.6695123314857483,-0.7439088225364685L-0.5881620645523071,-0.8099220395088196L-0.5004012584686279,-0.867180347442627L-0.4069012701511383,-0.9140697717666626L-0.30910128355026245,-0.9513185620307922L-0.20797239243984222,-0.9784069061279297L-0.10456059128046036,-0.9948219656944275L-3.026798367500305e-9,-1L0.10454817116260529,-0.994599461555481L0.2079651653766632,-0.9783450961112976L0.30910080671310425,-0.9513131380081177L0.4068260192871094,-0.913777232170105L0.5000655055046082,-0.8661794066429138L0.587811291217804,-0.8090839982032776L0.6691306233406067,-0.7431545853614807L0.7431554198265076,-0.6691297292709351L0.8090841770172119,-0.5878111124038696L0.866179883480072,-0.5000647306442261L0.9137775301933289,-0.4068252444267273L0.9513131976127625,-0.309100478887558L0.9783451557159424,-0.20796477794647217L0.9945995211601257,-0.10454780608415604Z",square:"M-0.9219544529914856,-0.9219544529914856L-0.799027144908905,-0.9219544529914856L-0.676099956035614,-0.9219544529914856L-0.5531726479530334,-0.9219544529914856L-0.4302453398704529,-0.9219544529914856L-0.30731815099716187,-0.9219544529914856L-0.18439096212387085,-0.9219544529914856L-0.06146365404129028,-0.9219544529914856L0.06146365404129028,-0.9219544529914856L0.1843908429145813,-0.9219544529914856L0.30731815099716187,-0.9219544529914856L0.43024545907974243,-0.9219544529914856L0.5531726479530334,-0.9219544529914856L0.676099956035614,-0.9219544529914856L0.799027144908905,-0.9219544529914856L0.9219544529914856,-0.9219544529914856L0.9219545125961304,-0.799027144908905L0.9219545125961304,-0.676099956035614L0.9219545125961304,-0.553172767162323L0.9219545125961304,-0.4302453398704529L0.9219545125961304,-0.30731815099716187L0.9219545125961304,-0.18439096212387085L0.9219545125961304,-0.06146353483200073L0.9219545125961304,0.06146365404129028L0.9219545125961304,0.1843908429145813L0.9219544529914856,0.3073182702064514L0.9219544529914856,0.43024545907974243L0.9219544529914856,0.5531726479530334L0.9219544529914856,0.6760998368263245L0.9219544529914856,0.7990272641181946L0.9219544529914856,0.9219544529914856L0.7990273833274841,0.9219542145729065L0.676099956035614,0.9219542145729065L0.553172767162323,0.9219542145729065L0.430245578289032,0.9219542741775513L0.30731838941574097,0.9219542741775513L0.18439120054244995,0.9219542741775513L0.06146353483200073,0.921954333782196L-0.06146365404129028,0.921954333782196L-0.1843908429145813,0.921954333782196L-0.3073180317878723,0.921954333782196L-0.43024522066116333,0.9219543933868408L-0.5531724095344543,0.9219543933868408L-0.6760995984077454,0.9219543933868408L-0.7990272641181946,0.9219544529914856L-0.9219544529914856,0.9219544529914856L-0.9219543933868408,0.799027144908905L-0.9219543933868408,0.676099956035614L-0.9219543933868408,0.553172767162323L-0.9219543933868408,0.430245578289032L-0.9219543933868408,0.30731791257858276L-0.9219543933868408,0.18439072370529175L-0.9219543933868408,0.06146353483200073L-0.9219543933868408,-0.06146365404129028L-0.9219543933868408,-0.1843908429145813L-0.9219544529914856,-0.3073180317878723L-0.9219544529914856,-0.43024522066116333L-0.9219544529914856,-0.5531728863716125L-0.9219544529914856,-0.6761000752449036L-0.9219544529914856,-0.7990272641181946Z",star:"M0,-1.462173581123352L0.05471307039260864,-1.2937841415405273L0.1094261109828949,-1.125394582748413L0.16413918137550354,-0.9570050239562988L0.21885225176811218,-0.7886155843734741L0.2735653221607208,-0.6202260255813599L0.32827839255332947,-0.4518364667892456L0.505333662033081,-0.4518364667892456L0.6823887825012207,-0.4518364667892456L0.8594440221786499,-0.4518364667892456L1.036499261856079,-0.4518364667892456L1.2135545015335083,-0.4518364667892456L1.3906097412109375,-0.4518364667892456L1.2473692893981934,-0.34776610136032104L1.104128360748291,-0.24369558691978455L0.9608877897262573,-0.13962522149085999L0.8176472187042236,-0.03555482625961304L0.6744064092636108,0.06851568818092346L0.5311657786369324,0.17258606851100922L0.5858786702156067,0.34097564220428467L0.6405917406082153,0.5093650817871094L0.6953047513961792,0.6777544617652893L0.7500178813934326,0.8461441397666931L0.8047309517860413,1.014533519744873L0.8594440817832947,1.1829231977462769L0.7162032723426819,1.078852653503418L0.5729628205299377,0.9747823476791382L0.42972204089164734,0.8707118630409241L0.28648123145103455,0.76664137840271L0.1432408094406128,0.6625710725784302L1.1102230246251565e-16,0.5585005879402161L-0.1432408094406128,0.6625711917877197L-0.28648126125335693,0.76664137840271L-0.42972204089164734,0.8707119226455688L-0.5729628801345825,0.9747824668884277L-0.7162032723426819,1.078852653503418L-0.8594440817832947,1.1829231977462769L-0.8047309517860413,1.014533519744873L-0.7500178217887878,0.846143901348114L-0.695304811000824,0.6777547001838684L-0.6405916810035706,0.5093650817871094L-0.5858786106109619,0.34097540378570557L-0.531165599822998,0.17258620262145996L-0.674406111240387,0.0685158371925354L-0.8176469206809998,-0.0355546772480011L-0.9608873128890991,-0.1396249234676361L-1.104128122329712,-0.2436954379081726L-1.2473689317703247,-0.3477659523487091L-1.3906097412109375,-0.4518364667892456L-1.2135542631149292,-0.4518364667892456L-1.0364998579025269,-0.4518364667892456L-0.8594444990158081,-0.4518364667892456L-0.6823891401290894,-0.4518364667892456L-0.5053337812423706,-0.4518364667892456L-0.32827839255332947,-0.4518364667892456L-0.27356526255607605,-0.6202262043952942L-0.21885214745998383,-0.788615882396698L-0.16413933038711548,-0.9570046067237854L-0.10942622274160385,-1.1253942251205444L-0.054713111370801926,-1.2937839031219482Z",triangle:"M0,-1.3306167125701904L0.05761754512786865,-1.2308205366134644L0.1152348518371582,-1.1310244798660278L0.17285221815109253,-1.0312281847000122L0.23046964406967163,-0.9314318895339966L0.28808706998825073,-0.8316354751586914L0.34570443630218506,-0.7318392992019653L0.4033218026161194,-0.6320431232452393L0.4609392285346985,-0.5322468280792236L0.5185565948486328,-0.432450532913208L0.5761740207672119,-0.33265429735183716L0.6337913870811462,-0.2328580617904663L0.6914087533950806,-0.13306176662445068L0.7490261793136597,-0.033265531063079834L0.8066436052322388,0.06653076410293579L0.8642609119415283,0.16632699966430664L0.9218782782554626,0.2661232054233551L0.9794957041740417,0.3659195303916931L1.037113070487976,0.4657157063484192L1.0947304964065552,0.5655120611190796L1.1523479223251343,0.6653083562850952L1.0371133089065552,0.6653079986572266L0.921878457069397,0.6653080582618713L0.8066436052322388,0.6653080582618713L0.6914087533950806,0.6653080582618713L0.5761741399765015,0.6653081178665161L0.46093928813934326,0.6653081178665161L0.34570443630218506,0.6653081178665161L0.23046958446502686,0.6653081178665161L0.11523497104644775,0.6653081774711609L1.1920928955078125e-7,0.6653081774711609L-0.11523473262786865,0.6653081774711609L-0.23046934604644775,0.6653082370758057L-0.34570419788360596,0.6653082370758057L-0.46093904972076416,0.6653082370758057L-0.5761736631393433,0.6653082966804504L-0.6914085149765015,0.6653082966804504L-0.8066433668136597,0.6653082966804504L-0.9218782186508179,0.6653082966804504L-1.037113070487976,0.6653083562850952L-1.1523479223251343,0.6653083562850952L-1.094730257987976,0.5655120611190796L-1.037113070487976,0.4657161235809326L-0.9794957041740417,0.365919828414917L-0.9218782782554626,0.26612353324890137L-0.8642608523368835,0.1663271188735962L-0.8066434264183044,0.06653082370758057L-0.7490260004997253,-0.03326547145843506L-0.6914085745811462,-0.13306176662445068L-0.6337913870811462,-0.23285770416259766L-0.5761739611625671,-0.3326539993286133L-0.518556535243988,-0.4324502944946289L-0.4609391391277313,-0.5322465896606445L-0.4033217132091522,-0.6320429444313049L-0.3457042872905731,-0.7318392395973206L-0.288086861371994,-0.831635594367981L-0.2304694503545761,-0.9314318895339966L-0.1728522628545761,-1.0312278270721436L-0.1152348443865776,-1.1310241222381592L-0.0576174221932888,-1.2308204174041748Z",diamond:"M0,-1.4416868686676025L0.05549061298370361,-1.3455744981765747L0.11098116636276245,-1.2494620084762573L0.1664717197418213,-1.15334951877594L0.22196227312088013,-1.057237148284912L0.27745282649993896,-0.96112459897995L0.3329433500766754,-0.8650121688842773L0.38843390345573425,-0.76889967918396L0.4439244568347931,-0.6727872490882874L0.49941501021385193,-0.57667475938797L0.5549055337905884,-0.480562299489975L0.6103960871696472,-0.38444983959198L0.665886640548706,-0.288337379693985L0.7213771939277649,-0.19222491979599L0.7768677473068237,-0.096112459897995L0.8323583006858826,0L0.7768678665161133,0.09611248970031738L0.7213772535324097,0.19222497940063477L0.6658867001533508,0.2883373498916626L0.6103960871696472,0.38444995880126953L0.5549055933952332,0.48056232929229736L0.4994150996208191,0.5766746401786804L0.4439244866371155,0.6727872490882874L0.38843387365341187,0.7688997983932495L0.3329433500766754,0.8650121092796326L0.27745285630226135,0.9611244797706604L0.22196224331855774,1.0572370290756226L0.16647161543369293,1.1533496379852295L0.11098112165927887,1.2494620084762573L0.05549062043428421,1.3455742597579956L0,1.4416868686676025L-0.05549055337905884,1.345574140548706L-0.11098110675811768,1.2494617700576782L-0.16647160053253174,1.15334951877594L-0.22196221351623535,1.057236909866333L-0.27745282649993896,0.9611243605613708L-0.332943320274353,0.865011990070343L-0.3884338140487671,0.7688996195793152L-0.44392454624176025,0.6727868914604187L-0.4994150698184967,0.5766745209693909L-0.5549055337905884,0.4805621802806854L-0.6103960275650024,0.3844498097896576L-0.6658865809440613,0.28833746910095215L-0.7213773131370544,0.19222471117973328L-0.7768678069114685,0.09611235558986664L-0.8323583006858826,0L-0.7768675684928894,-0.09611260890960693L-0.7213770747184753,-0.19222497940063477L-0.6658865809440613,-0.2883373498916626L-0.6103960871696472,-0.38444972038269043L-0.5549055933952332,-0.4805620312690735L-0.4994148910045624,-0.5766748189926147L-0.4439243972301483,-0.6727871894836426L-0.38843390345573425,-0.7688995003700256L-0.3329431712627411,-0.8650122880935669L-0.277452677488327,-0.9611246585845947L-0.22196219861507416,-1.0572370290756226L-0.1664717048406601,-1.1533493995666504L-0.11098121851682663,-1.2494617700576782L-0.055490490049123764,-1.3455744981765747Z"};var jd={cross:{general:Hd.cross,base:Fd.cross},circle:{general:Hd.circle,base:Fd.circle},square:{general:Hd.square,base:Fd.square},star:{general:Hd.star,base:Fd.star},triangle:{general:Hd.triangle,base:Fd.triangle},diamond:{general:Hd.diamond,base:Fd.diamond}};var Vd=function(t){var e=t.root,n=t.uniqueID,r=t.width,i=t.height,a=t.colorArr,o=t.baseColorArr,s=t.hideStrokes,u=t.dashPatterns,l=t.scale,c=t.steps,f=t.margin,h=t.padding,d=t.duration,p=t.type,v=t.secondary,y=t.fontSize,g=t.data,m=t.labelKey,b=t.label,_=t.symbol,w=t.format,x=t.hide,A=t.hoverHighlight,S=t.clickHighlight,T=t.groupAccessor,L=t.interactionKeys,E=t.hoverStyle,N=t.clickStyle,C=t.hoverOpacity;var M=r+h.left+h.right+5;var k=h.left+f.left;var I=p==="scatter"||p==="key"||p==="line"||p==="bar";var O=c?r/c:0;var D=15;i=x?0:i+(I?25:5);var R=x?0:1;if(p==="parallel"){p="line"}e.attr("viewBox","0 0 "+M+" "+i);var U=e.select(".legend-padding-wrapper");if(!e.select(".legend-padding-wrapper").size()){U=e.append("g").attr("class","legend-padding-wrapper")}var P=!_?4:7;U.attr("transform","translate("+((I?k:0)+P)+","+(I?24:4)+")");var F=Eh({root:e.node(),id:n+"-legend",color:"#ffffff"});switch(p){default:e.attr("opacity",R).attr("width",M).attr("height",i).attr("style",x?"display: none;":null).attr("transform","translate(0, 0)");var H=U.selectAll(".legend.default").data([0].concat(a));e.selectAll(".key").remove();e.selectAll(".gradient").remove();H.enter().append("g").attr("class","legend default").merge(H).attr("transform",(function(t,e){return e===0?"translate("+k+", 20)":"translate("+((e-1)*O+k)+", 20)"})).each((function(t,e,n){var r=e===0?xe(l.invertExtent(a[0])[0],w):xe(l.invertExtent(t)[1],w);var i=e===0?0:O;var o=Xt(n[e]).selectAll("rect").data([t]);var s=o.enter().append("rect").attr("opacity",0).merge(o).attr("width",O).attr("height",D).attr("x",0).attr("y",0).attr("fill",t);var u=o.exit();var c=Xt(n[e]).selectAll("text").data([t]);var f=c.enter().append("text").attr("opacity",0).merge(c).attr("dx",i).attr("dy","2.5em").text(r);var h=c.exit();if(d){s=s.transition().duration(d).ease(Gf);u=u.transition().duration(d).ease(Gf);f=f.transition().duration(d).ease(Gf);h=h.transition().duration(d).ease(Gf)}s.attr("opacity",R);u.attr("opacity",0).remove();f.attr("opacity",R);h.attr("opacity",0).remove()}));H.exit().remove();break;case"gradient":var j=(new Date).getTime();e.attr("width",M).attr("height",i).attr("style",x?"display: none;":null).attr("transform","translate(0, 20)").attr("opacity",R);e.selectAll(".key").remove();e.selectAll(".default").remove();var V=U.selectAll("text.gradient").data([0].concat(a));var B=V.enter().append("text").attr("class","legend-text gradient").merge(V).attr("transform",(function(t,e){return e===0?"translate("+k+", 0)":"translate("+((e-1)*O+k)+", 0)"})).attr("opacity",0).attr("dx",(function(t,e){return e===0?0:O})).attr("dy","2.5em").text((function(t,e){return e===0?xe(l.invertExtent(a[0])[0],w):xe(l.invertExtent(t)[1],w)}));var z=V.exit();if(d){B=B.transition().duration(d).ease(Gf);z=z.transition().duration(d).ease(Gf)}B.attr("opacity",(function(t,e){return e===0||e===a.length?R:0}));z.attr("opacity",0).remove();if(!U.selectAll(".legend").empty()){U.selectAll(".legend").remove()}var Y=U.append("g").attr("class","legend gradient");Y.append("defs").append("linearGradient").attr("id","mainGradient-"+j).selectAll("stop").data(a).enter().append("stop").attr("offset",(function(t,e){return 100/a.length*(e+1)+"%"})).attr("stop-color",(function(t){return t}));Y.append("rect").attr("class","legend-gradient").attr("x",k).attr("y",0).attr("width",r).attr("height",D).attr("style","fill: url(#mainGradient-"+j+")");break;case"key":var W=0;var G=0;e.attr("width",M).attr("height",i).attr("opacity",R).attr("style",x?"display: none;":null);var q=U.selectAll(".legend.key").data(a);e.selectAll(".default").remove();e.selectAll(".gradient").remove();q.enter().append("g").attr("class","legend key").merge(q).each((function(t,e,n){var i=e===0?"":b?b[e-1]:xe(l.invertExtent(a[e-1])[0],w)+"-"+xe(l.invertExtent(a[e-1])[1],w);W=e===0?0:W+$u(i,y)+40;if(W+$u(i,y)>r){W=0;G+=y+10}var o=b?b[e]:xe(l.invertExtent(t)[0],w)+"-"+xe(l.invertExtent(t)[1],w);var s=Xt(n[e]).selectAll("rect").data([t]);var u=s.enter().append("rect").attr("opacity",0).merge(s).attr("fill",t).attr("width",15).attr("height",15);var c=s.exit();var f=Xt(n[e]).selectAll("text").data([o]);var h=f.enter().append("text").attr("class","key-text").attr("opacity",0).merge(f).attr("dx",".2em").attr("dy",13).text(o);var p=f.exit();if(d){u=u.transition().duration(d).ease(Gf);c=c.transition().duration(d).ease(Gf);h=h.transition().duration(d).ease(Gf);p=p.transition().duration(d).ease(Gf)}u.attr("x",W).attr("y",G).attr("opacity",R);c.attr("opacity",0).remove();h.attr("x",W+20).attr("y",G).attr("opacity",R);p.attr("opacity",0).remove()}));q.exit().remove();break;case"line":var X=0;var $=0;var K=3;var Z=[28,28,26,28,26];e.attr("width",M).attr("height",i).attr("opacity",1).attr("style",x?"display: none;":null);var Q=U.selectAll(".legend").data(g);Q.enter().append("g").attr("class","legend").merge(Q).each((function(t,e,n){var i=e===0?"":b?b[e-1]:g[e-1].key;var o=b?b[e]:t.key;X=e===0?0:X+$u(i,y)+60;if(X+$u(o,y)>r){X=0;$+=y+10}var s=Xt(n[e]).selectAll("line").data([t.key]);var l=s.enter().append("line").merge(s).style("stroke-width",v.includes(t.key)?K-1:K).style("stroke",a[e]).style("stroke-dasharray",v.includes(t.key)?"2,2":u&&e<u.length?u[e]:"").attr("stroke-width",v.includes(t.key)?K-1:K).attr("stroke",a[e]).attr("stroke-dasharray",v.includes(t.key)?"2,2":u&&e<u.length?u[e]:"").style("opacity",R);var c=s.exit();var f=Xt(n[e]).selectAll("text").data([t.key]);var h=f.enter().append("text").attr("class","key-text").attr("opacity",0).merge(f).attr("dx",".2em").attr("dy",13).text(o);var p=f.exit();if(d){l=l.transition().duration(d).ease(Gf);c=c.transition().duration(d).ease(Gf);h=h.transition().duration(d).ease(Gf);p=p.transition().duration(d).ease(Gf)}l.attr("x1",X).attr("x2",X+(v.includes(t.key)?30:u&&e<u.length?Z[e]:30)).attr("y1",$+8).attr("y2",$+8);c.attr("opacity",0).remove();h.attr("x",X+5+(v.includes(t.key)?30:u&&e<u.length?Z[e]:30)).attr("y",$).attr("opacity",R);p.attr("opacity",0).remove()}));Q.exit().remove();break;case"bar":var J=0;var tt=0;e.attr("width",M).attr("height",i).attr("opacity",R).attr("style",x?"display: none;":null);var et=U.selectAll(".legend.bar").data(g);et.enter().append("g").attr("class","legend bar").merge(et).each((function(t,e,n){var i=e===0?"":b&&b[e-1]?w?xe(b[e-1],w):b[e-1]:w?xe(g[e-1][m],w):g[e-1][m];var o=b&&b[e]?w?xe(b[e],w):b[e]:w?xe(t[m],w):t[m];J=e===0?0:J+$u(i,y)+45;if(J+$u(o,y)>r){J=0;tt+=y+10}var s=Xt(n[e]).selectAll("rect").data([t[m]]);var u=s.enter().append("rect").attr("class","bar-rect").attr("opacity",0).merge(s).attr("fill",l?l(t[m]):a[e]||a(t[m])).attr("width",20).attr("height",20);var c=s.exit();var f=Xt(n[e]).selectAll("text").data([t[m]]);var h=f.enter().append("text").attr("class","bar-text").attr("opacity",0).merge(f).attr("dx",".2em").attr("dy",16).text(o);var p=f.exit();if(d){u=u.transition().duration(d).ease(Gf);c=c.transition().duration(d).ease(Gf);h=h.transition().duration(d).ease(Gf);p=p.transition().duration(d).ease(Gf)}u.attr("x",J).attr("y",tt).attr("opacity",R);c.attr("opacity",0).remove();h.attr("x",J+25).attr("y",tt).attr("opacity",R);p.attr("opacity",0).remove()}));et.exit().remove();break;case"scatter":var nt=0;var rt=0;e.attr("width",M).attr("height",i).attr("opacity",R).attr("style",x?"display: none;":null);var it=U.selectAll(".legend").data(g);it.enter().append("g").attr("class","legend").merge(it).each((function(t,e,n){var i=e===0?"":b?b[e-1]:g[e-1].key;var o=b?b[e]:t.key;nt=e===0?0:nt+$u(i,y)+50;if(nt+$u(o,y)>r){nt=0;rt+=y+10}var s=Xt(n[e]).selectAll("path").data([t]);var u=s.enter().append("path").attr("opacity",0).merge(s).attr("fill",a[e]);var l=s.exit();var c=Xt(n[e]).selectAll("text").data([t]);var f=c.enter().append("text").attr("class","key-text").attr("opacity",0).merge(c).attr("dx",".2em").attr("dy",13).text(o);var h=c.exit();if(d){u=u.transition().duration(d).ease(Gf);l=l.transition().duration(d).ease(Gf);f=f.transition().duration(d).ease(Gf);h=h.transition().duration(d).ease(Gf)}u.attr("transform","translate("+(+nt+4)+","+(+rt+8)+")  scale(4)").attr("d",jd[_[e]||_[0]].general).attr("opacity",R);l.attr("opacity",0).remove();f.attr("x",nt+15).attr("y",rt).attr("opacity",R);h.attr("opacity",0).remove()}));it.exit().remove();break}if(o&&!s){var at=Array.isArray(o);e.selectAll(".legend").each((function(t,e,n){var r=at&&o.length===1?o[0]:at?o[e]:o[e]||o(t[m]);if(r){var i=vh(ph(r),1);var a=i<3?hh(r):r;Xt(n[e].firstElementChild).attr("data-base-color",r);Xt(n[e].firstElementChild).attr("stroke",a);Xt(n[e].firstElementChild).attr("stroke-width",1)}}))}else if(p!=="line"){e.selectAll(".legend").selectAll("*").attr("stroke","none").attr("stroke-width",0)}e.selectAll("text").attr("filter",F);e.attr("data-type",p||"default");e.selectAll(".legend *:first-child").each((function(t,e,n){var r=Xt(n[e]);if(r.attr("fill")){r.attr("data-fill",r.attr("fill"))}if(r.attr("stroke")){r.attr("data-stroke",r.attr("stroke"))}if(r.attr("stroke-width")){r.attr("data-stroke-width",r.attr("stroke-width"))}}));Bd({root:e,uniqueID:n,interactionKeys:L,groupAccessor:T,hoverHighlight:A,clickHighlight:S,hoverStyle:E,clickStyle:N,hoverOpacity:C});Fi(e.node(),n)};var Bd=function(t){var e=t.root,n=t.interactionKeys,r=t.groupAccessor,i=t.hoverHighlight,a=t.clickHighlight,o=t.hoverStyle,s=t.clickStyle,u=t.hoverOpacity;var l=e.attr("data-type");if(l!=="gradient"){e.selectAll(".legend").each((function(t,e,c){var f=Xt(c[e].firstElementChild);var h=Xt(c[e]).select("text");var d=!t.values?t:t.values[0];var p=r&&n.length===1&&n[0]===r;var v=jh(d,i,n)&&p;var y=Vh(d,a,n)&&p;var g=f.attr("data-fill");var m=f.attr("data-stroke");var b="";if(g){var _=s?mh(s.color):"";var w=o?mh(o.color):"";var x=y?_||g:v&&w?w:g;f.attr("fill",x);f.style("fill",x);var A=f.attr("stroke");var S=f.attr("data-base-color");var T=l!=="scatter"?[hh(_||S||g)]:lh(_||S||g);var L=l!=="scatter"?[hh(w||S||g)]:lh(w||S||g);b=y?T[1]||T[0]:v?L[1]||L[0]:A?m:hh(g)}else if(m){var _=s&&s.color?lh(mh(s.color)):[m];var w=o&&o.color?lh(mh(o.color)):[m];b=y?_[1]||_[0]:v?w[1]||w[0]:m}f.attr("stroke",b);f.style("stroke",b);var E=parseFloat(f.attr("data-stroke-width"))||(m==="none"?0:1);var N=E<1?E:1;var C=l!=="line"?1:2;var M=l!=="scatter"?1:4;f.attr("stroke-width",(y?s&&s.strokeWidth&&N?parseFloat(s.strokeWidth+"")*C/N:E:v&&o&&o.strokeWidth&&N?parseFloat(o.strokeWidth+"")*C/N:E)/M);f.style("stroke-width",f.attr("stroke-width"));var k=l==="scatter"||l==="line";f.attr("stroke-dasharray",v&&!y&&!k?"8 6":l!=="line"?"none":f.attr("stroke-dasharray"));f.style("stroke-dasharray",f.attr("stroke-dasharray"));var I=Hh(t,1,u,i,a||[],n);f.attr("opacity",I);h.attr("opacity",!I?0:1)}))}};var zd=[{dependency:"visa-chart-components",github_link:"https://github.com/visa/visa-chart-components",license:{type:"MIT",update_date:"11/15/2020",link:"https://github.com/visa/visa-chart-components/blob/master/LICENSE.md",text:'\n        Copyright (c) Visa, Inc.\n\n        Permission is hereby granted, free of charge, to any person obtaining a copy\n        of this software and associated documentation files (the "Software"), to deal\n        in the Software without restriction, including without limitation the rights\n        to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n        copies of the Software, and to permit persons to whom the Software is\n        furnished to do so, subject to the following conditions:\n        \n        The above copyright notice and this permission notice shall be included in\n        all copies or substantial portions of the Software.\n        \n        THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n        IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n        FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n        AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n        LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n        OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n        THE SOFTWARE.\n      '}},{dependency:"node-uuid",github_link:"https://github.com/kelektiv/node-uuid",license:{type:"MIT",update_date:"10/15/2019",link:"https://github.com/kelektiv/node-uuid/blob/master/LICENSE.md",text:'\n        The MIT License (MIT)\n \n        Copyright (c) 2010-2016 Robert Kieffer and other contributors\n        \n        Permission is hereby granted, free of charge, to any person obtaining a copy\n        of this software and associated documentation files (the "Software"), to deal\n        in the Software without restriction, including without limitation the rights\n        to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n        copies of the Software, and to permit persons to whom the Software is\n        furnished to do so, subject to the following conditions:\n        \n        The above copyright notice and this permission notice shall be included in all\n        copies or substantial portions of the Software.\n        \n        THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n        IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n        FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n        AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n        LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n        OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n        SOFTWARE.\n      '}},{dependency:"turf.js",github_link:"https://github.com/Turfjs/turf",license:{type:"MIT",update_date:"8/8/2019",link:"https://github.com/Turfjs/turf/blob/master/LICENSE",text:'\n                The MIT License (MIT)\n\n                Copyright (c) 2019 Morgan Herlocker\n                \n                Permission is hereby granted, free of charge, to any person obtaining a copy of\n                this software and associated documentation files (the "Software"), to deal in\n                the Software without restriction, including without limitation the rights to\n                use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n                the Software, and to permit persons to whom the Software is furnished to do so,\n                subject to the following conditions:\n                \n                The above copyright notice and this permission notice shall be included in all\n                copies or substantial portions of the Software.\n                \n                THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n                IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n                FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n                COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n                IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n                CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n            '}},{dependency:"mapbox-gl-draw",github_link:"https://github.com/mapbox/mapbox-gl-draw",license:{type:"ISC",update_date:"8/8/2019",link:"https://github.com/mapbox/mapbox-gl-draw/blob/master/LICENSE",text:'\n                Copyright (c) Mapbox\n\n                All rights reserved.\n                \n                Permission to use, copy, modify, and/or distribute this software for any\n                purpose with or without fee is hereby granted, provided that the above\n                copyright notice and this permission notice appear in all copies.\n                \n                THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n                REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n                AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n                INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n                LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE\n                OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n                PERFORMANCE OF THIS SOFTWARE.\n            '}},{dependency:"mapbox-gl-js",github_link:"https://github.com/mapbox/mapbox-gl-js",license:{type:"BSD",update_date:"8/8/2019",link:"https://github.com/mapbox/mapbox-gl-js/blob/master/LICENSE.txt",text:'\n                Copyright (c) 2016, Mapbox\n\n                All rights reserved.\n                \n                Redistribution and use in source and binary forms, with or without modification,\n                are permitted provided that the following conditions are met:\n                \n                    * Redistributions of source code must retain the above copyright notice,\n                    this list of conditions and the following disclaimer.\n                    * Redistributions in binary form must reproduce the above copyright notice,\n                    this list of conditions and the following disclaimer in the documentation\n                    and/or other materials provided with the distribution.\n                    * Neither the name of Mapbox GL JS nor the names of its contributors\n                    may be used to endorse or promote products derived from this software\n                    without specific prior written permission.\n                \n                THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n                "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n                LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n                A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR\n                CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n                EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n                PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n                PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n                LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n                NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n                SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n                \n                -------------------------------------------------------------------------------\n                \n                Contains Hershey Simplex Font: http://paulbourke.net/dataformats/hershey/\n                \n                -------------------------------------------------------------------------------\n                \n                Contains code from glfx.js\n                \n                Copyright (C) 2011 by Evan Wallace\n                \n                Permission is hereby granted, free of charge, to any person obtaining a copy\n                of this software and associated documentation files (the "Software"), to deal\n                in the Software without restriction, including without limitation the rights\n                to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n                copies of the Software, and to permit persons to whom the Software is\n                furnished to do so, subject to the following conditions:\n                \n                The above copyright notice and this permission notice shall be included in\n                all copies or substantial portions of the Software.\n                \n                THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n                IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n                FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n                AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n                LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n                OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n                THE SOFTWARE.\n                \n                --------------------------------------------------------------------------------\n                \n                Contains a portion of d3-color https://github.com/d3/d3-color\n                \n                Copyright 2010-2016 Mike Bostock\n                All rights reserved.\n                \n                Redistribution and use in source and binary forms, with or without modification,\n                are permitted provided that the following conditions are met:\n                \n                * Redistributions of source code must retain the above copyright notice, this\n                list of conditions and the following disclaimer.\n                \n                * Redistributions in binary form must reproduce the above copyright notice,\n                this list of conditions and the following disclaimer in the documentation\n                and/or other materials provided with the distribution.\n                \n                * Neither the name of the author nor the names of contributors may be used to\n                endorse or promote products derived from this software without specific prior\n                written permission.\n                \n                THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND\n                ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n                WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n                DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n                ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n                (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n                LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n                ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n                (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n                SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n            '}},{dependency:"numeral.js",github_link:"https://github.com/adamwdraper/Numeral-js",license:{type:"MIT",update_date:"8/8/2019",link:"https://github.com/adamwdraper/Numeral-js/blob/master/LICENSE",text:'\n                The MIT License (MIT)\n\n                Copyright (c) 2016 Adam Draper\n\n                Permission is hereby granted, free of charge, to any person\n                obtaining a copy of this software and associated documentation\n                files (the "Software"), to deal in the Software without\n                restriction, including without limitation the rights to use,\n                copy, modify, merge, publish, distribute, sublicense, and/or sell\n                copies of the Software, and to permit persons to whom the\n                Software is furnished to do so, subject to the following\n                conditions:\n                \n                The above copyright notice and this permission notice shall be\n                included in all copies or substantial portions of the Software.\n                \n                THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n                EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n                OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n                NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n                HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n                WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n                FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n                OTHER DEALINGS IN THE SOFTWARE.\n            '}},{dependency:"stencil.js",github_link:"https://github.com/ionic-team/stencil",license:{type:"MIT",update_date:"8/8/2019",link:"https://github.com/ionic-team/stencil/blob/master/LICENSE",text:'\n                The MIT License (MIT)\n\n                Copyright (c) 2018-present Drifty Co.\n                \n                Permission is hereby granted, free of charge, to any person obtaining a copy\n                of this software and associated documentation files (the "Software"), to deal\n                in the Software without restriction, including without limitation the rights\n                to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n                copies of the Software, and to permit persons to whom the Software is\n                furnished to do so, subject to the following conditions:\n                \n                The above copyright notice and this permission notice shall be included in\n                all copies or substantial portions of the Software.\n                \n                THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n                IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n                FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n                AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n                LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n                OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n                THE SOFTWARE.\n            '}},{dependency:"topojson.js",github_link:"https://github.com/topojson/topojson",license:{type:"BSD 3-Clause",update_date:"8/8/2019",link:"https://github.com/topojson/topojson/blob/master/LICENSE.md",text:'\n                Copyright (c) 2012-2016, Michael Bostock All rights reserved.\n\n                Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n                \n                Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n                \n                Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n                \n                The name Michael Bostock may not be used to endorse or promote products derived from this software without specific prior written permission.\n                \n                THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL MICHAEL BOSTOCK BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n            '}},{dependency:"d3.js",github_link:"https://github.com/d3/d3",license:{type:"BSD 3-Clause",update_date:"8/8/2019",link:"https://github.com/d3/d3/blob/master/LICENSE",text:'\n                Copyright 2010-2017 Mike Bostock\n                All rights reserved.\n        \n                Redistribution and use in source and binary forms, with or without modification,\n                are permitted provided that the following conditions are met:\n        \n                * Redistributions of source code must retain the above copyright notice, this\n                list of conditions and the following disclaimer.\n        \n                * Redistributions in binary form must reproduce the above copyright notice,\n                this list of conditions and the following disclaimer in the documentation\n                and/or other materials provided with the distribution.\n        \n                * Neither the name of the author nor the names of contributors may be used to\n                endorse or promote products derived from this software without specific prior\n                written permission.\n        \n                THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND\n                ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n                WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n                DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n                ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n                (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n                LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n                ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n                (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n                SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n            '}},{dependency:"d3-annotation.js",github_link:"https://github.com/susielu/d3-annotation",license:{type:"Apache-2.0",update_date:"8/8/2019",link:"https://raw.githubusercontent.com/susielu/d3-annotation/master/LICENSE",text:'\n                            Apache License\n                            Version 2.0, January 2004\n                        http://www.apache.org/licenses/\n\n                TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n                1. Definitions.\n\n                "License" shall mean the terms and conditions for use, reproduction,\n                and distribution as defined by Sections 1 through 9 of this document.\n\n                "Licensor" shall mean the copyright owner or entity authorized by\n                the copyright owner that is granting the License.\n\n                "Legal Entity" shall mean the union of the acting entity and all\n                other entities that control, are controlled by, or are under common\n                control with that entity. For the purposes of this definition,\n                "control" means (i) the power, direct or indirect, to cause the\n                direction or management of such entity, whether by contract or\n                otherwise, or (ii) ownership of fifty percent (50%) or more of the\n                outstanding shares, or (iii) beneficial ownership of such entity.\n\n                "You" (or "Your") shall mean an individual or Legal Entity\n                exercising permissions granted by this License.\n\n                "Source" form shall mean the preferred form for making modifications,\n                including but not limited to software source code, documentation\n                source, and configuration files.\n\n                "Object" form shall mean any form resulting from mechanical\n                transformation or translation of a Source form, including but\n                not limited to compiled object code, generated documentation,\n                and conversions to other media types.\n\n                "Work" shall mean the work of authorship, whether in Source or\n                Object form, made available under the License, as indicated by a\n                copyright notice that is included in or attached to the work\n                (an example is provided in the Appendix below).\n\n                "Derivative Works" shall mean any work, whether in Source or Object\n                form, that is based on (or derived from) the Work and for which the\n                editorial revisions, annotations, elaborations, or other modifications\n                represent, as a whole, an original work of authorship. For the purposes\n                of this License, Derivative Works shall not include works that remain\n                separable from, or merely link (or bind by name) to the interfaces of,\n                the Work and Derivative Works thereof.\n\n                "Contribution" shall mean any work of authorship, including\n                the original version of the Work and any modifications or additions\n                to that Work or Derivative Works thereof, that is intentionally\n                submitted to Licensor for inclusion in the Work by the copyright owner\n                or by an individual or Legal Entity authorized to submit on behalf of\n                the copyright owner. For the purposes of this definition, "submitted"\n                means any form of electronic, verbal, or written communication sent\n                to the Licensor or its representatives, including but not limited to\n                communication on electronic mailing lists, source code control systems,\n                and issue tracking systems that are managed by, or on behalf of, the\n                Licensor for the purpose of discussing and improving the Work, but\n                excluding communication that is conspicuously marked or otherwise\n                designated in writing by the copyright owner as "Not a Contribution."\n\n                "Contributor" shall mean Licensor and any individual or Legal Entity\n                on behalf of whom a Contribution has been received by Licensor and\n                subsequently incorporated within the Work.\n\n                2. Grant of Copyright License. Subject to the terms and conditions of\n                this License, each Contributor hereby grants to You a perpetual,\n                worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n                copyright license to reproduce, prepare Derivative Works of,\n                publicly display, publicly perform, sublicense, and distribute the\n                Work and such Derivative Works in Source or Object form.\n\n                3. Grant of Patent License. Subject to the terms and conditions of\n                this License, each Contributor hereby grants to You a perpetual,\n                worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n                (except as stated in this section) patent license to make, have made,\n                use, offer to sell, sell, import, and otherwise transfer the Work,\n                where such license applies only to those patent claims licensable\n                by such Contributor that are necessarily infringed by their\n                Contribution(s) alone or by combination of their Contribution(s)\n                with the Work to which such Contribution(s) was submitted. If You\n                institute patent litigation against any entity (including a\n                cross-claim or counterclaim in a lawsuit) alleging that the Work\n                or a Contribution incorporated within the Work constitutes direct\n                or contributory patent infringement, then any patent licenses\n                granted to You under this License for that Work shall terminate\n                as of the date such litigation is filed.\n\n                4. Redistribution. You may reproduce and distribute copies of the\n                Work or Derivative Works thereof in any medium, with or without\n                modifications, and in Source or Object form, provided that You\n                meet the following conditions:\n\n                (a) You must give any other recipients of the Work or\n                Derivative Works a copy of this License; and\n\n                (b) You must cause any modified files to carry prominent notices\n                stating that You changed the files; and\n\n                (c) You must retain, in the Source form of any Derivative Works\n                that You distribute, all copyright, patent, trademark, and\n                attribution notices from the Source form of the Work,\n                excluding those notices that do not pertain to any part of\n                the Derivative Works; and\n\n                (d) If the Work includes a "NOTICE" text file as part of its\n                distribution, then any Derivative Works that You distribute must\n                include a readable copy of the attribution notices contained\n                within such NOTICE file, excluding those notices that do not\n                pertain to any part of the Derivative Works, in at least one\n                of the following places: within a NOTICE text file distributed\n                as part of the Derivative Works; within the Source form or\n                documentation, if provided along with the Derivative Works; or,\n                within a display generated by the Derivative Works, if and\n                wherever such third-party notices normally appear. The contents\n                of the NOTICE file are for informational purposes only and\n                do not modify the License. You may add Your own attribution\n                notices within Derivative Works that You distribute, alongside\n                or as an addendum to the NOTICE text from the Work, provided\n                that such additional attribution notices cannot be construed\n                as modifying the License.\n\n                You may add Your own copyright statement to Your modifications and\n                may provide additional or different license terms and conditions\n                for use, reproduction, or distribution of Your modifications, or\n                for any such Derivative Works as a whole, provided Your use,\n                reproduction, and distribution of the Work otherwise complies with\n                the conditions stated in this License.\n\n                5. Submission of Contributions. Unless You explicitly state otherwise,\n                any Contribution intentionally submitted for inclusion in the Work\n                by You to the Licensor shall be under the terms and conditions of\n                this License, without any additional terms or conditions.\n                Notwithstanding the above, nothing herein shall supersede or modify\n                the terms of any separate license agreement you may have executed\n                with Licensor regarding such Contributions.\n\n                6. Trademarks. This License does not grant permission to use the trade\n                names, trademarks, service marks, or product names of the Licensor,\n                except as required for reasonable and customary use in describing the\n                origin of the Work and reproducing the content of the NOTICE file.\n\n                7. Disclaimer of Warranty. Unless required by applicable law or\n                agreed to in writing, Licensor provides the Work (and each\n                Contributor provides its Contributions) on an "AS IS" BASIS,\n                WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n                implied, including, without limitation, any warranties or conditions\n                of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n                PARTICULAR PURPOSE. You are solely responsible for determining the\n                appropriateness of using or redistributing the Work and assume any\n                risks associated with Your exercise of permissions under this License.\n\n                8. Limitation of Liability. In no event and under no legal theory,\n                whether in tort (including negligence), contract, or otherwise,\n                unless required by applicable law (such as deliberate and grossly\n                negligent acts) or agreed to in writing, shall any Contributor be\n                liable to You for damages, including any direct, indirect, special,\n                incidental, or consequential damages of any character arising as a\n                result of this License or out of the use or inability to use the\n                Work (including but not limited to damages for loss of goodwill,\n                work stoppage, computer failure or malfunction, or any and all\n                other commercial damages or losses), even if such Contributor\n                has been advised of the possibility of such damages.\n\n                9. Accepting Warranty or Additional Liability. While redistributing\n                the Work or Derivative Works thereof, You may choose to offer,\n                and charge a fee for, acceptance of support, warranty, indemnity,\n                or other liability obligations and/or rights consistent with this\n                License. However, in accepting such obligations, You may act only\n                on Your own behalf and on Your sole responsibility, not on behalf\n                of any other Contributor, and only if You agree to indemnify,\n                defend, and hold each Contributor harmless for any liability\n                incurred by, or claims asserted against, such Contributor by reason\n                of your accepting any such warranty or additional liability.\n\n                END OF TERMS AND CONDITIONS\n\n\n                APPENDIX: How to apply the Apache License to your work.\n\n                To apply the Apache License to your work, attach the following\n                boilerplate notice, with the fields enclosed by brackets "[]"\n                replaced with your own identifying information. (Don\'t include\n                the brackets!)  The text should be enclosed in the appropriate\n                comment syntax for the file format. We also recommend that a\n                file or class name and description of purpose be included on the\n                same "printed page" as the copyright notice for easier\n                identification within third-party archives.\n\n                Copyright (c) 2017, Susie Lu\n\n                Licensed under the Apache License, Version 2.0 (the "License");\n                you may not use this file except in compliance with the License.\n                You may obtain a copy of the License at\n\n                http://www.apache.org/licenses/LICENSE-2.0\n\n                Unless required by applicable law or agreed to in writing, software\n                distributed under the License is distributed on an "AS IS" BASIS,\n                WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n                See the License for the specific language governing permissions and\n                limitations under the License.\n            '}},{dependency:"ua-parser-js",github_link:"https://github.com/faisalman/ua-parser-js",license:{type:"MIT",update_date:"12/16/2020",link:"https://github.com/faisalman/ua-parser-js/blob/master/license.md",text:'\n        MIT License\n\n        Copyright (c) 2012-2019 Faisal Salman <<f@faisalman.com>>\n        \n        Permission is hereby granted, free of charge, to any person obtaining a copy\n        of this software and associated documentation files (the "Software"), to deal\n        in the Software without restriction, including without limitation the rights\n        to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n        copies of the Software, and to permit persons to whom the Software is\n        furnished to do so, subject to the following conditions:\n        \n        The above copyright notice and this permission notice shall be included in all\n        copies or substantial portions of the Software.\n        \n        THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n        IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n        FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n        AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n        LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n        OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n        SOFTWARE.\n      '}},{dependency:"yup",github_link:"https://github.com/jquense/yup",license:{type:"MIT",update_date:"12/16/2020",link:"https://github.com/jquense/yup/blob/master/LICENSE.md",text:'\n        The MIT License (MIT)\n\n        Copyright (c) 2014 Jason Quense\n        \n        Permission is hereby granted, free of charge, to any person obtaining a copy\n        of this software and associated documentation files (the "Software"), to deal\n        in the Software without restriction, including without limitation the rights\n        to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n        copies of the Software, and to permit persons to whom the Software is\n        furnished to do so, subject to the following conditions:\n        \n        The above copyright notice and this permission notice shall be included in all\n        copies or substantial portions of the Software.\n        \n        THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n        IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n        FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n        AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n        LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n        OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n        SOFTWARE.\n      '}},{dependency:"htmlwidgets",github_link:"https://github.com/ramnathv/htmlwidgets",license:{type:"MIT",update_date:"3/11/2021",link:"https://github.com/ramnathv/htmlwidgets/blob/master/LICENSE",text:'\n        MIT License\n\n        Copyright (c) 2016, Ramnath Vaidyanathan, Joe Cheng, JJ Allaire, Yihui Xie, and Kenton Russell\n\n        Permission is hereby granted, free of charge, to any person obtaining a copy\n        of this software and associated documentation files (the "Software"), to deal\n        in the Software without restriction, including without limitation the rights\n        to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n        copies of the Software, and to permit persons to whom the Software is\n        furnished to do so, subject to the following conditions:\n        \n        The above copyright notice and this permission notice shall be included in all\n        copies or substantial portions of the Software.\n        \n        THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n        IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n        FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n        AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n        LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n        OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n        SOFTWARE.\n      '}},{dependency:"vega-label and vega-canvas",github_link:"https://github.com/vega/vega-label",license:{type:"BSD-3-Clause",update_date:"7/8/2021",link:"https://github.com/vega/vega-label/blob/master/LICENSE",text:'\n        Copyright (c) 2016, University of Washington Interactive Data Lab\n        All rights reserved.\n        \n        Redistribution and use in source and binary forms, with or without\n        modification, are permitted provided that the following conditions are met:\n        \n        1. Redistributions of source code must retain the above copyright notice, this\n          list of conditions and the following disclaimer.\n        \n        2. Redistributions in binary form must reproduce the above copyright notice,\n          this list of conditions and the following disclaimer in the documentation\n          and/or other materials provided with the distribution.\n        \n        3. Neither the name of the copyright holder nor the names of its contributors\n          may be used to endorse or promote products derived from this software\n          without specific prior written permission.\n        \n        THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"\n        AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n        IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n        DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE\n        FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n        DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n        SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n        CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n        OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n        OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n      '}}];function Yd(){return zd}var Wd=function(t){var e=t.selection,n=t.duration,r=t.namespace,i=t.easing,a=t.delay;if(!n){return e}var o=r||"generic-transition";e.interrupt(o);var s=e.transition(o).duration(n);if(i){s=s.ease(i)}if(a){s=s.delay(a)}return s};var Gd={"vcl-access-title":"","vcl-access-subtitle":"","vcl-access-long-description":"","vcl-access-context":"","vcl-access-executive-summary":"","vcl-access-purpose":"","vcl-access-statistics":"","vcl-access-layout":"","vcl-access-xAxis":"","vcl-access-yAxis":"","vcl-access-notes":"","vcl-access-annotation":"","vcl-access-annotation-title":"","vcl-access-annotation-description":"",headings:""};var qd=function(t){var e=t.rootEle,n=t.title,r=t.chartTag,i=t.uniqueID,a=t.highestHeadingLevel,o=t.redraw,s=t.disableKeyNav;var u=sp(a,0);u=u==="h1"?"h2":u;var l=sp(u,1);var c=sp(u,2);var f=sp(u,3);var h=Xt(e).select(".vcl-accessibility-instructions");if(!h.size()||o){Xt(e).select(".vcl-main-title").attr("aria-hidden","true");Xt(e).select(".vcl-sub-title").attr("aria-hidden","true");if(!h.size()){h=Xt(e).select(".o-layout").insert("div",":first-child").attr("class","vcl-accessibility-instructions").style("position","absolute").style("width","200px")}else{h.selectAll("*").remove()}h.append(f).attr("class","screen-reader-info vcl-region-label");h.append(u).attr("class","screen-reader-info vcl-access-title").text(Gd["vcl-access-title"]);h.append(l).attr("class","screen-reader-info vcl-access-subtitle").text(Gd["vcl-access-subtitle"]);h.append(l).attr("class","screen-reader-info vcl-access-executive-summary-heading").text(Gd["headings"]);h.append(f).attr("class","screen-reader-info vcl-access-executive-summary").attr("data-level",l).text(Gd["vcl-access-executive-summary"]);h.append(l).attr("class","screen-reader-info vcl-access-purpose-heading").text(Gd["headings"]);h.append(f).attr("class","screen-reader-info vcl-access-purpose").attr("data-level",l).text(Gd["vcl-access-purpose"]);h.append(l).attr("class","screen-reader-info vcl-access-long-description-heading").text(Gd["headings"]);h.append(f).attr("class","screen-reader-info vcl-access-long-description").attr("data-level",l).text(Gd["vcl-access-long-description"]);h.append(f).attr("data-level",l).attr("class","screen-reader-info vcl-access-context").text(Gd["vcl-access-context"]);h.append(l).attr("class","screen-reader-info vcl-access-structure-heading").text("Structure");h.append(c).attr("class","screen-reader-info vcl-access-statistics-heading").text(Gd["headings"]);h.append(f).attr("class","screen-reader-info vcl-access-statistics").attr("data-level",c).text(Gd["vcl-access-statistics"]);h.append(c).attr("class","screen-reader-info vcl-access-chart-layout-heading").text("Chart Layout Description");h.append(f).attr("class","screen-reader-info vcl-access-layout").text(Gd["vcl-access-layout"]);h.append(f).attr("class","screen-reader-info vcl-access-xAxis").text(Gd["vcl-access-xAxis"]);h.append(f).attr("class","screen-reader-info vcl-access-yAxis").text(Gd["vcl-access-yAxis"]);h.append(c).attr("class","screen-reader-info vcl-access-notes-heading").text(Gd["headings"]);h.append(f).attr("class","screen-reader-info vcl-access-notes").attr("data-level",c).attr("data-annotationlevel",l).text(Gd["vcl-access-notes"]);h.append(l).attr("class","screen-reader-info vcl-access-annotations-heading").text(Gd["headings"])}h.attr("id","chart-instructions-"+i);var d=n?", Titled: "+n:", with no title provided.";var p="Keyboard interactive "+r+d+". This section contains additional information about this chart. Pressing TAB will focus the keyboard instructions menu. Tabbing again takes you to the chart area.";var v="Static "+r+" image"+d+". This section contains additional information about this chart. Pressing TAB will focus the data table button.";h.select(".vcl-region-label").text(!s?p:v)};var Xd=function(t,e){Xt(t).select(".vcl-access-title").text(e?"Chart title: "+e:Gd["vcl-access-title"])};var $d=function(t,e){Xt(t).select(".vcl-access-subtitle").text(e?"Chart subtitle: "+e:Gd["vcl-access-subtitle"])};var Kd=function(t,e){up(Xt(t).select(".vcl-accessibility-instructions"),e,"Long Description","vcl-access-long-description",e||Xt(t).select(".vcl-access-context").text())};var Zd=function(t,e){up(Xt(t).select(".vcl-accessibility-instructions"),e,"Long Description","vcl-access-context",e||Xt(t).select(".vcl-access-long-description").text(),"vcl-access-long-description")};var Qd=function(t,e){up(Xt(t).select(".vcl-accessibility-instructions"),e,"Executive Summary","vcl-access-executive-summary",!!e)};var Jd=function(t,e){up(Xt(t).select(".vcl-accessibility-instructions"),e,"Purpose","vcl-access-purpose",!!e)};var tp=function(t,e){up(Xt(t).select(".vcl-accessibility-instructions"),e,"Statistical Information","vcl-access-statistics",!!e)};var ep=function(t){var e=t.rootEle,n=t.parentGNode,r=t.chartTag,i=t.geomType,a=t.groupName,o=t.recursive;var s=Xt(n);var u=s.selectAll("g").selectAll("*:not(title)").size()>1||(s.selectAll("g").selectAll("*:not(title)").size()===0&&s.selectAll("*:not(title)").size())>1?"s":"";var l=a||i+" group";var c=s.selectAll("g").size()>1?"s":"";var f=!o?s.selectAll("g").size()?s.selectAll("g").size()+" "+l+c+" containing a total "+(s.selectAll("g").selectAll("*:not(title)").size()-s.selectAll("g").selectAll(".vcl-accessibility-focus-highlight").size())+" "+i+u:s.selectAll("*:not(title)").size()-s.selectAll(".vcl-accessibility-focus-highlight").size()+" "+i+u:s.selectAll("g").size()+" "+i+u+" (more "+i+"s may be revealed upon interaction)";Xt(e).select(".vcl-access-layout").text("This is a "+r+" with "+f+".")};var np=function(t){var e=t.rootEle,n=t.hasXAxis,r=t.xAxis,i=t.xAxisLabel;var a=Gd["vcl-access-xAxis"];if(n){var o=r&&r.formattedTicks&&r.formattedTicks[0]?r.formattedTicks:[];var s=i?", titled "+i:"";var u=o.length?" with a range that starts with "+o[0]+" and ends with "+o[o.length-1]:"";a="The chart has a horizontal X Axis"+s+u+"."}Xt(e).select(".vcl-access-xAxis").text(a)};var rp=function(t){var e=t.rootEle,n=t.hasYAxis,r=t.yAxis,i=t.secondaryYAxis,a=t.yAxisLabel,o=t.secondaryYAxisLabel,s=t.xAxisLabel;var u=Gd["vcl-access-yAxis"];var l;if(r&&r.formattedTicks){l=r.formattedTicks}var c;if(i&&i.formattedTicks){c=i.formattedTicks}if(n){if(c){var f=a?", titled "+a:"";var h=l?" with a range that starts with "+l[0]+" and ends with "+l[l.length-1]:"";var d=o?", titled "+o:"";var p=c?" with a range that starts with "+c[0]+" and ends with "+c[c.length-1]:"";u="The chart has a primary vertical Y Axis"+f+h+". ";u+="The chart has a secondary vertical Y Axis"+d+p+"."}else if(!(typeof r==="function")){var v=Object.keys(r);var y=r[v[0]].y&&r[v[0]].y.formattedTicks&&r[v[0]].y.formattedTicks[0]?r[v[0]].y.formattedTicks:[];var g=y.length?", with a range that starts with "+y[0]+" and ends with "+y[y.length-1]:"";u=v.length>1?"The chart has "+v.length+" vertical Y Axis sections, all using different scales"+(s?". This series is titled "+s:"")+".":"The chart has a vertical Y Axis, titled "+v[0]+g+".";if(v.length>1){var m=0;for(m=0;m<v.length;m++){var b=r[v[m]].y;var _=b&&b.formattedTicks&&b.formattedTicks[0]?b.formattedTicks:[];var w=_.length?", with a range that starts with "+_[0]+" and ends with "+_[_.length-1]:"";u+=" Y Axis "+(m+1)+" of "+v.length+", titled "+v[m]+w+"."}}}else{var x=r&&r.formattedTicks&&r.formattedTicks[0]?r.formattedTicks:[];var A=a?", titled "+a:"";var S=x.length?" with a range that starts with "+x[0]+" and ends with "+x[x.length-1]:"";u="The chart has a vertical Y axis"+A+S+"."}}Xt(e).select(".vcl-access-yAxis").text(u)};var ip=function(t,e){up(Xt(t).select(".vcl-accessibility-instructions"),e,"Notes about the chart structure","vcl-access-notes",!!e)};var ap=function(t,e){var n=Xt(t).select(".vcl-accessibility-instructions");var r=n.select(".vcl-access-notes").node();var i=n.select(".vcl-access-annotations-heading");var a=".vcl-interaction-instructions";var o=r.dataset.annotationlevel;var s=sp(o,1);var u=sp(o,2);n.selectAll(".vcl-access-annotation").remove();var l=1;if(e&&e.length){if(!i.size()){i=n.insert(o,a).attr("class","screen-reader-info vcl-access-annotations-heading")}e.forEach((function(t){var e=false;if(t.accessibilityDecorationOnly){e=false}else{if(t.note){if(t.note.title){e=true;n.insert(s,a).attr("class","screen-reader-info vcl-access-annotation").text(t.note.title||"Annotation "+l)}if(t.note.label){e=true;n.insert(u,a).attr("class","screen-reader-info vcl-access-annotation").text(t.note.label)}}if(t.accessibilityDescription){e=true;n.insert(u,a).attr("class","screen-reader-info vcl-access-annotation").text(t.accessibilityDescription)}}if(e){l++}}))}if(l-1){var c=l-2>0?"s":"";var f=l-1+" annotation"+c+" on the chart";i.text(f)}else{i.remove()}};var op=function(t,e){Xt("#chart-instructions-"+t).style("width",(function(){return Math.max(e,200)+"px"}))};var sp=function(t,e){if(t==="p"||t==="P"||!t){return"p"}else if(t==="span"||t==="SPAN"){return"span"}else if(t==="div"||t==="DIV"){return"div"}var n=e||0;var r=typeof t!=="string"||t.length<=1?t:t[1];if(+r+n<7&&n<3){return"h"+(+r+n)}return"p"};var up=function(t,e,n,r,i,a){var o=t.select("."+r).text(e||Gd[r]);var s=t.select("."+(a||r)+"-heading");if(i){if(!s.size()){s=t.insert(o.node().dataset.level,"."+(a||r)).attr("class","screen-reader-info "+(a||r)+"-heading")}s.text(n)}else{s.remove()}};function lp(t){var e;if(t==="large"){e={top:40,bottom:60,right:100,left:80}}else if(t==="small"){e={top:10,bottom:20,right:40,left:40}}else if(t===""){e={top:20,bottom:50,right:70,left:60}}return e}function cp(t){return t.each((function(){this.parentNode.appendChild(this)}))}var fp={alaska:"M0.2,1ZM0,0ZM0.1,0.3ZM0,0.2L8.1,6.9L3.8,7.5L0,0.2ZM0,0.3ZM0.5,1.2L0.5,1.2ZM1.4,2.5L1.4,2.5ZM5.1,6.6L5.1,6.6ZM1,0.7L4,7.2L1,0.7ZM0,0ZM0.6,0.8L5.5,4.1L0.6,0.8ZM2.1,0ZM0.8,0ZM51.5,5.8L60.5,5.3L66.9,10.4L68.9,20.3L70.9,30.2L72.8,40.1L74.8,50L76.8,60L82.9,61.6L89.5,68.2L94.3,62.3L101.8,67.6L108.9,74.6L116.4,77.9L119.6,85.6L114.5,84.3L110.2,81.3L105.5,75.8L98.9,70.1L97.7,69.7L92.3,68.5L92.3,71.8L83.6,67.7L79.2,66.4L69.8,66.2L62.1,64.5L59.9,61.7L56,64L53.2,68.1L47.1,73.4L45.4,70.6L48.6,62.5L45.6,62.8L41.4,70.4L40.4,75.3L34.9,81.6L29.7,87.2L23.9,90.9L18,93.5L11.9,94.7L7.5,97.8L2.3,99.3L5.3,96.9L12.3,92.3L16.4,91.7L23.2,86.2L27.5,77.7L23.2,76L18.8,74.1L14,72.7L11.2,67.6L5.2,62.2L3.5,56.3L8.3,49.6L15.4,46.7L19.5,41.1L16.1,39.7L8.9,38.9L4.8,32.3L9.5,28.7L14.2,29.8L19.4,28.7L20,27.4L15.2,21.7L10.7,14.4L18.3,10.6L24.8,4.6L32.7,0.2L36.9,1.5L43.1,4.9ZM0.9,2.9L0.9,2.9ZM2.6,2.8L7.4,1.5L3.5,6.8L2.6,2.8ZM0.7,0ZM0.6,0ZM1.4,0ZM1.1,0ZM0.4,0ZM0.5,0ZM0,0ZM0.5,0ZM1.2,0.3ZM3.2,0.1L3.2,0.1ZM5.6,0.1L0.1,3.6L5.6,0.1ZM0,1.8L0,1.8ZM0.9,0ZM0.6,0ZM0.6,0ZM0.7,0L6.6,4.9L0.7,0ZM0.6,0ZM0,0ZM2.6,0.6L2.6,0.6ZM1.7,0.8ZM0.8,0ZM0,0ZM1.6,0.8Z",hawaii:"M67.6,57L65.7,56.3L63.8,55.6L62.9,53.9L63.1,51.9L63.3,49.9L62.5,48.1L61.7,46.2L60.9,44.4L61.2,42.7L62.7,41.3L63.6,39.5L64.1,37.7L63.2,36L63.6,34.2L65.4,35.1L67.2,36.1L69.1,36.9L71,37.5L72.9,38.2L74.5,39.4L76.1,40.7L76.4,42.5L77.5,44.1L79.1,45.3L80.7,46.6L80.2,48L78.8,49.5L77.1,50.4L75.1,50.9L73.2,51.5L71.5,52.6L69.8,53.7L68.6,55.3ZM51.8,20.9L53.1,22.6L54.7,22.8L56.6,22.5L58.5,23.5L60.4,24.5L61.1,25.9L60.1,27.6L58.1,28L56,28.5L54.1,28.2L53.9,26.1L52.7,24.9L50.8,24.2L50.3,22.4L51.8,20.9ZM45.3,17.8L43.9,19.4L41.9,19.6L40,19.4L41.1,17.6L43.2,17.7ZM29.4,9.3L30.3,11.3L31.2,13.2L30.5,15.2L28.8,15.9L26.7,16L25.8,14L24.9,12.1L25.7,11.2L27.7,10.5L29.4,9.3ZM4.7,0L6.7,0.4L7.4,2.4L6.9,4.6L5.2,6L3.2,5.4L1.2,4.6L0,3.3L0.6,1.2L2.6,0.6Z",puertoRico:"M37.3,0L35.4,0.7L34.6,2.3L33.8,4.2L32.5,5.6L30.9,6.7L30.2,8.4L31.3,10.1L32.9,11.3L33.7,13.1L33.9,15L33.6,17L33.2,19L32.5,20.9L32.8,22.9L32.1,24.7L32.6,26.5L34.1,26.2L36,26.9L37.8,26.5L39.8,26.2L41.8,26.5L43.7,27L45.7,27.2L47.7,27L49.6,26.5L51.4,25.6L53.2,25.1L55.2,25.4L57.1,25.9L59.1,25.9L61.2,25.9L63.1,25.5L65,25.3L67,25.8L68.6,26.9L70.5,26.3L72.4,26.4L74.4,26.7L76.4,26.8L78.3,26.8L80,27.3L82,26.7L83.9,26.2L85.9,25.8L87.9,25.7L89.9,25.4L91.8,24.8L93.6,23.9L94.6,22.2L95.8,20.6L96.9,19L97.8,17.2L99.5,16.2L101.1,15L103,14.3L104.7,13.4L105.1,12.1L104,10.5L103.7,8.5L104.2,6.6L102.5,6.2L100.5,6.1L98.6,5.5L96.7,4.7L94.9,3.8L93,3.4L91,2.9L89,2.7L87,2.6L85,2.6L83.1,2.1L81.1,2.3L79.1,2.7L77.3,1.9L75.3,1.7L73.3,1.5L71.3,1.3L69.3,1.1L67.3,1.3L65.3,1.6L63.3,1.5L61.3,1.2L59.3,1.1L57.3,1.2L55.3,1.4L53.3,1.4L51.3,1.2L49.3,1.1L47.2,1.2L45.2,1.1L43.3,0.7L41.3,0.3L39.3,0.1L37.3,0ZM105,5.5ZM20.4,5.8ZM106.8,6.1ZM107.8,6.6ZM115.1,6.6ZM105.7,7ZM116.2,7L116.7,9.1L118.3,10.2L120.1,9.8L120.2,8.5L118.3,7.5L116.2,7ZM114,8ZM105.5,8.7ZM104.2,8.9ZM-1,16.4ZM114,16.5L112,16.7L110.1,17.3L108.2,17.8L106.5,18.7L106.8,20.1L108.7,20.4L110.7,20.1L112.6,19.7L114.6,19.3L116.5,18.8L118.3,18L117.9,17L116,16.7ZM2.8,18.2L0.6,18.5L-0.1,20.4L1.9,21.4L3.8,20.2L2.8,18.2ZM58.2,25.9ZM41.3,26.6ZM37,27.8ZM63.5,28.7Z",continentalUS:"M78.9,25.6L79.9,23.8L81.4,27.2L81.4,23.5L82.8,21.8L84.4,18.8L83.3,18.3L86.8,16.4L87.2,14.9L87.2,11.2L90,8.7L89.5,5.7L87.2,3L85.5,6.1L83.4,9.2L79.6,10.2L77.4,13.3L74.4,15L72.2,18L68.9,20.1L68,17.6L66.1,15.3L65.8,12.1L62.8,13L61.6,16.5L61.5,20.2L59.6,17.9L60,14L60,12.1L63.6,10.7L62.9,9.2L59,9.6L57.1,9L53.6,9.7L54.9,7.7L53.1,6.8L49.3,5.9L45.8,5.1L41.8,5.1L37.8,4.9L33.8,4.6L29.8,4.2L25.8,3.7L21.9,3L18,2.2L14,1.4L10.2,0.4L7.6,1.6L4.5,1.1L4.2,5L2.9,8.8L1.2,12.4L0.4,16.2L0.1,20.1L1.2,24L1.8,27.8L2.8,31.5L6,33.8L8.1,37.1L11.8,38.1L15.2,40.2L18.7,42.1L22.7,42.6L26.5,42.1L29.4,44.8L31.4,48.2L34.5,47.1L37.6,49.3L39.6,52.7L42,55.6L43.6,53.8L45.8,50.7L49.1,48.4L52.9,47.9L56,48.7L59.6,48.4L59.3,45.9L63.2,45.6L67,46.3L70.5,46.3L72.3,49.6L74.2,52.8L77,55.3L78,51.8L76.3,48.1L74.3,44.7L74.5,40.8L76.9,37.7L79.2,34.8L81.2,31.9L81.2,28.5L78.9,25.6ZM75.2,56.8ZM76.5,56.3L76.5,56.3ZM82,32.1L82,32.1ZM88.4,16.4ZM87.5,16.5ZM88.6,9.7ZM89.3,9.2ZM80.4,25.4ZM56.6,7.2ZM65.2,10.4ZM6.8,0.2ZM44.1,55.7L44.6,51.7L44.1,55.7ZM3.3,32.7ZM3.5,32.7ZM5.5,34.7ZM5.4,35.5Z"};function hp(t,e,r){var i=[[],[]];if(t.length<1||e.length<1)return[];var a={};var o={};var s=[];var u=0;for(u=0;u<t.length;u++){a[t[u][r]]=1}u=0;for(u=0;u<e.length;u++){o[e[u][r]]=1;if(a[e[u][r]]){s.push(0)}else{s.push(1)}}u=0;var l=0;var c=0;function f(r){var a=n({},t[c]);var o=n({},e[l]);if(r){a[r]=true;o[r]=true}i[0].push(a);i[1].push(o)}function h(t,e){c=c+t;l=l+e}var d=0;var p=false;while(c<t.length&&l<e.length){var v=l!==0?false:true;var y=s[l];var g=p&&y?false:!o[t[c][r]];var m=!p&&!g?true:false;if(g){var b=!v&&!p?[0,-1]:[0,0];var _=!v&&!p?[1,1]:[1,0];h(b[0],b[1]);f("exit");h(_[0],_[1])}else if(y){f("enter");h(0,1)}else if(m){f(false);h(1,1)}if(!p&&c===t.length&&l<e.length){p=true;h(-1,0)}else if(!p&&c<t.length&&l===e.length){p=true;h(0,-1)}d+=g||y?1:0}if(!d){return[]}return i}function dp(t,e){var n=t.getTotalLength();var r=0;var i=n/e;var a="M";while(r<=n){if(r){a+="L"}var o=t.getPointAtLength(r);a+=o.x+","+o.y;r+=i}a+="Z";return a}function pp(t,e){var n=t.getTotalLength();try{if(n>e)throw"Path length exceeds supplied limit. Raise limit."}catch(s){console.log(s)}var r=0;var i=1;var a="M";var o={};while(r<=n){if(r){a+="L"}o=t.getPointAtLength(r);a+=o["x"]+","+o["y"];r+=i}while(r<=e){a+=o["x"]+","+o["y"];r+=i}a+="Z";return a}var vp="4.13.0";function yp(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function gp(t){if(t.length===1)t=mp(t);return{left:function(e,n,r,i){if(r==null)r=0;if(i==null)i=e.length;while(r<i){var a=r+i>>>1;if(t(e[a],n)<0)r=a+1;else i=a}return r},right:function(e,n,r,i){if(r==null)r=0;if(i==null)i=e.length;while(r<i){var a=r+i>>>1;if(t(e[a],n)>0)i=a;else r=a+1}return r}}}function mp(t){return function(e,n){return yp(t(e),n)}}var bp=gp(yp);var _p=bp.right;var wp=bp.left;function xp(t,e){if(e==null)e=Ap;var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);while(n<r)a[n]=e(i,i=t[++n]);return a}function Ap(t,e){return[t,e]}function Sp(t,e,n){var r=t.length,i=e.length,a=new Array(r*i),o,s,u,l;if(n==null)n=Ap;for(o=u=0;o<r;++o){for(l=t[o],s=0;s<i;++s,++u){a[u]=n(l,e[s])}}return a}function Tp(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function Lp(t){return t===null?NaN:+t}function Ep(t,e){var n=t.length,r=0,i=-1,a=0,o,s,u=0;if(e==null){while(++i<n){if(!isNaN(o=Lp(t[i]))){s=o-a;a+=s/++r;u+=s*(o-a)}}}else{while(++i<n){if(!isNaN(o=Lp(e(t[i],i,t)))){s=o-a;a+=s/++r;u+=s*(o-a)}}}if(r>1)return u/(r-1)}function Np(t,e){var n=Ep(t,e);return n?Math.sqrt(n):n}function Cp(t,e){var n=t.length,r=-1,i,a,o;if(e==null){while(++r<n){if((i=t[r])!=null&&i>=i){a=o=i;while(++r<n){if((i=t[r])!=null){if(a>i)a=i;if(o<i)o=i}}}}}else{while(++r<n){if((i=e(t[r],r,t))!=null&&i>=i){a=o=i;while(++r<n){if((i=e(t[r],r,t))!=null){if(a>i)a=i;if(o<i)o=i}}}}}return[a,o]}var Mp=Array.prototype;var kp=Mp.slice;var Ip=Mp.map;function Op(t){return function(){return t}}function Dp(t){return t}function Rp(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);while(++r<i){a[r]=t+r*n}return a}var Up=Math.sqrt(50),Pp=Math.sqrt(10),Fp=Math.sqrt(2);function Hp(t,e,n){var r,i=-1,a,o,s;e=+e,t=+t,n=+n;if(t===e&&n>0)return[t];if(r=e<t)a=t,t=e,e=a;if((s=jp(t,e,n))===0||!isFinite(s))return[];if(s>0){t=Math.ceil(t/s);e=Math.floor(e/s);o=new Array(a=Math.ceil(e-t+1));while(++i<a)o[i]=(t+i)*s}else{t=Math.floor(t*s);e=Math.ceil(e*s);o=new Array(a=Math.ceil(t-e+1));while(++i<a)o[i]=(t-i)/s}if(r)o.reverse();return o}function jp(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=Up?10:a>=Pp?5:a>=Fp?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=Up?10:a>=Pp?5:a>=Fp?2:1)}function Vp(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;if(a>=Up)i*=10;else if(a>=Pp)i*=5;else if(a>=Fp)i*=2;return e<t?-i:i}function Bp(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function zp(){var t=Dp,e=Cp,n=Bp;function r(r){var i,a=r.length,o,s=new Array(a);for(i=0;i<a;++i){s[i]=t(r[i],i,r)}var u=e(s),l=u[0],c=u[1],f=n(s,l,c);if(!Array.isArray(f)){f=Vp(l,c,f);f=Rp(Math.ceil(l/f)*f,Math.floor(c/f)*f,f)}var h=f.length;while(f[0]<=l)f.shift(),--h;while(f[h-1]>c)f.pop(),--h;var d=new Array(h+1),p;for(i=0;i<=h;++i){p=d[i]=[];p.x0=i>0?f[i-1]:l;p.x1=i<h?f[i]:c}for(i=0;i<a;++i){o=s[i];if(l<=o&&o<=c){d[_p(f,o,0,h)].push(r[i])}}return d}r.value=function(e){return arguments.length?(t=typeof e==="function"?e:Op(e),r):t};r.domain=function(t){return arguments.length?(e=typeof t==="function"?t:Op([t[0],t[1]]),r):e};r.thresholds=function(t){return arguments.length?(n=typeof t==="function"?t:Array.isArray(t)?Op(kp.call(t)):Op(t),r):n};return r}function Yp(t,e,n){if(n==null)n=Lp;if(!(r=t.length))return;if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}function Wp(t,e,n){t=Ip.call(t,Lp).sort(yp);return Math.ceil((n-e)/(2*(Yp(t,.75)-Yp(t,.25))*Math.pow(t.length,-1/3)))}function Gp(t,e,n){return Math.ceil((n-e)/(3.5*Np(t)*Math.pow(t.length,-1/3)))}function qp(t,e){var n=t.length,r=-1,i,a;if(e==null){while(++r<n){if((i=t[r])!=null&&i>=i){a=i;while(++r<n){if((i=t[r])!=null&&i>a){a=i}}}}}else{while(++r<n){if((i=e(t[r],r,t))!=null&&i>=i){a=i;while(++r<n){if((i=e(t[r],r,t))!=null&&i>a){a=i}}}}}return a}function Xp(t,e){var n=t.length,r=n,i=-1,a,o=0;if(e==null){while(++i<n){if(!isNaN(a=Lp(t[i])))o+=a;else--r}}else{while(++i<n){if(!isNaN(a=Lp(e(t[i],i,t))))o+=a;else--r}}if(r)return o/r}function $p(t,e){var n=t.length,r=-1,i,a=[];if(e==null){while(++r<n){if(!isNaN(i=Lp(t[r]))){a.push(i)}}}else{while(++r<n){if(!isNaN(i=Lp(e(t[r],r,t)))){a.push(i)}}}return Yp(a.sort(yp),.5)}function Kp(t){var e=t.length,n,r=-1,i=0,a,o;while(++r<e)i+=t[r].length;a=new Array(i);while(--e>=0){o=t[e];n=o.length;while(--n>=0){a[--i]=o[n]}}return a}function Zp(t,e){var n=t.length,r=-1,i,a;if(e==null){while(++r<n){if((i=t[r])!=null&&i>=i){a=i;while(++r<n){if((i=t[r])!=null&&a>i){a=i}}}}}else{while(++r<n){if((i=e(t[r],r,t))!=null&&i>=i){a=i;while(++r<n){if((i=e(t[r],r,t))!=null&&a>i){a=i}}}}}return a}function Qp(t,e){var n=e.length,r=new Array(n);while(n--)r[n]=t[e[n]];return r}function Jp(t,e){if(!(n=t.length))return;var n,r=0,i=0,a,o=t[i];if(e==null)e=yp;while(++r<n){if(e(a=t[r],o)<0||e(o,o)!==0){o=a,i=r}}if(e(o,o)===0)return i}function tv(t,e,n){var r=(n==null?t.length:n)-(e=e==null?0:+e),i,a;while(r){a=Math.random()*r--|0;i=t[r+e];t[r+e]=t[a+e];t[a+e]=i}return t}function ev(t,e){var n=t.length,r=-1,i,a=0;if(e==null){while(++r<n){if(i=+t[r])a+=i}}else{while(++r<n){if(i=+e(t[r],r,t))a+=i}}return a}function nv(t){if(!(a=t.length))return[];for(var e=-1,n=Zp(t,rv),r=new Array(n);++e<n;){for(var i=-1,a,o=r[e]=new Array(a);++i<a;){o[i]=t[i][e]}}return r}function rv(t){return t.length}function iv(){return nv(arguments)}var av=Array.prototype.slice;function ov(t){return t}var sv=1,uv=2,lv=3,cv=4,fv=1e-6;function hv(t){return"translate("+(t+.5)+",0)"}function dv(t){return"translate(0,"+(t+.5)+")"}function pv(t){return function(e){return+t(e)}}function vv(t){var e=Math.max(0,t.bandwidth()-1)/2;if(t.round())e=Math.round(e);return function(n){return+t(n)+e}}function yv(){return!this.__axis}function gv(t,e){var n=[],r=null,i=null,a=6,o=6,s=3,u=t===sv||t===cv?-1:1,l=t===cv||t===uv?"x":"y",c=t===sv||t===lv?hv:dv;function f(f){var h=r==null?e.ticks?e.ticks.apply(e,n):e.domain():r,d=i==null?e.tickFormat?e.tickFormat.apply(e,n):ov:i,p=Math.max(a,0)+s,v=e.range(),y=+v[0]+.5,g=+v[v.length-1]+.5,m=(e.bandwidth?vv:pv)(e.copy()),b=f.selection?f.selection():f,_=b.selectAll(".domain").data([null]),w=b.selectAll(".tick").data(h,e).order(),x=w.exit(),A=w.enter().append("g").attr("class","tick"),S=w.select("line"),T=w.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000"));w=w.merge(A);S=S.merge(A.append("line").attr("stroke","#000").attr(l+"2",u*a));T=T.merge(A.append("text").attr("fill","#000").attr(l,u*p).attr("dy",t===sv?"0em":t===lv?"0.71em":"0.32em"));if(f!==b){_=_.transition(f);w=w.transition(f);S=S.transition(f);T=T.transition(f);x=x.transition(f).attr("opacity",fv).attr("transform",(function(t){return isFinite(t=m(t))?c(t):this.getAttribute("transform")}));A.attr("opacity",fv).attr("transform",(function(t){var e=this.parentNode.__axis;return c(e&&isFinite(e=e(t))?e:m(t))}))}x.remove();_.attr("d",t===cv||t==uv?"M"+u*o+","+y+"H0.5V"+g+"H"+u*o:"M"+y+","+u*o+"V0.5H"+g+"V"+u*o);w.attr("opacity",1).attr("transform",(function(t){return c(m(t))}));S.attr(l+"2",u*a);T.attr(l,u*p).text(d);b.filter(yv).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===uv?"start":t===cv?"end":"middle");b.each((function(){this.__axis=m}))}f.scale=function(t){return arguments.length?(e=t,f):e};f.ticks=function(){return n=av.call(arguments),f};f.tickArguments=function(t){return arguments.length?(n=t==null?[]:av.call(t),f):n.slice()};f.tickValues=function(t){return arguments.length?(r=t==null?null:av.call(t),f):r&&r.slice()};f.tickFormat=function(t){return arguments.length?(i=t,f):i};f.tickSize=function(t){return arguments.length?(a=o=+t,f):a};f.tickSizeInner=function(t){return arguments.length?(a=+t,f):a};f.tickSizeOuter=function(t){return arguments.length?(o=+t,f):o};f.tickPadding=function(t){return arguments.length?(s=+t,f):s};return f}function mv(t){return gv(sv,t)}function bv(t){return gv(uv,t)}function _v(t){return gv(lv,t)}function wv(t){return gv(cv,t)}function xv(){It.preventDefault();It.stopImmediatePropagation()}function Av(t){var e=t.document.documentElement,n=Xt(t).on("dragstart.drag",xv,true);if("onselectstart"in e){n.on("selectstart.drag",xv,true)}else{e.__noselect=e.style.MozUserSelect;e.style.MozUserSelect="none"}}function Sv(t,e){var n=t.document.documentElement,r=Xt(t).on("dragstart.drag",null);if(e){r.on("click.drag",xv,true);setTimeout((function(){r.on("click.drag",null)}),0)}if("onselectstart"in n){r.on("selectstart.drag",null)}else{n.style.MozUserSelect=n.__noselect;delete n.__noselect}}var Tv=oc("start","end","cancel","interrupt");var Lv=[];var Ev=0;var Nv=1;var Cv=2;var Mv=3;var kv=4;var Iv=5;var Ov=6;function Dv(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;Fv(t,n,{name:e,index:r,group:i,on:Tv,tween:Lv,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Ev})}function Rv(t,e){var n=Pv(t,e);if(n.state>Ev)throw new Error("too late; already scheduled");return n}function Uv(t,e){var n=Pv(t,e);if(n.state>Mv)throw new Error("too late; already running");return n}function Pv(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Fv(t,e,n){var r=t.__transition,i;r[e]=n;n.timer=Tc(a,0,n.time);function a(t){n.state=Nv;n.timer.restart(o,n.delay,n.time);if(n.delay<=t)o(t-n.delay)}function o(a){var l,c,f,h;if(n.state!==Nv)return u();for(l in r){h=r[l];if(h.name!==n.name)continue;if(h.state===Mv)return kc(o);if(h.state===kv){h.state=Ov;h.timer.stop();h.on.call("interrupt",t,t.__data__,h.index,h.group);delete r[l]}else if(+l<e){h.state=Ov;h.timer.stop();h.on.call("cancel",t,t.__data__,h.index,h.group);delete r[l]}}kc((function(){if(n.state===Mv){n.state=kv;n.timer.restart(s,n.delay,n.time);s(a)}}));n.state=Cv;n.on.call("start",t,t.__data__,n.index,n.group);if(n.state!==Cv)return;n.state=Mv;i=new Array(f=n.tween.length);for(l=0,c=-1;l<f;++l){if(h=n.tween[l].value.call(t,t.__data__,n.index,n.group)){i[++c]=h}}i.length=c+1}function s(e){var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=Iv,1),a=-1,o=i.length;while(++a<o){i[a].call(t,r)}if(n.state===Iv){n.on.call("end",t,t.__data__,n.index,n.group);u()}}function u(){n.state=Ov;n.timer.stop();delete r[e];for(var i in r)return;delete t.__transition}}function Hv(t,e){var n=t.__transition,r,i,a=true,o;if(!n)return;e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=false;continue}i=r.state>Cv&&r.state<Iv;r.state=Ov;r.timer.stop();r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group);delete n[o]}if(a)delete t.__transition}function jv(t){return this.each((function(){Hv(this,t)}))}function Vv(t,e){var n,r;return function(){var i=Uv(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o){if(r[o].name===e){r=r.slice();r.splice(o,1);break}}}i.tween=r}}function Bv(t,e,n){var r,i;if(typeof n!=="function")throw new Error;return function(){var a=Uv(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u){if(i[u].name===e){i[u]=s;break}}if(u===l)i.push(s)}a.tween=i}}function zv(t,e){var n=this._id;t+="";if(arguments.length<2){var r=Pv(this.node(),n).tween;for(var i=0,a=r.length,o;i<a;++i){if((o=r[i]).name===t){return o.value}}return null}return this.each((e==null?Vv:Bv)(n,t,e))}function Yv(t,e,n){var r=t._id;t.each((function(){var t=Uv(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}));return function(t){return Pv(t,r).value[e]}}function Wv(t,e){var n;return(typeof e==="number"?Xo:e instanceof Fa?zo:(n=Fa(e))?(e=n,zo):ts)(t,e)}function Gv(t){return function(){this.removeAttribute(t)}}function qv(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Xv(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function $v(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function Kv(t,e,n){var r,i,a;return function(){var o,s=n(this),u;if(s==null)return void this.removeAttribute(t);o=this.getAttribute(t);u=s+"";return o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s))}}function Zv(t,e,n){var r,i,a;return function(){var o,s=n(this),u;if(s==null)return void this.removeAttributeNS(t.space,t.local);o=this.getAttributeNS(t.space,t.local);u=s+"";return o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s))}}function Qv(t,e){var n=o(t),r=n==="transform"?ps:Wv;return this.attrTween(t,typeof e==="function"?(n.local?Zv:Kv)(n,r,Yv(this,"attr."+t,e)):e==null?(n.local?qv:Gv)(n):(n.local?$v:Xv)(n,r,e))}function Jv(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ty(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function ey(t,e){var n,r;function i(){var i=e.apply(this,arguments);if(i!==r)n=(r=i)&&ty(t,i);return n}i._value=e;return i}function ny(t,e){var n,r;function i(){var i=e.apply(this,arguments);if(i!==r)n=(r=i)&&Jv(t,i);return n}i._value=e;return i}function ry(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!=="function")throw new Error;var r=o(t);return this.tween(n,(r.local?ey:ny)(r,e))}function iy(t,e){return function(){Rv(this,t).delay=+e.apply(this,arguments)}}function ay(t,e){return e=+e,function(){Rv(this,t).delay=e}}function oy(t){var e=this._id;return arguments.length?this.each((typeof t==="function"?iy:ay)(e,t)):Pv(this.node(),e).delay}function sy(t,e){return function(){Uv(this,t).duration=+e.apply(this,arguments)}}function uy(t,e){return e=+e,function(){Uv(this,t).duration=e}}function ly(t){var e=this._id;return arguments.length?this.each((typeof t==="function"?sy:uy)(e,t)):Pv(this.node(),e).duration}function cy(t,e){if(typeof e!=="function")throw new Error;return function(){Uv(this,t).ease=e}}function fy(t){var e=this._id;return arguments.length?this.each(cy(e,t)):Pv(this.node(),e).ease}function hy(t){if(typeof t!=="function")t=y(t);for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i){for(var a=e[i],o=a.length,s=r[i]=[],u,l=0;l<o;++l){if((u=a[l])&&t.call(u,u.__data__,l,a)){s.push(u)}}}return new Vy(r,this._parents,this._name,this._id)}function dy(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s){for(var u=e[s],l=n[s],c=u.length,f=o[s]=new Array(c),h,d=0;d<c;++d){if(h=u[d]||l[d]){f[d]=h}}}for(;s<r;++s){o[s]=e[s]}return new Vy(o,this._parents,this._name,this._id)}function py(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");if(e>=0)t=t.slice(0,e);return!t||t==="start"}))}function vy(t,e,n){var r,i,a=py(e)?Rv:Uv;return function(){var o=a(this,t),s=o.on;if(s!==r)(i=(r=s).copy()).on(e,n);o.on=i}}function yy(t,e){var n=this._id;return arguments.length<2?Pv(this.node(),n).on.on(t):this.each(vy(n,t,e))}function gy(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;if(e)e.removeChild(this)}}function my(){return this.on("end.remove",gy(this._id))}function by(t){var e=this._name,n=this._id;if(typeof t!=="function")t=f(t);for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o){for(var s=r[o],u=s.length,l=a[o]=new Array(u),c,h,d=0;d<u;++d){if((c=s[d])&&(h=t.call(c,c.__data__,d,s))){if("__data__"in c)h.__data__=c.__data__;l[d]=h;Dv(l[d],e,n,d,l,Pv(c,n))}}}return new Vy(a,this._parents,e,n)}function _y(t){var e=this._name,n=this._id;if(typeof t!=="function")t=p(t);for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s){for(var u=r[s],l=u.length,c,f=0;f<l;++f){if(c=u[f]){for(var h=t.call(c,c.__data__,f,u),d,v=Pv(c,n),y=0,g=h.length;y<g;++y){if(d=h[y]){Dv(d,e,n,y,h,v)}}a.push(h);o.push(c)}}}return new Vy(a,o,e,n)}var wy=qt.prototype.constructor;function xy(){return new wy(this._groups,this._parents)}function Ay(t,e){var n,r,i;return function(){var a=K(this,t),o=(this.style.removeProperty(t),K(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function Sy(t){return function(){this.style.removeProperty(t)}}function Ty(t,e,n){var r,i=n+"",a;return function(){var o=K(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}function Ly(t,e,n){var r,i,a;return function(){var o=K(this,t),s=n(this),u=s+"";if(s==null)u=s=(this.style.removeProperty(t),K(this,t));return o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s))}}function Ey(t,e){var n,r,i,a="style."+e,o="end."+a,s;return function(){var u=Uv(this,t),l=u.on,c=u.value[a]==null?s||(s=Sy(e)):undefined;if(l!==n||i!==c)(r=(n=l).copy()).on(o,i=c);u.on=r}}function Ny(t,e,n){var r=(t+="")==="transform"?ds:Wv;return e==null?this.styleTween(t,Ay(t,r)).on("end.style."+t,Sy(t)):typeof e==="function"?this.styleTween(t,Ly(t,r,Yv(this,"style."+t,e))).each(Ey(this._id,t)):this.styleTween(t,Ty(t,r,e),n).on("end.style."+t,null)}function Cy(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function My(t,e,n){var r,i;function a(){var a=e.apply(this,arguments);if(a!==i)r=(i=a)&&Cy(t,a,n);return r}a._value=e;return a}function ky(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!=="function")throw new Error;return this.tween(r,My(t,e,n==null?"":n))}function Iy(t){return function(){this.textContent=t}}function Oy(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function Dy(t){return this.tween("text",typeof t==="function"?Oy(Yv(this,"text",t)):Iy(t==null?"":t+""))}function Ry(t){return function(e){this.textContent=t.call(this,e)}}function Uy(t){var e,n;function r(){var r=t.apply(this,arguments);if(r!==n)e=(n=r)&&Ry(r);return e}r._value=t;return r}function Py(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!=="function")throw new Error;return this.tween(e,Uy(t))}function Fy(){var t=this._name,e=this._id,n=By();for(var r=this._groups,i=r.length,a=0;a<i;++a){for(var o=r[a],s=o.length,u,l=0;l<s;++l){if(u=o[l]){var c=Pv(u,e);Dv(u,t,n,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}}}return new Vy(r,this._parents,t,n)}function Hy(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var s={value:o},u={value:function(){if(--i===0)a()}};n.each((function(){var n=Uv(this,r),i=n.on;if(i!==t){e=(t=i).copy();e._.cancel.push(s);e._.interrupt.push(s);e._.end.push(u)}n.on=e}))}))}var jy=0;function Vy(t,e,n,r){this._groups=t;this._parents=e;this._name=n;this._id=r}function By(){return++jy}var zy=qt.prototype;Vy.prototype={constructor:Vy,select:by,selectAll:_y,filter:hy,merge:dy,selection:xy,transition:Fy,call:zy.call,nodes:zy.nodes,node:zy.node,size:zy.size,empty:zy.empty,each:zy.each,on:yy,attr:Qv,attrTween:ry,style:Ny,styleTween:ky,text:Dy,textTween:Py,remove:my,tween:zv,delay:oy,duration:ly,ease:fy,end:Hy};var Yy={time:null,delay:0,duration:250,ease:Wf};function Wy(t,e){var n;while(!(n=t.__transition)||!(n=n[e])){if(!(t=t.parentNode)){return Yy.time=xc(),Yy}}return n}function Gy(t){var e,n;if(t instanceof Vy){e=t._id,t=t._name}else{e=By(),(n=Yy).time=xc(),t=t==null?null:t+""}for(var r=this._groups,i=r.length,a=0;a<i;++a){for(var o=r[a],s=o.length,u,l=0;l<s;++l){if(u=o[l]){Dv(u,t,e,l,o,n||Wy(u,e))}}}return new Vy(r,this._parents,t,e)}qt.prototype.interrupt=jv;qt.prototype.transition=Gy;function qy(t){return function(){return t}}function Xy(t,e,n){this.target=t;this.type=e;this.selection=n}function $y(){It.stopImmediatePropagation()}function Ky(){It.preventDefault();It.stopImmediatePropagation()}var Zy={name:"drag"},Qy={name:"space"},Jy={name:"handle"},tg={name:"center"};var eg={name:"x",handles:["e","w"].map(lg),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}};var ng={name:"y",handles:["n","s"].map(lg),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}};var rg={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(lg),input:function(t){return t},output:function(t){return t}};var ig={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var ag={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"};var og={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"};var sg={overlay:+1,selection:+1,n:null,e:+1,s:null,w:-1,nw:-1,ne:+1,se:+1,sw:-1};var ug={overlay:+1,selection:+1,n:-1,e:null,s:+1,w:null,nw:-1,ne:-1,se:+1,sw:+1};function lg(t){return{type:t}}function cg(){return!It.button}function fg(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function hg(t){while(!t.__brush)if(!(t=t.parentNode))return;return t.__brush}function dg(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function pg(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function vg(){return mg(eg)}function yg(){return mg(ng)}function gg(){return mg(rg)}function mg(t){var e=fg,n=cg,r=oc(o,"start","brush","end"),i=6,a;function o(e){var n=e.property("__brush",f).selectAll(".overlay").data([lg("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ig.overlay).merge(n).each((function(){var t=hg(this).extent;Xt(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}));e.selectAll(".selection").data([lg("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ig.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove();r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return ig[t.type]}));e.each(s).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",c)}o.move=function(e,n){if(e.selection){e.on("start.brush",(function(){u(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){u(this,arguments).end()})).tween("brush",(function(){var e=this,r=e.__brush,i=u(e,arguments),a=r.selection,o=t.input(typeof n==="function"?n.apply(this,arguments):n,r.extent),l=es(a,o);function c(t){r.selection=t===1&&dg(o)?null:l(t);s.call(e);i.brush()}return a&&o?c:c(1)}))}else{e.each((function(){var e=this,r=arguments,i=e.__brush,a=t.input(typeof n==="function"?n.apply(e,r):n,i.extent),o=u(e,r).beforestart();Hv(e);i.selection=a==null||dg(a)?null:a;s.call(e);o.start().brush().end()}))}};function s(){var t=Xt(this),e=hg(this).selection;if(e){t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]);t.selectAll(".handle").style("display",null).attr("x",(function(t){return t.type[t.type.length-1]==="e"?e[1][0]-i/2:e[0][0]-i/2})).attr("y",(function(t){return t.type[0]==="s"?e[1][1]-i/2:e[0][1]-i/2})).attr("width",(function(t){return t.type==="n"||t.type==="s"?e[1][0]-e[0][0]+i:i})).attr("height",(function(t){return t.type==="e"||t.type==="w"?e[1][1]-e[0][1]+i:i}))}else{t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}}function u(t,e){return t.__brush.emitter||new l(t,e)}function l(t,e){this.that=t;this.args=e;this.state=t.__brush;this.active=0}l.prototype={beforestart:function(){if(++this.active===1)this.state.emitter=this,this.starting=true;return this},start:function(){if(this.starting)this.starting=false,this.emit("start");return this},brush:function(){this.emit("brush");return this},end:function(){if(--this.active===0)delete this.state.emitter,this.emit("end");return this},emit:function(e){jt(new Xy(o,e,t.output(this.state.selection)),r.apply,r,[e,this.that,this.args])}};function c(){if(It.touches){if(It.changedTouches.length<It.touches.length)return Ky()}else if(a)return;if(!n.apply(this,arguments))return;var e=this,r=It.target.__data__.type,i=(It.metaKey?r="overlay":r)==="selection"?Zy:It.altKey?tg:Jy,o=t===ng?null:sg[r],l=t===eg?null:ug[r],c=hg(e),f=c.extent,h=c.selection,d=f[0][0],p,v,y=f[0][1],g,m,b=f[1][0],_,w,x=f[1][1],A,S,T,L,E,N=o&&l&&It.shiftKey,C,M,k=Zt(e),I=k,O=u(e,arguments).beforestart();if(r==="overlay"){c.selection=h=[[p=t===ng?d:k[0],g=t===eg?y:k[1]],[_=t===ng?b:p,A=t===eg?x:g]]}else{p=h[0][0];g=h[0][1];_=h[1][0];A=h[1][1]}v=p;m=g;w=_;S=A;var D=Xt(e).attr("pointer-events","none");var R=D.selectAll(".overlay").attr("cursor",ig[r]);if(It.touches){D.on("touchmove.brush",P,true).on("touchend.brush touchcancel.brush",H,true)}else{var U=Xt(It.view).on("keydown.brush",j,true).on("keyup.brush",V,true).on("mousemove.brush",P,true).on("mouseup.brush",H,true);Av(It.view)}$y();Hv(e);s.call(e);O.start();function P(){var t=Zt(e);if(N&&!C&&!M){if(Math.abs(t[0]-I[0])>Math.abs(t[1]-I[1]))M=true;else C=true}I=t;E=true;Ky();F()}function F(){var t;T=I[0]-k[0];L=I[1]-k[1];switch(i){case Qy:case Zy:{if(o)T=Math.max(d-p,Math.min(b-_,T)),v=p+T,w=_+T;if(l)L=Math.max(y-g,Math.min(x-A,L)),m=g+L,S=A+L;break}case Jy:{if(o<0)T=Math.max(d-p,Math.min(b-p,T)),v=p+T,w=_;else if(o>0)T=Math.max(d-_,Math.min(b-_,T)),v=p,w=_+T;if(l<0)L=Math.max(y-g,Math.min(x-g,L)),m=g+L,S=A;else if(l>0)L=Math.max(y-A,Math.min(x-A,L)),m=g,S=A+L;break}case tg:{if(o)v=Math.max(d,Math.min(b,p-T*o)),w=Math.max(d,Math.min(b,_+T*o));if(l)m=Math.max(y,Math.min(x,g-L*l)),S=Math.max(y,Math.min(x,A+L*l));break}}if(w<v){o*=-1;t=p,p=_,_=t;t=v,v=w,w=t;if(r in ag)R.attr("cursor",ig[r=ag[r]])}if(S<m){l*=-1;t=g,g=A,A=t;t=m,m=S,S=t;if(r in og)R.attr("cursor",ig[r=og[r]])}if(c.selection)h=c.selection;if(C)v=h[0][0],w=h[1][0];if(M)m=h[0][1],S=h[1][1];if(h[0][0]!==v||h[0][1]!==m||h[1][0]!==w||h[1][1]!==S){c.selection=[[v,m],[w,S]];s.call(e);O.brush()}}function H(){$y();if(It.touches){if(It.touches.length)return;if(a)clearTimeout(a);a=setTimeout((function(){a=null}),500);D.on("touchmove.brush touchend.brush touchcancel.brush",null)}else{Sv(It.view,E);U.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null)}D.attr("pointer-events","all");R.attr("cursor",ig.overlay);if(c.selection)h=c.selection;if(dg(h))c.selection=null,s.call(e);O.end()}function j(){switch(It.keyCode){case 16:{N=o&&l;break}case 18:{if(i===Jy){if(o)_=w-T*o,p=v+T*o;if(l)A=S-L*l,g=m+L*l;i=tg;F()}break}case 32:{if(i===Jy||i===tg){if(o<0)_=w-T;else if(o>0)p=v-T;if(l<0)A=S-L;else if(l>0)g=m-L;i=Qy;R.attr("cursor",ig.selection);F()}break}default:return}Ky()}function V(){switch(It.keyCode){case 16:{if(N){C=M=N=false;F()}break}case 18:{if(i===tg){if(o<0)_=w;else if(o>0)p=v;if(l<0)A=S;else if(l>0)g=m;i=Jy;F()}break}case 32:{if(i===Qy){if(It.altKey){if(o)_=w-T*o,p=v+T*o;if(l)A=S-L*l,g=m+L*l;i=tg}else{if(o<0)_=w;else if(o>0)p=v;if(l<0)A=S;else if(l>0)g=m;i=Jy}R.attr("cursor",ig[r]);F()}break}default:return}Ky()}}function f(){var n=this.__brush||{selection:null};n.extent=e.apply(this,arguments);n.dim=t;return n}o.extent=function(t){return arguments.length?(e=typeof t==="function"?t:qy([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),o):e};o.filter=function(t){return arguments.length?(n=typeof t==="function"?t:qy(!!t),o):n};o.handleSize=function(t){return arguments.length?(i=+t,o):i};o.on=function(){var t=r.on.apply(r,arguments);return t===r?o:t};return o}var bg=Math.cos;var _g=Math.sin;var wg=Math.PI;var xg=wg/2;var Ag=wg*2;var Sg=Math.max;function Tg(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function Lg(){var t=0,e=null,n=null,r=null;function i(i){var a=i.length,o=[],s=Qi(a),u=[],l=[],c=l.groups=new Array(a),f=new Array(a*a),h,d,p,v,y,g;h=0,y=-1;while(++y<a){d=0,g=-1;while(++g<a){d+=i[y][g]}o.push(d);u.push(Qi(a));h+=d}if(e)s.sort((function(t,n){return e(o[t],o[n])}));if(n)u.forEach((function(t,e){t.sort((function(t,r){return n(i[e][t],i[e][r])}))}));h=Sg(0,Ag-t*a)/h;v=h?t:Ag/a;d=0,y=-1;while(++y<a){p=d,g=-1;while(++g<a){var m=s[y],b=u[m][g],_=i[m][b],w=d,x=d+=_*h;f[b*a+m]={index:m,subindex:b,startAngle:w,endAngle:x,value:_}}c[m]={index:m,startAngle:p,endAngle:d,value:o[m]};d+=v}y=-1;while(++y<a){g=y-1;while(++g<a){var A=f[g*a+y],S=f[y*a+g];if(A.value||S.value){l.push(A.value<S.value?{source:S,target:A}:{source:A,target:S})}}}return r?l.sort(r):l}i.padAngle=function(e){return arguments.length?(t=Sg(0,e),i):t};i.sortGroups=function(t){return arguments.length?(e=t,i):e};i.sortSubgroups=function(t){return arguments.length?(n=t,i):n};i.sortChords=function(t){return arguments.length?(t==null?r=null:(r=Tg(t))._=t,i):r&&r._};return i}var Eg=Array.prototype.slice;function Ng(t){return function(){return t}}function Cg(t){return t.source}function Mg(t){return t.target}function kg(t){return t.radius}function Ig(t){return t.startAngle}function Og(t){return t.endAngle}function Dg(){var t=Cg,e=Mg,n=kg,r=Ig,i=Og,a=null;function o(){var o,s=Eg.call(arguments),u=t.apply(this,s),l=e.apply(this,s),c=+n.apply(this,(s[0]=u,s)),f=r.apply(this,s)-xg,h=i.apply(this,s)-xg,d=c*bg(f),p=c*_g(f),v=+n.apply(this,(s[0]=l,s)),y=r.apply(this,s)-xg,g=i.apply(this,s)-xg;if(!a)a=o=bu();a.moveTo(d,p);a.arc(0,0,c,f,h);if(f!==y||h!==g){a.quadraticCurveTo(0,0,v*bg(y),v*_g(y));a.arc(0,0,v,y,g)}a.quadraticCurveTo(0,0,d,p);a.closePath();if(o)return a=null,o+""||null}o.radius=function(t){return arguments.length?(n=typeof t==="function"?t:Ng(+t),o):n};o.startAngle=function(t){return arguments.length?(r=typeof t==="function"?t:Ng(+t),o):r};o.endAngle=function(t){return arguments.length?(i=typeof t==="function"?t:Ng(+t),o):i};o.source=function(e){return arguments.length?(t=e,o):t};o.target=function(t){return arguments.length?(e=t,o):e};o.context=function(t){return arguments.length?(a=t==null?null:t,o):a};return o}var Rg="$";function Ug(){}Ug.prototype=Pg.prototype={constructor:Ug,has:function(t){return Rg+t in this},get:function(t){return this[Rg+t]},set:function(t,e){this[Rg+t]=e;return this},remove:function(t){var e=Rg+t;return e in this&&delete this[e]},clear:function(){for(var t in this)if(t[0]===Rg)delete this[t]},keys:function(){var t=[];for(var e in this)if(e[0]===Rg)t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)if(e[0]===Rg)t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)if(e[0]===Rg)t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)if(e[0]===Rg)++t;return t},empty:function(){for(var t in this)if(t[0]===Rg)return false;return true},each:function(t){for(var e in this)if(e[0]===Rg)t(this[e],e.slice(1),this)}};function Pg(t,e){var n=new Ug;if(t instanceof Ug)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r=-1,i=t.length,a;if(e==null)while(++r<i)n.set(r,t[r]);else while(++r<i)n.set(e(a=t[r],r,t),a)}else if(t)for(var o in t)n.set(o,t[o]);return n}function Fg(){var t=[],e=[],n,r,i;function a(e,i,o,s){if(i>=t.length){if(n!=null)e.sort(n);return r!=null?r(e):e}var u=-1,l=e.length,c=t[i++],f,h,d=Pg(),p,v=o();while(++u<l){if(p=d.get(f=c(h=e[u])+"")){p.push(h)}else{d.set(f,[h])}}d.each((function(t,e){s(v,e,a(t,i,o,s))}));return v}function o(n,i){if(++i>t.length)return n;var a,s=e[i-1];if(r!=null&&i>=t.length)a=n.entries();else a=[],n.each((function(t,e){a.push({key:e,values:o(t,i)})}));return s!=null?a.sort((function(t,e){return s(t.key,e.key)})):a}return i={object:function(t){return a(t,0,Hg,jg)},map:function(t){return a(t,0,Vg,Bg)},entries:function(t){return o(a(t,0,Vg,Bg),0)},key:function(e){t.push(e);return i},sortKeys:function(n){e[t.length-1]=n;return i},sortValues:function(t){n=t;return i},rollup:function(t){r=t;return i}}}function Hg(){return{}}function jg(t,e,n){t[e]=n}function Vg(){return Pg()}function Bg(t,e,n){t.set(e,n)}function zg(){}var Yg=Pg.prototype;zg.prototype=Wg.prototype={constructor:zg,has:Yg.has,add:function(t){t+="";this[Rg+t]=t;return this},remove:Yg.remove,clear:Yg.clear,values:Yg.keys,size:Yg.size,empty:Yg.empty,each:Yg.each};function Wg(t,e){var n=new zg;if(t instanceof zg)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(e==null)while(++r<i)n.add(t[r]);else while(++r<i)n.add(e(t[r],r,t))}return n}function Gg(t){var e=[];for(var n in t)e.push(n);return e}function qg(t){var e=[];for(var n in t)e.push(t[n]);return e}function Xg(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e}var $g={value:function(){}};function Kg(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n)throw new Error("illegal type: "+r);n[r]=[]}return new Zg(n)}function Zg(t){this._=t}function Qg(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0)n=t.slice(r+1),t=t.slice(0,r);if(t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}Zg.prototype=Kg.prototype={constructor:Zg,on:function(t,e){var n=this._,r=Qg(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){while(++a<o)if((i=(t=r[a]).type)&&(i=Jg(n[i],t.name)))return i;return}if(e!=null&&typeof e!=="function")throw new Error("invalid callback: "+e);while(++a<o){if(i=(t=r[a]).type)n[i]=tm(n[i],t.name,e);else if(e==null)for(i in n)n[i]=tm(n[i],t.name,null)}return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Zg(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function Jg(t,e){for(var n=0,r=t.length,i;n<r;++n){if((i=t[n]).name===e){return i.value}}}function tm(t,e,n){for(var r=0,i=t.length;r<i;++r){if(t[r].name===e){t[r]=$g,t=t.slice(0,r).concat(t.slice(r+1));break}}if(n!=null)t.push({name:e,value:n});return t}var em={value:function(){}};function nm(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new rm(n)}function rm(t){this._=t}function im(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0)n=t.slice(r+1),t=t.slice(0,r);if(t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}rm.prototype=nm.prototype={constructor:rm,on:function(t,e){var n=this._,r=im(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){while(++a<o)if((i=(t=r[a]).type)&&(i=am(n[i],t.name)))return i;return}if(e!=null&&typeof e!=="function")throw new Error("invalid callback: "+e);while(++a<o){if(i=(t=r[a]).type)n[i]=om(n[i],t.name,e);else if(e==null)for(i in n)n[i]=om(n[i],t.name,null)}return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new rm(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function am(t,e){for(var n=0,r=t.length,i;n<r;++n){if((i=t[n]).name===e){return i.value}}}function om(t,e,n){for(var r=0,i=t.length;r<i;++r){if(t[r].name===e){t[r]=em,t=t.slice(0,r).concat(t.slice(r+1));break}}if(n!=null)t.push({name:e,value:n});return t}var sm="http://www.w3.org/1999/xhtml";var um={svg:"http://www.w3.org/2000/svg",xhtml:sm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function lm(t){var e=t+="",n=e.indexOf(":");if(n>=0&&(e=t.slice(0,n))!=="xmlns")t=t.slice(n+1);return um.hasOwnProperty(e)?{space:um[e],local:t}:t}function cm(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===sm&&e.documentElement.namespaceURI===sm?e.createElement(t):e.createElementNS(n,t)}}function fm(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function hm(t){var e=lm(t);return(e.local?fm:cm)(e)}function dm(){}function pm(t){return t==null?dm:function(){return this.querySelector(t)}}function vm(t){if(typeof t!=="function")t=pm(t);for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i){for(var a=e[i],o=a.length,s=r[i]=new Array(o),u,l,c=0;c<o;++c){if((u=a[c])&&(l=t.call(u,u.__data__,c,a))){if("__data__"in u)l.__data__=u.__data__;s[c]=l}}}return new $b(r,this._parents)}function ym(){return[]}function gm(t){return t==null?ym:function(){return this.querySelectorAll(t)}}function mm(t){if(typeof t!=="function")t=gm(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a){for(var o=e[a],s=o.length,u,l=0;l<s;++l){if(u=o[l]){r.push(t.call(u,u.__data__,l,o));i.push(u)}}}return new $b(r,i)}function bm(t){return function(){return this.matches(t)}}function _m(t){if(typeof t!=="function")t=bm(t);for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i){for(var a=e[i],o=a.length,s=r[i]=[],u,l=0;l<o;++l){if((u=a[l])&&t.call(u,u.__data__,l,a)){s.push(u)}}}return new $b(r,this._parents)}function wm(t){return new Array(t.length)}function xm(){return new $b(this._enter||this._groups.map(wm),this._parents)}function Am(t,e){this.ownerDocument=t.ownerDocument;this.namespaceURI=t.namespaceURI;this._next=null;this._parent=t;this.__data__=e}Am.prototype={constructor:Am,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Sm(t){return function(){return t}}var Tm="$";function Lm(t,e,n,r,i,a){var o=0,s,u=e.length,l=a.length;for(;o<l;++o){if(s=e[o]){s.__data__=a[o];r[o]=s}else{n[o]=new Am(t,a[o])}}for(;o<u;++o){if(s=e[o]){i[o]=s}}}function Em(t,e,n,r,i,a,o){var s,u,l={},c=e.length,f=a.length,h=new Array(c),d;for(s=0;s<c;++s){if(u=e[s]){h[s]=d=Tm+o.call(u,u.__data__,s,e);if(d in l){i[s]=u}else{l[d]=u}}}for(s=0;s<f;++s){d=Tm+o.call(t,a[s],s,a);if(u=l[d]){r[s]=u;u.__data__=a[s];l[d]=null}else{n[s]=new Am(t,a[s])}}for(s=0;s<c;++s){if((u=e[s])&&l[h[s]]===u){i[s]=u}}}function Nm(t,e){if(!t){d=new Array(this.size()),l=-1;this.each((function(t){d[++l]=t}));return d}var n=e?Em:Lm,r=this._parents,i=this._groups;if(typeof t!=="function")t=Sm(t);for(var a=i.length,o=new Array(a),s=new Array(a),u=new Array(a),l=0;l<a;++l){var c=r[l],f=i[l],h=f.length,d=t.call(c,c&&c.__data__,l,r),p=d.length,v=s[l]=new Array(p),y=o[l]=new Array(p),g=u[l]=new Array(h);n(c,f,v,y,g,d,e);for(var m=0,b=0,_,w;m<p;++m){if(_=v[m]){if(m>=b)b=m+1;while(!(w=y[b])&&++b<p);_._next=w||null}}}o=new $b(o,r);o._enter=s;o._exit=u;return o}function Cm(){return new $b(this._exit||this._groups.map(wm),this._parents)}function Mm(t,e,n){var r=this.enter(),i=this,a=this.exit();r=typeof t==="function"?t(r):r.append(t+"");if(e!=null)i=e(i);if(n==null)a.remove();else n(a);return r&&i?r.merge(i).order():i}function km(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s){for(var u=e[s],l=n[s],c=u.length,f=o[s]=new Array(c),h,d=0;d<c;++d){if(h=u[d]||l[d]){f[d]=h}}}for(;s<r;++s){o[s]=e[s]}return new $b(o,this._parents)}function Im(){for(var t=this._groups,e=-1,n=t.length;++e<n;){for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;){if(o=r[i]){if(a&&o.compareDocumentPosition(a)^4)a.parentNode.insertBefore(o,a);a=o}}}return this}function Om(t){if(!t)t=Dm;function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,u=i[a]=new Array(s),l,c=0;c<s;++c){if(l=o[c]){u[c]=l}}u.sort(e)}return new $b(i,this._parents).order()}function Dm(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Rm(){var t=arguments[0];arguments[0]=this;t.apply(null,arguments);return this}function Um(){var t=new Array(this.size()),e=-1;this.each((function(){t[++e]=this}));return t}function Pm(){for(var t=this._groups,e=0,n=t.length;e<n;++e){for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}}return null}function Fm(){var t=0;this.each((function(){++t}));return t}function Hm(){return!this.node()}function jm(t){for(var e=this._groups,n=0,r=e.length;n<r;++n){for(var i=e[n],a=0,o=i.length,s;a<o;++a){if(s=i[a])t.call(s,s.__data__,a,i)}}return this}function Vm(t){return function(){this.removeAttribute(t)}}function Bm(t){return function(){this.removeAttributeNS(t.space,t.local)}}function zm(t,e){return function(){this.setAttribute(t,e)}}function Ym(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Wm(t,e){return function(){var n=e.apply(this,arguments);if(n==null)this.removeAttribute(t);else this.setAttribute(t,n)}}function Gm(t,e){return function(){var n=e.apply(this,arguments);if(n==null)this.removeAttributeNS(t.space,t.local);else this.setAttributeNS(t.space,t.local,n)}}function qm(t,e){var n=lm(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Bm:Vm:typeof e==="function"?n.local?Gm:Wm:n.local?Ym:zm)(n,e))}function Xm(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function $m(t){return function(){this.style.removeProperty(t)}}function Km(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Zm(t,e,n){return function(){var r=e.apply(this,arguments);if(r==null)this.style.removeProperty(t);else this.style.setProperty(t,r,n)}}function Qm(t,e,n){return arguments.length>1?this.each((e==null?$m:typeof e==="function"?Zm:Km)(t,e,n==null?"":n)):Jm(this.node(),t)}function Jm(t,e){return t.style.getPropertyValue(e)||Xm(t).getComputedStyle(t,null).getPropertyValue(e)}function tb(t){return function(){delete this[t]}}function eb(t,e){return function(){this[t]=e}}function nb(t,e){return function(){var n=e.apply(this,arguments);if(n==null)delete this[t];else this[t]=n}}function rb(t,e){return arguments.length>1?this.each((e==null?tb:typeof e==="function"?nb:eb)(t,e)):this.node()[t]}function ib(t){return t.trim().split(/^|\s+/)}function ab(t){return t.classList||new ob(t)}function ob(t){this._node=t;this._names=ib(t.getAttribute("class")||"")}ob.prototype={add:function(t){var e=this._names.indexOf(t);if(e<0){this._names.push(t);this._node.setAttribute("class",this._names.join(" "))}},remove:function(t){var e=this._names.indexOf(t);if(e>=0){this._names.splice(e,1);this._node.setAttribute("class",this._names.join(" "))}},contains:function(t){return this._names.indexOf(t)>=0}};function sb(t,e){var n=ab(t),r=-1,i=e.length;while(++r<i)n.add(e[r])}function ub(t,e){var n=ab(t),r=-1,i=e.length;while(++r<i)n.remove(e[r])}function lb(t){return function(){sb(this,t)}}function cb(t){return function(){ub(this,t)}}function fb(t,e){return function(){(e.apply(this,arguments)?sb:ub)(this,t)}}function hb(t,e){var n=ib(t+"");if(arguments.length<2){var r=ab(this.node()),i=-1,a=n.length;while(++i<a)if(!r.contains(n[i]))return false;return true}return this.each((typeof e==="function"?fb:e?lb:cb)(n,e))}function db(){this.textContent=""}function pb(t){return function(){this.textContent=t}}function vb(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function yb(t){return arguments.length?this.each(t==null?db:(typeof t==="function"?vb:pb)(t)):this.node().textContent}function gb(){this.innerHTML=""}function mb(t){return function(){this.innerHTML=t}}function bb(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function _b(t){return arguments.length?this.each(t==null?gb:(typeof t==="function"?bb:mb)(t)):this.node().innerHTML}function wb(){if(this.nextSibling)this.parentNode.appendChild(this)}function xb(){return this.each(wb)}function Ab(){if(this.previousSibling)this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Sb(){return this.each(Ab)}function Tb(t){var e=typeof t==="function"?t:hm(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))}function Lb(){return null}function Eb(t,e){var n=typeof t==="function"?t:hm(t),r=e==null?Lb:typeof e==="function"?e:pm(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))}function Nb(){var t=this.parentNode;if(t)t.removeChild(this)}function Cb(){return this.each(Nb)}function Mb(){var t=this.cloneNode(false),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function kb(){var t=this.cloneNode(true),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ib(t){return this.select(t?kb:Mb)}function Ob(t){return arguments.length?this.property("__data__",t):this.node().__data__}var Db={};var Rb=null;if(typeof document!=="undefined"){var Ub=document.documentElement;if(!("onmouseenter"in Ub)){Db={mouseenter:"mouseover",mouseleave:"mouseout"}}}function Pb(t,e,n){t=Fb(t,e,n);return function(e){var n=e.relatedTarget;if(!n||n!==this&&!(n.compareDocumentPosition(this)&8)){t.call(this,e)}}}function Fb(t,e,n){return function(r){var i=Rb;Rb=r;try{t.call(this,this.__data__,e,n)}finally{Rb=i}}}function Hb(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0)e=t.slice(n+1),t=t.slice(0,n);return{type:t,name:e}}))}function jb(t){return function(){var e=this.__on;if(!e)return;for(var n=0,r=-1,i=e.length,a;n<i;++n){if(a=e[n],(!t.type||a.type===t.type)&&a.name===t.name){this.removeEventListener(a.type,a.listener,a.capture)}else{e[++r]=a}}if(++r)e.length=r;else delete this.__on}}function Vb(t,e,n){var r=Db.hasOwnProperty(t.type)?Pb:Fb;return function(i,a,o){var s=this.__on,u,l=r(e,a,o);if(s)for(var c=0,f=s.length;c<f;++c){if((u=s[c]).type===t.type&&u.name===t.name){this.removeEventListener(u.type,u.listener,u.capture);this.addEventListener(u.type,u.listener=l,u.capture=n);u.value=e;return}}this.addEventListener(t.type,l,n);u={type:t.type,name:t.name,value:e,listener:l,capture:n};if(!s)this.__on=[u];else s.push(u)}}function Bb(t,e,n){var r=Hb(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s)for(var u=0,l=s.length,c;u<l;++u){for(i=0,c=s[u];i<a;++i){if((o=r[i]).type===c.type&&o.name===c.name){return c.value}}}return}s=e?Vb:jb;if(n==null)n=false;for(i=0;i<a;++i)this.each(s(r[i],e,n));return this}function zb(t,e,n,r){var i=Rb;t.sourceEvent=Rb;Rb=t;try{return e.apply(n,r)}finally{Rb=i}}function Yb(t,e,n){var r=Xm(t),i=r.CustomEvent;if(typeof i==="function"){i=new i(e,n)}else{i=r.document.createEvent("Event");if(n)i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail;else i.initEvent(e,false,false)}t.dispatchEvent(i)}function Wb(t,e){return function(){return Yb(this,t,e)}}function Gb(t,e){return function(){return Yb(this,t,e.apply(this,arguments))}}function qb(t,e){return this.each((typeof e==="function"?Gb:Wb)(t,e))}var Xb=[null];function $b(t,e){this._groups=t;this._parents=e}$b.prototype={constructor:$b,select:vm,selectAll:mm,filter:_m,data:Nm,enter:xm,exit:Cm,join:Mm,merge:km,order:Im,sort:Om,call:Rm,nodes:Um,node:Pm,size:Fm,empty:Hm,each:jm,attr:qm,style:Qm,property:rb,classed:hb,text:yb,html:_b,raise:xb,lower:Sb,append:Tb,insert:Eb,remove:Cb,clone:Ib,datum:Ob,on:Bb,dispatch:qb};function Kb(t){return typeof t==="string"?new $b([[document.querySelector(t)]],[document.documentElement]):new $b([[t]],Xb)}function Zb(){var t=Rb,e;while(e=t.sourceEvent)t=e;return t}function Qb(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();r.x=e.clientX,r.y=e.clientY;r=r.matrixTransform(t.getScreenCTM().inverse());return[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function Jb(t){var e=Zb();if(e.changedTouches)e=e.changedTouches[0];return Qb(t,e)}function t_(t,e,n){if(arguments.length<3)n=e,e=Zb().changedTouches;for(var r=0,i=e?e.length:0,a;r<i;++r){if((a=e[r]).identifier===n){return Qb(t,a)}}return null}function e_(){Rb.stopImmediatePropagation()}function n_(){Rb.preventDefault();Rb.stopImmediatePropagation()}function r_(t){var e=t.document.documentElement,n=Kb(t).on("dragstart.drag",n_,true);if("onselectstart"in e){n.on("selectstart.drag",n_,true)}else{e.__noselect=e.style.MozUserSelect;e.style.MozUserSelect="none"}}function i_(t,e){var n=t.document.documentElement,r=Kb(t).on("dragstart.drag",null);if(e){r.on("click.drag",n_,true);setTimeout((function(){r.on("click.drag",null)}),0)}if("onselectstart"in n){r.on("selectstart.drag",null)}else{n.style.MozUserSelect=n.__noselect;delete n.__noselect}}function a_(t){return function(){return t}}function o_(t,e,n,r,i,a,o,s,u,l){this.target=t;this.type=e;this.subject=n;this.identifier=r;this.active=i;this.x=a;this.y=o;this.dx=s;this.dy=u;this._=l}o_.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function s_(){return!Rb.button}function u_(){return this.parentNode}function l_(t){return t==null?{x:Rb.x,y:Rb.y}:t}function c_(){return"ontouchstart"in this}function f_(){var t=s_,e=u_,n=l_,r=c_,i={},a=nm("start","drag","end"),o=0,s,u,l,c,f=0;function h(t){t.on("mousedown.drag",d).filter(r).on("touchstart.drag",y).on("touchmove.drag",g).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(c||!t.apply(this,arguments))return;var n=b("mouse",e.apply(this,arguments),Jb,this,arguments);if(!n)return;Kb(Rb.view).on("mousemove.drag",p,true).on("mouseup.drag",v,true);r_(Rb.view);e_();l=false;s=Rb.clientX;u=Rb.clientY;n("start")}function p(){n_();if(!l){var t=Rb.clientX-s,e=Rb.clientY-u;l=t*t+e*e>f}i.mouse("drag")}function v(){Kb(Rb.view).on("mousemove.drag mouseup.drag",null);i_(Rb.view,l);n_();i.mouse("end")}function y(){if(!t.apply(this,arguments))return;var n=Rb.changedTouches,r=e.apply(this,arguments),i=n.length,a,o;for(a=0;a<i;++a){if(o=b(n[a].identifier,r,t_,this,arguments)){e_();o("start")}}}function g(){var t=Rb.changedTouches,e=t.length,n,r;for(n=0;n<e;++n){if(r=i[t[n].identifier]){n_();r("drag")}}}function m(){var t=Rb.changedTouches,e=t.length,n,r;if(c)clearTimeout(c);c=setTimeout((function(){c=null}),500);for(n=0;n<e;++n){if(r=i[t[n].identifier]){e_();r("end")}}}function b(t,e,r,s,u){var l=r(e,t),c,f,d,p=a.copy();if(!zb(new o_(h,"beforestart",c,t,o,l[0],l[1],0,0,p),(function(){if((Rb.subject=c=n.apply(s,u))==null)return false;f=c.x-l[0]||0;d=c.y-l[1]||0;return true})))return;return function n(a){var v=l,y;switch(a){case"start":i[t]=n,y=o++;break;case"end":delete i[t],--o;case"drag":l=r(e,t),y=o;break}zb(new o_(h,a,c,t,y,l[0]+f,l[1]+d,l[0]-v[0],l[1]-v[1],p),p.apply,p,[a,s,u])}}h.filter=function(e){return arguments.length?(t=typeof e==="function"?e:a_(!!e),h):t};h.container=function(t){return arguments.length?(e=typeof t==="function"?t:a_(t),h):e};h.subject=function(t){return arguments.length?(n=typeof t==="function"?t:a_(t),h):n};h.touchable=function(t){return arguments.length?(r=typeof t==="function"?t:a_(!!t),h):r};h.on=function(){var t=a.on.apply(a,arguments);return t===a?h:t};h.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,h):Math.sqrt(f)};return h}var h_={},d_={},p_=34,v_=10,y_=13;function g_(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+"]"})).join(",")+"}")}function m_(t,e){var n=g_(t);return function(r,i){return e(n(r),i,t)}}function b_(t){var e=Object.create(null),n=[];t.forEach((function(t){for(var r in t){if(!(r in e)){n.push(e[r]=r)}}}));return n}function __(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var n,r,a=i(t,(function(t,i){if(n)return n(t,i-1);r=t,n=e?m_(t,e):g_(t)}));a.columns=r||[];return a}function i(t,e){var r=[],i=t.length,a=0,o=0,s,u=i<=0,l=false;if(t.charCodeAt(i-1)===v_)--i;if(t.charCodeAt(i-1)===y_)--i;function c(){if(u)return d_;if(l)return l=false,h_;var e,r=a,o;if(t.charCodeAt(r)===p_){while(a++<i&&t.charCodeAt(a)!==p_||t.charCodeAt(++a)===p_);if((e=a)>=i)u=true;else if((o=t.charCodeAt(a++))===v_)l=true;else if(o===y_){l=true;if(t.charCodeAt(a)===v_)++a}return t.slice(r+1,e-1).replace(/""/g,'"')}while(a<i){if((o=t.charCodeAt(e=a++))===v_)l=true;else if(o===y_){l=true;if(t.charCodeAt(a)===v_)++a}else if(o!==n)continue;return t.slice(r,e)}return u=true,t.slice(r,i)}while((s=c())!==d_){var f=[];while(s!==h_&&s!==d_)f.push(s),s=c();if(e&&(f=e(f,o++))==null)continue;r.push(f)}return r}function a(e,n){if(n==null)n=b_(e);return[n.map(u).join(t)].concat(e.map((function(e){return n.map((function(t){return u(e[t])})).join(t)}))).join("\n")}function o(t){return t.map(s).join("\n")}function s(e){return e.map(u).join(t)}function u(t){return t==null?"":e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:r,parseRows:i,format:a,formatRows:o}}var w_=__(",");var x_=w_.parse;var A_=w_.parseRows;var S_=w_.format;var T_=w_.formatRows;var L_=__("\t");var E_=L_.parse;var N_=L_.parseRows;var C_=L_.format;var M_=L_.formatRows;function k_(t){return+t}function I_(t){return t*t}function O_(t){return t*(2-t)}function D_(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function R_(t){return t*t*t}function U_(t){return--t*t*t+1}function P_(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var F_=3;var H_=function t(e){e=+e;function n(t){return Math.pow(t,e)}n.exponent=t;return n}(F_);var j_=function t(e){e=+e;function n(t){return 1-Math.pow(1-t,e)}n.exponent=t;return n}(F_);var V_=function t(e){e=+e;function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}n.exponent=t;return n}(F_);var B_=Math.PI,z_=B_/2;function Y_(t){return 1-Math.cos(t*z_)}function W_(t){return Math.sin(t*z_)}function G_(t){return(1-Math.cos(B_*t))/2}function q_(t){return Math.pow(2,10*t-10)}function X_(t){return 1-Math.pow(2,-10*t)}function $_(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function K_(t){return 1-Math.sqrt(1-t*t)}function Z_(t){return Math.sqrt(1- --t*t)}function Q_(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var J_=4/11,tw=6/11,ew=8/11,nw=3/4,rw=9/11,iw=10/11,aw=15/16,ow=21/22,sw=63/64,uw=1/J_/J_;function lw(t){return 1-cw(1-t)}function cw(t){return(t=+t)<J_?uw*t*t:t<ew?uw*(t-=tw)*t+nw:t<iw?uw*(t-=rw)*t+aw:uw*(t-=ow)*t+sw}function fw(t){return((t*=2)<=1?1-cw(1-t):cw(t-1)+1)/2}var hw=1.70158;var dw=function t(e){e=+e;function n(t){return t*t*((e+1)*t-e)}n.overshoot=t;return n}(hw);var pw=function t(e){e=+e;function n(t){return--t*t*((e+1)*t+e)+1}n.overshoot=t;return n}(hw);var vw=function t(e){e=+e;function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}n.overshoot=t;return n}(hw);var yw=2*Math.PI,gw=1,mw=.3;var bw=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=yw);function i(t){return e*Math.pow(2,10*--t)*Math.sin((r-t)/n)}i.amplitude=function(e){return t(e,n*yw)};i.period=function(n){return t(e,n)};return i}(gw,mw);var _w=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=yw);function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}i.amplitude=function(e){return t(e,n*yw)};i.period=function(n){return t(e,n)};return i}(gw,mw);var ww=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=yw);function i(t){return((t=t*2-1)<0?e*Math.pow(2,10*t)*Math.sin((r-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}i.amplitude=function(e){return t(e,n*yw)};i.period=function(n){return t(e,n)};return i}(gw,mw);function xw(t,e){var n;if(t==null)t=0;if(e==null)e=0;function r(){var r,i=n.length,a,o=0,s=0;for(r=0;r<i;++r){a=n[r],o+=a.x,s+=a.y}for(o=o/i-t,s=s/i-e,r=0;r<i;++r){a=n[r],a.x-=o,a.y-=s}}r.initialize=function(t){n=t};r.x=function(e){return arguments.length?(t=+e,r):t};r.y=function(t){return arguments.length?(e=+t,r):e};return r}function Aw(t){return function(){return t}}function Sw(){return(Math.random()-.5)*1e-6}function Tw(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Lw(this.cover(e,n),e,n,t)}function Lw(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,a=t._root,o={data:r},s=t._x0,u=t._y0,l=t._x1,c=t._y1,f,h,d,p,v,y,g,m;if(!a)return t._root=o,t;while(a.length){if(v=e>=(f=(s+l)/2))s=f;else l=f;if(y=n>=(h=(u+c)/2))u=h;else c=h;if(i=a,!(a=a[g=y<<1|v]))return i[g]=o,t}d=+t._x.call(null,a.data);p=+t._y.call(null,a.data);if(e===d&&n===p)return o.next=a,i?i[g]=o:t._root=o,t;do{i=i?i[g]=new Array(4):t._root=new Array(4);if(v=e>=(f=(s+l)/2))s=f;else l=f;if(y=n>=(h=(u+c)/2))u=h;else c=h}while((g=y<<1|v)===(m=(p>=h)<<1|d>=f));return i[m]=a,i[g]=o,t}function Ew(t){var e,n,r=t.length,i,a,o=new Array(r),s=new Array(r),u=Infinity,l=Infinity,c=-Infinity,f=-Infinity;for(n=0;n<r;++n){if(isNaN(i=+this._x.call(null,e=t[n]))||isNaN(a=+this._y.call(null,e)))continue;o[n]=i;s[n]=a;if(i<u)u=i;if(i>c)c=i;if(a<l)l=a;if(a>f)f=a}if(u>c||l>f)return this;this.cover(u,l).cover(c,f);for(n=0;n<r;++n){Lw(this,o[n],s[n],t[n])}return this}function Nw(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n)){i=(n=Math.floor(t))+1;a=(r=Math.floor(e))+1}else{var o=i-n,s=this._root,u,l;while(n>t||t>=i||r>e||e>=a){l=(e<r)<<1|t<n;u=new Array(4),u[l]=s,s=u,o*=2;switch(l){case 0:i=n+o,a=r+o;break;case 1:n=i-o,a=r+o;break;case 2:i=n+o,r=a-o;break;case 3:n=i-o,r=a-o;break}}if(this._root&&this._root.length)this._root=s}this._x0=n;this._y0=r;this._x1=i;this._y1=a;return this}function Cw(){var t=[];this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}));return t}function Mw(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?undefined:[[this._x0,this._y0],[this._x1,this._y1]]}function kw(t,e,n,r,i){this.node=t;this.x0=e;this.y0=n;this.x1=r;this.y1=i}function Iw(t,e,n){var r,i=this._x0,a=this._y0,o,s,u,l,c=this._x1,f=this._y1,h=[],d=this._root,p,v;if(d)h.push(new kw(d,i,a,c,f));if(n==null)n=Infinity;else{i=t-n,a=e-n;c=t+n,f=e+n;n*=n}while(p=h.pop()){if(!(d=p.node)||(o=p.x0)>c||(s=p.y0)>f||(u=p.x1)<i||(l=p.y1)<a)continue;if(d.length){var y=(o+u)/2,g=(s+l)/2;h.push(new kw(d[3],y,g,u,l),new kw(d[2],o,g,y,l),new kw(d[1],y,s,u,g),new kw(d[0],o,s,y,g));if(v=(e>=g)<<1|t>=y){p=h[h.length-1];h[h.length-1]=h[h.length-1-v];h[h.length-1-v]=p}}else{var m=t-+this._x.call(null,d.data),b=e-+this._y.call(null,d.data),_=m*m+b*b;if(_<n){var w=Math.sqrt(n=_);i=t-w,a=e-w;c=t+w,f=e+w;r=d.data}}}return r}function Ow(t){if(isNaN(c=+this._x.call(null,t))||isNaN(f=+this._y.call(null,t)))return this;var e,n=this._root,r,i,a,o=this._x0,s=this._y0,u=this._x1,l=this._y1,c,f,h,d,p,v,y,g;if(!n)return this;if(n.length)while(true){if(p=c>=(h=(o+u)/2))o=h;else u=h;if(v=f>=(d=(s+l)/2))s=d;else l=d;if(!(e=n,n=n[y=v<<1|p]))return this;if(!n.length)break;if(e[y+1&3]||e[y+2&3]||e[y+3&3])r=e,g=y}while(n.data!==t)if(!(i=n,n=n.next))return this;if(a=n.next)delete n.next;if(i)return a?i.next=a:delete i.next,this;if(!e)return this._root=a,this;a?e[y]=a:delete e[y];if((n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length){if(r)r[g]=n;else this._root=n}return this}function Dw(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function Rw(){return this._root}function Uw(){var t=0;this.visit((function(e){if(!e.length)do{++t}while(e=e.next)}));return t}function Pw(t){var e=[],n,r=this._root,i,a,o,s,u;if(r)e.push(new kw(r,this._x0,this._y0,this._x1,this._y1));while(n=e.pop()){if(!t(r=n.node,a=n.x0,o=n.y0,s=n.x1,u=n.y1)&&r.length){var l=(a+s)/2,c=(o+u)/2;if(i=r[3])e.push(new kw(i,l,c,s,u));if(i=r[2])e.push(new kw(i,a,c,l,u));if(i=r[1])e.push(new kw(i,l,o,s,c));if(i=r[0])e.push(new kw(i,a,o,l,c))}}return this}function Fw(t){var e=[],n=[],r;if(this._root)e.push(new kw(this._root,this._x0,this._y0,this._x1,this._y1));while(r=e.pop()){var i=r.node;if(i.length){var a,o=r.x0,s=r.y0,u=r.x1,l=r.y1,c=(o+u)/2,f=(s+l)/2;if(a=i[0])e.push(new kw(a,o,s,c,f));if(a=i[1])e.push(new kw(a,c,s,u,f));if(a=i[2])e.push(new kw(a,o,f,c,l));if(a=i[3])e.push(new kw(a,c,f,u,l))}n.push(r)}while(r=n.pop()){t(r.node,r.x0,r.y0,r.x1,r.y1)}return this}function Hw(t){return t[0]}function jw(t){return arguments.length?(this._x=t,this):this._x}function Vw(t){return t[1]}function Bw(t){return arguments.length?(this._y=t,this):this._y}function zw(t,e,n){var r=new Yw(e==null?Hw:e,n==null?Vw:n,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function Yw(t,e,n,r,i,a){this._x=t;this._y=e;this._x0=n;this._y0=r;this._x1=i;this._y1=a;this._root=undefined}function Ww(t){var e={data:t.data},n=e;while(t=t.next)n=n.next={data:t.data};return e}var Gw=zw.prototype=Yw.prototype;Gw.copy=function(){var t=new Yw(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=Ww(e),t;n=[{source:e,target:t._root=new Array(4)}];while(e=n.pop()){for(var i=0;i<4;++i){if(r=e.source[i]){if(r.length)n.push({source:r,target:e.target[i]=new Array(4)});else e.target[i]=Ww(r)}}}return t};Gw.add=Tw;Gw.addAll=Ew;Gw.cover=Nw;Gw.data=Cw;Gw.extent=Mw;Gw.find=Iw;Gw.remove=Ow;Gw.removeAll=Dw;Gw.root=Rw;Gw.size=Uw;Gw.visit=Pw;Gw.visitAfter=Fw;Gw.x=jw;Gw.y=Bw;function qw(t){return t.x+t.vx}function Xw(t){return t.y+t.vy}function $w(t){var e,n,r=1,i=1;if(typeof t!=="function")t=Aw(t==null?1:+t);function a(){var t,a=e.length,s,u,l,c,f,h;for(var d=0;d<i;++d){s=zw(e,qw,Xw).visitAfter(o);for(t=0;t<a;++t){u=e[t];f=n[u.index],h=f*f;l=u.x+u.vx;c=u.y+u.vy;s.visit(p)}}function p(t,e,n,i,a){var o=t.data,s=t.r,d=f+s;if(o){if(o.index>u.index){var p=l-o.x-o.vx,v=c-o.y-o.vy,y=p*p+v*v;if(y<d*d){if(p===0)p=Sw(),y+=p*p;if(v===0)v=Sw(),y+=v*v;y=(d-(y=Math.sqrt(y)))/y*r;u.vx+=(p*=y)*(d=(s*=s)/(h+s));u.vy+=(v*=y)*d;o.vx-=p*(d=1-d);o.vy-=v*d}}return}return e>l+d||i<l-d||n>c+d||a<c-d}}function o(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e){if(t[e]&&t[e].r>t.r){t.r=t[e].r}}}function s(){if(!e)return;var r,i=e.length,a;n=new Array(i);for(r=0;r<i;++r)a=e[r],n[a.index]=+t(a,r,e)}a.initialize=function(t){e=t;s()};a.iterations=function(t){return arguments.length?(i=+t,a):i};a.strength=function(t){return arguments.length?(r=+t,a):r};a.radius=function(e){return arguments.length?(t=typeof e==="function"?e:Aw(+e),s(),a):t};return a}function Kw(t){return t.index}function Zw(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function Qw(t){var e=Kw,n=c,r,i=Aw(30),a,o,s,u,l=1;if(t==null)t=[];function c(t){return 1/Math.min(s[t.source.index],s[t.target.index])}function f(e){for(var n=0,i=t.length;n<l;++n){for(var o=0,s,c,f,h,d,p,v;o<i;++o){s=t[o],c=s.source,f=s.target;h=f.x+f.vx-c.x-c.vx||Sw();d=f.y+f.vy-c.y-c.vy||Sw();p=Math.sqrt(h*h+d*d);p=(p-a[o])/p*e*r[o];h*=p,d*=p;f.vx-=h*(v=u[o]);f.vy-=d*v;c.vx+=h*(v=1-v);c.vy+=d*v}}}function h(){if(!o)return;var n,i=o.length,l=t.length,c=ha(o,e),f;for(n=0,s=new Array(i);n<l;++n){f=t[n],f.index=n;if(typeof f.source!=="object")f.source=Zw(c,f.source);if(typeof f.target!=="object")f.target=Zw(c,f.target);s[f.source.index]=(s[f.source.index]||0)+1;s[f.target.index]=(s[f.target.index]||0)+1}for(n=0,u=new Array(l);n<l;++n){f=t[n],u[n]=s[f.source.index]/(s[f.source.index]+s[f.target.index])}r=new Array(l),d();a=new Array(l),p()}function d(){if(!o)return;for(var e=0,i=t.length;e<i;++e){r[e]=+n(t[e],e,t)}}function p(){if(!o)return;for(var e=0,n=t.length;e<n;++e){a[e]=+i(t[e],e,t)}}f.initialize=function(t){o=t;h()};f.links=function(e){return arguments.length?(t=e,h(),f):t};f.id=function(t){return arguments.length?(e=t,f):e};f.iterations=function(t){return arguments.length?(l=+t,f):l};f.strength=function(t){return arguments.length?(n=typeof t==="function"?t:Aw(+t),d(),f):n};f.distance=function(t){return arguments.length?(i=typeof t==="function"?t:Aw(+t),p(),f):i};return f}function Jw(t){return t.x}function tx(t){return t.y}var ex=10,nx=Math.PI*(3-Math.sqrt(5));function rx(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=ha(),u=Tc(c),l=oc("tick","end");if(t==null)t=[];function c(){f();l.call("tick",e);if(n<r){u.stop();l.call("end",e)}}function f(){var e,r=t.length,u;n+=(a-n)*i;s.each((function(t){t(n)}));for(e=0;e<r;++e){u=t[e];if(u.fx==null)u.x+=u.vx*=o;else u.x=u.fx,u.vx=0;if(u.fy==null)u.y+=u.vy*=o;else u.y=u.fy,u.vy=0}}function h(){for(var e=0,n=t.length,r;e<n;++e){r=t[e],r.index=e;if(isNaN(r.x)||isNaN(r.y)){var i=ex*Math.sqrt(e),a=e*nx;r.x=i*Math.cos(a);r.y=i*Math.sin(a)}if(isNaN(r.vx)||isNaN(r.vy)){r.vx=r.vy=0}}}function d(e){if(e.initialize)e.initialize(t);return e}h();return e={tick:f,restart:function(){return u.restart(c),e},stop:function(){return u.stop(),e},nodes:function(n){return arguments.length?(t=n,h(),s.each(d),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(a=+t,e):a},velocityDecay:function(t){return arguments.length?(o=1-t,e):1-o},force:function(t,n){return arguments.length>1?(n==null?s.remove(t):s.set(t,d(n)),e):s.get(t)},find:function(e,n,r){var i=0,a=t.length,o,s,u,l,c;if(r==null)r=Infinity;else r*=r;for(i=0;i<a;++i){l=t[i];o=e-l.x;s=n-l.y;u=o*o+s*s;if(u<r)c=l,r=u}return c},on:function(t,n){return arguments.length>1?(l.on(t,n),e):l.on(t)}}}function ix(){var t,e,n,r=Aw(-30),i,a=1,o=Infinity,s=.81;function u(r){var i,a=t.length,o=zw(t,Jw,tx).visitAfter(c);for(n=r,i=0;i<a;++i)e=t[i],o.visit(f)}function l(){if(!t)return;var e,n=t.length,a;i=new Array(n);for(e=0;e<n;++e)a=t[e],i[a.index]=+r(a,e,t)}function c(t){var e=0,n,r,a=0,o,s,u;if(t.length){for(o=s=u=0;u<4;++u){if((n=t[u])&&(r=Math.abs(n.value))){e+=n.value,a+=r,o+=r*n.x,s+=r*n.y}}t.x=o/a;t.y=s/a}else{n=t;n.x=n.data.x;n.y=n.data.y;do{e+=i[n.data.index]}while(n=n.next)}t.value=e}function f(t,r,u,l){if(!t.value)return true;var c=t.x-e.x,f=t.y-e.y,h=l-r,d=c*c+f*f;if(h*h/s<d){if(d<o){if(c===0)c=Sw(),d+=c*c;if(f===0)f=Sw(),d+=f*f;if(d<a)d=Math.sqrt(a*d);e.vx+=c*t.value*n/d;e.vy+=f*t.value*n/d}return true}else if(t.length||d>=o)return;if(t.data!==e||t.next){if(c===0)c=Sw(),d+=c*c;if(f===0)f=Sw(),d+=f*f;if(d<a)d=Math.sqrt(a*d)}do{if(t.data!==e){h=i[t.data.index]*n/d;e.vx+=c*h;e.vy+=f*h}}while(t=t.next)}u.initialize=function(e){t=e;l()};u.strength=function(t){return arguments.length?(r=typeof t==="function"?t:Aw(+t),l(),u):r};u.distanceMin=function(t){return arguments.length?(a=t*t,u):Math.sqrt(a)};u.distanceMax=function(t){return arguments.length?(o=t*t,u):Math.sqrt(o)};u.theta=function(t){return arguments.length?(s=t*t,u):Math.sqrt(s)};return u}function ax(t,e,n){var r,i=Aw(.1),a,o;if(typeof t!=="function")t=Aw(+t);if(e==null)e=0;if(n==null)n=0;function s(t){for(var i=0,s=r.length;i<s;++i){var u=r[i],l=u.x-e||1e-6,c=u.y-n||1e-6,f=Math.sqrt(l*l+c*c),h=(o[i]-f)*a[i]*t/f;u.vx+=l*h;u.vy+=c*h}}function u(){if(!r)return;var e,n=r.length;a=new Array(n);o=new Array(n);for(e=0;e<n;++e){o[e]=+t(r[e],e,r);a[e]=isNaN(o[e])?0:+i(r[e],e,r)}}s.initialize=function(t){r=t,u()};s.strength=function(t){return arguments.length?(i=typeof t==="function"?t:Aw(+t),u(),s):i};s.radius=function(e){return arguments.length?(t=typeof e==="function"?e:Aw(+e),u(),s):t};s.x=function(t){return arguments.length?(e=+t,s):e};s.y=function(t){return arguments.length?(n=+t,s):n};return s}function ox(t){var e=Aw(.1),n,r,i;if(typeof t!=="function")t=Aw(t==null?0:+t);function a(t){for(var e=0,a=n.length,o;e<a;++e){o=n[e],o.vx+=(i[e]-o.x)*r[e]*t}}function o(){if(!n)return;var a,o=n.length;r=new Array(o);i=new Array(o);for(a=0;a<o;++a){r[a]=isNaN(i[a]=+t(n[a],a,n))?0:+e(n[a],a,n)}}a.initialize=function(t){n=t;o()};a.strength=function(t){return arguments.length?(e=typeof t==="function"?t:Aw(+t),o(),a):e};a.x=function(e){return arguments.length?(t=typeof e==="function"?e:Aw(+e),o(),a):t};return a}function sx(t){var e=Aw(.1),n,r,i;if(typeof t!=="function")t=Aw(t==null?0:+t);function a(t){for(var e=0,a=n.length,o;e<a;++e){o=n[e],o.vy+=(i[e]-o.y)*r[e]*t}}function o(){if(!n)return;var a,o=n.length;r=new Array(o);i=new Array(o);for(a=0;a<o;++a){r[a]=isNaN(i[a]=+t(n[a],a,n))?0:+e(n[a],a,n)}}a.initialize=function(t){n=t;o()};a.strength=function(t){return arguments.length?(e=typeof t==="function"?t:Aw(+t),o(),a):e};a.y=function(e){return arguments.length?(t=typeof e==="function"?e:Aw(+e),o(),a):t};return a}function ux(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function lx(t){return t=ux(Math.abs(t)),t?t[1]:NaN}function cx(t,e){return function(n,r){var i=n.length,a=[],o=0,s=t[0],u=0;while(i>0&&s>0){if(u+s+1>r)s=Math.max(1,r-u);a.push(n.substring(i-=s,i+s));if((u+=s+1)>r)break;s=t[o=(o+1)%t.length]}return a.reverse().join(e)}}function fx(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}function hx(t,e){t=t.toPrecision(e);t:for(var n=t.length,r=1,i=-1,a;r<n;++r){switch(t[r]){case".":i=a=r;break;case"0":if(i===0)i=r;a=r;break;case"e":break t;default:if(i>0)i=0;break}}return i>0?t.slice(0,i)+t.slice(a+1):t}var dx;function px(t,e){var n=ux(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(dx=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+ux(t,Math.max(0,e+a-1))[0]}function vx(t,e){var n=ux(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var yx={"":hx,"%":function(t,e){return(t*100).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return vx(t*100,e)},r:vx,s:px,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};var gx=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function mx(t){return new bx(t)}mx.prototype=bx.prototype;function bx(t){if(!(e=gx.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",a=e[4]||"",o=!!e[5],s=e[6]&&+e[6],u=!!e[7],l=e[8]&&+e[8].slice(1),c=e[9]||"";if(c==="n")u=true,c="g";else if(!yx[c])c="";if(o||n==="0"&&r==="=")o=true,n="0",r="=";this.fill=n;this.align=r;this.sign=i;this.symbol=a;this.zero=o;this.width=s;this.comma=u;this.precision=l;this.type=c}bx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width==null?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision==null?"":"."+Math.max(0,this.precision|0))+this.type};function _x(t){return t}var wx=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function xx(t){var e=t.grouping&&t.thousands?cx(t.grouping,t.thousands):_x,n=t.currency,r=t.decimal,i=t.numerals?fx(t.numerals):_x,a=t.percent||"%";function o(t){t=mx(t);var o=t.fill,s=t.align,u=t.sign,l=t.symbol,c=t.zero,f=t.width,h=t.comma,d=t.precision,p=t.type;var v=l==="$"?n[0]:l==="#"&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",y=l==="$"?n[1]:/[%p]/.test(p)?a:"";var g=yx[p],m=!p||/[defgprs%]/.test(p);d=d==null?p?6:12:/[gprs]/.test(p)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d));function b(t){var n=v,a=y,l,b,_;if(p==="c"){a=g(t)+a;t=""}else{t=+t;var w=t<0;t=g(Math.abs(t),d);if(w&&+t===0)w=false;n=(w?u==="("?u:"-":u==="-"||u==="("?"":u)+n;a=(p==="s"?wx[8+dx/3]:"")+a+(w&&u==="("?")":"");if(m){l=-1,b=t.length;while(++l<b){if(_=t.charCodeAt(l),48>_||_>57){a=(_===46?r+t.slice(l+1):t.slice(l))+a;t=t.slice(0,l);break}}}}if(h&&!c)t=e(t,Infinity);var x=n.length+t.length+a.length,A=x<f?new Array(f-x+1).join(o):"";if(h&&c)t=e(A+t,A.length?f-a.length:Infinity),A="";switch(s){case"<":t=n+t+a+A;break;case"=":t=n+A+t+a;break;case"^":t=A.slice(0,x=A.length>>1)+n+t+a+A.slice(x);break;default:t=A+n+t+a;break}return i(t)}b.toString=function(){return t+""};return b}function s(t,e){var n=o((t=mx(t),t.type="f",t)),r=Math.max(-8,Math.min(8,Math.floor(lx(e)/3)))*3,i=Math.pow(10,-r),a=wx[8+r/3];return function(t){return n(i*t)+a}}return{format:o,formatPrefix:s}}var Ax;var Sx;var Tx;Lx({decimal:".",thousands:",",grouping:[3],currency:["$",""]});function Lx(t){Ax=xx(t);Sx=Ax.format;Tx=Ax.formatPrefix;return Ax}function Ex(t){return Math.max(0,-lx(Math.abs(t)))}function Nx(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lx(e)/3)))*3-lx(Math.abs(t)))}function Cx(t,e){t=Math.abs(t),e=Math.abs(e)-t;return Math.max(0,lx(e)-lx(t))+1}function Mx(){return new kx}function kx(){this.reset()}kx.prototype={constructor:kx,reset:function(){this.s=this.t=0},add:function(t){Ox(Ix,t,this.t);Ox(this,Ix.s,this.s);if(this.s)this.t+=Ix.t;else this.s=Ix.t},valueOf:function(){return this.s}};var Ix=new kx;function Ox(t,e,n){var r=t.s=e+n,i=r-e,a=r-i;t.t=e-a+(n-i)}var Dx=1e-6;var Rx=1e-12;var Ux=Math.PI;var Px=Ux/2;var Fx=Ux/4;var Hx=Ux*2;var jx=180/Ux;var Vx=Ux/180;var Bx=Math.abs;var zx=Math.atan;var Yx=Math.atan2;var Wx=Math.cos;var Gx=Math.ceil;var qx=Math.exp;var Xx=Math.log;var $x=Math.pow;var Kx=Math.sin;var Zx=Math.sign||function(t){return t>0?1:t<0?-1:0};var Qx=Math.sqrt;var Jx=Math.tan;function tA(t){return t>1?0:t<-1?Ux:Math.acos(t)}function eA(t){return t>1?Px:t<-1?-Px:Math.asin(t)}function nA(t){return(t=Kx(t/2))*t}function rA(){}function iA(t,e){if(t&&oA.hasOwnProperty(t.type)){oA[t.type](t,e)}}var aA={Feature:function(t,e){iA(t.geometry,e)},FeatureCollection:function(t,e){var n=t.features,r=-1,i=n.length;while(++r<i)iA(n[r].geometry,e)}};var oA={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates;e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){var n=t.coordinates,r=-1,i=n.length;while(++r<i)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){sA(t.coordinates,e,0)},MultiLineString:function(t,e){var n=t.coordinates,r=-1,i=n.length;while(++r<i)sA(n[r],e,0)},Polygon:function(t,e){uA(t.coordinates,e)},MultiPolygon:function(t,e){var n=t.coordinates,r=-1,i=n.length;while(++r<i)uA(n[r],e)},GeometryCollection:function(t,e){var n=t.geometries,r=-1,i=n.length;while(++r<i)iA(n[r],e)}};function sA(t,e,n){var r=-1,i=t.length-n,a;e.lineStart();while(++r<i)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function uA(t,e){var n=-1,r=t.length;e.polygonStart();while(++n<r)sA(t[n],e,1);e.polygonEnd()}function lA(t,e){if(t&&aA.hasOwnProperty(t.type)){aA[t.type](t,e)}else{iA(t,e)}}var cA=Mx();var fA=Mx(),hA,dA,pA,vA,yA;var gA={point:rA,lineStart:rA,lineEnd:rA,polygonStart:function(){cA.reset();gA.lineStart=mA;gA.lineEnd=bA},polygonEnd:function(){var t=+cA;fA.add(t<0?Hx+t:t);this.lineStart=this.lineEnd=this.point=rA},sphere:function(){fA.add(Hx)}};function mA(){gA.point=_A}function bA(){wA(hA,dA)}function _A(t,e){gA.point=wA;hA=t,dA=e;t*=Vx,e*=Vx;pA=t,vA=Wx(e=e/2+Fx),yA=Kx(e)}function wA(t,e){t*=Vx,e*=Vx;e=e/2+Fx;var n=t-pA,r=n>=0?1:-1,i=r*n,a=Wx(e),o=Kx(e),s=yA*o,u=vA*a+s*Wx(i),l=s*r*Kx(i);cA.add(Yx(l,u));pA=t,vA=a,yA=o}function xA(t){fA.reset();lA(t,gA);return fA*2}function AA(t){return[Yx(t[1],t[0]),eA(t[2])]}function SA(t){var e=t[0],n=t[1],r=Wx(n);return[r*Wx(e),r*Kx(e),Kx(n)]}function TA(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function LA(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function EA(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function NA(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function CA(t){var e=Qx(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var MA,kA,IA,OA,DA,RA,UA,PA,FA=Mx(),HA,jA;var VA={point:BA,lineStart:YA,lineEnd:WA,polygonStart:function(){VA.point=GA;VA.lineStart=qA;VA.lineEnd=XA;FA.reset();gA.polygonStart()},polygonEnd:function(){gA.polygonEnd();VA.point=BA;VA.lineStart=YA;VA.lineEnd=WA;if(cA<0)MA=-(IA=180),kA=-(OA=90);else if(FA>Dx)OA=90;else if(FA<-Dx)kA=-90;jA[0]=MA,jA[1]=IA}};function BA(t,e){HA.push(jA=[MA=t,IA=t]);if(e<kA)kA=e;if(e>OA)OA=e}function zA(t,e){var n=SA([t*Vx,e*Vx]);if(PA){var r=LA(PA,n),i=[r[1],-r[0],0],a=LA(i,r);CA(a);a=AA(a);var o=t-DA,s=o>0?1:-1,u=a[0]*jx*s,l,c=Bx(o)>180;if(c^(s*DA<u&&u<s*t)){l=a[1]*jx;if(l>OA)OA=l}else if(u=(u+360)%360-180,c^(s*DA<u&&u<s*t)){l=-a[1]*jx;if(l<kA)kA=l}else{if(e<kA)kA=e;if(e>OA)OA=e}if(c){if(t<DA){if($A(MA,t)>$A(MA,IA))IA=t}else{if($A(t,IA)>$A(MA,IA))MA=t}}else{if(IA>=MA){if(t<MA)MA=t;if(t>IA)IA=t}else{if(t>DA){if($A(MA,t)>$A(MA,IA))IA=t}else{if($A(t,IA)>$A(MA,IA))MA=t}}}}else{HA.push(jA=[MA=t,IA=t])}if(e<kA)kA=e;if(e>OA)OA=e;PA=n,DA=t}function YA(){VA.point=zA}function WA(){jA[0]=MA,jA[1]=IA;VA.point=BA;PA=null}function GA(t,e){if(PA){var n=t-DA;FA.add(Bx(n)>180?n+(n>0?360:-360):n)}else{RA=t,UA=e}gA.point(t,e);zA(t,e)}function qA(){gA.lineStart()}function XA(){GA(RA,UA);gA.lineEnd();if(Bx(FA)>Dx)MA=-(IA=180);jA[0]=MA,jA[1]=IA;PA=null}function $A(t,e){return(e-=t)<0?e+360:e}function KA(t,e){return t[0]-e[0]}function ZA(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function QA(t){var e,n,r,i,a,o,s;OA=IA=-(MA=kA=Infinity);HA=[];lA(t,VA);if(n=HA.length){HA.sort(KA);for(e=1,r=HA[0],a=[r];e<n;++e){i=HA[e];if(ZA(r,i[0])||ZA(r,i[1])){if($A(r[0],i[1])>$A(r[0],r[1]))r[1]=i[1];if($A(i[0],r[1])>$A(r[0],r[1]))r[0]=i[0]}else{a.push(r=i)}}for(o=-Infinity,n=a.length-1,e=0,r=a[n];e<=n;r=i,++e){i=a[e];if((s=$A(r[1],i[0]))>o)o=s,MA=i[0],IA=r[1]}}HA=jA=null;return MA===Infinity||kA===Infinity?[[NaN,NaN],[NaN,NaN]]:[[MA,kA],[IA,OA]]}var JA,tS,eS,nS,rS,iS,aS,oS,sS,uS,lS,cS,fS,hS,dS,pS;var vS={sphere:rA,point:yS,lineStart:mS,lineEnd:wS,polygonStart:function(){vS.lineStart=xS;vS.lineEnd=AS},polygonEnd:function(){vS.lineStart=mS;vS.lineEnd=wS}};function yS(t,e){t*=Vx,e*=Vx;var n=Wx(e);gS(n*Wx(t),n*Kx(t),Kx(e))}function gS(t,e,n){++JA;eS+=(t-eS)/JA;nS+=(e-nS)/JA;rS+=(n-rS)/JA}function mS(){vS.point=bS}function bS(t,e){t*=Vx,e*=Vx;var n=Wx(e);hS=n*Wx(t);dS=n*Kx(t);pS=Kx(e);vS.point=_S;gS(hS,dS,pS)}function _S(t,e){t*=Vx,e*=Vx;var n=Wx(e),r=n*Wx(t),i=n*Kx(t),a=Kx(e),o=Yx(Qx((o=dS*a-pS*i)*o+(o=pS*r-hS*a)*o+(o=hS*i-dS*r)*o),hS*r+dS*i+pS*a);tS+=o;iS+=o*(hS+(hS=r));aS+=o*(dS+(dS=i));oS+=o*(pS+(pS=a));gS(hS,dS,pS)}function wS(){vS.point=yS}function xS(){vS.point=SS}function AS(){TS(cS,fS);vS.point=yS}function SS(t,e){cS=t,fS=e;t*=Vx,e*=Vx;vS.point=TS;var n=Wx(e);hS=n*Wx(t);dS=n*Kx(t);pS=Kx(e);gS(hS,dS,pS)}function TS(t,e){t*=Vx,e*=Vx;var n=Wx(e),r=n*Wx(t),i=n*Kx(t),a=Kx(e),o=dS*a-pS*i,s=pS*r-hS*a,u=hS*i-dS*r,l=Qx(o*o+s*s+u*u),c=eA(l),f=l&&-c/l;sS+=f*o;uS+=f*s;lS+=f*u;tS+=c;iS+=c*(hS+(hS=r));aS+=c*(dS+(dS=i));oS+=c*(pS+(pS=a));gS(hS,dS,pS)}function LS(t){JA=tS=eS=nS=rS=iS=aS=oS=sS=uS=lS=0;lA(t,vS);var e=sS,n=uS,r=lS,i=e*e+n*n+r*r;if(i<Rx){e=iS,n=aS,r=oS;if(tS<Dx)e=eS,n=nS,r=rS;i=e*e+n*n+r*r;if(i<Rx)return[NaN,NaN]}return[Yx(n,e)*jx,eA(r/Qx(i))*jx]}function ES(t){return function(){return t}}function NS(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}if(t.invert&&e.invert)n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])};return n}function CS(t,e){return[t>Ux?t-Hx:t<-Ux?t+Hx:t,e]}CS.invert=CS;function MS(t,e,n){return(t%=Hx)?e||n?NS(IS(t),OS(e,n)):IS(t):e||n?OS(e,n):CS}function kS(t){return function(e,n){return e+=t,[e>Ux?e-Hx:e<-Ux?e+Hx:e,n]}}function IS(t){var e=kS(t);e.invert=kS(-t);return e}function OS(t,e){var n=Wx(t),r=Kx(t),i=Wx(e),a=Kx(e);function o(t,e){var o=Wx(e),s=Wx(t)*o,u=Kx(t)*o,l=Kx(e),c=l*n+s*r;return[Yx(u*i-c*a,s*n-l*r),eA(c*i+u*a)]}o.invert=function(t,e){var o=Wx(e),s=Wx(t)*o,u=Kx(t)*o,l=Kx(e),c=l*i-u*a;return[Yx(u*i+l*a,s*n+c*r),eA(c*n-s*r)]};return o}function DS(t){t=MS(t[0]*Vx,t[1]*Vx,t.length>2?t[2]*Vx:0);function e(e){e=t(e[0]*Vx,e[1]*Vx);return e[0]*=jx,e[1]*=jx,e}e.invert=function(e){e=t.invert(e[0]*Vx,e[1]*Vx);return e[0]*=jx,e[1]*=jx,e};return e}function RS(t,e,n,r,i,a){if(!n)return;var o=Wx(e),s=Kx(e),u=r*n;if(i==null){i=e+r*Hx;a=e-u/2}else{i=US(o,i);a=US(o,a);if(r>0?i<a:i>a)i+=r*Hx}for(var l,c=i;r>0?c>a:c<a;c-=u){l=AA([o,-s*Wx(c),-s*Kx(c)]);t.point(l[0],l[1])}}function US(t,e){e=SA(e),e[0]-=t;CA(e);var n=tA(-e[1]);return((-e[2]<0?-n:n)+Hx-Dx)%Hx}function PS(){var t=ES([0,0]),e=ES(90),n=ES(6),r,i,a={point:o};function o(t,e){r.push(t=i(t,e));t[0]*=jx,t[1]*=jx}function s(){var o=t.apply(this,arguments),s=e.apply(this,arguments)*Vx,u=n.apply(this,arguments)*Vx;r=[];i=MS(-o[0]*Vx,-o[1]*Vx,0).invert;RS(a,s,u,1);o={type:"Polygon",coordinates:[r]};r=i=null;return o}s.center=function(e){return arguments.length?(t=typeof e==="function"?e:ES([+e[0],+e[1]]),s):t};s.radius=function(t){return arguments.length?(e=typeof t==="function"?t:ES(+t),s):e};s.precision=function(t){return arguments.length?(n=typeof t==="function"?t:ES(+t),s):n};return s}function FS(){var t=[],e;return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:rA,rejoin:function(){if(t.length>1)t.push(t.pop().concat(t.shift()))},result:function(){var n=t;t=[];e=null;return n}}}function HS(t,e){return Bx(t[0]-e[0])<Dx&&Bx(t[1]-e[1])<Dx}function jS(t,e,n,r){this.x=t;this.z=e;this.o=n;this.e=r;this.v=false;this.n=this.p=null}function VS(t,e,n,r,i){var a=[],o=[],s,u;t.forEach((function(t){if((e=t.length-1)<=0)return;var e,n=t[0],r=t[e],u;if(HS(n,r)){i.lineStart();for(s=0;s<e;++s)i.point((n=t[s])[0],n[1]);i.lineEnd();return}a.push(u=new jS(n,t,null,true));o.push(u.o=new jS(n,null,u,false));a.push(u=new jS(r,t,null,false));o.push(u.o=new jS(r,null,u,true))}));if(!a.length)return;o.sort(e);BS(a);BS(o);for(s=0,u=o.length;s<u;++s){o[s].e=n=!n}var l=a[0],c,f;while(1){var h=l,d=true;while(h.v)if((h=h.n)===l)return;c=h.z;i.lineStart();do{h.v=h.o.v=true;if(h.e){if(d){for(s=0,u=c.length;s<u;++s)i.point((f=c[s])[0],f[1])}else{r(h.x,h.n.x,1,i)}h=h.n}else{if(d){c=h.p.z;for(s=c.length-1;s>=0;--s)i.point((f=c[s])[0],f[1])}else{r(h.x,h.p.x,-1,i)}h=h.p}h=h.o;c=h.z;d=!d}while(!h.v);i.lineEnd()}}function BS(t){if(!(e=t.length))return;var e,n=0,r=t[0],i;while(++n<e){r.n=i=t[n];i.p=r;r=i}r.n=i=t[0];i.p=r}var zS=Mx();function YS(t,e){var n=e[0],r=e[1],i=[Kx(n),-Wx(n),0],a=0,o=0;zS.reset();for(var s=0,u=t.length;s<u;++s){if(!(c=(l=t[s]).length))continue;var l,c,f=l[c-1],h=f[0],d=f[1]/2+Fx,p=Kx(d),v=Wx(d);for(var y=0;y<c;++y,h=m,p=_,v=w,f=g){var g=l[y],m=g[0],b=g[1]/2+Fx,_=Kx(b),w=Wx(b),x=m-h,A=x>=0?1:-1,S=A*x,T=S>Ux,L=p*_;zS.add(Yx(L*A*Kx(S),v*w+L*Wx(S)));a+=T?x+A*Hx:x;if(T^h>=n^m>=n){var E=LA(SA(f),SA(g));CA(E);var N=LA(i,E);CA(N);var C=(T^x>=0?-1:1)*eA(N[2]);if(r>C||r===C&&(E[0]||E[1])){o+=T^x>=0?1:-1}}}}return(a<-Dx||a<Dx&&zS<-Dx)^o&1}function WS(t,e,n,r){return function(i){var a=e(i),o=FS(),s=e(o),u=false,l,c,f;var h={point:d,lineStart:v,lineEnd:y,polygonStart:function(){h.point=g;h.lineStart=m;h.lineEnd=b;c=[];l=[]},polygonEnd:function(){h.point=d;h.lineStart=v;h.lineEnd=y;c=oa(c);var t=YS(l,r);if(c.length){if(!u)i.polygonStart(),u=true;VS(c,qS,t,n,i)}else if(t){if(!u)i.polygonStart(),u=true;i.lineStart();n(null,null,1,i);i.lineEnd()}if(u)i.polygonEnd(),u=false;c=l=null},sphere:function(){i.polygonStart();i.lineStart();n(null,null,1,i);i.lineEnd();i.polygonEnd()}};function d(e,n){if(t(e,n))i.point(e,n)}function p(t,e){a.point(t,e)}function v(){h.point=p;a.lineStart()}function y(){h.point=d;a.lineEnd()}function g(t,e){f.push([t,e]);s.point(t,e)}function m(){s.lineStart();f=[]}function b(){g(f[0][0],f[0][1]);s.lineEnd();var t=s.clean(),e=o.result(),n,r=e.length,a,h,d;f.pop();l.push(f);f=null;if(!r)return;if(t&1){h=e[0];if((a=h.length-1)>0){if(!u)i.polygonStart(),u=true;i.lineStart();for(n=0;n<a;++n)i.point((d=h[n])[0],d[1]);i.lineEnd()}return}if(r>1&&t&2)e.push(e.pop().concat(e.shift()));c.push(e.filter(GS))}return h}}function GS(t){return t.length>1}function qS(t,e){return((t=t.x)[0]<0?t[1]-Px-Dx:Px-t[1])-((e=e.x)[0]<0?e[1]-Px-Dx:Px-e[1])}var XS=WS((function(){return true}),$S,ZS,[-Ux,-Px]);function $S(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart();i=1},point:function(a,o){var s=a>0?Ux:-Ux,u=Bx(a-e);if(Bx(u-Ux)<Dx){t.point(e,n=(n+o)/2>0?Px:-Px);t.point(r,n);t.lineEnd();t.lineStart();t.point(s,n);t.point(a,n);i=0}else if(r!==s&&u>=Ux){if(Bx(e-r)<Dx)e-=r*Dx;if(Bx(a-s)<Dx)a-=s*Dx;n=KS(e,n,a,o);t.point(r,n);t.lineEnd();t.lineStart();t.point(s,n);i=0}t.point(e=a,n=o);r=s},lineEnd:function(){t.lineEnd();e=n=NaN},clean:function(){return 2-i}}}function KS(t,e,n,r){var i,a,o=Kx(t-n);return Bx(o)>Dx?zx((Kx(e)*(a=Wx(r))*Kx(n)-Kx(r)*(i=Wx(e))*Kx(t))/(i*a*o)):(e+r)/2}function ZS(t,e,n,r){var i;if(t==null){i=n*Px;r.point(-Ux,i);r.point(0,i);r.point(Ux,i);r.point(Ux,0);r.point(Ux,-i);r.point(0,-i);r.point(-Ux,-i);r.point(-Ux,0);r.point(-Ux,i)}else if(Bx(t[0]-e[0])>Dx){var a=t[0]<e[0]?Ux:-Ux;i=n*a/2;r.point(-a,i);r.point(0,i);r.point(a,i)}else{r.point(e[0],e[1])}}function QS(t){var e=Wx(t),n=6*Vx,r=e>0,i=Bx(e)>Dx;function a(e,r,i,a){RS(a,t,n,i,e,r)}function o(t,n){return Wx(t)*Wx(n)>e}function s(t){var e,n,a,s,c;return{lineStart:function(){s=a=false;c=1},point:function(f,h){var d=[f,h],p,v=o(f,h),y=r?v?0:l(f,h):v?l(f+(f<0?Ux:-Ux),h):0;if(!e&&(s=a=v))t.lineStart();if(v!==a){p=u(e,d);if(!p||HS(e,p)||HS(d,p)){d[0]+=Dx;d[1]+=Dx;v=o(d[0],d[1])}}if(v!==a){c=0;if(v){t.lineStart();p=u(d,e);t.point(p[0],p[1])}else{p=u(e,d);t.point(p[0],p[1]);t.lineEnd()}e=p}else if(i&&e&&r^v){var g;if(!(y&n)&&(g=u(d,e,true))){c=0;if(r){t.lineStart();t.point(g[0][0],g[0][1]);t.point(g[1][0],g[1][1]);t.lineEnd()}else{t.point(g[1][0],g[1][1]);t.lineEnd();t.lineStart();t.point(g[0][0],g[0][1])}}}if(v&&(!e||!HS(e,d))){t.point(d[0],d[1])}e=d,a=v,n=y},lineEnd:function(){if(a)t.lineEnd();e=null},clean:function(){return c|(s&&a)<<1}}}function u(t,n,r){var i=SA(t),a=SA(n);var o=[1,0,0],s=LA(i,a),u=TA(s,s),l=s[0],c=u-l*l;if(!c)return!r&&t;var f=e*u/c,h=-e*l/c,d=LA(o,s),p=NA(o,f),v=NA(s,h);EA(p,v);var y=d,g=TA(p,y),m=TA(y,y),b=g*g-m*(TA(p,p)-1);if(b<0)return;var _=Qx(b),w=NA(y,(-g-_)/m);EA(w,p);w=AA(w);if(!r)return w;var x=t[0],A=n[0],S=t[1],T=n[1],L;if(A<x)L=x,x=A,A=L;var E=A-x,N=Bx(E-Ux)<Dx,C=N||E<Dx;if(!N&&T<S)L=S,S=T,T=L;if(C?N?S+T>0^w[1]<(Bx(w[0]-x)<Dx?S:T):S<=w[1]&&w[1]<=T:E>Ux^(x<=w[0]&&w[0]<=A)){var M=NA(y,(-g+_)/m);EA(M,p);return[w,AA(M)]}}function l(e,n){var i=r?t:Ux-t,a=0;if(e<-i)a|=1;else if(e>i)a|=2;if(n<-i)a|=4;else if(n>i)a|=8;return a}return WS(o,s,a,r?[0,-t]:[-Ux,t-Ux])}function JS(t,e,n,r,i,a){var o=t[0],s=t[1],u=e[0],l=e[1],c=0,f=1,h=u-o,d=l-s,p;p=n-o;if(!h&&p>0)return;p/=h;if(h<0){if(p<c)return;if(p<f)f=p}else if(h>0){if(p>f)return;if(p>c)c=p}p=i-o;if(!h&&p<0)return;p/=h;if(h<0){if(p>f)return;if(p>c)c=p}else if(h>0){if(p<c)return;if(p<f)f=p}p=r-s;if(!d&&p>0)return;p/=d;if(d<0){if(p<c)return;if(p<f)f=p}else if(d>0){if(p>f)return;if(p>c)c=p}p=a-s;if(!d&&p<0)return;p/=d;if(d<0){if(p>f)return;if(p>c)c=p}else if(d>0){if(p<c)return;if(p<f)f=p}if(c>0)t[0]=o+c*h,t[1]=s+c*d;if(f<1)e[0]=o+f*h,e[1]=s+f*d;return true}var tT=1e9,eT=-tT;function nT(t,e,n,r){function i(i,a){return t<=i&&i<=n&&e<=a&&a<=r}function a(i,a,s,l){var c=0,f=0;if(i==null||(c=o(i,s))!==(f=o(a,s))||u(i,a)<0^s>0){do{l.point(c===0||c===3?t:n,c>1?r:e)}while((c=(c+s+4)%4)!==f)}else{l.point(a[0],a[1])}}function o(r,i){return Bx(r[0]-t)<Dx?i>0?0:3:Bx(r[0]-n)<Dx?i>0?2:1:Bx(r[1]-e)<Dx?i>0?1:0:i>0?3:2}function s(t,e){return u(t.x,e.x)}function u(t,e){var n=o(t,1),r=o(e,1);return n!==r?n-r:n===0?e[1]-t[1]:n===1?t[0]-e[0]:n===2?t[1]-e[1]:e[0]-t[0]}return function(o){var u=o,l=FS(),c,f,h,d,p,v,y,g,m,b,_;var w={point:x,lineStart:L,lineEnd:E,polygonStart:S,polygonEnd:T};function x(t,e){if(i(t,e))u.point(t,e)}function A(){var e=0;for(var n=0,i=f.length;n<i;++n){for(var a=f[n],o=1,s=a.length,u=a[0],l,c,h=u[0],d=u[1];o<s;++o){l=h,c=d,u=a[o],h=u[0],d=u[1];if(c<=r){if(d>r&&(h-l)*(r-c)>(d-c)*(t-l))++e}else{if(d<=r&&(h-l)*(r-c)<(d-c)*(t-l))--e}}}return e}function S(){u=l,c=[],f=[],_=true}function T(){var t=A(),e=_&&t,n=(c=oa(c)).length;if(e||n){o.polygonStart();if(e){o.lineStart();a(null,null,1,o);o.lineEnd()}if(n){VS(c,s,t,a,o)}o.polygonEnd()}u=o,c=f=h=null}function L(){w.point=N;if(f)f.push(h=[]);b=true;m=false;y=g=NaN}function E(){if(c){N(d,p);if(v&&m)l.rejoin();c.push(l.result())}w.point=x;if(m)u.lineEnd()}function N(a,o){var s=i(a,o);if(f)h.push([a,o]);if(b){d=a,p=o,v=s;b=false;if(s){u.lineStart();u.point(a,o)}}else{if(s&&m)u.point(a,o);else{var l=[y=Math.max(eT,Math.min(tT,y)),g=Math.max(eT,Math.min(tT,g))],c=[a=Math.max(eT,Math.min(tT,a)),o=Math.max(eT,Math.min(tT,o))];if(JS(l,c,t,e,n,r)){if(!m){u.lineStart();u.point(l[0],l[1])}u.point(c[0],c[1]);if(!s)u.lineEnd();_=false}else if(s){u.lineStart();u.point(a,o);_=false}}}y=a,g=o,m=s}return w}}function rT(){var t=0,e=0,n=960,r=500,i,a,o;return o={stream:function(o){return i&&a===o?i:i=nT(t,e,n,r)(a=o)},extent:function(s){return arguments.length?(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1],i=a=null,o):[[t,e],[n,r]]}}}var iT=Mx(),aT,oT,sT;var uT={sphere:rA,point:rA,lineStart:lT,lineEnd:rA,polygonStart:rA,polygonEnd:rA};function lT(){uT.point=fT;uT.lineEnd=cT}function cT(){uT.point=uT.lineEnd=rA}function fT(t,e){t*=Vx,e*=Vx;aT=t,oT=Kx(e),sT=Wx(e);uT.point=hT}function hT(t,e){t*=Vx,e*=Vx;var n=Kx(e),r=Wx(e),i=Bx(t-aT),a=Wx(i),o=Kx(i),s=r*o,u=sT*n-oT*r*a,l=oT*n+sT*r*a;iT.add(Yx(Qx(s*s+u*u),l));aT=t,oT=n,sT=r}function dT(t){iT.reset();lA(t,uT);return+iT}var pT=[null,null],vT={type:"LineString",coordinates:pT};function yT(t,e){pT[0]=t;pT[1]=e;return dT(vT)}var gT={Feature:function(t,e){return bT(t.geometry,e)},FeatureCollection:function(t,e){var n=t.features,r=-1,i=n.length;while(++r<i)if(bT(n[r].geometry,e))return true;return false}};var mT={Sphere:function(){return true},Point:function(t,e){return _T(t.coordinates,e)},MultiPoint:function(t,e){var n=t.coordinates,r=-1,i=n.length;while(++r<i)if(_T(n[r],e))return true;return false},LineString:function(t,e){return wT(t.coordinates,e)},MultiLineString:function(t,e){var n=t.coordinates,r=-1,i=n.length;while(++r<i)if(wT(n[r],e))return true;return false},Polygon:function(t,e){return xT(t.coordinates,e)},MultiPolygon:function(t,e){var n=t.coordinates,r=-1,i=n.length;while(++r<i)if(xT(n[r],e))return true;return false},GeometryCollection:function(t,e){var n=t.geometries,r=-1,i=n.length;while(++r<i)if(bT(n[r],e))return true;return false}};function bT(t,e){return t&&mT.hasOwnProperty(t.type)?mT[t.type](t,e):false}function _T(t,e){return yT(t,e)===0}function wT(t,e){var n=yT(t[0],t[1]),r=yT(t[0],e),i=yT(e,t[1]);return r+i<=n+Dx}function xT(t,e){return!!YS(t.map(AT),ST(e))}function AT(t){return t=t.map(ST),t.pop(),t}function ST(t){return[t[0]*Vx,t[1]*Vx]}function TT(t,e){return(t&&gT.hasOwnProperty(t.type)?gT[t.type]:bT)(t,e)}function LT(t,e,n){var r=Qi(t,e-Dx,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function ET(t,e,n){var r=Qi(t,e-Dx,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function NT(){var t,e,n,r,i,a,o,s,u=10,l=u,c=90,f=360,h,d,p,v,y=2.5;function g(){return{type:"MultiLineString",coordinates:m()}}function m(){return Qi(Gx(r/c)*c,n,c).map(p).concat(Qi(Gx(s/f)*f,o,f).map(v)).concat(Qi(Gx(e/u)*u,t,u).filter((function(t){return Bx(t%c)>Dx})).map(h)).concat(Qi(Gx(a/l)*l,i,l).filter((function(t){return Bx(t%f)>Dx})).map(d))}g.lines=function(){return m().map((function(t){return{type:"LineString",coordinates:t}}))};g.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(v(o).slice(1),p(n).reverse().slice(1),v(s).reverse().slice(1))]}};g.extent=function(t){if(!arguments.length)return g.extentMinor();return g.extentMajor(t).extentMinor(t)};g.extentMajor=function(t){if(!arguments.length)return[[r,s],[n,o]];r=+t[0][0],n=+t[1][0];s=+t[0][1],o=+t[1][1];if(r>n)t=r,r=n,n=t;if(s>o)t=s,s=o,o=t;return g.precision(y)};g.extentMinor=function(n){if(!arguments.length)return[[e,a],[t,i]];e=+n[0][0],t=+n[1][0];a=+n[0][1],i=+n[1][1];if(e>t)n=e,e=t,t=n;if(a>i)n=a,a=i,i=n;return g.precision(y)};g.step=function(t){if(!arguments.length)return g.stepMinor();return g.stepMajor(t).stepMinor(t)};g.stepMajor=function(t){if(!arguments.length)return[c,f];c=+t[0],f=+t[1];return g};g.stepMinor=function(t){if(!arguments.length)return[u,l];u=+t[0],l=+t[1];return g};g.precision=function(u){if(!arguments.length)return y;y=+u;h=LT(a,i,90);d=ET(e,t,y);p=LT(s,o,90);v=ET(r,n,y);return g};return g.extentMajor([[-180,-90+Dx],[180,90-Dx]]).extentMinor([[-180,-80-Dx],[180,80+Dx]])}function CT(){return NT()()}function MT(t,e){var n=t[0]*Vx,r=t[1]*Vx,i=e[0]*Vx,a=e[1]*Vx,o=Wx(r),s=Kx(r),u=Wx(a),l=Kx(a),c=o*Wx(n),f=o*Kx(n),h=u*Wx(i),d=u*Kx(i),p=2*eA(Qx(nA(a-r)+o*u*nA(i-n))),v=Kx(p);var y=p?function(t){var e=Kx(t*=p)/v,n=Kx(p-t)/v,r=n*c+e*h,i=n*f+e*d,a=n*s+e*l;return[Yx(i,r)*jx,Yx(a,Qx(r*r+i*i))*jx]}:function(){return[n*jx,r*jx]};y.distance=p;return y}function kT(t){return t}var IT=Mx(),OT=Mx(),DT,RT,UT,PT;var FT={point:rA,lineStart:rA,lineEnd:rA,polygonStart:function(){FT.lineStart=HT;FT.lineEnd=BT},polygonEnd:function(){FT.lineStart=FT.lineEnd=FT.point=rA;IT.add(Bx(OT));OT.reset()},result:function(){var t=IT/2;IT.reset();return t}};function HT(){FT.point=jT}function jT(t,e){FT.point=VT;DT=UT=t,RT=PT=e}function VT(t,e){OT.add(PT*t-UT*e);UT=t,PT=e}function BT(){VT(DT,RT)}var zT=Infinity,YT=zT,WT=-zT,GT=WT;var qT={point:XT,lineStart:rA,lineEnd:rA,polygonStart:rA,polygonEnd:rA,result:function(){var t=[[zT,YT],[WT,GT]];WT=GT=-(YT=zT=Infinity);return t}};function XT(t,e){if(t<zT)zT=t;if(t>WT)WT=t;if(e<YT)YT=e;if(e>GT)GT=e}var $T=0,KT=0,ZT=0,QT=0,JT=0,tL=0,eL=0,nL=0,rL=0,iL,aL,oL,sL;var uL={point:lL,lineStart:cL,lineEnd:dL,polygonStart:function(){uL.lineStart=pL;uL.lineEnd=vL},polygonEnd:function(){uL.point=lL;uL.lineStart=cL;uL.lineEnd=dL},result:function(){var t=rL?[eL/rL,nL/rL]:tL?[QT/tL,JT/tL]:ZT?[$T/ZT,KT/ZT]:[NaN,NaN];$T=KT=ZT=QT=JT=tL=eL=nL=rL=0;return t}};function lL(t,e){$T+=t;KT+=e;++ZT}function cL(){uL.point=fL}function fL(t,e){uL.point=hL;lL(oL=t,sL=e)}function hL(t,e){var n=t-oL,r=e-sL,i=Qx(n*n+r*r);QT+=i*(oL+t)/2;JT+=i*(sL+e)/2;tL+=i;lL(oL=t,sL=e)}function dL(){uL.point=lL}function pL(){uL.point=yL}function vL(){gL(iL,aL)}function yL(t,e){uL.point=gL;lL(iL=oL=t,aL=sL=e)}function gL(t,e){var n=t-oL,r=e-sL,i=Qx(n*n+r*r);QT+=i*(oL+t)/2;JT+=i*(sL+e)/2;tL+=i;i=sL*t-oL*e;eL+=i*(oL+t);nL+=i*(sL+e);rL+=i*3;lL(oL=t,sL=e)}function mL(t){this._context=t}mL.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){if(this._line===0)this._context.closePath();this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e);this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e);this._context.arc(t,e,this._radius,0,Hx);break}}},result:rA};var bL=Mx(),_L,wL,xL,AL,SL;var TL={point:rA,lineStart:function(){TL.point=LL},lineEnd:function(){if(_L)EL(wL,xL);TL.point=rA},polygonStart:function(){_L=true},polygonEnd:function(){_L=null},result:function(){var t=+bL;bL.reset();return t}};function LL(t,e){TL.point=EL;wL=AL=t,xL=SL=e}function EL(t,e){AL-=t,SL-=e;bL.add(Qx(AL*AL+SL*SL));AL=t,SL=e}function NL(){this._string=[]}NL.prototype={_radius:4.5,_circle:CL(4.5),pointRadius:function(t){if((t=+t)!==this._radius)this._radius=t,this._circle=null;return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){if(this._line===0)this._string.push("Z");this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e);this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{if(this._circle==null)this._circle=CL(this._radius);this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");this._string=[];return t}else{return null}}};function CL(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function ML(t,e){var n=4.5,r,i;function a(t){if(t){if(typeof n==="function")i.pointRadius(+n.apply(this,arguments));lA(t,r(i))}return i.result()}a.area=function(t){lA(t,r(FT));return FT.result()};a.measure=function(t){lA(t,r(TL));return TL.result()};a.bounds=function(t){lA(t,r(qT));return qT.result()};a.centroid=function(t){lA(t,r(uL));return uL.result()};a.projection=function(e){return arguments.length?(r=e==null?(t=null,kT):(t=e).stream,a):t};a.context=function(t){if(!arguments.length)return e;i=t==null?(e=null,new NL):new mL(e=t);if(typeof n!=="function")i.pointRadius(n);return a};a.pointRadius=function(t){if(!arguments.length)return n;n=typeof t==="function"?t:(i.pointRadius(+t),+t);return a};return a.projection(t).context(e)}function kL(t){return{stream:IL(t)}}function IL(t){return function(e){var n=new OL;for(var r in t)n[r]=t[r];n.stream=e;return n}}function OL(){}OL.prototype={constructor:OL,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function DL(t,e,n){var r=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]);if(r!=null)t.clipExtent(null);lA(n,t.stream(qT));e(qT.result());if(r!=null)t.clipExtent(r);return t}function RL(t,e,n){return DL(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],a=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),o=+e[0][0]+(r-a*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-a*(n[1][1]+n[0][1]))/2;t.scale(150*a).translate([o,s])}),n)}function UL(t,e,n){return RL(t,[[0,0],e],n)}function PL(t,e,n){return DL(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),a=(r-i*(n[1][0]+n[0][0]))/2,o=-i*n[0][1];t.scale(150*i).translate([a,o])}),n)}function FL(t,e,n){return DL(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),a=-i*n[0][0],o=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([a,o])}),n)}var HL=16,jL=Wx(30*Vx);function VL(t,e){return+e?zL(t,e):BL(t)}function BL(t){return IL({point:function(e,n){e=t(e,n);this.stream.point(e[0],e[1])}})}function zL(t,e){function n(r,i,a,o,s,u,l,c,f,h,d,p,v,y){var g=l-r,m=c-i,b=g*g+m*m;if(b>4*e&&v--){var _=o+h,w=s+d,x=u+p,A=Qx(_*_+w*w+x*x),S=eA(x/=A),T=Bx(Bx(x)-1)<Dx||Bx(a-f)<Dx?(a+f)/2:Yx(w,_),L=t(T,S),E=L[0],N=L[1],C=E-r,M=N-i,k=m*C-g*M;if(k*k/b>e||Bx((g*C+m*M)/b-.5)>.3||o*h+s*d+u*p<jL){n(r,i,a,o,s,u,E,N,T,_/=A,w/=A,x,v,y);y.point(E,N);n(E,N,T,_,w,x,l,c,f,h,d,p,v,y)}}}return function(e){var r,i,a,o,s,u,l,c,f,h,d,p;var v={point:y,lineStart:g,lineEnd:b,polygonStart:function(){e.polygonStart();v.lineStart=_},polygonEnd:function(){e.polygonEnd();v.lineStart=g}};function y(n,r){n=t(n,r);e.point(n[0],n[1])}function g(){c=NaN;v.point=m;e.lineStart()}function m(r,i){var a=SA([r,i]),o=t(r,i);n(c,f,l,h,d,p,c=o[0],f=o[1],l=r,h=a[0],d=a[1],p=a[2],HL,e);e.point(c,f)}function b(){v.point=y;e.lineEnd()}function _(){g();v.point=w;v.lineEnd=x}function w(t,e){m(r=t,e),i=c,a=f,o=h,s=d,u=p;v.point=m}function x(){n(c,f,l,h,d,p,i,a,r,o,s,u,HL,e);v.lineEnd=b;b()}return v}}var YL=IL({point:function(t,e){this.stream.point(t*Vx,e*Vx)}});function WL(t){return IL({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function GL(t){return qL((function(){return t}))()}function qL(t){var e,n=150,r=480,i=250,a,o,s=0,u=0,l=0,c=0,f=0,h,d,p=null,v=XS,y=null,g,m,b,_=kT,w=.5,x=VL(E,w),A,S;function T(t){t=d(t[0]*Vx,t[1]*Vx);return[t[0]*n+a,o-t[1]*n]}function L(t){t=d.invert((t[0]-a)/n,(o-t[1])/n);return t&&[t[0]*jx,t[1]*jx]}function E(t,r){return t=e(t,r),[t[0]*n+a,o-t[1]*n]}T.stream=function(t){return A&&S===t?A:A=YL(WL(h)(v(x(_(S=t)))))};T.preclip=function(t){return arguments.length?(v=t,p=undefined,C()):v};T.postclip=function(t){return arguments.length?(_=t,y=g=m=b=null,C()):_};T.clipAngle=function(t){return arguments.length?(v=+t?QS(p=t*Vx):(p=null,XS),C()):p*jx};T.clipExtent=function(t){return arguments.length?(_=t==null?(y=g=m=b=null,kT):nT(y=+t[0][0],g=+t[0][1],m=+t[1][0],b=+t[1][1]),C()):y==null?null:[[y,g],[m,b]]};T.scale=function(t){return arguments.length?(n=+t,N()):n};T.translate=function(t){return arguments.length?(r=+t[0],i=+t[1],N()):[r,i]};T.center=function(t){return arguments.length?(s=t[0]%360*Vx,u=t[1]%360*Vx,N()):[s*jx,u*jx]};T.rotate=function(t){return arguments.length?(l=t[0]%360*Vx,c=t[1]%360*Vx,f=t.length>2?t[2]%360*Vx:0,N()):[l*jx,c*jx,f*jx]};T.precision=function(t){return arguments.length?(x=VL(E,w=t*t),C()):Qx(w)};T.fitExtent=function(t,e){return RL(T,t,e)};T.fitSize=function(t,e){return UL(T,t,e)};T.fitWidth=function(t,e){return PL(T,t,e)};T.fitHeight=function(t,e){return FL(T,t,e)};function N(){d=NS(h=MS(l,c,f),e);var t=e(s,u);a=r-t[0]*n;o=i+t[1]*n;return C()}function C(){A=S=null;return T}return function(){e=t.apply(this,arguments);T.invert=e.invert&&L;return N()}}function XL(t){var e=0,n=Ux/3,r=qL(t),i=r(e,n);i.parallels=function(t){return arguments.length?r(e=t[0]*Vx,n=t[1]*Vx):[e*jx,n*jx]};return i}function $L(t){var e=Wx(t);function n(t,n){return[t*e,Kx(n)/e]}n.invert=function(t,n){return[t/e,eA(n*e)]};return n}function KL(t,e){var n=Kx(t),r=(n+Kx(e))/2;if(Bx(r)<Dx)return $L(t);var i=1+n*(2*r-n),a=Qx(i)/r;function o(t,e){var n=Qx(i-2*r*Kx(e))/r;return[n*Kx(t*=r),a-n*Wx(t)]}o.invert=function(t,e){var n=a-e;return[Yx(t,Bx(n))/r*Zx(n),eA((i-(t*t+n*n)*r*r)/(2*r))]};return o}function ZL(){return XL(KL).scale(155.424).center([0,33.6442])}function QL(){return ZL().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function JL(t){var e=t.length;return{point:function(n,r){var i=-1;while(++i<e)t[i].point(n,r)},sphere:function(){var n=-1;while(++n<e)t[n].sphere()},lineStart:function(){var n=-1;while(++n<e)t[n].lineStart()},lineEnd:function(){var n=-1;while(++n<e)t[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<e)t[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<e)t[n].polygonEnd()}}}function tE(){var t,e,n=QL(),r,i=ZL().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=ZL().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,u,l={point:function(t,e){u=[t,e]}};function c(t){var e=t[0],n=t[1];return u=null,(r.point(e,n),u)||(a.point(e,n),u)||(s.point(e,n),u)}c.invert=function(t){var e=n.scale(),r=n.translate(),a=(t[0]-r[0])/e,s=(t[1]-r[1])/e;return(s>=.12&&s<.234&&a>=-.425&&a<-.214?i:s>=.166&&s<.234&&a>=-.214&&a<-.115?o:n).invert(t)};c.stream=function(r){return t&&e===r?t:t=JL([n.stream(e=r),i.stream(r),o.stream(r)])};c.precision=function(t){if(!arguments.length)return n.precision();n.precision(t),i.precision(t),o.precision(t);return f()};c.scale=function(t){if(!arguments.length)return n.scale();n.scale(t),i.scale(t*.35),o.scale(t);return c.translate(n.translate())};c.translate=function(t){if(!arguments.length)return n.translate();var e=n.scale(),u=+t[0],c=+t[1];r=n.translate(t).clipExtent([[u-.455*e,c-.238*e],[u+.455*e,c+.238*e]]).stream(l);a=i.translate([u-.307*e,c+.201*e]).clipExtent([[u-.425*e+Dx,c+.12*e+Dx],[u-.214*e-Dx,c+.234*e-Dx]]).stream(l);s=o.translate([u-.205*e,c+.212*e]).clipExtent([[u-.214*e+Dx,c+.166*e+Dx],[u-.115*e-Dx,c+.234*e-Dx]]).stream(l);return f()};c.fitExtent=function(t,e){return RL(c,t,e)};c.fitSize=function(t,e){return UL(c,t,e)};c.fitWidth=function(t,e){return PL(c,t,e)};c.fitHeight=function(t,e){return FL(c,t,e)};function f(){t=e=null;return c}return c.scale(1070)}function eE(t){return function(e,n){var r=Wx(e),i=Wx(n),a=t(r*i);return[a*i*Kx(e),a*Kx(n)]}}function nE(t){return function(e,n){var r=Qx(e*e+n*n),i=t(r),a=Kx(i),o=Wx(i);return[Yx(e*a,r*o),eA(r&&n*a/r)]}}var rE=eE((function(t){return Qx(2/(1+t))}));rE.invert=nE((function(t){return 2*eA(t/2)}));function iE(){return GL(rE).scale(124.75).clipAngle(180-.001)}var aE=eE((function(t){return(t=tA(t))&&t/Kx(t)}));aE.invert=nE((function(t){return t}));function oE(){return GL(aE).scale(79.4188).clipAngle(180-.001)}function sE(t,e){return[t,Xx(Jx((Px+e)/2))]}sE.invert=function(t,e){return[t,2*zx(qx(e))-Px]};function uE(){return lE(sE).scale(961/Hx)}function lE(t){var e=GL(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,o=null,s,u,l;e.scale=function(t){return arguments.length?(r(t),c()):r()};e.translate=function(t){return arguments.length?(i(t),c()):i()};e.center=function(t){return arguments.length?(n(t),c()):n()};e.clipExtent=function(t){return arguments.length?(t==null?o=s=u=l=null:(o=+t[0][0],s=+t[0][1],u=+t[1][0],l=+t[1][1]),c()):o==null?null:[[o,s],[u,l]]};function c(){var n=Ux*r(),i=e(DS(e.rotate()).invert([0,0]));return a(o==null?[[i[0]-n,i[1]-n],[i[0]+n,i[1]+n]]:t===sE?[[Math.max(i[0]-n,o),s],[Math.min(i[0]+n,u),l]]:[[o,Math.max(i[1]-n,s)],[u,Math.min(i[1]+n,l)]])}return c()}function cE(t){return Jx((Px+t)/2)}function fE(t,e){var n=Wx(t),r=t===e?Kx(t):Xx(n/Wx(e))/Xx(cE(e)/cE(t)),i=n*$x(cE(t),r)/r;if(!r)return sE;function a(t,e){if(i>0){if(e<-Px+Dx)e=-Px+Dx}else{if(e>Px-Dx)e=Px-Dx}var n=i/$x(cE(e),r);return[n*Kx(r*t),i-n*Wx(r*t)]}a.invert=function(t,e){var n=i-e,a=Zx(r)*Qx(t*t+n*n);return[Yx(t,Bx(n))/r*Zx(n),2*zx($x(i/a,1/r))-Px]};return a}function hE(){return XL(fE).scale(109.5).parallels([30,30])}function dE(t,e){return[t,e]}dE.invert=dE;function pE(){return GL(dE).scale(152.63)}function vE(t,e){var n=Wx(t),r=t===e?Kx(t):(n-Wx(e))/(e-t),i=n/r+t;if(Bx(r)<Dx)return dE;function a(t,e){var n=i-e,a=r*t;return[n*Kx(a),i-n*Wx(a)]}a.invert=function(t,e){var n=i-e;return[Yx(t,Bx(n))/r*Zx(n),i-Zx(r)*Qx(t*t+n*n)]};return a}function yE(){return XL(vE).scale(131.154).center([0,13.9389])}function gE(t,e){var n=Wx(e),r=Wx(t)*n;return[n*Kx(t)/r,Kx(e)/r]}gE.invert=nE(zx);function mE(){return GL(gE).scale(144.049).clipAngle(60)}function bE(t,e,n,r){return t===1&&e===1&&n===0&&r===0?kT:IL({point:function(i,a){this.stream.point(i*t+n,a*e+r)}})}function _E(){var t=1,e=0,n=0,r=1,i=1,a=kT,o=null,s,u,l,c=kT,f,h,d;function p(){f=h=null;return d}return d={stream:function(t){return f&&h===t?f:f=a(c(h=t))},postclip:function(t){return arguments.length?(c=t,o=s=u=l=null,p()):c},clipExtent:function(t){return arguments.length?(c=t==null?(o=s=u=l=null,kT):nT(o=+t[0][0],s=+t[0][1],u=+t[1][0],l=+t[1][1]),p()):o==null?null:[[o,s],[u,l]]},scale:function(o){return arguments.length?(a=bE((t=+o)*r,t*i,e,n),p()):t},translate:function(o){return arguments.length?(a=bE(t*r,t*i,e=+o[0],n=+o[1]),p()):[e,n]},reflectX:function(o){return arguments.length?(a=bE(t*(r=o?-1:1),t*i,e,n),p()):r<0},reflectY:function(o){return arguments.length?(a=bE(t*r,t*(i=o?-1:1),e,n),p()):i<0},fitExtent:function(t,e){return RL(d,t,e)},fitSize:function(t,e){return UL(d,t,e)},fitWidth:function(t,e){return PL(d,t,e)},fitHeight:function(t,e){return FL(d,t,e)}}}function wE(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}wE.invert=function(t,e){var n=e,r=25,i;do{var a=n*n,o=a*a;n-=i=(n*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-e)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(Bx(i)>Dx&&--r>0);return[t/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function xE(){return GL(wE).scale(175.295)}function AE(t,e){return[Wx(e)*Kx(t),Kx(e)]}AE.invert=nE(eA);function SE(){return GL(AE).scale(249.5).clipAngle(90+Dx)}function TE(t,e){var n=Wx(e),r=1+Wx(t)*n;return[n*Kx(t)/r,Kx(e)/r]}TE.invert=nE((function(t){return 2*zx(t)}));function LE(){return GL(TE).scale(250).clipAngle(142)}function EE(t,e){return[Xx(Jx((Px+e)/2)),-t]}EE.invert=function(t,e){return[-e,2*zx(qx(t))-Px]};function NE(){var t=lE(EE),e=t.center,n=t.rotate;t.center=function(t){return arguments.length?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])};t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])};return n([0,0,90]).scale(159.155)}function CE(t,e){return t.parent===e.parent?1:2}function ME(t){return t.reduce(kE,0)/t.length}function kE(t,e){return t+e.x}function IE(t){return 1+t.reduce(OE,0)}function OE(t,e){return Math.max(t,e.y)}function DE(t){var e;while(e=t.children)t=e[0];return t}function RE(t){var e;while(e=t.children)t=e[e.length-1];return t}function UE(){var t=CE,e=1,n=1,r=false;function i(i){var a,o=0;i.eachAfter((function(e){var n=e.children;if(n){e.x=ME(n);e.y=IE(n)}else{e.x=a?o+=t(e,a):0;e.y=0;a=e}}));var s=DE(i),u=RE(i),l=s.x-t(s,u)/2,c=u.x+t(u,s)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e;t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-l)/(c-l)*e;t.y=(1-(i.y?t.y/i.y:1))*n})}i.separation=function(e){return arguments.length?(t=e,i):t};i.size=function(t){return arguments.length?(r=false,e=+t[0],n=+t[1],i):r?null:[e,n]};i.nodeSize=function(t){return arguments.length?(r=true,e=+t[0],n=+t[1],i):r?[e,n]:null};return i}function PE(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else while(--r>=0)e+=n[r].value;t.value=e}function FE(){return this.eachAfter(PE)}function HE(t){var e=this,n,r=[e],i,a,o;do{n=r.reverse(),r=[];while(e=n.pop()){t(e),i=e.children;if(i)for(a=0,o=i.length;a<o;++a){r.push(i[a])}}}while(r.length);return this}function jE(t){var e=this,n=[e],r,i;while(e=n.pop()){t(e),r=e.children;if(r)for(i=r.length-1;i>=0;--i){n.push(r[i])}}return this}function VE(t){var e=this,n=[e],r=[],i,a,o;while(e=n.pop()){r.push(e),i=e.children;if(i)for(a=0,o=i.length;a<o;++a){n.push(i[a])}}while(e=r.pop()){t(e)}return this}function BE(t){return this.eachAfter((function(e){var n=+t(e.data)||0,r=e.children,i=r&&r.length;while(--i>=0)n+=r[i].value;e.value=n}))}function zE(t){return this.eachBefore((function(e){if(e.children){e.children.sort(t)}}))}function YE(t){var e=this,n=WE(e,t),r=[e];while(e!==n){e=e.parent;r.push(e)}var i=r.length;while(t!==n){r.splice(i,0,t);t=t.parent}return r}function WE(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop();e=r.pop();while(t===e){i=t;t=n.pop();e=r.pop()}return i}function GE(){var t=this,e=[t];while(t=t.parent){e.push(t)}return e}function qE(){var t=[];this.each((function(e){t.push(e)}));return t}function XE(){var t=[];this.eachBefore((function(e){if(!e.children){t.push(e)}}));return t}function $E(){var t=this,e=[];t.each((function(n){if(n!==t){e.push({source:n.parent,target:n})}}));return e}function KE(t,e){var n=new eN(t),r=+t.value&&(n.value=t.value),i,a=[n],o,s,u,l;if(e==null)e=QE;while(i=a.pop()){if(r)i.value=+i.data.value;if((s=e(i.data))&&(l=s.length)){i.children=new Array(l);for(u=l-1;u>=0;--u){a.push(o=i.children[u]=new eN(s[u]));o.parent=i;o.depth=i.depth+1}}}return n.eachBefore(tN)}function ZE(){return KE(this).eachBefore(JE)}function QE(t){return t.children}function JE(t){t.data=t.data.data}function tN(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function eN(t){this.data=t;this.depth=this.height=0;this.parent=null}eN.prototype=KE.prototype={constructor:eN,count:FE,each:HE,eachAfter:VE,eachBefore:jE,sum:BE,sort:zE,path:YE,ancestors:GE,descendants:qE,leaves:XE,links:$E,copy:ZE};var nN=Array.prototype.slice;function rN(t){var e=t.length,n,r;while(e){r=Math.random()*e--|0;n=t[e];t[e]=t[r];t[r]=n}return t}function iN(t){var e=0,n=(t=rN(nN.call(t))).length,r=[],i,a;while(e<n){i=t[e];if(a&&sN(a,i))++e;else a=lN(r=aN(r,i)),e=0}return a}function aN(t,e){var n,r;if(uN(e,t))return[e];for(n=0;n<t.length;++n){if(oN(e,t[n])&&uN(fN(t[n],e),t)){return[t[n],e]}}for(n=0;n<t.length-1;++n){for(r=n+1;r<t.length;++r){if(oN(fN(t[n],t[r]),e)&&oN(fN(t[n],e),t[r])&&oN(fN(t[r],e),t[n])&&uN(hN(t[n],t[r],e),t)){return[t[n],t[r],e]}}}throw new Error}function oN(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function sN(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function uN(t,e){for(var n=0;n<e.length;++n){if(!sN(t,e[n])){return false}}return true}function lN(t){switch(t.length){case 1:return cN(t[0]);case 2:return fN(t[0],t[1]);case 3:return hN(t[0],t[1],t[2])}}function cN(t){return{x:t.x,y:t.y,r:t.r}}function fN(t,e){var n=t.x,r=t.y,i=t.r,a=e.x,o=e.y,s=e.r,u=a-n,l=o-r,c=s-i,f=Math.sqrt(u*u+l*l);return{x:(n+a+u/f*c)/2,y:(r+o+l/f*c)/2,r:(f+i+s)/2}}function hN(t,e,n){var r=t.x,i=t.y,a=t.r,o=e.x,s=e.y,u=e.r,l=n.x,c=n.y,f=n.r,h=r-o,d=r-l,p=i-s,v=i-c,y=u-a,g=f-a,m=r*r+i*i-a*a,b=m-o*o-s*s+u*u,_=m-l*l-c*c+f*f,w=d*p-h*v,x=(p*_-v*b)/(w*2)-r,A=(v*y-p*g)/w,S=(d*b-h*_)/(w*2)-i,T=(h*g-d*y)/w,L=A*A+T*T-1,E=2*(a+x*A+S*T),N=x*x+S*S-a*a,C=-(L?(E+Math.sqrt(E*E-4*L*N))/(2*L):N/E);return{x:r+x+A*C,y:i+S+T*C,r:C}}function dN(t,e,n){var r=t.x,i=t.y,a=e.r+n.r,o=t.r+n.r,s=e.x-r,u=e.y-i,l=s*s+u*u;if(l){var c=.5+((o*=o)-(a*=a))/(2*l),f=Math.sqrt(Math.max(0,2*a*(o+l)-(o-=l)*o-a*a))/(2*l);n.x=r+c*s+f*u;n.y=i+c*u-f*s}else{n.x=r+o;n.y=i}}function pN(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return i*i-1e-6>n*n+r*r}function vN(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,a=(e.y*n.r+n.y*e.r)/r;return i*i+a*a}function yN(t){this._=t;this.next=null;this.previous=null}function gN(t){if(!(i=t.length))return 0;var e,n,r,i,a,o,s,u,l,c,f;e=t[0],e.x=0,e.y=0;if(!(i>1))return e.r;n=t[1],e.x=-n.r,n.x=e.r,n.y=0;if(!(i>2))return e.r+n.r;dN(n,e,r=t[2]);e=new yN(e),n=new yN(n),r=new yN(r);e.next=r.previous=n;n.next=e.previous=r;r.next=n.previous=e;t:for(s=3;s<i;++s){dN(e._,n._,r=t[s]),r=new yN(r);u=n.next,l=e.previous,c=n._.r,f=e._.r;do{if(c<=f){if(pN(u._,r._)){n=u,e.next=n,n.previous=e,--s;continue t}c+=u._.r,u=u.next}else{if(pN(l._,r._)){e=l,e.next=n,n.previous=e,--s;continue t}f+=l._.r,l=l.previous}}while(u!==l.next);r.previous=e,r.next=n,e.next=n.previous=n=r;a=vN(e);while((r=r.next)!==n){if((o=vN(r))<a){e=r,a=o}}n=e.next}e=[n._],r=n;while((r=r.next)!==n)e.push(r._);r=iN(e);for(s=0;s<i;++s)e=t[s],e.x-=r.x,e.y-=r.y;return r.r}function mN(t){gN(t);return t}function bN(t){return t==null?null:_N(t)}function _N(t){if(typeof t!=="function")throw new Error;return t}function wN(){return 0}function xN(t){return function(){return t}}function AN(t){return Math.sqrt(t.value)}function SN(){var t=null,e=1,n=1,r=wN;function i(i){i.x=e/2,i.y=n/2;if(t){i.eachBefore(TN(t)).eachAfter(LN(r,.5)).eachBefore(EN(1))}else{i.eachBefore(TN(AN)).eachAfter(LN(wN,1)).eachAfter(LN(r,i.r/Math.min(e,n))).eachBefore(EN(Math.min(e,n)/(2*i.r)))}return i}i.radius=function(e){return arguments.length?(t=bN(e),i):t};i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]};i.padding=function(t){return arguments.length?(r=typeof t==="function"?t:xN(+t),i):r};return i}function TN(t){return function(e){if(!e.children){e.r=Math.max(0,+t(e)||0)}}}function LN(t,e){return function(n){if(r=n.children){var r,i,a=r.length,o=t(n)*e||0,s;if(o)for(i=0;i<a;++i)r[i].r+=o;s=gN(r);if(o)for(i=0;i<a;++i)r[i].r-=o;n.r=s+o}}}function EN(t){return function(e){var n=e.parent;e.r*=t;if(n){e.x=n.x+t*e.x;e.y=n.y+t*e.y}}}function NN(t){t.x0=Math.round(t.x0);t.y0=Math.round(t.y0);t.x1=Math.round(t.x1);t.y1=Math.round(t.y1)}function CN(t,e,n,r,i){var a=t.children,o,s=-1,u=a.length,l=t.value&&(r-e)/t.value;while(++s<u){o=a[s],o.y0=n,o.y1=i;o.x0=e,o.x1=e+=o.value*l}}function MN(){var t=1,e=1,n=0,r=false;function i(i){var o=i.height+1;i.x0=i.y0=n;i.x1=t;i.y1=e/o;i.eachBefore(a(e,o));if(r)i.eachBefore(NN);return i}function a(t,e){return function(r){if(r.children){CN(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e)}var i=r.x0,a=r.y0,o=r.x1-n,s=r.y1-n;if(o<i)i=o=(i+o)/2;if(s<a)a=s=(a+s)/2;r.x0=i;r.y0=a;r.x1=o;r.y1=s}}i.round=function(t){return arguments.length?(r=!!t,i):r};i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]};i.padding=function(t){return arguments.length?(n=+t,i):n};return i}var kN="$",IN={depth:-1},ON={};function DN(t){return t.id}function RN(t){return t.parentId}function UN(){var t=DN,e=RN;function n(n){var r,i,a=n.length,o,s,u,l=new Array(a),c,f,h={};for(i=0;i<a;++i){r=n[i],u=l[i]=new eN(r);if((c=t(r,i,n))!=null&&(c+="")){f=kN+(u.id=c);h[f]=f in h?ON:u}}for(i=0;i<a;++i){u=l[i],c=e(n[i],i,n);if(c==null||!(c+="")){if(o)throw new Error("multiple roots");o=u}else{s=h[kN+c];if(!s)throw new Error("missing: "+c);if(s===ON)throw new Error("ambiguous: "+c);if(s.children)s.children.push(u);else s.children=[u];u.parent=s}}if(!o)throw new Error("no root");o.parent=IN;o.eachBefore((function(t){t.depth=t.parent.depth+1;--a})).eachBefore(tN);o.parent=null;if(a>0)throw new Error("cycle");return o}n.id=function(e){return arguments.length?(t=_N(e),n):t};n.parentId=function(t){return arguments.length?(e=_N(t),n):e};return n}function PN(t,e){return t.parent===e.parent?1:2}function FN(t){var e=t.children;return e?e[0]:t.t}function HN(t){var e=t.children;return e?e[e.length-1]:t.t}function jN(t,e,n){var r=n/(e.i-t.i);e.c-=r;e.s+=n;t.c+=r;e.z+=n;e.m+=n}function VN(t){var e=0,n=0,r=t.children,i=r.length,a;while(--i>=0){a=r[i];a.z+=e;a.m+=e;e+=a.s+(n+=a.c)}}function BN(t,e,n){return t.a.parent===e.parent?t.a:n}function zN(t,e){this._=t;this.parent=null;this.children=null;this.A=null;this.a=this;this.z=0;this.m=0;this.c=0;this.s=0;this.t=null;this.i=e}zN.prototype=Object.create(eN.prototype);function YN(t){var e=new zN(t,0),n,r=[e],i,a,o,s;while(n=r.pop()){if(a=n._.children){n.children=new Array(s=a.length);for(o=s-1;o>=0;--o){r.push(i=n.children[o]=new zN(a[o],o));i.parent=n}}}(e.parent=new zN(null,0)).children=[e];return e}function WN(){var t=PN,e=1,n=1,r=null;function i(i){var s=YN(i);s.eachAfter(a),s.parent.m=-s.z;s.eachBefore(o);if(r)i.eachBefore(u);else{var l=i,c=i,f=i;i.eachBefore((function(t){if(t.x<l.x)l=t;if(t.x>c.x)c=t;if(t.depth>f.depth)f=t}));var h=l===c?1:t(l,c)/2,d=h-l.x,p=e/(c.x+h+d),v=n/(f.depth||1);i.eachBefore((function(t){t.x=(t.x+d)*p;t.y=t.depth*v}))}return i}function a(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){VN(e);var a=(n[0].z+n[n.length-1].z)/2;if(i){e.z=i.z+t(e._,i._);e.m=e.z-a}else{e.z=a}}else if(i){e.z=i.z+t(e._,i._)}e.parent.A=s(e,i,e.parent.A||r[0])}function o(t){t._.x=t.z+t.parent.m;t.m+=t.parent.m}function s(e,n,r){if(n){var i=e,a=e,o=n,s=i.parent.children[0],u=i.m,l=a.m,c=o.m,f=s.m,h;while(o=HN(o),i=FN(i),o&&i){s=FN(s);a=HN(a);a.a=e;h=o.z+c-i.z-u+t(o._,i._);if(h>0){jN(BN(o,e,r),e,h);u+=h;l+=h}c+=o.m;u+=i.m;f+=s.m;l+=a.m}if(o&&!HN(a)){a.t=o;a.m+=c-l}if(i&&!FN(s)){s.t=i;s.m+=u-f;r=e}}return r}function u(t){t.x*=e;t.y=t.depth*n}i.separation=function(e){return arguments.length?(t=e,i):t};i.size=function(t){return arguments.length?(r=false,e=+t[0],n=+t[1],i):r?null:[e,n]};i.nodeSize=function(t){return arguments.length?(r=true,e=+t[0],n=+t[1],i):r?[e,n]:null};return i}function GN(t,e,n,r,i){var a=t.children,o,s=-1,u=a.length,l=t.value&&(i-n)/t.value;while(++s<u){o=a[s],o.x0=e,o.x1=r;o.y0=n,o.y1=n+=o.value*l}}var qN=(1+Math.sqrt(5))/2;function XN(t,e,n,r,i,a){var o=[],s=e.children,u,l,c=0,f=0,h=s.length,d,p,v=e.value,y,g,m,b,_,w,x;while(c<h){d=i-n,p=a-r;do{y=s[f++].value}while(!y&&f<h);g=m=y;w=Math.max(p/d,d/p)/(v*t);x=y*y*w;_=Math.max(m/x,x/g);for(;f<h;++f){y+=l=s[f].value;if(l<g)g=l;if(l>m)m=l;x=y*y*w;b=Math.max(m/x,x/g);if(b>_){y-=l;break}_=b}o.push(u={value:y,dice:d<p,children:s.slice(c,f)});if(u.dice)CN(u,n,r,i,v?r+=p*y/v:a);else GN(u,n,r,v?n+=d*y/v:i,a);v-=y,c=f}return o}var $N=function t(e){function n(t,n,r,i,a){XN(e,t,n,r,i,a)}n.ratio=function(e){return t((e=+e)>1?e:1)};return n}(qN);function KN(){var t=$N,e=false,n=1,r=1,i=[0],a=wN,o=wN,s=wN,u=wN,l=wN;function c(t){t.x0=t.y0=0;t.x1=n;t.y1=r;t.eachBefore(f);i=[0];if(e)t.eachBefore(NN);return t}function f(e){var n=i[e.depth],r=e.x0+n,c=e.y0+n,f=e.x1-n,h=e.y1-n;if(f<r)r=f=(r+f)/2;if(h<c)c=h=(c+h)/2;e.x0=r;e.y0=c;e.x1=f;e.y1=h;if(e.children){n=i[e.depth+1]=a(e)/2;r+=l(e)-n;c+=o(e)-n;f-=s(e)-n;h-=u(e)-n;if(f<r)r=f=(r+f)/2;if(h<c)c=h=(c+h)/2;t(e,r,c,f,h)}}c.round=function(t){return arguments.length?(e=!!t,c):e};c.size=function(t){return arguments.length?(n=+t[0],r=+t[1],c):[n,r]};c.tile=function(e){return arguments.length?(t=_N(e),c):t};c.padding=function(t){return arguments.length?c.paddingInner(t).paddingOuter(t):c.paddingInner()};c.paddingInner=function(t){return arguments.length?(a=typeof t==="function"?t:xN(+t),c):a};c.paddingOuter=function(t){return arguments.length?c.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):c.paddingTop()};c.paddingTop=function(t){return arguments.length?(o=typeof t==="function"?t:xN(+t),c):o};c.paddingRight=function(t){return arguments.length?(s=typeof t==="function"?t:xN(+t),c):s};c.paddingBottom=function(t){return arguments.length?(u=typeof t==="function"?t:xN(+t),c):u};c.paddingLeft=function(t){return arguments.length?(l=typeof t==="function"?t:xN(+t),c):l};return c}function ZN(t,e,n,r,i){var a=t.children,o,s=a.length,u,l=new Array(s+1);for(l[0]=u=o=0;o<s;++o){l[o+1]=u+=a[o].value}c(0,s,t.value,e,n,r,i);function c(t,e,n,r,i,o,s){if(t>=e-1){var u=a[t];u.x0=r,u.y0=i;u.x1=o,u.y1=s;return}var f=l[t],h=n/2+f,d=t+1,p=e-1;while(d<p){var v=d+p>>>1;if(l[v]<h)d=v+1;else p=v}if(h-l[d-1]<l[d]-h&&t+1<d)--d;var y=l[d]-f,g=n-y;if(o-r>s-i){var m=(r*g+o*y)/n;c(t,d,y,r,i,m,s);c(d,e,g,m,i,o,s)}else{var b=(i*g+s*y)/n;c(t,d,y,r,i,o,b);c(d,e,g,r,b,o,s)}}}function QN(t,e,n,r,i){(t.depth&1?GN:CN)(t,e,n,r,i)}var JN=function t(e){function n(t,n,r,i,a){if((o=t._squarify)&&o.ratio===e){var o,s,u,l,c=-1,f,h=o.length,d=t.value;while(++c<h){s=o[c],u=s.children;for(l=s.value=0,f=u.length;l<f;++l)s.value+=u[l].value;if(s.dice)CN(s,n,r,i,r+=(a-r)*s.value/d);else GN(s,n,r,n+=(i-n)*s.value/d,a);d-=s.value}}else{t._squarify=o=XN(e,t,n,r,i,a);o.ratio=e}}n.ratio=function(e){return t((e=+e)>1?e:1)};return n}(qN);function tC(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}function eC(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<e-1?t[r+2]:2*a-i;return tC((n-r/e)*e,o,i,a,s)}}function nC(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],o=t[(r+1)%e],s=t[(r+2)%e];return tC((n-r/e)*e,i,a,o,s)}}function rC(t){return function(){return t}}function iC(t,e){return function(n){return t+n*e}}function aC(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function oC(t,e){var n=e-t;return n?iC(t,n>180||n<-180?n-360*Math.round(n/360):n):rC(isNaN(t)?e:t)}function sC(t){return(t=+t)===1?uC:function(e,n){return n-e?aC(e,n,t):rC(isNaN(e)?n:e)}}function uC(t,e){var n=e-t;return n?iC(t,n):rC(isNaN(t)?e:t)}var lC=function t(e){var n=sC(e);function r(t,e){var r=n((t=Ba(t)).r,(e=Ba(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=uC(t.opacity,e.opacity);return function(e){t.r=r(e);t.g=i(e);t.b=a(e);t.opacity=o(e);return t+""}}r.gamma=t;return r}(1);function cC(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),a=new Array(n),o,s;for(o=0;o<n;++o){s=Ba(e[o]);r[o]=s.r||0;i[o]=s.g||0;a[o]=s.b||0}r=t(r);i=t(i);a=t(a);s.opacity=1;return function(t){s.r=r(t);s.g=i(t);s.b=a(t);return s+""}}}var fC=cC(eC);var hC=cC(nC);function dC(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=xC(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(t){for(o=0;o<r;++o)a[o]=i[o](t);return a}}function pC(t,e){var n=new Date;return t=+t,e-=t,function(r){return n.setTime(t+e*r),n}}function vC(t,e){return t=+t,e-=t,function(n){return t+e*n}}function yC(t,e){var n={},r={},i;if(t===null||typeof t!=="object")t={};if(e===null||typeof e!=="object")e={};for(i in e){if(i in t){n[i]=xC(t[i],e[i])}else{r[i]=e[i]}}return function(t){for(i in n)r[i]=n[i](t);return r}}var gC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mC=new RegExp(gC.source,"g");function bC(t){return function(){return t}}function _C(t){return function(e){return t(e)+""}}function wC(t,e){var n=gC.lastIndex=mC.lastIndex=0,r,i,a,o=-1,s=[],u=[];t=t+"",e=e+"";while((r=gC.exec(t))&&(i=mC.exec(e))){if((a=i.index)>n){a=e.slice(n,a);if(s[o])s[o]+=a;else s[++o]=a}if((r=r[0])===(i=i[0])){if(s[o])s[o]+=i;else s[++o]=i}else{s[++o]=null;u.push({i:o,x:vC(r,i)})}n=mC.lastIndex}if(n<e.length){a=e.slice(n);if(s[o])s[o]+=a;else s[++o]=a}return s.length<2?u[0]?_C(u[0].x):bC(e):(e=u.length,function(t){for(var n=0,r;n<e;++n)s[(r=u[n]).i]=r.x(t);return s.join("")})}function xC(t,e){var n=typeof e,r;return e==null||n==="boolean"?rC(e):(n==="number"?vC:n==="string"?(r=Fa(e))?(e=r,lC):wC:e instanceof Fa?lC:e instanceof Date?pC:Array.isArray(e)?dC:typeof e.valueOf!=="function"&&typeof e.toString!=="function"||isNaN(e)?yC:vC)(t,e)}function AC(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}}var SC=180/Math.PI;var TC={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function LC(t,e,n,r,i,a){var o,s,u;if(o=Math.sqrt(t*t+e*e))t/=o,e/=o;if(u=t*n+e*r)n-=t*u,r-=e*u;if(s=Math.sqrt(n*n+r*r))n/=s,r/=s,u/=s;if(t*r<e*n)t=-t,e=-e,u=-u,o=-o;return{translateX:i,translateY:a,rotate:Math.atan2(e,t)*SC,skewX:Math.atan(u)*SC,scaleX:o,scaleY:s}}var EC,NC,CC,MC;function kC(t){if(t==="none")return TC;if(!EC)EC=document.createElement("DIV"),NC=document.documentElement,CC=document.defaultView;EC.style.transform=t;t=CC.getComputedStyle(NC.appendChild(EC),null).getPropertyValue("transform");NC.removeChild(EC);t=t.slice(7,-1).split(",");return LC(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5])}function IC(t){if(t==null)return TC;if(!MC)MC=document.createElementNS("http://www.w3.org/2000/svg","g");MC.setAttribute("transform",t);if(!(t=MC.transform.baseVal.consolidate()))return TC;t=t.matrix;return LC(t.a,t.b,t.c,t.d,t.e,t.f)}function OC(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function a(t,r,i,a,o,s){if(t!==i||r!==a){var u=o.push("translate(",null,e,null,n);s.push({i:u-4,x:vC(t,i)},{i:u-2,x:vC(r,a)})}else if(i||a){o.push("translate("+i+e+a+n)}}function o(t,e,n,a){if(t!==e){if(t-e>180)e+=360;else if(e-t>180)t+=360;a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:vC(t,e)})}else if(e){n.push(i(n)+"rotate("+e+r)}}function s(t,e,n,a){if(t!==e){a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:vC(t,e)})}else if(e){n.push(i(n)+"skewX("+e+r)}}function u(t,e,n,r,a,o){if(t!==n||e!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:vC(t,n)},{i:s-2,x:vC(e,r)})}else if(n!==1||r!==1){a.push(i(a)+"scale("+n+","+r+")")}}return function(e,n){var r=[],i=[];e=t(e),n=t(n);a(e.translateX,e.translateY,n.translateX,n.translateY,r,i);o(e.rotate,n.rotate,r,i);s(e.skewX,n.skewX,r,i);u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i);e=n=null;return function(t){var e=-1,n=i.length,a;while(++e<n)r[(a=i[e]).i]=a.x(t);return r.join("")}}}var DC=OC(kC,"px, ","px)","deg)");var RC=OC(IC,", ",")",")");var UC=Math.SQRT2,PC=2,FC=4,HC=1e-12;function jC(t){return((t=Math.exp(t))+1/t)/2}function VC(t){return((t=Math.exp(t))-1/t)/2}function BC(t){return((t=Math.exp(2*t))-1)/(t+1)}function zC(t,e){var n=t[0],r=t[1],i=t[2],a=e[0],o=e[1],s=e[2],u=a-n,l=o-r,c=u*u+l*l,f,h;if(c<HC){h=Math.log(s/i)/UC;f=function(t){return[n+t*u,r+t*l,i*Math.exp(UC*t*h)]}}else{var d=Math.sqrt(c),p=(s*s-i*i+FC*c)/(2*i*PC*d),v=(s*s-i*i-FC*c)/(2*s*PC*d),y=Math.log(Math.sqrt(p*p+1)-p),g=Math.log(Math.sqrt(v*v+1)-v);h=(g-y)/UC;f=function(t){var e=t*h,a=jC(y),o=i/(PC*d)*(a*BC(UC*e+y)-VC(y));return[n+o*u,r+o*l,i*a/jC(UC*e+y)]}}f.duration=h*1e3;return f}function YC(t){return function(e,n){var r=t((e=Qa(e)).h,(n=Qa(n)).h),i=uC(e.s,n.s),a=uC(e.l,n.l),o=uC(e.opacity,n.opacity);return function(t){e.h=r(t);e.s=i(t);e.l=a(t);e.opacity=o(t);return e+""}}}var WC=YC(oC);var GC=YC(uC);function qC(t,e){var n=uC((t=yo(t)).l,(e=yo(e)).l),r=uC(t.a,e.a),i=uC(t.b,e.b),a=uC(t.opacity,e.opacity);return function(e){t.l=n(e);t.a=r(e);t.b=i(e);t.opacity=a(e);return t+""}}function XC(t){return function(e,n){var r=t((e=So(e)).h,(n=So(n)).h),i=uC(e.c,n.c),a=uC(e.l,n.l),o=uC(e.opacity,n.opacity);return function(t){e.h=r(t);e.c=i(t);e.l=a(t);e.opacity=o(t);return e+""}}}var $C=XC(oC);var KC=XC(uC);function ZC(t){return function e(n){n=+n;function r(e,r){var i=t((e=Uo(e)).h,(r=Uo(r)).h),a=uC(e.s,r.s),o=uC(e.l,r.l),s=uC(e.opacity,r.opacity);return function(t){e.h=i(t);e.s=a(t);e.l=o(Math.pow(t,n));e.opacity=s(t);return e+""}}r.gamma=e;return r}(1)}var QC=ZC(oC);var JC=ZC(uC);function tM(t,e){var n=new Array(e);for(var r=0;r<e;++r)n[r]=t(r/(e-1));return n}var eM=Math.PI,nM=2*eM,rM=1e-6,iM=nM-rM;function aM(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function oM(){return new aM}aM.prototype=oM.prototype={constructor:aM,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){if(this._x1!==null){this._x1=this._x0,this._y1=this._y0;this._+="Z"}},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,s=n-t,u=r-e,l=a-t,c=o-e,f=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null){this._+="M"+(this._x1=t)+","+(this._y1=e)}else if(!(f>rM));else if(!(Math.abs(c*s-u*l)>rM)||!i){this._+="L"+(this._x1=t)+","+(this._y1=e)}else{var h=n-a,d=r-o,p=s*s+u*u,v=h*h+d*d,y=Math.sqrt(p),g=Math.sqrt(f),m=i*Math.tan((eM-Math.acos((p+f-v)/(2*y*g)))/2),b=m/g,_=m/y;if(Math.abs(b-1)>rM){this._+="L"+(t+b*l)+","+(e+b*c)}this._+="A"+i+","+i+",0,0,"+ +(c*h>l*d)+","+(this._x1=t+_*s)+","+(this._y1=e+_*u)}},arc:function(t,e,n,r,i,a){t=+t,e=+e,n=+n;var o=n*Math.cos(r),s=n*Math.sin(r),u=t+o,l=e+s,c=1^a,f=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);if(this._x1===null){this._+="M"+u+","+l}else if(Math.abs(this._x1-u)>rM||Math.abs(this._y1-l)>rM){this._+="L"+u+","+l}if(!n)return;if(f<0)f=f%nM+nM;if(f>iM){this._+="A"+n+","+n+",0,1,"+c+","+(t-o)+","+(e-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l)}else if(f>rM){this._+="A"+n+","+n+",0,"+ +(f>=eM)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))}},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function sM(t){var e=-1,n=t.length,r,i=t[n-1],a=0;while(++e<n){r=i;i=t[e];a+=r[1]*i[0]-r[0]*i[1]}return a/2}function uM(t){var e=-1,n=t.length,r=0,i=0,a,o=t[n-1],s,u=0;while(++e<n){a=o;o=t[e];u+=s=a[0]*o[1]-o[0]*a[1];r+=(a[0]+o[0])*s;i+=(a[1]+o[1])*s}return u*=3,[r/u,i/u]}function lM(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function cM(t,e){return t[0]-e[0]||t[1]-e[1]}function fM(t){var e=t.length,n=[0,1],r=2;for(var i=2;i<e;++i){while(r>1&&lM(t[n[r-2]],t[n[r-1]],t[i])<=0)--r;n[r++]=i}return n.slice(0,r)}function hM(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];r.sort(cM);for(e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var a=fM(r),o=fM(i);var s=o[0]===a[0],u=o[o.length-1]===a[a.length-1],l=[];for(e=a.length-1;e>=0;--e)l.push(t[r[a[e]][2]]);for(e=+s;e<o.length-u;++e)l.push(t[r[o[e]][2]]);return l}function dM(t,e){var n=t.length,r=t[n-1],i=e[0],a=e[1],o=r[0],s=r[1],u,l,c=false;for(var f=0;f<n;++f){r=t[f],u=r[0],l=r[1];if(l>a!==s>a&&i<(o-u)*(a-l)/(s-l)+u)c=!c;o=u,s=l}return c}function pM(t){var e=-1,n=t.length,r=t[n-1],i,a,o=r[0],s=r[1],u=0;while(++e<n){i=o;a=s;r=t[e];o=r[0];s=r[1];i-=o;a-=s;u+=Math.sqrt(i*i+a*a)}return u}function vM(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return yM(this.cover(e,n),e,n,t)}function yM(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,a=t._root,o={data:r},s=t._x0,u=t._y0,l=t._x1,c=t._y1,f,h,d,p,v,y,g,m;if(!a)return t._root=o,t;while(a.length){if(v=e>=(f=(s+l)/2))s=f;else l=f;if(y=n>=(h=(u+c)/2))u=h;else c=h;if(i=a,!(a=a[g=y<<1|v]))return i[g]=o,t}d=+t._x.call(null,a.data);p=+t._y.call(null,a.data);if(e===d&&n===p)return o.next=a,i?i[g]=o:t._root=o,t;do{i=i?i[g]=new Array(4):t._root=new Array(4);if(v=e>=(f=(s+l)/2))s=f;else l=f;if(y=n>=(h=(u+c)/2))u=h;else c=h}while((g=y<<1|v)===(m=(p>=h)<<1|d>=f));return i[m]=a,i[g]=o,t}function gM(t){var e,n,r=t.length,i,a,o=new Array(r),s=new Array(r),u=Infinity,l=Infinity,c=-Infinity,f=-Infinity;for(n=0;n<r;++n){if(isNaN(i=+this._x.call(null,e=t[n]))||isNaN(a=+this._y.call(null,e)))continue;o[n]=i;s[n]=a;if(i<u)u=i;if(i>c)c=i;if(a<l)l=a;if(a>f)f=a}if(c<u)u=this._x0,c=this._x1;if(f<l)l=this._y0,f=this._y1;this.cover(u,l).cover(c,f);for(n=0;n<r;++n){yM(this,o[n],s[n],t[n])}return this}function mM(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n)){i=(n=Math.floor(t))+1;a=(r=Math.floor(e))+1}else if(n>t||t>i||r>e||e>a){var o=i-n,s=this._root,u,l;switch(l=(e<(r+a)/2)<<1|t<(n+i)/2){case 0:{do{u=new Array(4),u[l]=s,s=u}while(o*=2,i=n+o,a=r+o,t>i||e>a);break}case 1:{do{u=new Array(4),u[l]=s,s=u}while(o*=2,n=i-o,a=r+o,n>t||e>a);break}case 2:{do{u=new Array(4),u[l]=s,s=u}while(o*=2,i=n+o,r=a-o,t>i||r>e);break}case 3:{do{u=new Array(4),u[l]=s,s=u}while(o*=2,n=i-o,r=a-o,n>t||r>e);break}}if(this._root&&this._root.length)this._root=s}else return this;this._x0=n;this._y0=r;this._x1=i;this._y1=a;return this}function bM(){var t=[];this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}));return t}function _M(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?undefined:[[this._x0,this._y0],[this._x1,this._y1]]}function wM(t,e,n,r,i){this.node=t;this.x0=e;this.y0=n;this.x1=r;this.y1=i}function xM(t,e,n){var r,i=this._x0,a=this._y0,o,s,u,l,c=this._x1,f=this._y1,h=[],d=this._root,p,v;if(d)h.push(new wM(d,i,a,c,f));if(n==null)n=Infinity;else{i=t-n,a=e-n;c=t+n,f=e+n;n*=n}while(p=h.pop()){if(!(d=p.node)||(o=p.x0)>c||(s=p.y0)>f||(u=p.x1)<i||(l=p.y1)<a)continue;if(d.length){var y=(o+u)/2,g=(s+l)/2;h.push(new wM(d[3],y,g,u,l),new wM(d[2],o,g,y,l),new wM(d[1],y,s,u,g),new wM(d[0],o,s,y,g));if(v=(e>=g)<<1|t>=y){p=h[h.length-1];h[h.length-1]=h[h.length-1-v];h[h.length-1-v]=p}}else{var m=t-+this._x.call(null,d.data),b=e-+this._y.call(null,d.data),_=m*m+b*b;if(_<n){var w=Math.sqrt(n=_);i=t-w,a=e-w;c=t+w,f=e+w;r=d.data}}}return r}function AM(t){if(isNaN(c=+this._x.call(null,t))||isNaN(f=+this._y.call(null,t)))return this;var e,n=this._root,r,i,a,o=this._x0,s=this._y0,u=this._x1,l=this._y1,c,f,h,d,p,v,y,g;if(!n)return this;if(n.length)while(true){if(p=c>=(h=(o+u)/2))o=h;else u=h;if(v=f>=(d=(s+l)/2))s=d;else l=d;if(!(e=n,n=n[y=v<<1|p]))return this;if(!n.length)break;if(e[y+1&3]||e[y+2&3]||e[y+3&3])r=e,g=y}while(n.data!==t)if(!(i=n,n=n.next))return this;if(a=n.next)delete n.next;if(i)return a?i.next=a:delete i.next,this;if(!e)return this._root=a,this;a?e[y]=a:delete e[y];if((n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length){if(r)r[g]=n;else this._root=n}return this}function SM(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function TM(){return this._root}function LM(){var t=0;this.visit((function(e){if(!e.length)do{++t}while(e=e.next)}));return t}function EM(t){var e=[],n,r=this._root,i,a,o,s,u;if(r)e.push(new wM(r,this._x0,this._y0,this._x1,this._y1));while(n=e.pop()){if(!t(r=n.node,a=n.x0,o=n.y0,s=n.x1,u=n.y1)&&r.length){var l=(a+s)/2,c=(o+u)/2;if(i=r[3])e.push(new wM(i,l,c,s,u));if(i=r[2])e.push(new wM(i,a,c,l,u));if(i=r[1])e.push(new wM(i,l,o,s,c));if(i=r[0])e.push(new wM(i,a,o,l,c))}}return this}function NM(t){var e=[],n=[],r;if(this._root)e.push(new wM(this._root,this._x0,this._y0,this._x1,this._y1));while(r=e.pop()){var i=r.node;if(i.length){var a,o=r.x0,s=r.y0,u=r.x1,l=r.y1,c=(o+u)/2,f=(s+l)/2;if(a=i[0])e.push(new wM(a,o,s,c,f));if(a=i[1])e.push(new wM(a,c,s,u,f));if(a=i[2])e.push(new wM(a,o,f,c,l));if(a=i[3])e.push(new wM(a,c,f,u,l))}n.push(r)}while(r=n.pop()){t(r.node,r.x0,r.y0,r.x1,r.y1)}return this}function CM(t){return t[0]}function MM(t){return arguments.length?(this._x=t,this):this._x}function kM(t){return t[1]}function IM(t){return arguments.length?(this._y=t,this):this._y}function OM(t,e,n){var r=new DM(e==null?CM:e,n==null?kM:n,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function DM(t,e,n,r,i,a){this._x=t;this._y=e;this._x0=n;this._y0=r;this._x1=i;this._y1=a;this._root=undefined}function RM(t){var e={data:t.data},n=e;while(t=t.next)n=n.next={data:t.data};return e}var UM=OM.prototype=DM.prototype;UM.copy=function(){var t=new DM(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=RM(e),t;n=[{source:e,target:t._root=new Array(4)}];while(e=n.pop()){for(var i=0;i<4;++i){if(r=e.source[i]){if(r.length)n.push({source:r,target:e.target[i]=new Array(4)});else e.target[i]=RM(r)}}}return t};UM.add=vM;UM.addAll=gM;UM.cover=mM;UM.data=bM;UM.extent=_M;UM.find=xM;UM.remove=AM;UM.removeAll=SM;UM.root=TM;UM.size=LM;UM.visit=EM;UM.visitAfter=NM;UM.x=MM;UM.y=IM;var PM=[].slice;var FM={};function HM(t){this._size=t;this._call=this._error=null;this._tasks=[];this._data=[];this._waiting=this._active=this._ended=this._start=0}HM.prototype=WM.prototype={constructor:HM,defer:function(t){if(typeof t!=="function")throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(this._error!=null)return this;var e=PM.call(arguments,1);e.push(t);++this._waiting,this._tasks.push(e);jM(this);return this},abort:function(){if(this._error==null)zM(this,new Error("abort"));return this},await:function(t){if(typeof t!=="function")throw new Error("invalid callback");if(this._call)throw new Error("multiple await");this._call=function(e,n){t.apply(null,[e].concat(n))};YM(this);return this},awaitAll:function(t){if(typeof t!=="function")throw new Error("invalid callback");if(this._call)throw new Error("multiple await");this._call=t;YM(this);return this}};function jM(t){if(!t._start){try{VM(t)}catch(e){if(t._tasks[t._ended+t._active-1])zM(t,e);else if(!t._data)throw e}}}function VM(t){while(t._start=t._waiting&&t._active<t._size){var e=t._ended+t._active,n=t._tasks[e],r=n.length-1,i=n[r];n[r]=BM(t,e);--t._waiting,++t._active;n=i.apply(null,n);if(!t._tasks[e])continue;t._tasks[e]=n||FM}}function BM(t,e){return function(n,r){if(!t._tasks[e])return;--t._active,++t._ended;t._tasks[e]=null;if(t._error!=null)return;if(n!=null){zM(t,n)}else{t._data[e]=r;if(t._waiting)jM(t);else YM(t)}}}function zM(t,e){var n=t._tasks.length,r;t._error=e;t._data=undefined;t._waiting=NaN;while(--n>=0){if(r=t._tasks[n]){t._tasks[n]=null;if(r.abort){try{r.abort()}catch(e){}}}}t._active=NaN;YM(t)}function YM(t){if(!t._active&&t._call){var e=t._data;t._data=undefined;t._call(t._error,e)}}function WM(t){if(t==null)t=Infinity;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new HM(t)}function GM(){return Math.random()}var qM=function t(e){function n(t,n){t=t==null?0:+t;n=n==null?1:+n;if(arguments.length===1)n=t,t=0;else n-=t;return function(){return e()*n+t}}n.source=t;return n}(GM);var XM=function t(e){function n(t,n){var r,i;t=t==null?0:+t;n=n==null?1:+n;return function(){var a;if(r!=null)a=r,r=null;else do{r=e()*2-1;a=e()*2-1;i=r*r+a*a}while(!i||i>1);return t+n*a*Math.sqrt(-2*Math.log(i)/i)}}n.source=t;return n}(GM);var $M=function t(e){function n(){var t=XM.source(e).apply(this,arguments);return function(){return Math.exp(t())}}n.source=t;return n}(GM);var KM=function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}n.source=t;return n}(GM);var ZM=function t(e){function n(t){var n=KM.source(e)(t);return function(){return n()/t}}n.source=t;return n}(GM);var QM=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}n.source=t;return n}(GM);function JM(t,e){var n,r=oc("beforesend","progress","load","error"),i,a=ha(),o=new XMLHttpRequest,s=null,u=null,l,c,f=0;if(typeof XDomainRequest!=="undefined"&&!("withCredentials"in o)&&/^(http(s)?:)?\/\//.test(t))o=new XDomainRequest;"onload"in o?o.onload=o.onerror=o.ontimeout=h:o.onreadystatechange=function(t){o.readyState>3&&h(t)};function h(t){var e=o.status,i;if(!e&&ek(o)||e>=200&&e<300||e===304){if(l){try{i=l.call(n,o)}catch(a){r.call("error",n,a);return}}else{i=o}r.call("load",n,i)}else{r.call("error",n,t)}}o.onprogress=function(t){r.call("progress",n,t)};n={header:function(t,e){t=(t+"").toLowerCase();if(arguments.length<2)return a.get(t);if(e==null)a.remove(t);else a.set(t,e+"");return n},mimeType:function(t){if(!arguments.length)return i;i=t==null?null:t+"";return n},responseType:function(t){if(!arguments.length)return c;c=t;return n},timeout:function(t){if(!arguments.length)return f;f=+t;return n},user:function(t){return arguments.length<1?s:(s=t==null?null:t+"",n)},password:function(t){return arguments.length<1?u:(u=t==null?null:t+"",n)},response:function(t){l=t;return n},get:function(t,e){return n.send("GET",t,e)},post:function(t,e){return n.send("POST",t,e)},send:function(e,l,h){o.open(e,t,true,s,u);if(i!=null&&!a.has("accept"))a.set("accept",i+",*/*");if(o.setRequestHeader)a.each((function(t,e){o.setRequestHeader(e,t)}));if(i!=null&&o.overrideMimeType)o.overrideMimeType(i);if(c!=null)o.responseType=c;if(f>0)o.timeout=f;if(h==null&&typeof l==="function")h=l,l=null;if(h!=null&&h.length===1)h=tk(h);if(h!=null)n.on("error",h).on("load",(function(t){h(null,t)}));r.call("beforesend",n,o);o.send(l==null?null:l);return n},abort:function(){o.abort();return n},on:function(){var t=r.on.apply(r,arguments);return t===r?n:t}};if(e!=null){if(typeof e!=="function")throw new Error("invalid callback: "+e);return n.get(e)}return n}function tk(t){return function(e,n){t(e==null?n:null)}}function ek(t){var e=t.responseType;return e&&e!=="text"?t.response:t.responseText}function nk(t,e){return function(n,r){var i=JM(n).mimeType(t).response(e);if(r!=null){if(typeof r!=="function")throw new Error("invalid callback: "+r);return i.get(r)}return i}}var rk=nk("text/html",(function(t){return document.createRange().createContextualFragment(t.responseText)}));var ik=nk("application/json",(function(t){return JSON.parse(t.responseText)}));var ak=nk("text/plain",(function(t){return t.responseText}));var ok=nk("application/xml",(function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e}));var sk={},uk={},lk=34,ck=10,fk=13;function hk(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function dk(t,e){var n=hk(t);return function(r,i){return e(n(r),i,t)}}function pk(t){var e=Object.create(null),n=[];t.forEach((function(t){for(var r in t){if(!(r in e)){n.push(e[r]=r)}}}));return n}function vk(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function yk(t){return t<0?"-"+vk(-t,6):t>9999?"+"+vk(t,6):vk(t,4)}function gk(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":yk(t.getUTCFullYear())+"-"+vk(t.getUTCMonth()+1,2)+"-"+vk(t.getUTCDate(),2)+(i?"T"+vk(e,2)+":"+vk(n,2)+":"+vk(r,2)+"."+vk(i,3)+"Z":r?"T"+vk(e,2)+":"+vk(n,2)+":"+vk(r,2)+"Z":n||e?"T"+vk(e,2)+":"+vk(n,2)+"Z":"")}function mk(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var n,r,a=i(t,(function(t,i){if(n)return n(t,i-1);r=t,n=e?dk(t,e):hk(t)}));a.columns=r||[];return a}function i(t,e){var r=[],i=t.length,a=0,o=0,s,u=i<=0,l=false;if(t.charCodeAt(i-1)===ck)--i;if(t.charCodeAt(i-1)===fk)--i;function c(){if(u)return uk;if(l)return l=false,sk;var e,r=a,o;if(t.charCodeAt(r)===lk){while(a++<i&&t.charCodeAt(a)!==lk||t.charCodeAt(++a)===lk);if((e=a)>=i)u=true;else if((o=t.charCodeAt(a++))===ck)l=true;else if(o===fk){l=true;if(t.charCodeAt(a)===ck)++a}return t.slice(r+1,e-1).replace(/""/g,'"')}while(a<i){if((o=t.charCodeAt(e=a++))===ck)l=true;else if(o===fk){l=true;if(t.charCodeAt(a)===ck)++a}else if(o!==n)continue;return t.slice(r,e)}return u=true,t.slice(r,i)}while((s=c())!==uk){var f=[];while(s!==sk&&s!==uk)f.push(s),s=c();if(e&&(f=e(f,o++))==null)continue;r.push(f)}return r}function a(e,n){return e.map((function(e){return n.map((function(t){return c(e[t])})).join(t)}))}function o(e,n){if(n==null)n=pk(e);return[n.map(c).join(t)].concat(a(e,n)).join("\n")}function s(t,e){if(e==null)e=pk(t);return a(t,e).join("\n")}function u(t){return t.map(l).join("\n")}function l(e){return e.map(c).join(t)}function c(t){return t==null?"":t instanceof Date?gk(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:r,parseRows:i,format:o,formatBody:s,formatRows:u,formatRow:l,formatValue:c}}var bk=mk(",");var _k=bk.parse;var wk=mk("\t");var xk=wk.parse;new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Ak(t,e){return function(n,r,i){if(arguments.length<3)i=r,r=null;var a=JM(n).mimeType(t);a.row=function(t){return arguments.length?a.response(Sk(e,r=t)):r};a.row(r);return i?a.get(i):a}}function Sk(t,e){return function(n){return t(n.responseText,e)}}var Tk=Ak("text/csv",_k);var Lk=Ak("text/tab-separated-values",xk);function Ek(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Nk(t){if(t.length===1)t=Ck(t);return{left:function(e,n,r,i){if(r==null)r=0;if(i==null)i=e.length;while(r<i){var a=r+i>>>1;if(t(e[a],n)<0)r=a+1;else i=a}return r},right:function(e,n,r,i){if(r==null)r=0;if(i==null)i=e.length;while(r<i){var a=r+i>>>1;if(t(e[a],n)>0)i=a;else r=a+1}return r}}}function Ck(t){return function(e,n){return Ek(t(e),n)}}var Mk=Nk(Ek);var kk=Mk.right;function Ik(t){return t===null?NaN:+t}function Ok(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);while(++r<i){a[r]=t+r*n}return a}var Dk=Math.sqrt(50),Rk=Math.sqrt(10),Uk=Math.sqrt(2);function Pk(t,e,n){var r,i=-1,a,o,s;e=+e,t=+t,n=+n;if(t===e&&n>0)return[t];if(r=e<t)a=t,t=e,e=a;if((s=Fk(t,e,n))===0||!isFinite(s))return[];if(s>0){t=Math.ceil(t/s);e=Math.floor(e/s);o=new Array(a=Math.ceil(e-t+1));while(++i<a)o[i]=(t+i)*s}else{t=Math.floor(t*s);e=Math.ceil(e*s);o=new Array(a=Math.ceil(t-e+1));while(++i<a)o[i]=(t-i)/s}if(r)o.reverse();return o}function Fk(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=Dk?10:a>=Rk?5:a>=Uk?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=Dk?10:a>=Rk?5:a>=Uk?2:1)}function Hk(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;if(a>=Dk)i*=10;else if(a>=Rk)i*=5;else if(a>=Uk)i*=2;return e<t?-i:i}function jk(t,e,n){if(n==null)n=Ik;if(!(r=t.length))return;if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}var Vk="$";function Bk(){}Bk.prototype=zk.prototype={constructor:Bk,has:function(t){return Vk+t in this},get:function(t){return this[Vk+t]},set:function(t,e){this[Vk+t]=e;return this},remove:function(t){var e=Vk+t;return e in this&&delete this[e]},clear:function(){for(var t in this)if(t[0]===Vk)delete this[t]},keys:function(){var t=[];for(var e in this)if(e[0]===Vk)t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)if(e[0]===Vk)t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)if(e[0]===Vk)t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)if(e[0]===Vk)++t;return t},empty:function(){for(var t in this)if(t[0]===Vk)return false;return true},each:function(t){for(var e in this)if(e[0]===Vk)t(this[e],e.slice(1),this)}};function zk(t,e){var n=new Bk;if(t instanceof Bk)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r=-1,i=t.length,a;if(e==null)while(++r<i)n.set(r,t[r]);else while(++r<i)n.set(e(a=t[r],r,t),a)}else if(t)for(var o in t)n.set(o,t[o]);return n}var Yk=Array.prototype;var Wk=Yk.map;var Gk=Yk.slice;var qk={name:"implicit"};function Xk(t){var e=zk(),n=[],r=qk;t=t==null?[]:Gk.call(t);function i(i){var a=i+"",o=e.get(a);if(!o){if(r!==qk)return r;e.set(a,o=n.push(i))}return t[(o-1)%t.length]}i.domain=function(t){if(!arguments.length)return n.slice();n=[],e=zk();var r=-1,a=t.length,o,s;while(++r<a)if(!e.has(s=(o=t[r])+""))e.set(s,n.push(o));return i};i.range=function(e){return arguments.length?(t=Gk.call(e),i):t.slice()};i.unknown=function(t){return arguments.length?(r=t,i):r};i.copy=function(){return Xk().domain(n).range(t).unknown(r)};return i}function $k(){var t=Xk().unknown(undefined),e=t.domain,n=t.range,r=[0,1],i,a,o=false,s=0,u=0,l=.5;delete t.unknown;function c(){var t=e().length,c=r[1]<r[0],f=r[c-0],h=r[1-c];i=(h-f)/Math.max(1,t-s+u*2);if(o)i=Math.floor(i);f+=(h-f-i*(t-s))*l;a=i*(1-s);if(o)f=Math.round(f),a=Math.round(a);var d=Ok(t).map((function(t){return f+i*t}));return n(c?d.reverse():d)}t.domain=function(t){return arguments.length?(e(t),c()):e()};t.range=function(t){return arguments.length?(r=[+t[0],+t[1]],c()):r.slice()};t.rangeRound=function(t){return r=[+t[0],+t[1]],o=true,c()};t.bandwidth=function(){return a};t.step=function(){return i};t.round=function(t){return arguments.length?(o=!!t,c()):o};t.padding=function(t){return arguments.length?(s=u=Math.max(0,Math.min(1,t)),c()):s};t.paddingInner=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),c()):s};t.paddingOuter=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),c()):u};t.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),c()):l};t.copy=function(){return $k().domain(e()).range(r).round(o).paddingInner(s).paddingOuter(u).align(l)};return c()}function Kk(t){var e=t.copy;t.padding=t.paddingOuter;delete t.paddingInner;delete t.paddingOuter;t.copy=function(){return Kk(e())};return t}function Zk(){return Kk($k().paddingInner(1))}function Qk(t){return function(){return t}}function Jk(t,e){return function(n){return t+n*e}}function tI(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function eI(t,e){var n=e-t;return n?Jk(t,n>180||n<-180?n-360*Math.round(n/360):n):Qk(isNaN(t)?e:t)}function nI(t){return(t=+t)===1?rI:function(e,n){return n-e?tI(e,n,t):Qk(isNaN(e)?n:e)}}function rI(t,e){var n=e-t;return n?Jk(t,n):Qk(isNaN(t)?e:t)}var iI=function t(e){var n=nI(e);function r(t,e){var r=n((t=Ba(t)).r,(e=Ba(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=rI(t.opacity,e.opacity);return function(e){t.r=r(e);t.g=i(e);t.b=a(e);t.opacity=o(e);return t+""}}r.gamma=t;return r}(1);function aI(t,e){if(!e)e=[];var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function oI(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function sI(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=yI(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(t){for(o=0;o<r;++o)a[o]=i[o](t);return a}}function uI(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function lI(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function cI(t,e){var n={},r={},i;if(t===null||typeof t!=="object")t={};if(e===null||typeof e!=="object")e={};for(i in e){if(i in t){n[i]=yI(t[i],e[i])}else{r[i]=e[i]}}return function(t){for(i in n)r[i]=n[i](t);return r}}var fI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hI=new RegExp(fI.source,"g");function dI(t){return function(){return t}}function pI(t){return function(e){return t(e)+""}}function vI(t,e){var n=fI.lastIndex=hI.lastIndex=0,r,i,a,o=-1,s=[],u=[];t=t+"",e=e+"";while((r=fI.exec(t))&&(i=hI.exec(e))){if((a=i.index)>n){a=e.slice(n,a);if(s[o])s[o]+=a;else s[++o]=a}if((r=r[0])===(i=i[0])){if(s[o])s[o]+=i;else s[++o]=i}else{s[++o]=null;u.push({i:o,x:lI(r,i)})}n=hI.lastIndex}if(n<e.length){a=e.slice(n);if(s[o])s[o]+=a;else s[++o]=a}return s.length<2?u[0]?pI(u[0].x):dI(e):(e=u.length,function(t){for(var n=0,r;n<e;++n)s[(r=u[n]).i]=r.x(t);return s.join("")})}function yI(t,e){var n=typeof e,r;return e==null||n==="boolean"?Qk(e):(n==="number"?lI:n==="string"?(r=Fa(e))?(e=r,iI):vI:e instanceof Fa?iI:e instanceof Date?uI:oI(e)?aI:Array.isArray(e)?sI:typeof e.valueOf!=="function"&&typeof e.toString!=="function"||isNaN(e)?cI:lI)(t,e)}function gI(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function mI(t){return function e(n){n=+n;function r(e,r){var i=t((e=Uo(e)).h,(r=Uo(r)).h),a=rI(e.s,r.s),o=rI(e.l,r.l),s=rI(e.opacity,r.opacity);return function(t){e.h=i(t);e.s=a(t);e.l=o(Math.pow(t,n));e.opacity=s(t);return e+""}}r.gamma=e;return r}(1)}mI(eI);var bI=mI(rI);function _I(t){return function(){return t}}function wI(t){return+t}var xI=[0,1];function AI(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:_I(e)}function SI(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}function TI(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}function LI(t,e,n,r){var i=t[0],a=t[1],o=e[0],s=e[1];if(a<i)i=n(a,i),o=r(s,o);else i=n(i,a),o=r(o,s);return function(t){return o(i(t))}}function EI(t,e,n,r){var i=Math.min(t.length,e.length)-1,a=new Array(i),o=new Array(i),s=-1;if(t[i]<t[0]){t=t.slice().reverse();e=e.slice().reverse()}while(++s<i){a[s]=n(t[s],t[s+1]);o[s]=r(e[s],e[s+1])}return function(e){var n=kk(t,e,1,i)-1;return o[n](a[n](e))}}function NI(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function CI(t,e){var n=xI,r=xI,i=yI,a=false,o,s,u;function l(){o=Math.min(n.length,r.length)>2?EI:LI;s=u=null;return c}function c(e){return(s||(s=o(n,r,a?SI(t):t,i)))(+e)}c.invert=function(t){return(u||(u=o(r,n,AI,a?TI(e):e)))(+t)};c.domain=function(t){return arguments.length?(n=Wk.call(t,wI),l()):n.slice()};c.range=function(t){return arguments.length?(r=Gk.call(t),l()):r.slice()};c.rangeRound=function(t){return r=Gk.call(t),i=gI,l()};c.clamp=function(t){return arguments.length?(a=!!t,l()):a};c.interpolate=function(t){return arguments.length?(i=t,l()):i};return l()}function MI(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function kI(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function II(t){return t=kI(Math.abs(t)),t?t[1]:NaN}function OI(t,e){return function(n,r){var i=n.length,a=[],o=0,s=t[0],u=0;while(i>0&&s>0){if(u+s+1>r)s=Math.max(1,r-u);a.push(n.substring(i-=s,i+s));if((u+=s+1)>r)break;s=t[o=(o+1)%t.length]}return a.reverse().join(e)}}function DI(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}var RI=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function UI(t){if(!(e=RI.exec(t)))throw new Error("invalid format: "+t);var e;return new PI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}UI.prototype=PI.prototype;function PI(t){this.fill=t.fill===undefined?" ":t.fill+"";this.align=t.align===undefined?">":t.align+"";this.sign=t.sign===undefined?"-":t.sign+"";this.symbol=t.symbol===undefined?"":t.symbol+"";this.zero=!!t.zero;this.width=t.width===undefined?undefined:+t.width;this.comma=!!t.comma;this.precision=t.precision===undefined?undefined:+t.precision;this.trim=!!t.trim;this.type=t.type===undefined?"":t.type+""}PI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===undefined?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===undefined?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function FI(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n){switch(t[n]){case".":r=i=n;break;case"0":if(r===0)r=n;i=n;break;default:if(!+t[n])break t;if(r>0)r=0;break}}return r>0?t.slice(0,r)+t.slice(i+1):t}var HI;function jI(t,e){var n=kI(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(HI=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+kI(t,Math.max(0,e+a-1))[0]}function VI(t,e){var n=kI(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var BI={"%":function(t,e){return(t*100).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:MI,e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return VI(t*100,e)},r:VI,s:jI,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function zI(t){return t}var YI=Array.prototype.map,WI=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function GI(t){var e=t.grouping===undefined||t.thousands===undefined?zI:OI(YI.call(t.grouping,Number),t.thousands+""),n=t.currency===undefined?"":t.currency[0]+"",r=t.currency===undefined?"":t.currency[1]+"",i=t.decimal===undefined?".":t.decimal+"",a=t.numerals===undefined?zI:DI(YI.call(t.numerals,String)),o=t.percent===undefined?"%":t.percent+"",s=t.minus===undefined?"-":t.minus+"",u=t.nan===undefined?"NaN":t.nan+"";function l(t){t=UI(t);var l=t.fill,c=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,v=t.comma,y=t.precision,g=t.trim,m=t.type;if(m==="n")v=true,m="g";else if(!BI[m])y===undefined&&(y=12),g=true,m="g";if(d||l==="0"&&c==="=")d=true,l="0",c="=";var b=h==="$"?n:h==="#"&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",_=h==="$"?r:/[%p]/.test(m)?o:"";var w=BI[m],x=/[defgprs%]/.test(m);y=y===undefined?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function A(t){var n=b,r=_,o,h,A;if(m==="c"){r=w(t)+r;t=""}else{t=+t;var S=t<0||1/t<0;t=isNaN(t)?u:w(Math.abs(t),y);if(g)t=FI(t);if(S&&+t===0&&f!=="+")S=false;n=(S?f==="("?f:s:f==="-"||f==="("?"":f)+n;r=(m==="s"?WI[8+HI/3]:"")+r+(S&&f==="("?")":"");if(x){o=-1,h=t.length;while(++o<h){if(A=t.charCodeAt(o),48>A||A>57){r=(A===46?i+t.slice(o+1):t.slice(o))+r;t=t.slice(0,o);break}}}}if(v&&!d)t=e(t,Infinity);var T=n.length+t.length+r.length,L=T<p?new Array(p-T+1).join(l):"";if(v&&d)t=e(L+t,L.length?p-r.length:Infinity),L="";switch(c){case"<":t=n+t+r+L;break;case"=":t=n+L+t+r;break;case"^":t=L.slice(0,T=L.length>>1)+n+t+r+L.slice(T);break;default:t=L+n+t+r;break}return a(t)}A.toString=function(){return t+""};return A}function c(t,e){var n=l((t=UI(t),t.type="f",t)),r=Math.max(-8,Math.min(8,Math.floor(II(e)/3)))*3,i=Math.pow(10,-r),a=WI[8+r/3];return function(t){return n(i*t)+a}}return{format:l,formatPrefix:c}}var qI;var XI;var $I;KI({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function KI(t){qI=GI(t);XI=qI.format;$I=qI.formatPrefix;return qI}function ZI(t){return Math.max(0,-II(Math.abs(t)))}function QI(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(II(e)/3)))*3-II(Math.abs(t)))}function JI(t,e){t=Math.abs(t),e=Math.abs(e)-t;return Math.max(0,II(e)-II(t))+1}function tO(t,e,n){var r=t[0],i=t[t.length-1],a=Hk(r,i,e==null?10:e),o;n=UI(n==null?",f":n);switch(n.type){case"s":{var s=Math.max(Math.abs(r),Math.abs(i));if(n.precision==null&&!isNaN(o=QI(a,s)))n.precision=o;return $I(n,s)}case"":case"e":case"g":case"p":case"r":{if(n.precision==null&&!isNaN(o=JI(a,Math.max(Math.abs(r),Math.abs(i)))))n.precision=o-(n.type==="e");break}case"f":case"%":{if(n.precision==null&&!isNaN(o=ZI(a)))n.precision=o-(n.type==="%")*2;break}}return XI(n)}function eO(t){var e=t.domain;t.ticks=function(t){var n=e();return Pk(n[0],n[n.length-1],t==null?10:t)};t.tickFormat=function(t,n){return tO(e(),t,n)};t.nice=function(n){if(n==null)n=10;var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],u;if(s<o){u=o,o=s,s=u;u=i,i=a,a=u}u=Fk(o,s,n);if(u>0){o=Math.floor(o/u)*u;s=Math.ceil(s/u)*u;u=Fk(o,s,n)}else if(u<0){o=Math.ceil(o*u)/u;s=Math.floor(s*u)/u;u=Fk(o,s,n)}if(u>0){r[i]=Math.floor(o/u)*u;r[a]=Math.ceil(s/u)*u;e(r)}else if(u<0){r[i]=Math.ceil(o*u)/u;r[a]=Math.floor(s*u)/u;e(r)}return t};return t}function nO(){var t=CI(AI,lI);t.copy=function(){return NI(t,nO())};return eO(t)}function rO(){var t=[0,1];function e(t){return+t}e.invert=e;e.domain=e.range=function(n){return arguments.length?(t=Wk.call(n,wI),e):t.slice()};e.copy=function(){return rO().domain(t)};return eO(e)}function iO(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;if(a<i){o=n,n=r,r=o;o=i,i=a,a=o}t[n]=e.floor(i);t[r]=e.ceil(a);return t}function aO(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:_I(e)}function oO(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function sO(t){return isFinite(t)?+("1e"+t):t<0?0:t}function uO(t){return t===10?sO:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function lO(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function cO(t){return function(e){return-t(-e)}}function fO(){var t=CI(aO,oO).domain([1,10]),e=t.domain,n=10,r=lO(10),i=uO(10);function a(){r=lO(n),i=uO(n);if(e()[0]<0)r=cO(r),i=cO(i);return t}t.base=function(t){return arguments.length?(n=+t,a()):n};t.domain=function(t){return arguments.length?(e(t),a()):e()};t.ticks=function(t){var a=e(),o=a[0],s=a[a.length-1],u;if(u=s<o)l=o,o=s,s=l;var l=r(o),c=r(s),f,h,d,p=t==null?10:+t,v=[];if(!(n%1)&&c-l<p){l=Math.round(l)-1,c=Math.round(c)+1;if(o>0)for(;l<c;++l){for(h=1,f=i(l);h<n;++h){d=f*h;if(d<o)continue;if(d>s)break;v.push(d)}}else for(;l<c;++l){for(h=n-1,f=i(l);h>=1;--h){d=f*h;if(d<o)continue;if(d>s)break;v.push(d)}}}else{v=Pk(l,c,Math.min(c-l,p)).map(i)}return u?v.reverse():v};t.tickFormat=function(e,a){if(a==null)a=n===10?".0e":",";if(typeof a!=="function")a=XI(a);if(e===Infinity)return a;if(e==null)e=10;var o=Math.max(1,n*e/t.ticks().length);return function(t){var e=t/i(Math.round(r(t)));if(e*n<n-.5)e*=n;return e<=o?a(t):""}};t.nice=function(){return e(iO(e(),{floor:function(t){return i(Math.floor(r(t)))},ceil:function(t){return i(Math.ceil(r(t)))}}))};t.copy=function(){return NI(t,fO().base(n))};return t}function hO(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function dO(){var t=1,e=CI(r,i),n=e.domain;function r(e,n){return(n=hO(n,t)-(e=hO(e,t)))?function(r){return(hO(r,t)-e)/n}:_I(n)}function i(e,n){n=hO(n,t)-(e=hO(e,t));return function(r){return hO(e+n*r,1/t)}}e.exponent=function(e){return arguments.length?(t=+e,n(n())):t};e.copy=function(){return NI(e,dO().exponent(t))};return eO(e)}function pO(){return dO().exponent(.5)}function vO(){var t=[],e=[],n=[];function r(){var r=0,a=Math.max(1,e.length);n=new Array(a-1);while(++r<a)n[r-1]=jk(t,r/a);return i}function i(t){if(!isNaN(t=+t))return e[kk(n,t)]}i.invertExtent=function(r){var i=e.indexOf(r);return i<0?[NaN,NaN]:[i>0?n[i-1]:t[0],i<n.length?n[i]:t[t.length-1]]};i.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var n=0,i=e.length,a;n<i;++n)if(a=e[n],a!=null&&!isNaN(a=+a))t.push(a);t.sort(Ek);return r()};i.range=function(t){return arguments.length?(e=Gk.call(t),r()):e.slice()};i.quantiles=function(){return n.slice()};i.copy=function(){return vO().domain(t).range(e)};return i}function yO(){var t=0,e=1,n=1,r=[.5],i=[0,1];function a(t){if(t<=t)return i[kk(r,t,0,n)]}function o(){var i=-1;r=new Array(n);while(++i<n)r[i]=((i+1)*e-(i-n)*t)/(n+1);return a}a.domain=function(n){return arguments.length?(t=+n[0],e=+n[1],o()):[t,e]};a.range=function(t){return arguments.length?(n=(i=Gk.call(t)).length-1,o()):i.slice()};a.invertExtent=function(a){var o=i.indexOf(a);return o<0?[NaN,NaN]:o<1?[t,r[0]]:o>=n?[r[n-1],e]:[r[o-1],r[o]]};a.copy=function(){return yO().domain([t,e]).range(i)};return eO(a)}function gO(){var t=[.5],e=[0,1],n=1;function r(r){if(r<=r)return e[kk(t,r,0,n)]}r.domain=function(i){return arguments.length?(t=Gk.call(i),n=Math.min(t.length,e.length-1),r):t.slice()};r.range=function(i){return arguments.length?(e=Gk.call(i),n=Math.min(t.length,e.length-1),r):e.slice()};r.invertExtent=function(n){var r=e.indexOf(n);return[t[r-1],t[r]]};r.copy=function(){return gO().domain(t).range(e)};return r}var mO=new Date,bO=new Date;function _O(t,e,n,r){function i(e){return t(e=arguments.length===0?new Date:new Date(+e)),e}i.floor=function(e){return t(e=new Date(+e)),e};i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n};i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n};i.offset=function(t,n){return e(t=new Date(+t),n==null?1:Math.floor(n)),t};i.range=function(n,r,a){var o=[],s;n=i.ceil(n);a=a==null?1:Math.floor(a);if(!(n<r)||!(a>0))return o;do{o.push(s=new Date(+n)),e(n,a),t(n)}while(s<n&&n<r);return o};i.filter=function(n){return _O((function(e){if(e>=e)while(t(e),!n(e))e.setTime(e-1)}),(function(t,r){if(t>=t){if(r<0)while(++r<=0){while(e(t,-1),!n(t)){}}else while(--r>=0){while(e(t,+1),!n(t)){}}}}))};if(n){i.count=function(e,r){mO.setTime(+e),bO.setTime(+r);t(mO),t(bO);return Math.floor(n(mO,bO))};i.every=function(t){t=Math.floor(t);return!isFinite(t)||!(t>0)?null:!(t>1)?i:i.filter(r?function(e){return r(e)%t===0}:function(e){return i.count(0,e)%t===0})}}return i}var wO=_O((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));wO.every=function(t){t=Math.floor(t);if(!isFinite(t)||!(t>0))return null;if(!(t>1))return wO;return _O((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t}))};var xO=1e3;var AO=6e4;var SO=36e5;var TO=864e5;var LO=6048e5;var EO=_O((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*xO)}),(function(t,e){return(e-t)/xO}),(function(t){return t.getUTCSeconds()}));var NO=_O((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*xO)}),(function(t,e){t.setTime(+t+e*AO)}),(function(t,e){return(e-t)/AO}),(function(t){return t.getMinutes()}));var CO=_O((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*xO-t.getMinutes()*AO)}),(function(t,e){t.setTime(+t+e*SO)}),(function(t,e){return(e-t)/SO}),(function(t){return t.getHours()}));var MO=_O((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*AO)/TO}),(function(t){return t.getDate()-1}));function kO(t){return _O((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7);e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e*7)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*AO)/LO}))}var IO=kO(0);var OO=kO(1);kO(2);kO(3);var DO=kO(4);kO(5);kO(6);var RO=_O((function(t){t.setDate(1);t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12}),(function(t){return t.getMonth()}));var UO=_O((function(t){t.setMonth(0,1);t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));UO.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:_O((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t);e.setMonth(0,1);e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)}))};var PO=_O((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*AO)}),(function(t,e){return(e-t)/AO}),(function(t){return t.getUTCMinutes()}));var FO=_O((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*SO)}),(function(t,e){return(e-t)/SO}),(function(t){return t.getUTCHours()}));var HO=_O((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/TO}),(function(t){return t.getUTCDate()-1}));function jO(t){return _O((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7);e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e*7)}),(function(t,e){return(e-t)/LO}))}var VO=jO(0);var BO=jO(1);jO(2);jO(3);var zO=jO(4);jO(5);jO(6);var YO=_O((function(t){t.setUTCDate(1);t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12}),(function(t){return t.getUTCMonth()}));var WO=_O((function(t){t.setUTCMonth(0,1);t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));WO.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:_O((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t);e.setUTCMonth(0,1);e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}))};function GO(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);e.setFullYear(t.y);return e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function qO(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));e.setUTCFullYear(t.y);return e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function XO(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function $O(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,u=t.shortMonths;var l=nD(i),c=rD(i),f=nD(a),h=rD(a),d=nD(o),p=rD(o),v=nD(s),y=rD(s),g=nD(u),m=rD(u);var b={a:O,A:D,b:R,B:U,c:null,d:SD,e:SD,f:CD,g:jD,G:BD,H:TD,I:LD,j:ED,L:ND,m:MD,M:kD,p:P,q:F,Q:fR,s:hR,S:ID,u:OD,U:DD,V:UD,w:PD,W:FD,x:null,X:null,y:HD,Y:VD,Z:zD,"%":cR};var _={a:H,A:j,b:V,B:B,c:null,d:YD,e:YD,f:$D,g:oR,G:uR,H:WD,I:GD,j:qD,L:XD,m:KD,M:ZD,p:z,q:Y,Q:fR,s:hR,S:QD,u:JD,U:tR,V:nR,w:rR,W:iR,x:null,X:null,y:aR,Y:sR,Z:lR,"%":cR};var w={a:L,A:E,b:N,B:C,c:M,d:pD,e:pD,f:_D,g:cD,G:lD,H:yD,I:yD,j:vD,L:bD,m:dD,M:gD,p:T,q:hD,Q:xD,s:AD,S:mD,u:aD,U:oD,V:sD,w:iD,W:uD,x:k,X:I,y:cD,Y:lD,Z:fD,"%":wD};b.x=x(n,b);b.X=x(r,b);b.c=x(e,b);_.x=x(n,_);_.X=x(r,_);_.c=x(e,_);function x(t,e){return function(n){var r=[],i=-1,a=0,o=t.length,s,u,l;if(!(n instanceof Date))n=new Date(+n);while(++i<o){if(t.charCodeAt(i)===37){r.push(t.slice(a,i));if((u=KO[s=t.charAt(++i)])!=null)s=t.charAt(++i);else u=s==="e"?" ":"0";if(l=e[s])s=l(n,u);r.push(s);a=i+1}}r.push(t.slice(a,i));return r.join("")}}function A(t,e){return function(n){var r=XO(1900,undefined,1),i=S(r,t,n+="",0),a,o;if(i!=n.length)return null;if("Q"in r)return new Date(r.Q);if("s"in r)return new Date(r.s*1e3+("L"in r?r.L:0));if(e&&!("Z"in r))r.Z=0;if("p"in r)r.H=r.H%12+r.p*12;if(r.m===undefined)r.m="q"in r?r.q:0;if("V"in r){if(r.V<1||r.V>53)return null;if(!("w"in r))r.w=1;if("Z"in r){a=qO(XO(r.y,0,1)),o=a.getUTCDay();a=o>4||o===0?BO.ceil(a):BO(a);a=HO.offset(a,(r.V-1)*7);r.y=a.getUTCFullYear();r.m=a.getUTCMonth();r.d=a.getUTCDate()+(r.w+6)%7}else{a=GO(XO(r.y,0,1)),o=a.getDay();a=o>4||o===0?OO.ceil(a):OO(a);a=MO.offset(a,(r.V-1)*7);r.y=a.getFullYear();r.m=a.getMonth();r.d=a.getDate()+(r.w+6)%7}}else if("W"in r||"U"in r){if(!("w"in r))r.w="u"in r?r.u%7:"W"in r?1:0;o="Z"in r?qO(XO(r.y,0,1)).getUTCDay():GO(XO(r.y,0,1)).getDay();r.m=0;r.d="W"in r?(r.w+6)%7+r.W*7-(o+5)%7:r.w+r.U*7-(o+6)%7}if("Z"in r){r.H+=r.Z/100|0;r.M+=r.Z%100;return qO(r)}return GO(r)}}function S(t,e,n,r){var i=0,a=e.length,o=n.length,s,u;while(i<a){if(r>=o)return-1;s=e.charCodeAt(i++);if(s===37){s=e.charAt(i++);u=w[s in KO?e.charAt(i++):s];if(!u||(r=u(t,n,r))<0)return-1}else if(s!=n.charCodeAt(r++)){return-1}}return r}function T(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=c[r[0].toLowerCase()],n+r[0].length):-1}function L(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1}function E(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1}function N(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1}function C(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1}function M(t,n,r){return S(t,e,n,r)}function k(t,e,r){return S(t,n,e,r)}function I(t,e,n){return S(t,r,e,n)}function O(t){return o[t.getDay()]}function D(t){return a[t.getDay()]}function R(t){return u[t.getMonth()]}function U(t){return s[t.getMonth()]}function P(t){return i[+(t.getHours()>=12)]}function F(t){return 1+~~(t.getMonth()/3)}function H(t){return o[t.getUTCDay()]}function j(t){return a[t.getUTCDay()]}function V(t){return u[t.getUTCMonth()]}function B(t){return s[t.getUTCMonth()]}function z(t){return i[+(t.getUTCHours()>=12)]}function Y(t){return 1+~~(t.getUTCMonth()/3)}return{format:function(t){var e=x(t+="",b);e.toString=function(){return t};return e},parse:function(t){var e=A(t+="",false);e.toString=function(){return t};return e},utcFormat:function(t){var e=x(t+="",_);e.toString=function(){return t};return e},utcParse:function(t){var e=A(t+="",true);e.toString=function(){return t};return e}}}var KO={"-":"",_:" ",0:"0"},ZO=/^\s*\d+/,QO=/^%/,JO=/[\\^$*+?|[\]().{}]/g;function tD(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function eD(t){return t.replace(JO,"\\$&")}function nD(t){return new RegExp("^(?:"+t.map(eD).join("|")+")","i")}function rD(t){var e={},n=-1,r=t.length;while(++n<r)e[t[n].toLowerCase()]=n;return e}function iD(t,e,n){var r=ZO.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function aD(t,e,n){var r=ZO.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function oD(t,e,n){var r=ZO.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function sD(t,e,n){var r=ZO.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function uD(t,e,n){var r=ZO.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function lD(t,e,n){var r=ZO.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function cD(t,e,n){var r=ZO.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function fD(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function hD(t,e,n){var r=ZO.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function dD(t,e,n){var r=ZO.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function pD(t,e,n){var r=ZO.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function vD(t,e,n){var r=ZO.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function yD(t,e,n){var r=ZO.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function gD(t,e,n){var r=ZO.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function mD(t,e,n){var r=ZO.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function bD(t,e,n){var r=ZO.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function _D(t,e,n){var r=ZO.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function wD(t,e,n){var r=QO.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function xD(t,e,n){var r=ZO.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function AD(t,e,n){var r=ZO.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function SD(t,e){return tD(t.getDate(),e,2)}function TD(t,e){return tD(t.getHours(),e,2)}function LD(t,e){return tD(t.getHours()%12||12,e,2)}function ED(t,e){return tD(1+MO.count(UO(t),t),e,3)}function ND(t,e){return tD(t.getMilliseconds(),e,3)}function CD(t,e){return ND(t,e)+"000"}function MD(t,e){return tD(t.getMonth()+1,e,2)}function kD(t,e){return tD(t.getMinutes(),e,2)}function ID(t,e){return tD(t.getSeconds(),e,2)}function OD(t){var e=t.getDay();return e===0?7:e}function DD(t,e){return tD(IO.count(UO(t)-1,t),e,2)}function RD(t){var e=t.getDay();return e>=4||e===0?DO(t):DO.ceil(t)}function UD(t,e){t=RD(t);return tD(DO.count(UO(t),t)+(UO(t).getDay()===4),e,2)}function PD(t){return t.getDay()}function FD(t,e){return tD(OO.count(UO(t)-1,t),e,2)}function HD(t,e){return tD(t.getFullYear()%100,e,2)}function jD(t,e){t=RD(t);return tD(t.getFullYear()%100,e,2)}function VD(t,e){return tD(t.getFullYear()%1e4,e,4)}function BD(t,e){var n=t.getDay();t=n>=4||n===0?DO(t):DO.ceil(t);return tD(t.getFullYear()%1e4,e,4)}function zD(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+tD(e/60|0,"0",2)+tD(e%60,"0",2)}function YD(t,e){return tD(t.getUTCDate(),e,2)}function WD(t,e){return tD(t.getUTCHours(),e,2)}function GD(t,e){return tD(t.getUTCHours()%12||12,e,2)}function qD(t,e){return tD(1+HO.count(WO(t),t),e,3)}function XD(t,e){return tD(t.getUTCMilliseconds(),e,3)}function $D(t,e){return XD(t,e)+"000"}function KD(t,e){return tD(t.getUTCMonth()+1,e,2)}function ZD(t,e){return tD(t.getUTCMinutes(),e,2)}function QD(t,e){return tD(t.getUTCSeconds(),e,2)}function JD(t){var e=t.getUTCDay();return e===0?7:e}function tR(t,e){return tD(VO.count(WO(t)-1,t),e,2)}function eR(t){var e=t.getUTCDay();return e>=4||e===0?zO(t):zO.ceil(t)}function nR(t,e){t=eR(t);return tD(zO.count(WO(t),t)+(WO(t).getUTCDay()===4),e,2)}function rR(t){return t.getUTCDay()}function iR(t,e){return tD(BO.count(WO(t)-1,t),e,2)}function aR(t,e){return tD(t.getUTCFullYear()%100,e,2)}function oR(t,e){t=eR(t);return tD(t.getUTCFullYear()%100,e,2)}function sR(t,e){return tD(t.getUTCFullYear()%1e4,e,4)}function uR(t,e){var n=t.getUTCDay();t=n>=4||n===0?zO(t):zO.ceil(t);return tD(t.getUTCFullYear()%1e4,e,4)}function lR(){return"+0000"}function cR(){return"%"}function fR(t){return+t}function hR(t){return Math.floor(+t/1e3)}var dR;var pR;var vR;var yR;gR({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function gR(t){dR=$O(t);pR=dR.format;vR=dR.utcFormat;yR=dR.utcParse;return dR}var mR="%Y-%m-%dT%H:%M:%S.%LZ";function bR(t){return t.toISOString()}Date.prototype.toISOString?bR:vR(mR);function _R(t){var e=new Date(t);return isNaN(e)?null:e}+new Date("2000-01-01T00:00:00.000Z")?_R:yR(mR);var wR=1e3,xR=wR*60,AR=xR*60,SR=AR*24,TR=SR*7,LR=SR*30,ER=SR*365;function NR(t){return new Date(t)}function CR(t){return t instanceof Date?+t:+new Date(+t)}function MR(t,e,n,r,i,a,o,s,u){var l=CI(AI,lI),c=l.invert,f=l.domain;var h=u(".%L"),d=u(":%S"),p=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),g=u("%b %d"),m=u("%B"),b=u("%Y");var _=[[o,1,wR],[o,5,5*wR],[o,15,15*wR],[o,30,30*wR],[a,1,xR],[a,5,5*xR],[a,15,15*xR],[a,30,30*xR],[i,1,AR],[i,3,3*AR],[i,6,6*AR],[i,12,12*AR],[r,1,SR],[r,2,2*SR],[n,1,TR],[e,1,LR],[e,3,3*LR],[t,1,ER]];function w(s){return(o(s)<s?h:a(s)<s?d:i(s)<s?p:r(s)<s?v:e(s)<s?n(s)<s?y:g:t(s)<s?m:b)(s)}function x(e,n,r,i){if(e==null)e=10;if(typeof e==="number"){var a=Math.abs(r-n)/e,o=Nk((function(t){return t[2]})).right(_,a);if(o===_.length){i=Hk(n/ER,r/ER,e);e=t}else if(o){o=_[a/_[o-1][2]<_[o][2]/a?o-1:o];i=o[1];e=o[0]}else{i=Math.max(Hk(n,r,e),1);e=s}}return i==null?e:e.every(i)}l.invert=function(t){return new Date(c(t))};l.domain=function(t){return arguments.length?f(Wk.call(t,CR)):f().map(NR)};l.ticks=function(t,e){var n=f(),r=n[0],i=n[n.length-1],a=i<r,o;if(a)o=r,r=i,i=o;o=x(t,r,i,e);o=o?o.range(r,i+1):[];return a?o.reverse():o};l.tickFormat=function(t,e){return e==null?w:u(e)};l.nice=function(t,e){var n=f();return(t=x(t,n[0],n[n.length-1],e))?f(iO(n,t)):l};l.copy=function(){return NI(l,MR(t,e,n,r,i,a,o,s,u))};return l}function kR(){return MR(UO,RO,IO,MO,CO,NO,EO,wO,pR).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}function IR(){return MR(WO,YO,VO,HO,FO,PO,EO,wO,vR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])}function OR(t){return t.match(/.{6}/g).map((function(t){return"#"+t}))}var DR=OR("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");var RR=OR("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6");var UR=OR("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9");var PR=OR("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5");var FR=bI(Uo(300,.5,0),Uo(-240,.5,1));var HR=bI(Uo(-100,.75,.35),Uo(80,1.5,.8));var jR=bI(Uo(260,.75,.35),Uo(80,1.5,.8));var VR=Uo();function BR(t){if(t<0||t>1)t-=Math.floor(t);var e=Math.abs(t-.5);VR.h=360*t-100;VR.s=1.5-1.5*e;VR.l=.8-.9*e;return VR+""}function zR(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var YR=zR(OR("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var WR=zR(OR("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));var GR=zR(OR("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));var qR=zR(OR("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function XR(t){var e=0,n=1,r=false;function i(i){var a=(i-e)/(n-e);return t(r?Math.max(0,Math.min(1,a)):a)}i.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]};i.clamp=function(t){return arguments.length?(r=!!t,i):r};i.interpolator=function(e){return arguments.length?(t=e,i):t};i.copy=function(){return XR(t).domain([e,n]).clamp(r)};return eO(i)}var $R="http://www.w3.org/1999/xhtml";var KR={svg:"http://www.w3.org/2000/svg",xhtml:$R,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ZR(t){var e=t+="",n=e.indexOf(":");if(n>=0&&(e=t.slice(0,n))!=="xmlns")t=t.slice(n+1);return KR.hasOwnProperty(e)?{space:KR[e],local:t}:t}function QR(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===$R&&e.documentElement.namespaceURI===$R?e.createElement(t):e.createElementNS(n,t)}}function JR(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function tU(t){var e=ZR(t);return(e.local?JR:QR)(e)}function eU(){}function nU(t){return t==null?eU:function(){return this.querySelector(t)}}function rU(t){if(typeof t!=="function")t=nU(t);for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i){for(var a=e[i],o=a.length,s=r[i]=new Array(o),u,l,c=0;c<o;++c){if((u=a[c])&&(l=t.call(u,u.__data__,c,a))){if("__data__"in u)l.__data__=u.__data__;s[c]=l}}}return new HP(r,this._parents)}function iU(){return[]}function aU(t){return t==null?iU:function(){return this.querySelectorAll(t)}}function oU(t){if(typeof t!=="function")t=aU(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a){for(var o=e[a],s=o.length,u,l=0;l<s;++l){if(u=o[l]){r.push(t.call(u,u.__data__,l,o));i.push(u)}}}return new HP(r,i)}var sU=function(t){return function(){return this.matches(t)}};if(typeof document!=="undefined"){var uU=document.documentElement;if(!uU.matches){var lU=uU.webkitMatchesSelector||uU.msMatchesSelector||uU.mozMatchesSelector||uU.oMatchesSelector;sU=function(t){return function(){return lU.call(this,t)}}}}var cU=sU;function fU(t){if(typeof t!=="function")t=cU(t);for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i){for(var a=e[i],o=a.length,s=r[i]=[],u,l=0;l<o;++l){if((u=a[l])&&t.call(u,u.__data__,l,a)){s.push(u)}}}return new HP(r,this._parents)}function hU(t){return new Array(t.length)}function dU(){return new HP(this._enter||this._groups.map(hU),this._parents)}function pU(t,e){this.ownerDocument=t.ownerDocument;this.namespaceURI=t.namespaceURI;this._next=null;this._parent=t;this.__data__=e}pU.prototype={constructor:pU,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function vU(t){return function(){return t}}var yU="$";function gU(t,e,n,r,i,a){var o=0,s,u=e.length,l=a.length;for(;o<l;++o){if(s=e[o]){s.__data__=a[o];r[o]=s}else{n[o]=new pU(t,a[o])}}for(;o<u;++o){if(s=e[o]){i[o]=s}}}function mU(t,e,n,r,i,a,o){var s,u,l={},c=e.length,f=a.length,h=new Array(c),d;for(s=0;s<c;++s){if(u=e[s]){h[s]=d=yU+o.call(u,u.__data__,s,e);if(d in l){i[s]=u}else{l[d]=u}}}for(s=0;s<f;++s){d=yU+o.call(t,a[s],s,a);if(u=l[d]){r[s]=u;u.__data__=a[s];l[d]=null}else{n[s]=new pU(t,a[s])}}for(s=0;s<c;++s){if((u=e[s])&&l[h[s]]===u){i[s]=u}}}function bU(t,e){if(!t){d=new Array(this.size()),l=-1;this.each((function(t){d[++l]=t}));return d}var n=e?mU:gU,r=this._parents,i=this._groups;if(typeof t!=="function")t=vU(t);for(var a=i.length,o=new Array(a),s=new Array(a),u=new Array(a),l=0;l<a;++l){var c=r[l],f=i[l],h=f.length,d=t.call(c,c&&c.__data__,l,r),p=d.length,v=s[l]=new Array(p),y=o[l]=new Array(p),g=u[l]=new Array(h);n(c,f,v,y,g,d,e);for(var m=0,b=0,_,w;m<p;++m){if(_=v[m]){if(m>=b)b=m+1;while(!(w=y[b])&&++b<p);_._next=w||null}}}o=new HP(o,r);o._enter=s;o._exit=u;return o}function _U(){return new HP(this._exit||this._groups.map(hU),this._parents)}function wU(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s){for(var u=e[s],l=n[s],c=u.length,f=o[s]=new Array(c),h,d=0;d<c;++d){if(h=u[d]||l[d]){f[d]=h}}}for(;s<r;++s){o[s]=e[s]}return new HP(o,this._parents)}function xU(){for(var t=this._groups,e=-1,n=t.length;++e<n;){for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;){if(o=r[i]){if(a&&a!==o.nextSibling)a.parentNode.insertBefore(o,a);a=o}}}return this}function AU(t){if(!t)t=SU;function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,u=i[a]=new Array(s),l,c=0;c<s;++c){if(l=o[c]){u[c]=l}}u.sort(e)}return new HP(i,this._parents).order()}function SU(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function TU(){var t=arguments[0];arguments[0]=this;t.apply(null,arguments);return this}function LU(){var t=new Array(this.size()),e=-1;this.each((function(){t[++e]=this}));return t}function EU(){for(var t=this._groups,e=0,n=t.length;e<n;++e){for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}}return null}function NU(){var t=0;this.each((function(){++t}));return t}function CU(){return!this.node()}function MU(t){for(var e=this._groups,n=0,r=e.length;n<r;++n){for(var i=e[n],a=0,o=i.length,s;a<o;++a){if(s=i[a])t.call(s,s.__data__,a,i)}}return this}function kU(t){return function(){this.removeAttribute(t)}}function IU(t){return function(){this.removeAttributeNS(t.space,t.local)}}function OU(t,e){return function(){this.setAttribute(t,e)}}function DU(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function RU(t,e){return function(){var n=e.apply(this,arguments);if(n==null)this.removeAttribute(t);else this.setAttribute(t,n)}}function UU(t,e){return function(){var n=e.apply(this,arguments);if(n==null)this.removeAttributeNS(t.space,t.local);else this.setAttributeNS(t.space,t.local,n)}}function PU(t,e){var n=ZR(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?IU:kU:typeof e==="function"?n.local?UU:RU:n.local?DU:OU)(n,e))}function FU(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function HU(t){return function(){this.style.removeProperty(t)}}function jU(t,e,n){return function(){this.style.setProperty(t,e,n)}}function VU(t,e,n){return function(){var r=e.apply(this,arguments);if(r==null)this.style.removeProperty(t);else this.style.setProperty(t,r,n)}}function BU(t,e,n){return arguments.length>1?this.each((e==null?HU:typeof e==="function"?VU:jU)(t,e,n==null?"":n)):zU(this.node(),t)}function zU(t,e){return t.style.getPropertyValue(e)||FU(t).getComputedStyle(t,null).getPropertyValue(e)}function YU(t){return function(){delete this[t]}}function WU(t,e){return function(){this[t]=e}}function GU(t,e){return function(){var n=e.apply(this,arguments);if(n==null)delete this[t];else this[t]=n}}function qU(t,e){return arguments.length>1?this.each((e==null?YU:typeof e==="function"?GU:WU)(t,e)):this.node()[t]}function XU(t){return t.trim().split(/^|\s+/)}function $U(t){return t.classList||new KU(t)}function KU(t){this._node=t;this._names=XU(t.getAttribute("class")||"")}KU.prototype={add:function(t){var e=this._names.indexOf(t);if(e<0){this._names.push(t);this._node.setAttribute("class",this._names.join(" "))}},remove:function(t){var e=this._names.indexOf(t);if(e>=0){this._names.splice(e,1);this._node.setAttribute("class",this._names.join(" "))}},contains:function(t){return this._names.indexOf(t)>=0}};function ZU(t,e){var n=$U(t),r=-1,i=e.length;while(++r<i)n.add(e[r])}function QU(t,e){var n=$U(t),r=-1,i=e.length;while(++r<i)n.remove(e[r])}function JU(t){return function(){ZU(this,t)}}function tP(t){return function(){QU(this,t)}}function eP(t,e){return function(){(e.apply(this,arguments)?ZU:QU)(this,t)}}function nP(t,e){var n=XU(t+"");if(arguments.length<2){var r=$U(this.node()),i=-1,a=n.length;while(++i<a)if(!r.contains(n[i]))return false;return true}return this.each((typeof e==="function"?eP:e?JU:tP)(n,e))}function rP(){this.textContent=""}function iP(t){return function(){this.textContent=t}}function aP(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function oP(t){return arguments.length?this.each(t==null?rP:(typeof t==="function"?aP:iP)(t)):this.node().textContent}function sP(){this.innerHTML=""}function uP(t){return function(){this.innerHTML=t}}function lP(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function cP(t){return arguments.length?this.each(t==null?sP:(typeof t==="function"?lP:uP)(t)):this.node().innerHTML}function fP(){if(this.nextSibling)this.parentNode.appendChild(this)}function hP(){return this.each(fP)}function dP(){if(this.previousSibling)this.parentNode.insertBefore(this,this.parentNode.firstChild)}function pP(){return this.each(dP)}function vP(t){var e=typeof t==="function"?t:tU(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))}function yP(){return null}function gP(t,e){var n=typeof t==="function"?t:tU(t),r=e==null?yP:typeof e==="function"?e:nU(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))}function mP(){var t=this.parentNode;if(t)t.removeChild(this)}function bP(){return this.each(mP)}function _P(){return this.parentNode.insertBefore(this.cloneNode(false),this.nextSibling)}function wP(){return this.parentNode.insertBefore(this.cloneNode(true),this.nextSibling)}function xP(t){return this.select(t?wP:_P)}function AP(t){return arguments.length?this.property("__data__",t):this.node().__data__}var SP={};var TP=null;if(typeof document!=="undefined"){var LP=document.documentElement;if(!("onmouseenter"in LP)){SP={mouseenter:"mouseover",mouseleave:"mouseout"}}}function EP(t,e,n){t=NP(t,e,n);return function(e){var n=e.relatedTarget;if(!n||n!==this&&!(n.compareDocumentPosition(this)&8)){t.call(this,e)}}}function NP(t,e,n){return function(r){var i=TP;TP=r;try{t.call(this,this.__data__,e,n)}finally{TP=i}}}function CP(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0)e=t.slice(n+1),t=t.slice(0,n);return{type:t,name:e}}))}function MP(t){return function(){var e=this.__on;if(!e)return;for(var n=0,r=-1,i=e.length,a;n<i;++n){if(a=e[n],(!t.type||a.type===t.type)&&a.name===t.name){this.removeEventListener(a.type,a.listener,a.capture)}else{e[++r]=a}}if(++r)e.length=r;else delete this.__on}}function kP(t,e,n){var r=SP.hasOwnProperty(t.type)?EP:NP;return function(i,a,o){var s=this.__on,u,l=r(e,a,o);if(s)for(var c=0,f=s.length;c<f;++c){if((u=s[c]).type===t.type&&u.name===t.name){this.removeEventListener(u.type,u.listener,u.capture);this.addEventListener(u.type,u.listener=l,u.capture=n);u.value=e;return}}this.addEventListener(t.type,l,n);u={type:t.type,name:t.name,value:e,listener:l,capture:n};if(!s)this.__on=[u];else s.push(u)}}function IP(t,e,n){var r=CP(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s)for(var u=0,l=s.length,c;u<l;++u){for(i=0,c=s[u];i<a;++i){if((o=r[i]).type===c.type&&o.name===c.name){return c.value}}}return}s=e?kP:MP;if(n==null)n=false;for(i=0;i<a;++i)this.each(s(r[i],e,n));return this}function OP(t,e,n,r){var i=TP;t.sourceEvent=TP;TP=t;try{return e.apply(n,r)}finally{TP=i}}function DP(t,e,n){var r=FU(t),i=r.CustomEvent;if(typeof i==="function"){i=new i(e,n)}else{i=r.document.createEvent("Event");if(n)i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail;else i.initEvent(e,false,false)}t.dispatchEvent(i)}function RP(t,e){return function(){return DP(this,t,e)}}function UP(t,e){return function(){return DP(this,t,e.apply(this,arguments))}}function PP(t,e){return this.each((typeof e==="function"?UP:RP)(t,e))}var FP=[null];function HP(t,e){this._groups=t;this._parents=e}function jP(){return new HP([[document.documentElement]],FP)}HP.prototype=jP.prototype={constructor:HP,select:rU,selectAll:oU,filter:fU,data:bU,enter:dU,exit:_U,merge:wU,order:xU,sort:AU,call:TU,nodes:LU,node:EU,size:NU,empty:CU,each:MU,attr:PU,style:BU,property:qU,classed:nP,text:oP,html:cP,raise:hP,lower:pP,append:vP,insert:gP,remove:bP,clone:xP,datum:AP,on:IP,dispatch:PP};function VP(t){return typeof t==="string"?new HP([[document.querySelector(t)]],[document.documentElement]):new HP([[t]],FP)}function BP(t){return VP(tU(t).call(document.documentElement))}var zP=0;function YP(){return new WP}function WP(){this._="@"+(++zP).toString(36)}WP.prototype=YP.prototype={constructor:WP,get:function(t){var e=this._;while(!(e in t))if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function GP(){var t=TP,e;while(e=t.sourceEvent)t=e;return t}function qP(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();r.x=e.clientX,r.y=e.clientY;r=r.matrixTransform(t.getScreenCTM().inverse());return[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function XP(t){var e=GP();if(e.changedTouches)e=e.changedTouches[0];return qP(t,e)}function $P(t){return typeof t==="string"?new HP([document.querySelectorAll(t)],[document.documentElement]):new HP([t==null?[]:t],FP)}function KP(t,e,n){if(arguments.length<3)n=e,e=GP().changedTouches;for(var r=0,i=e?e.length:0,a;r<i;++r){if((a=e[r]).identifier===n){return qP(t,a)}}return null}function ZP(t,e){if(e==null)e=GP().touches;for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n){i[n]=qP(t,e[n])}return i}var QP=Math.PI,JP=2*QP,tF=1e-6,eF=JP-tF;function nF(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function rF(){return new nF}nF.prototype=rF.prototype={constructor:nF,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){if(this._x1!==null){this._x1=this._x0,this._y1=this._y0;this._+="Z"}},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,s=n-t,u=r-e,l=a-t,c=o-e,f=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null){this._+="M"+(this._x1=t)+","+(this._y1=e)}else if(!(f>tF));else if(!(Math.abs(c*s-u*l)>tF)||!i){this._+="L"+(this._x1=t)+","+(this._y1=e)}else{var h=n-a,d=r-o,p=s*s+u*u,v=h*h+d*d,y=Math.sqrt(p),g=Math.sqrt(f),m=i*Math.tan((QP-Math.acos((p+f-v)/(2*y*g)))/2),b=m/g,_=m/y;if(Math.abs(b-1)>tF){this._+="L"+(t+b*l)+","+(e+b*c)}this._+="A"+i+","+i+",0,0,"+ +(c*h>l*d)+","+(this._x1=t+_*s)+","+(this._y1=e+_*u)}},arc:function(t,e,n,r,i,a){t=+t,e=+e,n=+n,a=!!a;var o=n*Math.cos(r),s=n*Math.sin(r),u=t+o,l=e+s,c=1^a,f=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);if(this._x1===null){this._+="M"+u+","+l}else if(Math.abs(this._x1-u)>tF||Math.abs(this._y1-l)>tF){this._+="L"+u+","+l}if(!n)return;if(f<0)f=f%JP+JP;if(f>eF){this._+="A"+n+","+n+",0,1,"+c+","+(t-o)+","+(e-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l)}else if(f>tF){this._+="A"+n+","+n+",0,"+ +(f>=QP)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))}},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function iF(t){return function e(){return t}}var aF=Math.abs;var oF=Math.atan2;var sF=Math.cos;var uF=Math.max;var lF=Math.min;var cF=Math.sin;var fF=Math.sqrt;var hF=1e-12;var dF=Math.PI;var pF=dF/2;var vF=2*dF;function yF(t){return t>1?0:t<-1?dF:Math.acos(t)}function gF(t){return t>=1?pF:t<=-1?-pF:Math.asin(t)}function mF(t){return t.innerRadius}function bF(t){return t.outerRadius}function _F(t){return t.startAngle}function wF(t){return t.endAngle}function xF(t){return t&&t.padAngle}function AF(t,e,n,r,i,a,o,s){var u=n-t,l=r-e,c=o-i,f=s-a,h=(c*(e-a)-f*(t-i))/(f*u-c*l);return[t+h*u,e+h*l]}function SF(t,e,n,r,i,a,o){var s=t-n,u=e-r,l=(o?a:-a)/fF(s*s+u*u),c=l*u,f=-l*s,h=t+c,d=e+f,p=n+c,v=r+f,y=(h+p)/2,g=(d+v)/2,m=p-h,b=v-d,_=m*m+b*b,w=i-a,x=h*v-p*d,A=(b<0?-1:1)*fF(uF(0,w*w*_-x*x)),S=(x*b-m*A)/_,T=(-x*m-b*A)/_,L=(x*b+m*A)/_,E=(-x*m+b*A)/_,N=S-y,C=T-g,M=L-y,k=E-g;if(N*N+C*C>M*M+k*k)S=L,T=E;return{cx:S,cy:T,x01:-c,y01:-f,x11:S*(i/w-1),y11:T*(i/w-1)}}function TF(){var t=mF,e=bF,n=iF(0),r=null,i=_F,a=wF,o=xF,s=null;function u(){var u,l,c=+t.apply(this,arguments),f=+e.apply(this,arguments),h=i.apply(this,arguments)-pF,d=a.apply(this,arguments)-pF,p=aF(d-h),v=d>h;if(!s)s=u=rF();if(f<c)l=f,f=c,c=l;if(!(f>hF))s.moveTo(0,0);else if(p>vF-hF){s.moveTo(f*sF(h),f*cF(h));s.arc(0,0,f,h,d,!v);if(c>hF){s.moveTo(c*sF(d),c*cF(d));s.arc(0,0,c,d,h,v)}}else{var y=h,g=d,m=h,b=d,_=p,w=p,x=o.apply(this,arguments)/2,A=x>hF&&(r?+r.apply(this,arguments):fF(c*c+f*f)),S=lF(aF(f-c)/2,+n.apply(this,arguments)),T=S,L=S,E,N;if(A>hF){var C=gF(A/c*cF(x)),M=gF(A/f*cF(x));if((_-=C*2)>hF)C*=v?1:-1,m+=C,b-=C;else _=0,m=b=(h+d)/2;if((w-=M*2)>hF)M*=v?1:-1,y+=M,g-=M;else w=0,y=g=(h+d)/2}var k=f*sF(y),I=f*cF(y),O=c*sF(b),D=c*cF(b);if(S>hF){var R=f*sF(g),U=f*cF(g),P=c*sF(m),F=c*cF(m);if(p<dF){var H=_>hF?AF(k,I,P,F,R,U,O,D):[O,D],j=k-H[0],V=I-H[1],B=R-H[0],z=U-H[1],Y=1/cF(yF((j*B+V*z)/(fF(j*j+V*V)*fF(B*B+z*z)))/2),W=fF(H[0]*H[0]+H[1]*H[1]);T=lF(S,(c-W)/(Y-1));L=lF(S,(f-W)/(Y+1))}}if(!(w>hF))s.moveTo(k,I);else if(L>hF){E=SF(P,F,k,I,f,L,v);N=SF(R,U,O,D,f,L,v);s.moveTo(E.cx+E.x01,E.cy+E.y01);if(L<S)s.arc(E.cx,E.cy,L,oF(E.y01,E.x01),oF(N.y01,N.x01),!v);else{s.arc(E.cx,E.cy,L,oF(E.y01,E.x01),oF(E.y11,E.x11),!v);s.arc(0,0,f,oF(E.cy+E.y11,E.cx+E.x11),oF(N.cy+N.y11,N.cx+N.x11),!v);s.arc(N.cx,N.cy,L,oF(N.y11,N.x11),oF(N.y01,N.x01),!v)}}else s.moveTo(k,I),s.arc(0,0,f,y,g,!v);if(!(c>hF)||!(_>hF))s.lineTo(O,D);else if(T>hF){E=SF(O,D,R,U,c,-T,v);N=SF(k,I,P,F,c,-T,v);s.lineTo(E.cx+E.x01,E.cy+E.y01);if(T<S)s.arc(E.cx,E.cy,T,oF(E.y01,E.x01),oF(N.y01,N.x01),!v);else{s.arc(E.cx,E.cy,T,oF(E.y01,E.x01),oF(E.y11,E.x11),!v);s.arc(0,0,c,oF(E.cy+E.y11,E.cx+E.x11),oF(N.cy+N.y11,N.cx+N.x11),v);s.arc(N.cx,N.cy,T,oF(N.y11,N.x11),oF(N.y01,N.x01),!v)}}else s.arc(0,0,c,b,m,v)}s.closePath();if(u)return s=null,u+""||null}u.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-dF/2;return[sF(r)*n,cF(r)*n]};u.innerRadius=function(e){return arguments.length?(t=typeof e==="function"?e:iF(+e),u):t};u.outerRadius=function(t){return arguments.length?(e=typeof t==="function"?t:iF(+t),u):e};u.cornerRadius=function(t){return arguments.length?(n=typeof t==="function"?t:iF(+t),u):n};u.padRadius=function(t){return arguments.length?(r=t==null?null:typeof t==="function"?t:iF(+t),u):r};u.startAngle=function(t){return arguments.length?(i=typeof t==="function"?t:iF(+t),u):i};u.endAngle=function(t){return arguments.length?(a=typeof t==="function"?t:iF(+t),u):a};u.padAngle=function(t){return arguments.length?(o=typeof t==="function"?t:iF(+t),u):o};u.context=function(t){return arguments.length?(s=t==null?null:t,u):s};return u}function LF(t){this._context=t}LF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(t,e){t=+t,e=+e;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function EF(t){return new LF(t)}function NF(t){return t[0]}function CF(t){return t[1]}function MF(){var t=NF,e=CF,n=iF(true),r=null,i=EF,a=null;function o(o){var s,u=o.length,l,c=false,f;if(r==null)a=i(f=rF());for(s=0;s<=u;++s){if(!(s<u&&n(l=o[s],s,o))===c){if(c=!c)a.lineStart();else a.lineEnd()}if(c)a.point(+t(l,s,o),+e(l,s,o))}if(f)return a=null,f+""||null}o.x=function(e){return arguments.length?(t=typeof e==="function"?e:iF(+e),o):t};o.y=function(t){return arguments.length?(e=typeof t==="function"?t:iF(+t),o):e};o.defined=function(t){return arguments.length?(n=typeof t==="function"?t:iF(!!t),o):n};o.curve=function(t){return arguments.length?(i=t,r!=null&&(a=i(r)),o):i};o.context=function(t){return arguments.length?(t==null?r=a=null:a=i(r=t),o):r};return o}function kF(){var t=NF,e=null,n=iF(0),r=CF,i=iF(true),a=null,o=EF,s=null;function u(u){var l,c,f,h=u.length,d,p=false,v,y=new Array(h),g=new Array(h);if(a==null)s=o(v=rF());for(l=0;l<=h;++l){if(!(l<h&&i(d=u[l],l,u))===p){if(p=!p){c=l;s.areaStart();s.lineStart()}else{s.lineEnd();s.lineStart();for(f=l-1;f>=c;--f){s.point(y[f],g[f])}s.lineEnd();s.areaEnd()}}if(p){y[l]=+t(d,l,u),g[l]=+n(d,l,u);s.point(e?+e(d,l,u):y[l],r?+r(d,l,u):g[l])}}if(v)return s=null,v+""||null}function l(){return MF().defined(i).curve(o).context(a)}u.x=function(n){return arguments.length?(t=typeof n==="function"?n:iF(+n),e=null,u):t};u.x0=function(e){return arguments.length?(t=typeof e==="function"?e:iF(+e),u):t};u.x1=function(t){return arguments.length?(e=t==null?null:typeof t==="function"?t:iF(+t),u):e};u.y=function(t){return arguments.length?(n=typeof t==="function"?t:iF(+t),r=null,u):n};u.y0=function(t){return arguments.length?(n=typeof t==="function"?t:iF(+t),u):n};u.y1=function(t){return arguments.length?(r=t==null?null:typeof t==="function"?t:iF(+t),u):r};u.lineX0=u.lineY0=function(){return l().x(t).y(n)};u.lineY1=function(){return l().x(t).y(r)};u.lineX1=function(){return l().x(e).y(n)};u.defined=function(t){return arguments.length?(i=typeof t==="function"?t:iF(!!t),u):i};u.curve=function(t){return arguments.length?(o=t,a!=null&&(s=o(a)),u):o};u.context=function(t){return arguments.length?(t==null?a=s=null:s=o(a=t),u):a};return u}function IF(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function OF(t){return t}function DF(){var t=OF,e=IF,n=null,r=iF(0),i=iF(vF),a=iF(0);function o(o){var s,u=o.length,l,c,f=0,h=new Array(u),d=new Array(u),p=+r.apply(this,arguments),v=Math.min(vF,Math.max(-vF,i.apply(this,arguments)-p)),y,g=Math.min(Math.abs(v)/u,a.apply(this,arguments)),m=g*(v<0?-1:1),b;for(s=0;s<u;++s){if((b=d[h[s]=s]=+t(o[s],s,o))>0){f+=b}}if(e!=null)h.sort((function(t,n){return e(d[t],d[n])}));else if(n!=null)h.sort((function(t,e){return n(o[t],o[e])}));for(s=0,c=f?(v-u*m)/f:0;s<u;++s,p=y){l=h[s],b=d[l],y=p+(b>0?b*c:0)+m,d[l]={data:o[l],index:s,value:b,startAngle:p,endAngle:y,padAngle:g}}return d}o.value=function(e){return arguments.length?(t=typeof e==="function"?e:iF(+e),o):t};o.sortValues=function(t){return arguments.length?(e=t,n=null,o):e};o.sort=function(t){return arguments.length?(n=t,e=null,o):n};o.startAngle=function(t){return arguments.length?(r=typeof t==="function"?t:iF(+t),o):r};o.endAngle=function(t){return arguments.length?(i=typeof t==="function"?t:iF(+t),o):i};o.padAngle=function(t){return arguments.length?(a=typeof t==="function"?t:iF(+t),o):a};return o}var RF=PF(EF);function UF(t){this._curve=t}UF.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function PF(t){function e(e){return new UF(t(e))}e._curve=t;return e}function FF(t){var e=t.curve;t.angle=t.x,delete t.x;t.radius=t.y,delete t.y;t.curve=function(t){return arguments.length?e(PF(t)):e()._curve};return t}function HF(){return FF(MF().curve(RF))}function jF(){var t=kF().curve(RF),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,a=t.lineY1;t.angle=t.x,delete t.x;t.startAngle=t.x0,delete t.x0;t.endAngle=t.x1,delete t.x1;t.radius=t.y,delete t.y;t.innerRadius=t.y0,delete t.y0;t.outerRadius=t.y1,delete t.y1;t.lineStartAngle=function(){return FF(n())},delete t.lineX0;t.lineEndAngle=function(){return FF(r())},delete t.lineX1;t.lineInnerRadius=function(){return FF(i())},delete t.lineY0;t.lineOuterRadius=function(){return FF(a())},delete t.lineY1;t.curve=function(t){return arguments.length?e(PF(t)):e()._curve};return t}function VF(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}var BF=Array.prototype.slice;function zF(t){return t.source}function YF(t){return t.target}function WF(t){var e=zF,n=YF,r=NF,i=CF,a=null;function o(){var o,s=BF.call(arguments),u=e.apply(this,s),l=n.apply(this,s);if(!a)a=o=rF();t(a,+r.apply(this,(s[0]=u,s)),+i.apply(this,s),+r.apply(this,(s[0]=l,s)),+i.apply(this,s));if(o)return a=null,o+""||null}o.source=function(t){return arguments.length?(e=t,o):e};o.target=function(t){return arguments.length?(n=t,o):n};o.x=function(t){return arguments.length?(r=typeof t==="function"?t:iF(+t),o):r};o.y=function(t){return arguments.length?(i=typeof t==="function"?t:iF(+t),o):i};o.context=function(t){return arguments.length?(a=t==null?null:t,o):a};return o}function GF(t,e,n,r,i){t.moveTo(e,n);t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function qF(t,e,n,r,i){t.moveTo(e,n);t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function XF(t,e,n,r,i){var a=VF(e,n),o=VF(e,n=(n+i)/2),s=VF(r,n),u=VF(r,i);t.moveTo(a[0],a[1]);t.bezierCurveTo(o[0],o[1],s[0],s[1],u[0],u[1])}function $F(){return WF(GF)}function KF(){return WF(qF)}function ZF(){var t=WF(XF);t.angle=t.x,delete t.x;t.radius=t.y,delete t.y;return t}var QF={draw:function(t,e){var n=Math.sqrt(e/dF);t.moveTo(n,0);t.arc(0,0,n,0,vF)}};var JF={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n);t.lineTo(-n,-n);t.lineTo(-n,-3*n);t.lineTo(n,-3*n);t.lineTo(n,-n);t.lineTo(3*n,-n);t.lineTo(3*n,n);t.lineTo(n,n);t.lineTo(n,3*n);t.lineTo(-n,3*n);t.lineTo(-n,n);t.lineTo(-3*n,n);t.closePath()}};var tH=Math.sqrt(1/3),eH=tH*2;var nH={draw:function(t,e){var n=Math.sqrt(e/eH),r=n*tH;t.moveTo(0,-n);t.lineTo(r,0);t.lineTo(0,n);t.lineTo(-r,0);t.closePath()}};var rH=.8908130915292852,iH=Math.sin(dF/10)/Math.sin(7*dF/10),aH=Math.sin(vF/10)*iH,oH=-Math.cos(vF/10)*iH;var sH={draw:function(t,e){var n=Math.sqrt(e*rH),r=aH*n,i=oH*n;t.moveTo(0,-n);t.lineTo(r,i);for(var a=1;a<5;++a){var o=vF*a/5,s=Math.cos(o),u=Math.sin(o);t.lineTo(u*n,-s*n);t.lineTo(s*r-u*i,u*r+s*i)}t.closePath()}};var uH={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}};var lH=Math.sqrt(3);var cH={draw:function(t,e){var n=-Math.sqrt(e/(lH*3));t.moveTo(0,n*2);t.lineTo(-lH*n,-n);t.lineTo(lH*n,-n);t.closePath()}};var fH=-.5,hH=Math.sqrt(3)/2,dH=1/Math.sqrt(12),pH=(dH/2+1)*3;var vH={draw:function(t,e){var n=Math.sqrt(e/pH),r=n/2,i=n*dH,a=r,o=n*dH+n,s=-a,u=o;t.moveTo(r,i);t.lineTo(a,o);t.lineTo(s,u);t.lineTo(fH*r-hH*i,hH*r+fH*i);t.lineTo(fH*a-hH*o,hH*a+fH*o);t.lineTo(fH*s-hH*u,hH*s+fH*u);t.lineTo(fH*r+hH*i,fH*i-hH*r);t.lineTo(fH*a+hH*o,fH*o-hH*a);t.lineTo(fH*s+hH*u,fH*u-hH*s);t.closePath()}};var yH=[QF,JF,nH,uH,sH,cH,vH];function gH(){var t=iF(QF),e=iF(64),n=null;function r(){var r;if(!n)n=r=rF();t.apply(this,arguments).draw(n,+e.apply(this,arguments));if(r)return n=null,r+""||null}r.type=function(e){return arguments.length?(t=typeof e==="function"?e:iF(e),r):t};r.size=function(t){return arguments.length?(e=typeof t==="function"?t:iF(+t),r):e};r.context=function(t){return arguments.length?(n=t==null?null:t,r):n};return r}function mH(){}function bH(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function _H(t){this._context=t}_H.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:bH(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(t,e){t=+t,e=+e;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bH(this,t,e);break}this._x0=this._x1,this._x1=t;this._y0=this._y1,this._y1=e}};function wH(t){return new _H(t)}function xH(t){this._context=t}xH.prototype={areaStart:mH,areaEnd:mH,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2);this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break}case 3:{this.point(this._x2,this._y2);this.point(this._x3,this._y3);this.point(this._x4,this._y4);break}}},point:function(t,e){t=+t,e=+e;switch(this._point){case 0:this._point=1;this._x2=t,this._y2=e;break;case 1:this._point=2;this._x3=t,this._y3=e;break;case 2:this._point=3;this._x4=t,this._y4=e;this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:bH(this,t,e);break}this._x0=this._x1,this._x1=t;this._y0=this._y1,this._y1=e}};function AH(t){return new xH(t)}function SH(t){this._context=t}SH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===3)this._context.closePath();this._line=1-this._line},point:function(t,e){t=+t,e=+e;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:bH(this,t,e);break}this._x0=this._x1,this._x1=t;this._y0=this._y1,this._y1=e}};function TH(t){return new SH(t)}function LH(t,e){this._basis=new _H(t);this._beta=e}LH.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0){var r=t[0],i=e[0],a=t[n]-r,o=e[n]-i,s=-1,u;while(++s<=n){u=s/n;this._basis.point(this._beta*t[s]+(1-this._beta)*(r+u*a),this._beta*e[s]+(1-this._beta)*(i+u*o))}}this._x=this._y=null;this._basis.lineEnd()},point:function(t,e){this._x.push(+t);this._y.push(+e)}};var EH=function t(e){function n(t){return e===1?new _H(t):new LH(t,e)}n.beta=function(e){return t(+e)};return n}(.85);function NH(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function CH(t,e){this._context=t;this._k=(1-e)/6}CH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:NH(this,this._x1,this._y1);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(t,e){t=+t,e=+e;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;this._x1=t,this._y1=e;break;case 2:this._point=3;default:NH(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t;this._y0=this._y1,this._y1=this._y2,this._y2=e}};var MH=function t(e){function n(t){return new CH(t,e)}n.tension=function(e){return t(+e)};return n}(0);function kH(t,e){this._context=t;this._k=(1-e)/6}kH.prototype={areaStart:mH,areaEnd:mH,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3);this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3);this._context.closePath();break}case 3:{this.point(this._x3,this._y3);this.point(this._x4,this._y4);this.point(this._x5,this._y5);break}}},point:function(t,e){t=+t,e=+e;switch(this._point){case 0:this._point=1;this._x3=t,this._y3=e;break;case 1:this._point=2;this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3;this._x5=t,this._y5=e;break;default:NH(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t;this._y0=this._y1,this._y1=this._y2,this._y2=e}};var IH=function t(e){function n(t){return new kH(t,e)}n.tension=function(e){return t(+e)};return n}(0);function OH(t,e){this._context=t;this._k=(1-e)/6}OH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===3)this._context.closePath();this._line=1-this._line},point:function(t,e){t=+t,e=+e;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:NH(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t;this._y0=this._y1,this._y1=this._y2,this._y2=e}};var DH=function t(e){function n(t){return new OH(t,e)}n.tension=function(e){return t(+e)};return n}(0);function RH(t,e,n){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>hF){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u;i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>hF){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*l+t._x1*t._l23_2a-e*t._l12_2a)/c;o=(o*l+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function UH(t,e){this._context=t;this._alpha=e}UH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(t,e){t=+t,e=+e;if(this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:RH(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a;this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a;this._x0=this._x1,this._x1=this._x2,this._x2=t;this._y0=this._y1,this._y1=this._y2,this._y2=e}};var PH=function t(e){function n(t){return e?new UH(t,e):new CH(t,0)}n.alpha=function(e){return t(+e)};return n}(.5);function FH(t,e){this._context=t;this._alpha=e}FH.prototype={areaStart:mH,areaEnd:mH,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3);this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3);this._context.closePath();break}case 3:{this.point(this._x3,this._y3);this.point(this._x4,this._y4);this.point(this._x5,this._y5);break}}},point:function(t,e){t=+t,e=+e;if(this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=t,this._y3=e;break;case 1:this._point=2;this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3;this._x5=t,this._y5=e;break;default:RH(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a;this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a;this._x0=this._x1,this._x1=this._x2,this._x2=t;this._y0=this._y1,this._y1=this._y2,this._y2=e}};var HH=function t(e){function n(t){return e?new FH(t,e):new kH(t,0)}n.alpha=function(e){return t(+e)};return n}(.5);function jH(t,e){this._context=t;this._alpha=e}jH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===3)this._context.closePath();this._line=1-this._line},point:function(t,e){t=+t,e=+e;if(this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:RH(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a;this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a;this._x0=this._x1,this._x1=this._x2,this._x2=t;this._y0=this._y1,this._y1=this._y2,this._y2=e}};var VH=function t(e){function n(t){return e?new jH(t,e):new OH(t,0)}n.alpha=function(e){return t(+e)};return n}(.5);function BH(t){this._context=t}BH.prototype={areaStart:mH,areaEnd:mH,lineStart:function(){this._point=0},lineEnd:function(){if(this._point)this._context.closePath()},point:function(t,e){t=+t,e=+e;if(this._point)this._context.lineTo(t,e);else this._point=1,this._context.moveTo(t,e)}};function zH(t){return new BH(t)}function YH(t){return t<0?-1:1}function WH(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(YH(a)+YH(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function GH(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function qH(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function XH(t){this._context=t}XH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qH(this,this._t0,GH(this,this._t0));break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(t,e){var n=NaN;t=+t,e=+e;if(t===this._x1&&e===this._y1)return;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;qH(this,GH(this,n=WH(this,t,e)),n);break;default:qH(this,this._t0,n=WH(this,t,e));break}this._x0=this._x1,this._x1=t;this._y0=this._y1,this._y1=e;this._t0=n}};function $H(t){this._context=new KH(t)}($H.prototype=Object.create(XH.prototype)).point=function(t,e){XH.prototype.point.call(this,e,t)};function KH(t){this._context=t}KH.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function ZH(t){return new XH(t)}function QH(t){return new $H(t)}function JH(t){this._context=t}JH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n){this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]);if(n===2){this._context.lineTo(t[1],e[1])}else{var r=tj(t),i=tj(e);for(var a=0,o=1;o<n;++a,++o){this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o])}}}if(this._line||this._line!==0&&n===1)this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(t,e){this._x.push(+t);this._y.push(+e)}};function tj(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);i[0]=0,a[0]=2,o[0]=t[0]+2*t[1];for(e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n];for(e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];i[n-1]=o[n-1]/a[n-1];for(e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];a[n-1]=(t[n]+i[n-1])/2;for(e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function ej(t){return new JH(t)}function nj(t,e){this._context=t;this._t=e}nj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){if(0<this._t&&this._t<1&&this._point===2)this._context.lineTo(this._x,this._y);if(this._line||this._line!==0&&this._point===1)this._context.closePath();if(this._line>=0)this._t=1-this._t,this._line=1-this._line},point:function(t,e){t=+t,e=+e;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0){this._context.lineTo(this._x,e);this._context.lineTo(t,e)}else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y);this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function rj(t){return new nj(t,.5)}function ij(t){return new nj(t,0)}function aj(t){return new nj(t,1)}function oj(t,e){if(!((o=t.length)>1))return;for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n){i=a,a=t[e[n]];for(r=0;r<s;++r){a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}}}function sj(t){var e=t.length,n=new Array(e);while(--e>=0)n[e]=e;return n}function uj(t,e){return t[e]}function lj(){var t=iF([]),e=sj,n=oj,r=uj;function i(i){var a=t.apply(this,arguments),o,s=i.length,u=a.length,l=new Array(u),c;for(o=0;o<u;++o){for(var f=a[o],h=l[o]=new Array(s),d=0,p;d<s;++d){h[d]=p=[0,+r(i[d],f,d,i)];p.data=i[d]}h.key=f}for(o=0,c=e(l);o<u;++o){l[c[o]].index=o}n(l,c);return l}i.keys=function(e){return arguments.length?(t=typeof e==="function"?e:iF(BF.call(e)),i):t};i.value=function(t){return arguments.length?(r=typeof t==="function"?t:iF(+t),i):r};i.order=function(t){return arguments.length?(e=t==null?sj:typeof t==="function"?t:iF(BF.call(t)),i):e};i.offset=function(t){return arguments.length?(n=t==null?oj:t,i):n};return i}function cj(t,e){if(!((r=t.length)>0))return;for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}oj(t,e)}function fj(t,e){if(!((u=t.length)>1))return;for(var n,r=0,i,a,o,s,u,l=t[e[0]].length;r<l;++r){for(o=s=0,n=0;n<u;++n){if((a=(i=t[e[n]][r])[1]-i[0])>=0){i[0]=o,i[1]=o+=a}else if(a<0){i[1]=s,i[0]=s+=a}else{i[0]=o}}}}function hj(t,e){if(!((i=t.length)>0))return;for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}oj(t,e)}function dj(t,e){if(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))return;for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,u=0,l=0;s<o;++s){var c=t[e[s]],f=c[r][1]||0,h=c[r-1][1]||0,d=(f-h)/2;for(var p=0;p<s;++p){var v=t[e[p]],y=v[r][1]||0,g=v[r-1][1]||0;d+=y-g}u+=f,l+=d*f}i[r-1][1]+=i[r-1][0]=n;if(u)n-=l/u}i[r-1][1]+=i[r-1][0]=n;oj(t,e)}function pj(t){var e=t.map(vj);return sj(t).sort((function(t,n){return e[t]-e[n]}))}function vj(t){var e=0,n=-1,r=t.length,i;while(++n<r)if(i=+t[n][1])e+=i;return e}function yj(t){return pj(t).reverse()}function gj(t){var e=t.length,n,r,i=t.map(vj),a=sj(t).sort((function(t,e){return i[e]-i[t]})),o=0,s=0,u=[],l=[];for(n=0;n<e;++n){r=a[n];if(o<s){o+=i[r];u.push(r)}else{s+=i[r];l.push(r)}}return l.reverse().concat(u)}function mj(t){return sj(t).reverse()}var bj=new Date,_j=new Date;function wj(t,e,n,r){function i(e){return t(e=new Date(+e)),e}i.floor=i;i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n};i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n};i.offset=function(t,n){return e(t=new Date(+t),n==null?1:Math.floor(n)),t};i.range=function(n,r,a){var o=[],s;n=i.ceil(n);a=a==null?1:Math.floor(a);if(!(n<r)||!(a>0))return o;do{o.push(s=new Date(+n)),e(n,a),t(n)}while(s<n&&n<r);return o};i.filter=function(n){return wj((function(e){if(e>=e)while(t(e),!n(e))e.setTime(e-1)}),(function(t,r){if(t>=t){if(r<0)while(++r<=0){while(e(t,-1),!n(t)){}}else while(--r>=0){while(e(t,+1),!n(t)){}}}}))};if(n){i.count=function(e,r){bj.setTime(+e),_j.setTime(+r);t(bj),t(_j);return Math.floor(n(bj,_j))};i.every=function(t){t=Math.floor(t);return!isFinite(t)||!(t>0)?null:!(t>1)?i:i.filter(r?function(e){return r(e)%t===0}:function(e){return i.count(0,e)%t===0})}}return i}var xj=wj((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));xj.every=function(t){t=Math.floor(t);if(!isFinite(t)||!(t>0))return null;if(!(t>1))return xj;return wj((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t}))};var Aj=xj.range;var Sj=1e3;var Tj=6e4;var Lj=36e5;var Ej=864e5;var Nj=6048e5;var Cj=wj((function(t){t.setTime(Math.floor(t/Sj)*Sj)}),(function(t,e){t.setTime(+t+e*Sj)}),(function(t,e){return(e-t)/Sj}),(function(t){return t.getUTCSeconds()}));var Mj=Cj.range;var kj=wj((function(t){t.setTime(Math.floor(t/Tj)*Tj)}),(function(t,e){t.setTime(+t+e*Tj)}),(function(t,e){return(e-t)/Tj}),(function(t){return t.getMinutes()}));var Ij=kj.range;var Oj=wj((function(t){var e=t.getTimezoneOffset()*Tj%Lj;if(e<0)e+=Lj;t.setTime(Math.floor((+t-e)/Lj)*Lj+e)}),(function(t,e){t.setTime(+t+e*Lj)}),(function(t,e){return(e-t)/Lj}),(function(t){return t.getHours()}));var Dj=Oj.range;var Rj=wj((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Tj)/Ej}),(function(t){return t.getDate()-1}));var Uj=Rj.range;function Pj(t){return wj((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7);e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e*7)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Tj)/Nj}))}var Fj=Pj(0);var Hj=Pj(1);var jj=Pj(2);var Vj=Pj(3);var Bj=Pj(4);var zj=Pj(5);var Yj=Pj(6);var Wj=Fj.range;var Gj=Hj.range;var qj=jj.range;var Xj=Vj.range;var $j=Bj.range;var Kj=zj.range;var Zj=Yj.range;var Qj=wj((function(t){t.setDate(1);t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12}),(function(t){return t.getMonth()}));var Jj=Qj.range;var tV=wj((function(t){t.setMonth(0,1);t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));tV.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:wj((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t);e.setMonth(0,1);e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)}))};var eV=tV.range;var nV=wj((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*Tj)}),(function(t,e){return(e-t)/Tj}),(function(t){return t.getUTCMinutes()}));var rV=nV.range;var iV=wj((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*Lj)}),(function(t,e){return(e-t)/Lj}),(function(t){return t.getUTCHours()}));var aV=iV.range;var oV=wj((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/Ej}),(function(t){return t.getUTCDate()-1}));var sV=oV.range;function uV(t){return wj((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7);e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e*7)}),(function(t,e){return(e-t)/Nj}))}var lV=uV(0);var cV=uV(1);var fV=uV(2);var hV=uV(3);var dV=uV(4);var pV=uV(5);var vV=uV(6);var yV=lV.range;var gV=cV.range;var mV=fV.range;var bV=hV.range;var _V=dV.range;var wV=pV.range;var xV=vV.range;var AV=wj((function(t){t.setUTCDate(1);t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12}),(function(t){return t.getUTCMonth()}));var SV=AV.range;var TV=wj((function(t){t.setUTCMonth(0,1);t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));TV.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:wj((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t);e.setUTCMonth(0,1);e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}))};var LV=TV.range;var EV=new Date,NV=new Date;function CV(t,e,n,r){function i(e){return t(e=arguments.length===0?new Date:new Date(+e)),e}i.floor=function(e){return t(e=new Date(+e)),e};i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n};i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n};i.offset=function(t,n){return e(t=new Date(+t),n==null?1:Math.floor(n)),t};i.range=function(n,r,a){var o=[],s;n=i.ceil(n);a=a==null?1:Math.floor(a);if(!(n<r)||!(a>0))return o;do{o.push(s=new Date(+n)),e(n,a),t(n)}while(s<n&&n<r);return o};i.filter=function(n){return CV((function(e){if(e>=e)while(t(e),!n(e))e.setTime(e-1)}),(function(t,r){if(t>=t){if(r<0)while(++r<=0){while(e(t,-1),!n(t)){}}else while(--r>=0){while(e(t,+1),!n(t)){}}}}))};if(n){i.count=function(e,r){EV.setTime(+e),NV.setTime(+r);t(EV),t(NV);return Math.floor(n(EV,NV))};i.every=function(t){t=Math.floor(t);return!isFinite(t)||!(t>0)?null:!(t>1)?i:i.filter(r?function(e){return r(e)%t===0}:function(e){return i.count(0,e)%t===0})}}return i}var MV=CV((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));MV.every=function(t){t=Math.floor(t);if(!isFinite(t)||!(t>0))return null;if(!(t>1))return MV;return CV((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t}))};var kV=1e3;var IV=6e4;var OV=36e5;var DV=864e5;var RV=6048e5;CV((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*kV)}),(function(t,e){return(e-t)/kV}),(function(t){return t.getUTCSeconds()}));CV((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*kV)}),(function(t,e){t.setTime(+t+e*IV)}),(function(t,e){return(e-t)/IV}),(function(t){return t.getMinutes()}));CV((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*kV-t.getMinutes()*IV)}),(function(t,e){t.setTime(+t+e*OV)}),(function(t,e){return(e-t)/OV}),(function(t){return t.getHours()}));var UV=CV((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*IV)/DV}),(function(t){return t.getDate()-1}));function PV(t){return CV((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7);e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e*7)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*IV)/RV}))}var FV=PV(0);var HV=PV(1);PV(2);PV(3);var jV=PV(4);PV(5);PV(6);CV((function(t){t.setDate(1);t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12}),(function(t){return t.getMonth()}));var VV=CV((function(t){t.setMonth(0,1);t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));VV.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:CV((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t);e.setMonth(0,1);e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)}))};CV((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*IV)}),(function(t,e){return(e-t)/IV}),(function(t){return t.getUTCMinutes()}));CV((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*OV)}),(function(t,e){return(e-t)/OV}),(function(t){return t.getUTCHours()}));var BV=CV((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/DV}),(function(t){return t.getUTCDate()-1}));function zV(t){return CV((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7);e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e*7)}),(function(t,e){return(e-t)/RV}))}var YV=zV(0);var WV=zV(1);zV(2);zV(3);var GV=zV(4);zV(5);zV(6);CV((function(t){t.setUTCDate(1);t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12}),(function(t){return t.getUTCMonth()}));var qV=CV((function(t){t.setUTCMonth(0,1);t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));qV.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:CV((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t);e.setUTCMonth(0,1);e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}))};function XV(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);e.setFullYear(t.y);return e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function $V(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));e.setUTCFullYear(t.y);return e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function KV(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function ZV(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,u=t.shortMonths;var l=iB(i),c=aB(i),f=iB(a),h=aB(a),d=iB(o),p=aB(o),v=iB(s),y=aB(s),g=iB(u),m=aB(u);var b={a:O,A:D,b:R,B:U,c:null,d:TB,e:TB,f:MB,H:LB,I:EB,j:NB,L:CB,m:kB,M:IB,p:P,Q:oz,s:sz,S:OB,u:DB,U:RB,V:UB,w:PB,W:FB,x:null,X:null,y:HB,Y:jB,Z:VB,"%":az};var _={a:F,A:H,b:j,B:V,c:null,d:BB,e:BB,f:qB,H:zB,I:YB,j:WB,L:GB,m:XB,M:$B,p:B,Q:oz,s:sz,S:KB,u:ZB,U:QB,V:JB,w:tz,W:ez,x:null,X:null,y:nz,Y:rz,Z:iz,"%":az};var w={a:L,A:E,b:N,B:C,c:M,d:vB,e:vB,f:wB,H:gB,I:gB,j:yB,L:_B,m:pB,M:mB,p:T,Q:AB,s:SB,S:bB,u:sB,U:uB,V:lB,w:oB,W:cB,x:k,X:I,y:hB,Y:fB,Z:dB,"%":xB};b.x=x(n,b);b.X=x(r,b);b.c=x(e,b);_.x=x(n,_);_.X=x(r,_);_.c=x(e,_);function x(t,e){return function(n){var r=[],i=-1,a=0,o=t.length,s,u,l;if(!(n instanceof Date))n=new Date(+n);while(++i<o){if(t.charCodeAt(i)===37){r.push(t.slice(a,i));if((u=QV[s=t.charAt(++i)])!=null)s=t.charAt(++i);else u=s==="e"?" ":"0";if(l=e[s])s=l(n,u);r.push(s);a=i+1}}r.push(t.slice(a,i));return r.join("")}}function A(t,e){return function(n){var r=KV(1900),i=S(r,t,n+="",0),a,o;if(i!=n.length)return null;if("Q"in r)return new Date(r.Q);if("p"in r)r.H=r.H%12+r.p*12;if("V"in r){if(r.V<1||r.V>53)return null;if(!("w"in r))r.w=1;if("Z"in r){a=$V(KV(r.y)),o=a.getUTCDay();a=o>4||o===0?WV.ceil(a):WV(a);a=BV.offset(a,(r.V-1)*7);r.y=a.getUTCFullYear();r.m=a.getUTCMonth();r.d=a.getUTCDate()+(r.w+6)%7}else{a=e(KV(r.y)),o=a.getDay();a=o>4||o===0?HV.ceil(a):HV(a);a=UV.offset(a,(r.V-1)*7);r.y=a.getFullYear();r.m=a.getMonth();r.d=a.getDate()+(r.w+6)%7}}else if("W"in r||"U"in r){if(!("w"in r))r.w="u"in r?r.u%7:"W"in r?1:0;o="Z"in r?$V(KV(r.y)).getUTCDay():e(KV(r.y)).getDay();r.m=0;r.d="W"in r?(r.w+6)%7+r.W*7-(o+5)%7:r.w+r.U*7-(o+6)%7}if("Z"in r){r.H+=r.Z/100|0;r.M+=r.Z%100;return $V(r)}return e(r)}}function S(t,e,n,r){var i=0,a=e.length,o=n.length,s,u;while(i<a){if(r>=o)return-1;s=e.charCodeAt(i++);if(s===37){s=e.charAt(i++);u=w[s in QV?e.charAt(i++):s];if(!u||(r=u(t,n,r))<0)return-1}else if(s!=n.charCodeAt(r++)){return-1}}return r}function T(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=c[r[0].toLowerCase()],n+r[0].length):-1}function L(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1}function E(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1}function N(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1}function C(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1}function M(t,n,r){return S(t,e,n,r)}function k(t,e,r){return S(t,n,e,r)}function I(t,e,n){return S(t,r,e,n)}function O(t){return o[t.getDay()]}function D(t){return a[t.getDay()]}function R(t){return u[t.getMonth()]}function U(t){return s[t.getMonth()]}function P(t){return i[+(t.getHours()>=12)]}function F(t){return o[t.getUTCDay()]}function H(t){return a[t.getUTCDay()]}function j(t){return u[t.getUTCMonth()]}function V(t){return s[t.getUTCMonth()]}function B(t){return i[+(t.getUTCHours()>=12)]}return{format:function(t){var e=x(t+="",b);e.toString=function(){return t};return e},parse:function(t){var e=A(t+="",XV);e.toString=function(){return t};return e},utcFormat:function(t){var e=x(t+="",_);e.toString=function(){return t};return e},utcParse:function(t){var e=A(t,$V);e.toString=function(){return t};return e}}}var QV={"-":"",_:" ",0:"0"},JV=/^\s*\d+/,tB=/^%/,eB=/[\\^$*+?|[\]().{}]/g;function nB(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function rB(t){return t.replace(eB,"\\$&")}function iB(t){return new RegExp("^(?:"+t.map(rB).join("|")+")","i")}function aB(t){var e={},n=-1,r=t.length;while(++n<r)e[t[n].toLowerCase()]=n;return e}function oB(t,e,n){var r=JV.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function sB(t,e,n){var r=JV.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function uB(t,e,n){var r=JV.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function lB(t,e,n){var r=JV.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function cB(t,e,n){var r=JV.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function fB(t,e,n){var r=JV.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function hB(t,e,n){var r=JV.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function dB(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function pB(t,e,n){var r=JV.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function vB(t,e,n){var r=JV.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function yB(t,e,n){var r=JV.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function gB(t,e,n){var r=JV.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function mB(t,e,n){var r=JV.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function bB(t,e,n){var r=JV.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function _B(t,e,n){var r=JV.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function wB(t,e,n){var r=JV.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function xB(t,e,n){var r=tB.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function AB(t,e,n){var r=JV.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function SB(t,e,n){var r=JV.exec(e.slice(n));return r?(t.Q=+r[0]*1e3,n+r[0].length):-1}function TB(t,e){return nB(t.getDate(),e,2)}function LB(t,e){return nB(t.getHours(),e,2)}function EB(t,e){return nB(t.getHours()%12||12,e,2)}function NB(t,e){return nB(1+UV.count(VV(t),t),e,3)}function CB(t,e){return nB(t.getMilliseconds(),e,3)}function MB(t,e){return CB(t,e)+"000"}function kB(t,e){return nB(t.getMonth()+1,e,2)}function IB(t,e){return nB(t.getMinutes(),e,2)}function OB(t,e){return nB(t.getSeconds(),e,2)}function DB(t){var e=t.getDay();return e===0?7:e}function RB(t,e){return nB(FV.count(VV(t),t),e,2)}function UB(t,e){var n=t.getDay();t=n>=4||n===0?jV(t):jV.ceil(t);return nB(jV.count(VV(t),t)+(VV(t).getDay()===4),e,2)}function PB(t){return t.getDay()}function FB(t,e){return nB(HV.count(VV(t),t),e,2)}function HB(t,e){return nB(t.getFullYear()%100,e,2)}function jB(t,e){return nB(t.getFullYear()%1e4,e,4)}function VB(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+nB(e/60|0,"0",2)+nB(e%60,"0",2)}function BB(t,e){return nB(t.getUTCDate(),e,2)}function zB(t,e){return nB(t.getUTCHours(),e,2)}function YB(t,e){return nB(t.getUTCHours()%12||12,e,2)}function WB(t,e){return nB(1+BV.count(qV(t),t),e,3)}function GB(t,e){return nB(t.getUTCMilliseconds(),e,3)}function qB(t,e){return GB(t,e)+"000"}function XB(t,e){return nB(t.getUTCMonth()+1,e,2)}function $B(t,e){return nB(t.getUTCMinutes(),e,2)}function KB(t,e){return nB(t.getUTCSeconds(),e,2)}function ZB(t){var e=t.getUTCDay();return e===0?7:e}function QB(t,e){return nB(YV.count(qV(t),t),e,2)}function JB(t,e){var n=t.getUTCDay();t=n>=4||n===0?GV(t):GV.ceil(t);return nB(GV.count(qV(t),t)+(qV(t).getUTCDay()===4),e,2)}function tz(t){return t.getUTCDay()}function ez(t,e){return nB(WV.count(qV(t),t),e,2)}function nz(t,e){return nB(t.getUTCFullYear()%100,e,2)}function rz(t,e){return nB(t.getUTCFullYear()%1e4,e,4)}function iz(){return"+0000"}function az(){return"%"}function oz(t){return+t}function sz(t){return Math.floor(+t/1e3)}var uz;var lz;var cz;var fz;var hz;dz({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dz(t){uz=ZV(t);lz=uz.format;cz=uz.parse;fz=uz.utcFormat;hz=uz.utcParse;return uz}var pz="%Y-%m-%dT%H:%M:%S.%LZ";function vz(t){return t.toISOString()}var yz=Date.prototype.toISOString?vz:fz(pz);function gz(t){var e=new Date(t);return isNaN(e)?null:e}var mz=+new Date("2000-01-01T00:00:00.000Z")?gz:hz(pz);var bz=0,_z=0,wz=0,xz=1e3,Az,Sz,Tz=0,Lz=0,Ez=0,Nz=typeof performance==="object"&&performance.now?performance:Date,Cz=typeof window==="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Mz(){return Lz||(Cz(kz),Lz=Nz.now()+Ez)}function kz(){Lz=0}function Iz(){this._call=this._time=this._next=null}Iz.prototype=Oz.prototype={constructor:Iz,restart:function(t,e,n){if(typeof t!=="function")throw new TypeError("callback is not a function");n=(n==null?Mz():+n)+(e==null?0:+e);if(!this._next&&Sz!==this){if(Sz)Sz._next=this;else Az=this;Sz=this}this._call=t;this._time=n;Fz()},stop:function(){if(this._call){this._call=null;this._time=Infinity;Fz()}}};function Oz(t,e,n){var r=new Iz;r.restart(t,e,n);return r}function Dz(){Mz();++bz;var t=Az,e;while(t){if((e=Lz-t._time)>=0)t._call.call(null,e);t=t._next}--bz}function Rz(){Lz=(Tz=Nz.now())+Ez;bz=_z=0;try{Dz()}finally{bz=0;Pz();Lz=0}}function Uz(){var t=Nz.now(),e=t-Tz;if(e>xz)Ez-=e,Tz=t}function Pz(){var t,e=Az,n,r=Infinity;while(e){if(e._call){if(r>e._time)r=e._time;t=e,e=e._next}else{n=e._next,e._next=null;e=t?t._next=n:Az=n}}Sz=t;Fz(r)}function Fz(t){if(bz)return;if(_z)_z=clearTimeout(_z);var e=t-Lz;if(e>24){if(t<Infinity)_z=setTimeout(Rz,t-Nz.now()-Ez);if(wz)wz=clearInterval(wz)}else{if(!wz)Tz=Nz.now(),wz=setInterval(Uz,xz);bz=1,Cz(Rz)}}function Hz(t,e,n){var r=new Iz;e=e==null?0:+e;r.restart((function(n){r.stop();t(n+e)}),e,n);return r}function jz(t,e,n){var r=new Iz,i=e;if(e==null)return r.restart(t,e,n),r;e=+e,n=n==null?Mz():+n;r.restart((function a(o){o+=i;r.restart(a,i+=e,n);t(o)}),e,n);return r}var Vz="http://www.w3.org/1999/xhtml";var Bz={svg:"http://www.w3.org/2000/svg",xhtml:Vz,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function zz(t){var e=t+="",n=e.indexOf(":");if(n>=0&&(e=t.slice(0,n))!=="xmlns")t=t.slice(n+1);return Bz.hasOwnProperty(e)?{space:Bz[e],local:t}:t}function Yz(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Vz&&e.documentElement.namespaceURI===Vz?e.createElement(t):e.createElementNS(n,t)}}function Wz(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Gz(t){var e=zz(t);return(e.local?Wz:Yz)(e)}function qz(){}function Xz(t){return t==null?qz:function(){return this.querySelector(t)}}function $z(t){if(typeof t!=="function")t=Xz(t);for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i){for(var a=e[i],o=a.length,s=r[i]=new Array(o),u,l,c=0;c<o;++c){if((u=a[c])&&(l=t.call(u,u.__data__,c,a))){if("__data__"in u)l.__data__=u.__data__;s[c]=l}}}return new EW(r,this._parents)}function Kz(){return[]}function Zz(t){return t==null?Kz:function(){return this.querySelectorAll(t)}}function Qz(t){if(typeof t!=="function")t=Zz(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a){for(var o=e[a],s=o.length,u,l=0;l<s;++l){if(u=o[l]){r.push(t.call(u,u.__data__,l,o));i.push(u)}}}return new EW(r,i)}function Jz(t){return function(){return this.matches(t)}}function tY(t){if(typeof t!=="function")t=Jz(t);for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i){for(var a=e[i],o=a.length,s=r[i]=[],u,l=0;l<o;++l){if((u=a[l])&&t.call(u,u.__data__,l,a)){s.push(u)}}}return new EW(r,this._parents)}function eY(t){return new Array(t.length)}function nY(){return new EW(this._enter||this._groups.map(eY),this._parents)}function rY(t,e){this.ownerDocument=t.ownerDocument;this.namespaceURI=t.namespaceURI;this._next=null;this._parent=t;this.__data__=e}rY.prototype={constructor:rY,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function iY(t){return function(){return t}}var aY="$";function oY(t,e,n,r,i,a){var o=0,s,u=e.length,l=a.length;for(;o<l;++o){if(s=e[o]){s.__data__=a[o];r[o]=s}else{n[o]=new rY(t,a[o])}}for(;o<u;++o){if(s=e[o]){i[o]=s}}}function sY(t,e,n,r,i,a,o){var s,u,l={},c=e.length,f=a.length,h=new Array(c),d;for(s=0;s<c;++s){if(u=e[s]){h[s]=d=aY+o.call(u,u.__data__,s,e);if(d in l){i[s]=u}else{l[d]=u}}}for(s=0;s<f;++s){d=aY+o.call(t,a[s],s,a);if(u=l[d]){r[s]=u;u.__data__=a[s];l[d]=null}else{n[s]=new rY(t,a[s])}}for(s=0;s<c;++s){if((u=e[s])&&l[h[s]]===u){i[s]=u}}}function uY(t,e){if(!t){d=new Array(this.size()),l=-1;this.each((function(t){d[++l]=t}));return d}var n=e?sY:oY,r=this._parents,i=this._groups;if(typeof t!=="function")t=iY(t);for(var a=i.length,o=new Array(a),s=new Array(a),u=new Array(a),l=0;l<a;++l){var c=r[l],f=i[l],h=f.length,d=t.call(c,c&&c.__data__,l,r),p=d.length,v=s[l]=new Array(p),y=o[l]=new Array(p),g=u[l]=new Array(h);n(c,f,v,y,g,d,e);for(var m=0,b=0,_,w;m<p;++m){if(_=v[m]){if(m>=b)b=m+1;while(!(w=y[b])&&++b<p);_._next=w||null}}}o=new EW(o,r);o._enter=s;o._exit=u;return o}function lY(){return new EW(this._exit||this._groups.map(eY),this._parents)}function cY(t,e,n){var r=this.enter(),i=this,a=this.exit();r=typeof t==="function"?t(r):r.append(t+"");if(e!=null)i=e(i);if(n==null)a.remove();else n(a);return r&&i?r.merge(i).order():i}function fY(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s){for(var u=e[s],l=n[s],c=u.length,f=o[s]=new Array(c),h,d=0;d<c;++d){if(h=u[d]||l[d]){f[d]=h}}}for(;s<r;++s){o[s]=e[s]}return new EW(o,this._parents)}function hY(){for(var t=this._groups,e=-1,n=t.length;++e<n;){for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;){if(o=r[i]){if(a&&o.compareDocumentPosition(a)^4)a.parentNode.insertBefore(o,a);a=o}}}return this}function dY(t){if(!t)t=pY;function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,u=i[a]=new Array(s),l,c=0;c<s;++c){if(l=o[c]){u[c]=l}}u.sort(e)}return new EW(i,this._parents).order()}function pY(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function vY(){var t=arguments[0];arguments[0]=this;t.apply(null,arguments);return this}function yY(){var t=new Array(this.size()),e=-1;this.each((function(){t[++e]=this}));return t}function gY(){for(var t=this._groups,e=0,n=t.length;e<n;++e){for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}}return null}function mY(){var t=0;this.each((function(){++t}));return t}function bY(){return!this.node()}function _Y(t){for(var e=this._groups,n=0,r=e.length;n<r;++n){for(var i=e[n],a=0,o=i.length,s;a<o;++a){if(s=i[a])t.call(s,s.__data__,a,i)}}return this}function wY(t){return function(){this.removeAttribute(t)}}function xY(t){return function(){this.removeAttributeNS(t.space,t.local)}}function AY(t,e){return function(){this.setAttribute(t,e)}}function SY(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function TY(t,e){return function(){var n=e.apply(this,arguments);if(n==null)this.removeAttribute(t);else this.setAttribute(t,n)}}function LY(t,e){return function(){var n=e.apply(this,arguments);if(n==null)this.removeAttributeNS(t.space,t.local);else this.setAttributeNS(t.space,t.local,n)}}function EY(t,e){var n=zz(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?xY:wY:typeof e==="function"?n.local?LY:TY:n.local?SY:AY)(n,e))}function NY(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function CY(t){return function(){this.style.removeProperty(t)}}function MY(t,e,n){return function(){this.style.setProperty(t,e,n)}}function kY(t,e,n){return function(){var r=e.apply(this,arguments);if(r==null)this.style.removeProperty(t);else this.style.setProperty(t,r,n)}}function IY(t,e,n){return arguments.length>1?this.each((e==null?CY:typeof e==="function"?kY:MY)(t,e,n==null?"":n)):OY(this.node(),t)}function OY(t,e){return t.style.getPropertyValue(e)||NY(t).getComputedStyle(t,null).getPropertyValue(e)}function DY(t){return function(){delete this[t]}}function RY(t,e){return function(){this[t]=e}}function UY(t,e){return function(){var n=e.apply(this,arguments);if(n==null)delete this[t];else this[t]=n}}function PY(t,e){return arguments.length>1?this.each((e==null?DY:typeof e==="function"?UY:RY)(t,e)):this.node()[t]}function FY(t){return t.trim().split(/^|\s+/)}function HY(t){return t.classList||new jY(t)}function jY(t){this._node=t;this._names=FY(t.getAttribute("class")||"")}jY.prototype={add:function(t){var e=this._names.indexOf(t);if(e<0){this._names.push(t);this._node.setAttribute("class",this._names.join(" "))}},remove:function(t){var e=this._names.indexOf(t);if(e>=0){this._names.splice(e,1);this._node.setAttribute("class",this._names.join(" "))}},contains:function(t){return this._names.indexOf(t)>=0}};function VY(t,e){var n=HY(t),r=-1,i=e.length;while(++r<i)n.add(e[r])}function BY(t,e){var n=HY(t),r=-1,i=e.length;while(++r<i)n.remove(e[r])}function zY(t){return function(){VY(this,t)}}function YY(t){return function(){BY(this,t)}}function WY(t,e){return function(){(e.apply(this,arguments)?VY:BY)(this,t)}}function GY(t,e){var n=FY(t+"");if(arguments.length<2){var r=HY(this.node()),i=-1,a=n.length;while(++i<a)if(!r.contains(n[i]))return false;return true}return this.each((typeof e==="function"?WY:e?zY:YY)(n,e))}function qY(){this.textContent=""}function XY(t){return function(){this.textContent=t}}function $Y(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function KY(t){return arguments.length?this.each(t==null?qY:(typeof t==="function"?$Y:XY)(t)):this.node().textContent}function ZY(){this.innerHTML=""}function QY(t){return function(){this.innerHTML=t}}function JY(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function tW(t){return arguments.length?this.each(t==null?ZY:(typeof t==="function"?JY:QY)(t)):this.node().innerHTML}function eW(){if(this.nextSibling)this.parentNode.appendChild(this)}function nW(){return this.each(eW)}function rW(){if(this.previousSibling)this.parentNode.insertBefore(this,this.parentNode.firstChild)}function iW(){return this.each(rW)}function aW(t){var e=typeof t==="function"?t:Gz(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))}function oW(){return null}function sW(t,e){var n=typeof t==="function"?t:Gz(t),r=e==null?oW:typeof e==="function"?e:Xz(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))}function uW(){var t=this.parentNode;if(t)t.removeChild(this)}function lW(){return this.each(uW)}function cW(){var t=this.cloneNode(false),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function fW(){var t=this.cloneNode(true),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function hW(t){return this.select(t?fW:cW)}function dW(t){return arguments.length?this.property("__data__",t):this.node().__data__}var pW={};if(typeof document!=="undefined"){var vW=document.documentElement;if(!("onmouseenter"in vW)){pW={mouseenter:"mouseover",mouseleave:"mouseout"}}}function yW(t,e,n){t=gW(t,e,n);return function(e){var n=e.relatedTarget;if(!n||n!==this&&!(n.compareDocumentPosition(this)&8)){t.call(this,e)}}}function gW(t,e,n){return function(r){try{t.call(this,this.__data__,e,n)}finally{}}}function mW(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0)e=t.slice(n+1),t=t.slice(0,n);return{type:t,name:e}}))}function bW(t){return function(){var e=this.__on;if(!e)return;for(var n=0,r=-1,i=e.length,a;n<i;++n){if(a=e[n],(!t.type||a.type===t.type)&&a.name===t.name){this.removeEventListener(a.type,a.listener,a.capture)}else{e[++r]=a}}if(++r)e.length=r;else delete this.__on}}function _W(t,e,n){var r=pW.hasOwnProperty(t.type)?yW:gW;return function(i,a,o){var s=this.__on,u,l=r(e,a,o);if(s)for(var c=0,f=s.length;c<f;++c){if((u=s[c]).type===t.type&&u.name===t.name){this.removeEventListener(u.type,u.listener,u.capture);this.addEventListener(u.type,u.listener=l,u.capture=n);u.value=e;return}}this.addEventListener(t.type,l,n);u={type:t.type,name:t.name,value:e,listener:l,capture:n};if(!s)this.__on=[u];else s.push(u)}}function wW(t,e,n){var r=mW(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s)for(var u=0,l=s.length,c;u<l;++u){for(i=0,c=s[u];i<a;++i){if((o=r[i]).type===c.type&&o.name===c.name){return c.value}}}return}s=e?_W:bW;if(n==null)n=false;for(i=0;i<a;++i)this.each(s(r[i],e,n));return this}function xW(t,e,n){var r=NY(t),i=r.CustomEvent;if(typeof i==="function"){i=new i(e,n)}else{i=r.document.createEvent("Event");if(n)i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail;else i.initEvent(e,false,false)}t.dispatchEvent(i)}function AW(t,e){return function(){return xW(this,t,e)}}function SW(t,e){return function(){return xW(this,t,e.apply(this,arguments))}}function TW(t,e){return this.each((typeof e==="function"?SW:AW)(t,e))}var LW=[null];function EW(t,e){this._groups=t;this._parents=e}function NW(){return new EW([[document.documentElement]],LW)}EW.prototype=NW.prototype={constructor:EW,select:$z,selectAll:Qz,filter:tY,data:uY,enter:nY,exit:lY,join:cY,merge:fY,order:hY,sort:dY,call:vY,nodes:yY,node:gY,size:mY,empty:bY,each:_Y,attr:EY,style:IY,property:PY,classed:GY,text:KY,html:tW,raise:nW,lower:iW,append:aW,insert:sW,remove:lW,clone:hW,datum:dW,on:wW,dispatch:TW};var CW={value:function(){}};function MW(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new kW(n)}function kW(t){this._=t}function IW(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0)n=t.slice(r+1),t=t.slice(0,r);if(t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}kW.prototype=MW.prototype={constructor:kW,on:function(t,e){var n=this._,r=IW(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){while(++a<o)if((i=(t=r[a]).type)&&(i=OW(n[i],t.name)))return i;return}if(e!=null&&typeof e!=="function")throw new Error("invalid callback: "+e);while(++a<o){if(i=(t=r[a]).type)n[i]=DW(n[i],t.name,e);else if(e==null)for(i in n)n[i]=DW(n[i],t.name,null)}return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new kW(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function OW(t,e){for(var n=0,r=t.length,i;n<r;++n){if((i=t[n]).name===e){return i.value}}}function DW(t,e,n){for(var r=0,i=t.length;r<i;++r){if(t[r].name===e){t[r]=CW,t=t.slice(0,r).concat(t.slice(r+1));break}}if(n!=null)t.push({name:e,value:n});return t}var RW=0,UW=0,PW=0,FW=1e3,HW,jW,VW=0,BW=0,zW=0,YW=typeof performance==="object"&&performance.now?performance:Date,WW=typeof window==="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function GW(){return BW||(WW(qW),BW=YW.now()+zW)}function qW(){BW=0}function XW(){this._call=this._time=this._next=null}XW.prototype=$W.prototype={constructor:XW,restart:function(t,e,n){if(typeof t!=="function")throw new TypeError("callback is not a function");n=(n==null?GW():+n)+(e==null?0:+e);if(!this._next&&jW!==this){if(jW)jW._next=this;else HW=this;jW=this}this._call=t;this._time=n;tG()},stop:function(){if(this._call){this._call=null;this._time=Infinity;tG()}}};function $W(t,e,n){var r=new XW;r.restart(t,e,n);return r}function KW(){GW();++RW;var t=HW,e;while(t){if((e=BW-t._time)>=0)t._call.call(null,e);t=t._next}--RW}function ZW(){BW=(VW=YW.now())+zW;RW=UW=0;try{KW()}finally{RW=0;JW();BW=0}}function QW(){var t=YW.now(),e=t-VW;if(e>FW)zW-=e,VW=t}function JW(){var t,e=HW,n,r=Infinity;while(e){if(e._call){if(r>e._time)r=e._time;t=e,e=e._next}else{n=e._next,e._next=null;e=t?t._next=n:HW=n}}jW=t;tG(r)}function tG(t){if(RW)return;if(UW)UW=clearTimeout(UW);var e=t-BW;if(e>24){if(t<Infinity)UW=setTimeout(ZW,t-YW.now()-zW);if(PW)PW=clearInterval(PW)}else{if(!PW)VW=YW.now(),PW=setInterval(QW,FW);RW=1,WW(ZW)}}function eG(t,e,n){var r=new XW;e=e==null?0:+e;r.restart((function(n){r.stop();t(n+e)}),e,n);return r}var nG=MW("start","end","interrupt");var rG=[];var iG=0;var aG=1;var oG=2;var sG=3;var uG=4;var lG=5;var cG=6;function fG(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;vG(t,n,{name:e,index:r,group:i,on:nG,tween:rG,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:iG})}function hG(t,e){var n=pG(t,e);if(n.state>iG)throw new Error("too late; already scheduled");return n}function dG(t,e){var n=pG(t,e);if(n.state>oG)throw new Error("too late; already started");return n}function pG(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function vG(t,e,n){var r=t.__transition,i;r[e]=n;n.timer=$W(a,0,n.time);function a(t){n.state=aG;n.timer.restart(o,n.delay,n.time);if(n.delay<=t)o(t-n.delay)}function o(a){var l,c,f,h;if(n.state!==aG)return u();for(l in r){h=r[l];if(h.name!==n.name)continue;if(h.state===sG)return eG(o);if(h.state===uG){h.state=cG;h.timer.stop();h.on.call("interrupt",t,t.__data__,h.index,h.group);delete r[l]}else if(+l<e){h.state=cG;h.timer.stop();delete r[l]}}eG((function(){if(n.state===sG){n.state=uG;n.timer.restart(s,n.delay,n.time);s(a)}}));n.state=oG;n.on.call("start",t,t.__data__,n.index,n.group);if(n.state!==oG)return;n.state=sG;i=new Array(f=n.tween.length);for(l=0,c=-1;l<f;++l){if(h=n.tween[l].value.call(t,t.__data__,n.index,n.group)){i[++c]=h}}i.length=c+1}function s(e){var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=lG,1),a=-1,o=i.length;while(++a<o){i[a].call(null,r)}if(n.state===lG){n.on.call("end",t,t.__data__,n.index,n.group);u()}}function u(){n.state=cG;n.timer.stop();delete r[e];for(var i in r)return;delete t.__transition}}function yG(t,e){var n=t.__transition,r,i,a=true,o;if(!n)return;e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=false;continue}i=r.state>oG&&r.state<lG;r.state=cG;r.timer.stop();if(i)r.on.call("interrupt",t,t.__data__,r.index,r.group);delete n[o]}if(a)delete t.__transition}function gG(t){return this.each((function(){yG(this,t)}))}function mG(t){return function(){return t}}function bG(t,e){return function(n){return t+n*e}}function _G(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function wG(t){return(t=+t)===1?xG:function(e,n){return n-e?_G(e,n,t):mG(isNaN(e)?n:e)}}function xG(t,e){var n=e-t;return n?bG(t,n):mG(isNaN(t)?e:t)}var AG=function t(e){var n=wG(e);function r(t,e){var r=n((t=Ba(t)).r,(e=Ba(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=xG(t.opacity,e.opacity);return function(e){t.r=r(e);t.g=i(e);t.b=a(e);t.opacity=o(e);return t+""}}r.gamma=t;return r}(1);function SG(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var TG=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,LG=new RegExp(TG.source,"g");function EG(t){return function(){return t}}function NG(t){return function(e){return t(e)+""}}function CG(t,e){var n=TG.lastIndex=LG.lastIndex=0,r,i,a,o=-1,s=[],u=[];t=t+"",e=e+"";while((r=TG.exec(t))&&(i=LG.exec(e))){if((a=i.index)>n){a=e.slice(n,a);if(s[o])s[o]+=a;else s[++o]=a}if((r=r[0])===(i=i[0])){if(s[o])s[o]+=i;else s[++o]=i}else{s[++o]=null;u.push({i:o,x:SG(r,i)})}n=LG.lastIndex}if(n<e.length){a=e.slice(n);if(s[o])s[o]+=a;else s[++o]=a}return s.length<2?u[0]?NG(u[0].x):EG(e):(e=u.length,function(t){for(var n=0,r;n<e;++n)s[(r=u[n]).i]=r.x(t);return s.join("")})}var MG=180/Math.PI;var kG={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function IG(t,e,n,r,i,a){var o,s,u;if(o=Math.sqrt(t*t+e*e))t/=o,e/=o;if(u=t*n+e*r)n-=t*u,r-=e*u;if(s=Math.sqrt(n*n+r*r))n/=s,r/=s,u/=s;if(t*r<e*n)t=-t,e=-e,u=-u,o=-o;return{translateX:i,translateY:a,rotate:Math.atan2(e,t)*MG,skewX:Math.atan(u)*MG,scaleX:o,scaleY:s}}var OG,DG,RG,UG;function PG(t){if(t==="none")return kG;if(!OG)OG=document.createElement("DIV"),DG=document.documentElement,RG=document.defaultView;OG.style.transform=t;t=RG.getComputedStyle(DG.appendChild(OG),null).getPropertyValue("transform");DG.removeChild(OG);t=t.slice(7,-1).split(",");return IG(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5])}function FG(t){if(t==null)return kG;if(!UG)UG=document.createElementNS("http://www.w3.org/2000/svg","g");UG.setAttribute("transform",t);if(!(t=UG.transform.baseVal.consolidate()))return kG;t=t.matrix;return IG(t.a,t.b,t.c,t.d,t.e,t.f)}function HG(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function a(t,r,i,a,o,s){if(t!==i||r!==a){var u=o.push("translate(",null,e,null,n);s.push({i:u-4,x:SG(t,i)},{i:u-2,x:SG(r,a)})}else if(i||a){o.push("translate("+i+e+a+n)}}function o(t,e,n,a){if(t!==e){if(t-e>180)e+=360;else if(e-t>180)t+=360;a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:SG(t,e)})}else if(e){n.push(i(n)+"rotate("+e+r)}}function s(t,e,n,a){if(t!==e){a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:SG(t,e)})}else if(e){n.push(i(n)+"skewX("+e+r)}}function u(t,e,n,r,a,o){if(t!==n||e!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:SG(t,n)},{i:s-2,x:SG(e,r)})}else if(n!==1||r!==1){a.push(i(a)+"scale("+n+","+r+")")}}return function(e,n){var r=[],i=[];e=t(e),n=t(n);a(e.translateX,e.translateY,n.translateX,n.translateY,r,i);o(e.rotate,n.rotate,r,i);s(e.skewX,n.skewX,r,i);u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i);e=n=null;return function(t){var e=-1,n=i.length,a;while(++e<n)r[(a=i[e]).i]=a.x(t);return r.join("")}}}var jG=HG(PG,"px, ","px)","deg)");var VG=HG(FG,", ",")",")");function BG(t,e){var n,r;return function(){var i=dG(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o){if(r[o].name===e){r=r.slice();r.splice(o,1);break}}}i.tween=r}}function zG(t,e,n){var r,i;if(typeof n!=="function")throw new Error;return function(){var a=dG(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u){if(i[u].name===e){i[u]=s;break}}if(u===l)i.push(s)}a.tween=i}}function YG(t,e){var n=this._id;t+="";if(arguments.length<2){var r=pG(this.node(),n).tween;for(var i=0,a=r.length,o;i<a;++i){if((o=r[i]).name===t){return o.value}}return null}return this.each((e==null?BG:zG)(n,t,e))}function WG(t,e,n){var r=t._id;t.each((function(){var t=dG(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}));return function(t){return pG(t,r).value[e]}}function GG(t,e){var n;return(typeof e==="number"?SG:e instanceof Fa?AG:(n=Fa(e))?(e=n,AG):CG)(t,e)}function qG(t){return function(){this.removeAttribute(t)}}function XG(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $G(t,e,n){var r,i;return function(){var a=this.getAttribute(t);return a===n?null:a===r?i:i=e(r=a,n)}}function KG(t,e,n){var r,i;return function(){var a=this.getAttributeNS(t.space,t.local);return a===n?null:a===r?i:i=e(r=a,n)}}function ZG(t,e,n){var r,i,a;return function(){var o,s=n(this);if(s==null)return void this.removeAttribute(t);o=this.getAttribute(t);return o===s?null:o===r&&s===i?a:a=e(r=o,i=s)}}function QG(t,e,n){var r,i,a;return function(){var o,s=n(this);if(s==null)return void this.removeAttributeNS(t.space,t.local);o=this.getAttributeNS(t.space,t.local);return o===s?null:o===r&&s===i?a:a=e(r=o,i=s)}}function JG(t,e){var n=zz(t),r=n==="transform"?VG:GG;return this.attrTween(t,typeof e==="function"?(n.local?QG:ZG)(n,r,WG(this,"attr."+t,e)):e==null?(n.local?XG:qG)(n):(n.local?KG:$G)(n,r,e+""))}function tq(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttributeNS(t.space,t.local,r(e))}}n._value=e;return n}function eq(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttribute(t,r(e))}}n._value=e;return n}function nq(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!=="function")throw new Error;var r=zz(t);return this.tween(n,(r.local?tq:eq)(r,e))}function rq(t,e){return function(){hG(this,t).delay=+e.apply(this,arguments)}}function iq(t,e){return e=+e,function(){hG(this,t).delay=e}}function aq(t){var e=this._id;return arguments.length?this.each((typeof t==="function"?rq:iq)(e,t)):pG(this.node(),e).delay}function oq(t,e){return function(){dG(this,t).duration=+e.apply(this,arguments)}}function sq(t,e){return e=+e,function(){dG(this,t).duration=e}}function uq(t){var e=this._id;return arguments.length?this.each((typeof t==="function"?oq:sq)(e,t)):pG(this.node(),e).duration}function lq(t,e){if(typeof e!=="function")throw new Error;return function(){dG(this,t).ease=e}}function cq(t){var e=this._id;return arguments.length?this.each(lq(e,t)):pG(this.node(),e).ease}function fq(t){if(typeof t!=="function")t=Jz(t);for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i){for(var a=e[i],o=a.length,s=r[i]=[],u,l=0;l<o;++l){if((u=a[l])&&t.call(u,u.__data__,l,a)){s.push(u)}}}return new Dq(r,this._parents,this._name,this._id)}function hq(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s){for(var u=e[s],l=n[s],c=u.length,f=o[s]=new Array(c),h,d=0;d<c;++d){if(h=u[d]||l[d]){f[d]=h}}}for(;s<r;++s){o[s]=e[s]}return new Dq(o,this._parents,this._name,this._id)}function dq(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");if(e>=0)t=t.slice(0,e);return!t||t==="start"}))}function pq(t,e,n){var r,i,a=dq(e)?hG:dG;return function(){var o=a(this,t),s=o.on;if(s!==r)(i=(r=s).copy()).on(e,n);o.on=i}}function vq(t,e){var n=this._id;return arguments.length<2?pG(this.node(),n).on.on(t):this.each(pq(n,t,e))}function yq(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;if(e)e.removeChild(this)}}function gq(){return this.on("end.remove",yq(this._id))}function mq(t){var e=this._name,n=this._id;if(typeof t!=="function")t=Xz(t);for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o){for(var s=r[o],u=s.length,l=a[o]=new Array(u),c,f,h=0;h<u;++h){if((c=s[h])&&(f=t.call(c,c.__data__,h,s))){if("__data__"in c)f.__data__=c.__data__;l[h]=f;fG(l[h],e,n,h,l,pG(c,n))}}}return new Dq(a,this._parents,e,n)}function bq(t){var e=this._name,n=this._id;if(typeof t!=="function")t=Zz(t);for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s){for(var u=r[s],l=u.length,c,f=0;f<l;++f){if(c=u[f]){for(var h=t.call(c,c.__data__,f,u),d,p=pG(c,n),v=0,y=h.length;v<y;++v){if(d=h[v]){fG(d,e,n,v,h,p)}}a.push(h);o.push(c)}}}return new Dq(a,o,e,n)}var _q=NW.prototype.constructor;function wq(){return new _q(this._groups,this._parents)}function xq(t,e){var n,r,i;return function(){var a=OY(this,t),o=(this.style.removeProperty(t),OY(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function Aq(t){return function(){this.style.removeProperty(t)}}function Sq(t,e,n){var r,i;return function(){var a=OY(this,t);return a===n?null:a===r?i:i=e(r=a,n)}}function Tq(t,e,n){var r,i,a;return function(){var o=OY(this,t),s=n(this);if(s==null)s=(this.style.removeProperty(t),OY(this,t));return o===s?null:o===r&&s===i?a:a=e(r=o,i=s)}}function Lq(t,e,n){var r=(t+="")==="transform"?jG:GG;return e==null?this.styleTween(t,xq(t,r)).on("end.style."+t,Aq(t)):this.styleTween(t,typeof e==="function"?Tq(t,r,WG(this,"style."+t,e)):Sq(t,r,e+""),n)}function Eq(t,e,n){function r(){var r=this,i=e.apply(r,arguments);return i&&function(e){r.style.setProperty(t,i(e),n)}}r._value=e;return r}function Nq(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!=="function")throw new Error;return this.tween(r,Eq(t,e,n==null?"":n))}function Cq(t){return function(){this.textContent=t}}function Mq(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function kq(t){return this.tween("text",typeof t==="function"?Mq(WG(this,"text",t)):Cq(t==null?"":t+""))}function Iq(){var t=this._name,e=this._id,n=Uq();for(var r=this._groups,i=r.length,a=0;a<i;++a){for(var o=r[a],s=o.length,u,l=0;l<s;++l){if(u=o[l]){var c=pG(u,e);fG(u,t,n,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}}}return new Dq(r,this._parents,t,n)}var Oq=0;function Dq(t,e,n,r){this._groups=t;this._parents=e;this._name=n;this._id=r}function Rq(t){return NW().transition(t)}function Uq(){return++Oq}var Pq=NW.prototype;Dq.prototype=Rq.prototype={constructor:Dq,select:mq,selectAll:bq,filter:fq,merge:hq,selection:wq,transition:Iq,call:Pq.call,nodes:Pq.nodes,node:Pq.node,size:Pq.size,empty:Pq.empty,each:Pq.each,on:vq,attr:JG,attrTween:nq,style:Lq,styleTween:Nq,text:kq,remove:gq,tween:YG,delay:aq,duration:uq,ease:cq};function Fq(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Hq={time:null,delay:0,duration:250,ease:Fq};function jq(t,e){var n;while(!(n=t.__transition)||!(n=n[e])){if(!(t=t.parentNode)){return Hq.time=GW(),Hq}}return n}function Vq(t){var e,n;if(t instanceof Dq){e=t._id,t=t._name}else{e=Uq(),(n=Hq).time=GW(),t=t==null?null:t+""}for(var r=this._groups,i=r.length,a=0;a<i;++a){for(var o=r[a],s=o.length,u,l=0;l<s;++l){if(u=o[l]){fG(u,t,e,l,o,n||jq(u,e))}}}return new Dq(r,this._parents,t,e)}NW.prototype.interrupt=gG;NW.prototype.transition=Vq;var Bq=[null];function zq(t,e){var n=t.__transition,r,i;if(n){e=e==null?null:e+"";for(i in n){if((r=n[i]).state>aG&&r.name===e){return new Dq([[t]],Bq,e,+i)}}}return null}function Yq(t){return function(){return t}}function Wq(t){return t[0]}function Gq(t){return t[1]}function qq(){this._=null}function Xq(t){t.U=t.C=t.L=t.R=t.P=t.N=null}qq.prototype={constructor:qq,insert:function(t,e){var n,r,i;if(t){e.P=t;e.N=t.N;if(t.N)t.N.P=e;t.N=e;if(t.R){t=t.R;while(t.L)t=t.L;t.L=e}else{t.R=e}n=t}else if(this._){t=Zq(this._);e.P=null;e.N=t;t.P=t.L=e;n=t}else{e.P=e.N=null;this._=e;n=null}e.L=e.R=null;e.U=n;e.C=true;t=e;while(n&&n.C){r=n.U;if(n===r.L){i=r.R;if(i&&i.C){n.C=i.C=false;r.C=true;t=r}else{if(t===n.R){$q(this,n);t=n;n=t.U}n.C=false;r.C=true;Kq(this,r)}}else{i=r.L;if(i&&i.C){n.C=i.C=false;r.C=true;t=r}else{if(t===n.L){Kq(this,n);t=n;n=t.U}n.C=false;r.C=true;$q(this,r)}}n=t.U}this._.C=false},remove:function(t){if(t.N)t.N.P=t.P;if(t.P)t.P.N=t.N;t.N=t.P=null;var e=t.U,n,r=t.L,i=t.R,a,o;if(!r)a=i;else if(!i)a=r;else a=Zq(i);if(e){if(e.L===t)e.L=a;else e.R=a}else{this._=a}if(r&&i){o=a.C;a.C=t.C;a.L=r;r.U=a;if(a!==i){e=a.U;a.U=t.U;t=a.R;e.L=t;a.R=i;i.U=a}else{a.U=e;e=a;t=a.R}}else{o=t.C;t=a}if(t)t.U=e;if(o)return;if(t&&t.C){t.C=false;return}do{if(t===this._)break;if(t===e.L){n=e.R;if(n.C){n.C=false;e.C=true;$q(this,e);n=e.R}if(n.L&&n.L.C||n.R&&n.R.C){if(!n.R||!n.R.C){n.L.C=false;n.C=true;Kq(this,n);n=e.R}n.C=e.C;e.C=n.R.C=false;$q(this,e);t=this._;break}}else{n=e.L;if(n.C){n.C=false;e.C=true;Kq(this,e);n=e.L}if(n.L&&n.L.C||n.R&&n.R.C){if(!n.L||!n.L.C){n.R.C=false;n.C=true;$q(this,n);n=e.L}n.C=e.C;e.C=n.L.C=false;Kq(this,e);t=this._;break}}n.C=true;t=e;e=e.U}while(!t.C);if(t)t.C=false}};function $q(t,e){var n=e,r=e.R,i=n.U;if(i){if(i.L===n)i.L=r;else i.R=r}else{t._=r}r.U=i;n.U=r;n.R=r.L;if(n.R)n.R.U=n;r.L=n}function Kq(t,e){var n=e,r=e.L,i=n.U;if(i){if(i.L===n)i.L=r;else i.R=r}else{t._=r}r.U=i;n.U=r;n.L=r.R;if(n.L)n.L.U=n;r.R=n}function Zq(t){while(t.L)t=t.L;return t}function Qq(t,e,n,r){var i=[null,null],a=NX.push(i)-1;i.left=t;i.right=e;if(n)tX(i,t,e,n);if(r)tX(i,e,t,r);LX[t.index].halfedges.push(a);LX[e.index].halfedges.push(a);return i}function Jq(t,e,n){var r=[e,n];r.left=t;return r}function tX(t,e,n,r){if(!t[0]&&!t[1]){t[0]=r;t.left=e;t.right=n}else if(t.left===n){t[1]=r}else{t[0]=r}}function eX(t,e,n,r,i){var a=t[0],o=t[1],s=a[0],u=a[1],l=o[0],c=o[1],f=0,h=1,d=l-s,p=c-u,v;v=e-s;if(!d&&v>0)return;v/=d;if(d<0){if(v<f)return;if(v<h)h=v}else if(d>0){if(v>h)return;if(v>f)f=v}v=r-s;if(!d&&v<0)return;v/=d;if(d<0){if(v>h)return;if(v>f)f=v}else if(d>0){if(v<f)return;if(v<h)h=v}v=n-u;if(!p&&v>0)return;v/=p;if(p<0){if(v<f)return;if(v<h)h=v}else if(p>0){if(v>h)return;if(v>f)f=v}v=i-u;if(!p&&v<0)return;v/=p;if(p<0){if(v>h)return;if(v>f)f=v}else if(p>0){if(v<f)return;if(v<h)h=v}if(!(f>0)&&!(h<1))return true;if(f>0)t[0]=[s+f*d,u+f*p];if(h<1)t[1]=[s+h*d,u+h*p];return true}function nX(t,e,n,r,i){var a=t[1];if(a)return true;var o=t[0],s=t.left,u=t.right,l=s[0],c=s[1],f=u[0],h=u[1],d=(l+f)/2,p=(c+h)/2,v,y;if(h===c){if(d<e||d>=r)return;if(l>f){if(!o)o=[d,n];else if(o[1]>=i)return;a=[d,i]}else{if(!o)o=[d,i];else if(o[1]<n)return;a=[d,n]}}else{v=(l-f)/(h-c);y=p-v*d;if(v<-1||v>1){if(l>f){if(!o)o=[(n-y)/v,n];else if(o[1]>=i)return;a=[(i-y)/v,i]}else{if(!o)o=[(i-y)/v,i];else if(o[1]<n)return;a=[(n-y)/v,n]}}else{if(c<h){if(!o)o=[e,v*e+y];else if(o[0]>=r)return;a=[r,v*r+y]}else{if(!o)o=[r,v*r+y];else if(o[0]<e)return;a=[e,v*e+y]}}}t[0]=o;t[1]=a;return true}function rX(t,e,n,r){var i=NX.length,a;while(i--){if(!nX(a=NX[i],t,e,n,r)||!eX(a,t,e,n,r)||!(Math.abs(a[0][0]-a[1][0])>AX||Math.abs(a[0][1]-a[1][1])>AX)){delete NX[i]}}}function iX(t){return LX[t.index]={site:t,halfedges:[]}}function aX(t,e){var n=t.site,r=e.left,i=e.right;if(n===i)i=r,r=n;if(i)return Math.atan2(i[1]-r[1],i[0]-r[0]);if(n===r)r=e[1],i=e[0];else r=e[0],i=e[1];return Math.atan2(r[0]-i[0],i[1]-r[1])}function oX(t,e){return e[+(e.left!==t.site)]}function sX(t,e){return e[+(e.left===t.site)]}function uX(){for(var t=0,e=LX.length,n,r,i,a;t<e;++t){if((n=LX[t])&&(a=(r=n.halfedges).length)){var o=new Array(a),s=new Array(a);for(i=0;i<a;++i)o[i]=i,s[i]=aX(n,NX[r[i]]);o.sort((function(t,e){return s[e]-s[t]}));for(i=0;i<a;++i)s[i]=r[o[i]];for(i=0;i<a;++i)r[i]=s[i]}}}function lX(t,e,n,r){var i=LX.length,a,o,s,u,l,c,f,h,d,p,v,y,g=true;for(a=0;a<i;++a){if(o=LX[a]){s=o.site;l=o.halfedges;u=l.length;while(u--){if(!NX[l[u]]){l.splice(u,1)}}u=0,c=l.length;while(u<c){p=sX(o,NX[l[u]]),v=p[0],y=p[1];f=oX(o,NX[l[++u%c]]),h=f[0],d=f[1];if(Math.abs(v-h)>AX||Math.abs(y-d)>AX){l.splice(u,0,NX.push(Jq(s,p,Math.abs(v-t)<AX&&r-y>AX?[t,Math.abs(h-t)<AX?d:r]:Math.abs(y-r)<AX&&n-v>AX?[Math.abs(d-r)<AX?h:n,r]:Math.abs(v-n)<AX&&y-e>AX?[n,Math.abs(h-n)<AX?d:e]:Math.abs(y-e)<AX&&v-t>AX?[Math.abs(d-e)<AX?h:t,e]:null))-1);++c}}if(c)g=false}}if(g){var m,b,_,w=Infinity;for(a=0,g=null;a<i;++a){if(o=LX[a]){s=o.site;m=s[0]-t;b=s[1]-e;_=m*m+b*b;if(_<w)w=_,g=o}}if(g){var x=[t,e],A=[t,r],S=[n,r],T=[n,e];g.halfedges.push(NX.push(Jq(s=g.site,x,A))-1,NX.push(Jq(s,A,S))-1,NX.push(Jq(s,S,T))-1,NX.push(Jq(s,T,x))-1)}}for(a=0;a<i;++a){if(o=LX[a]){if(!o.halfedges.length){delete LX[a]}}}}var cX=[];var fX;function hX(){Xq(this);this.x=this.y=this.arc=this.site=this.cy=null}function dX(t){var e=t.P,n=t.N;if(!e||!n)return;var r=e.site,i=t.site,a=n.site;if(r===a)return;var o=i[0],s=i[1],u=r[0]-o,l=r[1]-s,c=a[0]-o,f=a[1]-s;var h=2*(u*f-l*c);if(h>=-SX)return;var d=u*u+l*l,p=c*c+f*f,v=(f*d-l*p)/h,y=(u*p-c*d)/h;var g=cX.pop()||new hX;g.arc=t;g.site=i;g.x=v+o;g.y=(g.cy=y+s)+Math.sqrt(v*v+y*y);t.circle=g;var m=null,b=EX._;while(b){if(g.y<b.y||g.y===b.y&&g.x<=b.x){if(b.L)b=b.L;else{m=b.P;break}}else{if(b.R)b=b.R;else{m=b;break}}}EX.insert(m,g);if(!m)fX=g}function pX(t){var e=t.circle;if(e){if(!e.P)fX=e.N;EX.remove(e);cX.push(e);Xq(e);t.circle=null}}var vX=[];function yX(){Xq(this);this.edge=this.site=this.circle=null}function gX(t){var e=vX.pop()||new yX;e.site=t;return e}function mX(t){pX(t);TX.remove(t);vX.push(t);Xq(t)}function bX(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],a=t.P,o=t.N,s=[t];mX(t);var u=a;while(u.circle&&Math.abs(n-u.circle.x)<AX&&Math.abs(r-u.circle.cy)<AX){a=u.P;s.unshift(u);mX(u);u=a}s.unshift(u);pX(u);var l=o;while(l.circle&&Math.abs(n-l.circle.x)<AX&&Math.abs(r-l.circle.cy)<AX){o=l.N;s.push(l);mX(l);l=o}s.push(l);pX(l);var c=s.length,f;for(f=1;f<c;++f){l=s[f];u=s[f-1];tX(l.edge,u.site,l.site,i)}u=s[0];l=s[c-1];l.edge=Qq(u.site,l.site,null,i);dX(u);dX(l)}function _X(t){var e=t[0],n=t[1],r,i,a,o,s=TX._;while(s){a=wX(s,n)-e;if(a>AX)s=s.L;else{o=e-xX(s,n);if(o>AX){if(!s.R){r=s;break}s=s.R}else{if(a>-AX){r=s.P;i=s}else if(o>-AX){r=s;i=s.N}else{r=i=s}break}}}iX(t);var u=gX(t);TX.insert(r,u);if(!r&&!i)return;if(r===i){pX(r);i=gX(r.site);TX.insert(u,i);u.edge=i.edge=Qq(r.site,u.site);dX(r);dX(i);return}if(!i){u.edge=Qq(r.site,u.site);return}pX(r);pX(i);var l=r.site,c=l[0],f=l[1],h=t[0]-c,d=t[1]-f,p=i.site,v=p[0]-c,y=p[1]-f,g=2*(h*y-d*v),m=h*h+d*d,b=v*v+y*y,_=[(y*m-d*b)/g+c,(h*b-v*m)/g+f];tX(i.edge,l,p,_);u.edge=Qq(l,t,null,_);i.edge=Qq(t,p,null,_);dX(r);dX(i)}function wX(t,e){var n=t.site,r=n[0],i=n[1],a=i-e;if(!a)return r;var o=t.P;if(!o)return-Infinity;n=o.site;var s=n[0],u=n[1],l=u-e;if(!l)return s;var c=s-r,f=1/a-1/l,h=c/l;if(f)return(-h+Math.sqrt(h*h-2*f*(c*c/(-2*l)-u+l/2+i-a/2)))/f+r;return(r+s)/2}function xX(t,e){var n=t.N;if(n)return wX(n,e);var r=t.site;return r[1]===e?r[0]:Infinity}var AX=1e-6;var SX=1e-12;var TX;var LX;var EX;var NX;function CX(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function MX(t,e){return e[1]-t[1]||e[0]-t[0]}function kX(t,e){var n=t.sort(MX).pop(),r,i,a;NX=[];LX=new Array(t.length);TX=new qq;EX=new qq;while(true){a=fX;if(n&&(!a||n[1]<a.y||n[1]===a.y&&n[0]<a.x)){if(n[0]!==r||n[1]!==i){_X(n);r=n[0],i=n[1]}n=t.pop()}else if(a){bX(a.arc)}else{break}}uX();if(e){var o=+e[0][0],s=+e[0][1],u=+e[1][0],l=+e[1][1];rX(o,s,u,l);lX(o,s,u,l)}this.edges=NX;this.cells=LX;TX=EX=NX=LX=null}kX.prototype={constructor:kX,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return oX(e,t[n])}));n.data=e.site.data;return n}))},triangles:function(){var t=[],e=this.edges;this.cells.forEach((function(n,r){if(!(s=(a=n.halfedges).length))return;var i=n.site,a,o=-1,s,u,l=e[a[s-1]],c=l.left===i?l.right:l.left;while(++o<s){u=c;l=e[a[o]];c=l.left===i?l.right:l.left;if(u&&c&&r<u.index&&r<c.index&&CX(i,u,c)<0){t.push([i.data,u.data,c.data])}}}));return t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){var r=this,i,a=r._found||0,o=r.cells.length,s;while(!(s=r.cells[a]))if(++a>=o)return null;var u=t-s.site[0],l=e-s.site[1],c=u*u+l*l;do{s=r.cells[i=a],a=null;s.halfedges.forEach((function(n){var i=r.edges[n],o=i.left;if((o===s.site||!o)&&!(o=i.right))return;var u=t-o[0],l=e-o[1],f=u*u+l*l;if(f<c)c=f,a=o.index}))}while(a!==null);r._found=i;return n==null||c<=n*n?s.site:null}};function IX(){var t=Wq,e=Gq,n=null;function r(r){return new kX(r.map((function(n,i){var a=[Math.round(t(n,i,r)/AX)*AX,Math.round(e(n,i,r)/AX)*AX];a.index=i;a.data=n;return a})),n)}r.polygons=function(t){return r(t).polygons()};r.links=function(t){return r(t).links()};r.triangles=function(t){return r(t).triangles()};r.x=function(e){return arguments.length?(t=typeof e==="function"?e:Yq(+e),r):t};r.y=function(t){return arguments.length?(e=typeof t==="function"?t:Yq(+t),r):e};r.extent=function(t){return arguments.length?(n=t==null?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]};r.size=function(t){return arguments.length?(n=t==null?null:[[0,0],[+t[0],+t[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]};return r}var OX=oc("start","end","cancel","interrupt");var DX=[];var RX=0;var UX=1;var PX=2;var FX=3;var HX=4;var jX=5;var VX=6;function BX(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;GX(t,n,{name:e,index:r,group:i,on:OX,tween:DX,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:RX})}function zX(t,e){var n=WX(t,e);if(n.state>RX)throw new Error("too late; already scheduled");return n}function YX(t,e){var n=WX(t,e);if(n.state>FX)throw new Error("too late; already running");return n}function WX(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function GX(t,e,n){var r=t.__transition,i;r[e]=n;n.timer=Tc(a,0,n.time);function a(t){n.state=UX;n.timer.restart(o,n.delay,n.time);if(n.delay<=t)o(t-n.delay)}function o(a){var l,c,f,h;if(n.state!==UX)return u();for(l in r){h=r[l];if(h.name!==n.name)continue;if(h.state===FX)return kc(o);if(h.state===HX){h.state=VX;h.timer.stop();h.on.call("interrupt",t,t.__data__,h.index,h.group);delete r[l]}else if(+l<e){h.state=VX;h.timer.stop();h.on.call("cancel",t,t.__data__,h.index,h.group);delete r[l]}}kc((function(){if(n.state===FX){n.state=HX;n.timer.restart(s,n.delay,n.time);s(a)}}));n.state=PX;n.on.call("start",t,t.__data__,n.index,n.group);if(n.state!==PX)return;n.state=FX;i=new Array(f=n.tween.length);for(l=0,c=-1;l<f;++l){if(h=n.tween[l].value.call(t,t.__data__,n.index,n.group)){i[++c]=h}}i.length=c+1}function s(e){var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=jX,1),a=-1,o=i.length;while(++a<o){i[a].call(t,r)}if(n.state===jX){n.on.call("end",t,t.__data__,n.index,n.group);u()}}function u(){n.state=VX;n.timer.stop();delete r[e];for(var i in r)return;delete t.__transition}}function qX(t,e){var n=t.__transition,r,i,a=true,o;if(!n)return;e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=false;continue}i=r.state>PX&&r.state<jX;r.state=VX;r.timer.stop();r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group);delete n[o]}if(a)delete t.__transition}function XX(t){return this.each((function(){qX(this,t)}))}function $X(t,e){var n,r;return function(){var i=YX(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o){if(r[o].name===e){r=r.slice();r.splice(o,1);break}}}i.tween=r}}function KX(t,e,n){var r,i;if(typeof n!=="function")throw new Error;return function(){var a=YX(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u){if(i[u].name===e){i[u]=s;break}}if(u===l)i.push(s)}a.tween=i}}function ZX(t,e){var n=this._id;t+="";if(arguments.length<2){var r=WX(this.node(),n).tween;for(var i=0,a=r.length,o;i<a;++i){if((o=r[i]).name===t){return o.value}}return null}return this.each((e==null?$X:KX)(n,t,e))}function QX(t,e,n){var r=t._id;t.each((function(){var t=YX(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}));return function(t){return WX(t,r).value[e]}}function JX(t,e){var n;return(typeof e==="number"?Xo:e instanceof Fa?zo:(n=Fa(e))?(e=n,zo):ts)(t,e)}function t$(t){return function(){this.removeAttribute(t)}}function e$(t){return function(){this.removeAttributeNS(t.space,t.local)}}function n$(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function r$(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function i$(t,e,n){var r,i,a;return function(){var o,s=n(this),u;if(s==null)return void this.removeAttribute(t);o=this.getAttribute(t);u=s+"";return o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s))}}function a$(t,e,n){var r,i,a;return function(){var o,s=n(this),u;if(s==null)return void this.removeAttributeNS(t.space,t.local);o=this.getAttributeNS(t.space,t.local);u=s+"";return o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s))}}function o$(t,e){var n=o(t),r=n==="transform"?ps:JX;return this.attrTween(t,typeof e==="function"?(n.local?a$:i$)(n,r,QX(this,"attr."+t,e)):e==null?(n.local?e$:t$)(n):(n.local?r$:n$)(n,r,e))}function s$(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function u$(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function l$(t,e){var n,r;function i(){var i=e.apply(this,arguments);if(i!==r)n=(r=i)&&u$(t,i);return n}i._value=e;return i}function c$(t,e){var n,r;function i(){var i=e.apply(this,arguments);if(i!==r)n=(r=i)&&s$(t,i);return n}i._value=e;return i}function f$(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!=="function")throw new Error;var r=o(t);return this.tween(n,(r.local?l$:c$)(r,e))}function h$(t,e){return function(){zX(this,t).delay=+e.apply(this,arguments)}}function d$(t,e){return e=+e,function(){zX(this,t).delay=e}}function p$(t){var e=this._id;return arguments.length?this.each((typeof t==="function"?h$:d$)(e,t)):WX(this.node(),e).delay}function v$(t,e){return function(){YX(this,t).duration=+e.apply(this,arguments)}}function y$(t,e){return e=+e,function(){YX(this,t).duration=e}}function g$(t){var e=this._id;return arguments.length?this.each((typeof t==="function"?v$:y$)(e,t)):WX(this.node(),e).duration}function m$(t,e){if(typeof e!=="function")throw new Error;return function(){YX(this,t).ease=e}}function b$(t){var e=this._id;return arguments.length?this.each(m$(e,t)):WX(this.node(),e).ease}function _$(t){if(typeof t!=="function")t=y(t);for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i){for(var a=e[i],o=a.length,s=r[i]=[],u,l=0;l<o;++l){if((u=a[l])&&t.call(u,u.__data__,l,a)){s.push(u)}}}return new $$(r,this._parents,this._name,this._id)}function w$(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s){for(var u=e[s],l=n[s],c=u.length,f=o[s]=new Array(c),h,d=0;d<c;++d){if(h=u[d]||l[d]){f[d]=h}}}for(;s<r;++s){o[s]=e[s]}return new $$(o,this._parents,this._name,this._id)}function x$(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");if(e>=0)t=t.slice(0,e);return!t||t==="start"}))}function A$(t,e,n){var r,i,a=x$(e)?zX:YX;return function(){var o=a(this,t),s=o.on;if(s!==r)(i=(r=s).copy()).on(e,n);o.on=i}}function S$(t,e){var n=this._id;return arguments.length<2?WX(this.node(),n).on.on(t):this.each(A$(n,t,e))}function T$(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;if(e)e.removeChild(this)}}function L$(){return this.on("end.remove",T$(this._id))}function E$(t){var e=this._name,n=this._id;if(typeof t!=="function")t=f(t);for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o){for(var s=r[o],u=s.length,l=a[o]=new Array(u),c,h,d=0;d<u;++d){if((c=s[d])&&(h=t.call(c,c.__data__,d,s))){if("__data__"in c)h.__data__=c.__data__;l[d]=h;BX(l[d],e,n,d,l,WX(c,n))}}}return new $$(a,this._parents,e,n)}function N$(t){var e=this._name,n=this._id;if(typeof t!=="function")t=p(t);for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s){for(var u=r[s],l=u.length,c,f=0;f<l;++f){if(c=u[f]){for(var h=t.call(c,c.__data__,f,u),d,v=WX(c,n),y=0,g=h.length;y<g;++y){if(d=h[y]){BX(d,e,n,y,h,v)}}a.push(h);o.push(c)}}}return new $$(a,o,e,n)}var C$=qt.prototype.constructor;function M$(){return new C$(this._groups,this._parents)}function k$(t,e){var n,r,i;return function(){var a=K(this,t),o=(this.style.removeProperty(t),K(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function I$(t){return function(){this.style.removeProperty(t)}}function O$(t,e,n){var r,i=n+"",a;return function(){var o=K(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}function D$(t,e,n){var r,i,a;return function(){var o=K(this,t),s=n(this),u=s+"";if(s==null)u=s=(this.style.removeProperty(t),K(this,t));return o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s))}}function R$(t,e){var n,r,i,a="style."+e,o="end."+a,s;return function(){var u=YX(this,t),l=u.on,c=u.value[a]==null?s||(s=I$(e)):undefined;if(l!==n||i!==c)(r=(n=l).copy()).on(o,i=c);u.on=r}}function U$(t,e,n){var r=(t+="")==="transform"?ds:JX;return e==null?this.styleTween(t,k$(t,r)).on("end.style."+t,I$(t)):typeof e==="function"?this.styleTween(t,D$(t,r,QX(this,"style."+t,e))).each(R$(this._id,t)):this.styleTween(t,O$(t,r,e),n).on("end.style."+t,null)}function P$(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function F$(t,e,n){var r,i;function a(){var a=e.apply(this,arguments);if(a!==i)r=(i=a)&&P$(t,a,n);return r}a._value=e;return a}function H$(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!=="function")throw new Error;return this.tween(r,F$(t,e,n==null?"":n))}function j$(t){return function(){this.textContent=t}}function V$(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function B$(t){return this.tween("text",typeof t==="function"?V$(QX(this,"text",t)):j$(t==null?"":t+""))}function z$(t){return function(e){this.textContent=t.call(this,e)}}function Y$(t){var e,n;function r(){var r=t.apply(this,arguments);if(r!==n)e=(n=r)&&z$(r);return e}r._value=t;return r}function W$(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!=="function")throw new Error;return this.tween(e,Y$(t))}function G$(){var t=this._name,e=this._id,n=K$();for(var r=this._groups,i=r.length,a=0;a<i;++a){for(var o=r[a],s=o.length,u,l=0;l<s;++l){if(u=o[l]){var c=WX(u,e);BX(u,t,n,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}}}return new $$(r,this._parents,t,n)}function q$(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var s={value:o},u={value:function(){if(--i===0)a()}};n.each((function(){var n=YX(this,r),i=n.on;if(i!==t){e=(t=i).copy();e._.cancel.push(s);e._.interrupt.push(s);e._.end.push(u)}n.on=e}))}))}var X$=0;function $$(t,e,n,r){this._groups=t;this._parents=e;this._name=n;this._id=r}function K$(){return++X$}var Z$=qt.prototype;$$.prototype={constructor:$$,select:E$,selectAll:N$,filter:_$,merge:w$,selection:M$,transition:G$,call:Z$.call,nodes:Z$.nodes,node:Z$.node,size:Z$.size,empty:Z$.empty,each:Z$.each,on:S$,attr:o$,attrTween:f$,style:U$,styleTween:H$,text:B$,textTween:W$,remove:L$,tween:ZX,delay:p$,duration:g$,ease:b$,end:q$};var Q$={time:null,delay:0,duration:250,ease:Wf};function J$(t,e){var n;while(!(n=t.__transition)||!(n=n[e])){if(!(t=t.parentNode)){return Q$.time=xc(),Q$}}return n}function tK(t){var e,n;if(t instanceof $$){e=t._id,t=t._name}else{e=K$(),(n=Q$).time=xc(),t=t==null?null:t+""}for(var r=this._groups,i=r.length,a=0;a<i;++a){for(var o=r[a],s=o.length,u,l=0;l<s;++l){if(u=o[l]){BX(u,t,e,l,o,n||J$(u,e))}}}return new $$(r,this._parents,t,e)}qt.prototype.interrupt=XX;qt.prototype.transition=tK;function eK(t){return function(){return t}}function nK(t,e,n){this.target=t;this.type=e;this.transform=n}function rK(t,e,n){this.k=t;this.x=e;this.y=n}rK.prototype={constructor:rK,scale:function(t){return t===1?this:new rK(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new rK(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var iK=new rK(1,0,0);aK.prototype=rK.prototype;function aK(t){return t.__zoom||iK}function oK(){It.stopImmediatePropagation()}function sK(){It.preventDefault();It.stopImmediatePropagation()}function uK(){return!It.button}function lK(){var t=this,e,n;if(t instanceof SVGElement){t=t.ownerSVGElement||t;e=t.width.baseVal.value;n=t.height.baseVal.value}else{e=t.clientWidth;n=t.clientHeight}return[[0,0],[e,n]]}function cK(){return this.__zoom||iK}function fK(){return-It.deltaY*(It.deltaMode?120:1)/500}function hK(){return"ontouchstart"in this}function dK(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function pK(){var t=uK,e=lK,n=dK,r=fK,i=hK,a=[0,Infinity],o=[[-Infinity,-Infinity],[Infinity,Infinity]],s=250,u=xs,l=[],c=oc("start","zoom","end"),f,h,d=500,p=150,v=0;function y(t){t.property("__zoom",cK).on("wheel.zoom",A).on("mousedown.zoom",S).on("dblclick.zoom",T).filter(i).on("touchstart.zoom",L).on("touchmove.zoom",E).on("touchend.zoom touchcancel.zoom",N).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",cK);if(t!==n){_(t,e)}else{n.interrupt().each((function(){w(this,arguments).start().zoom(null,typeof e==="function"?e.apply(this,arguments):e).end()}))}};y.scaleBy=function(t,e){y.scaleTo(t,(function(){var t=this.__zoom.k,n=typeof e==="function"?e.apply(this,arguments):e;return t*n}))};y.scaleTo=function(t,r){y.transform(t,(function(){var t=e.apply(this,arguments),i=this.__zoom,a=b(t),s=i.invert(a),u=typeof r==="function"?r.apply(this,arguments):r;return n(m(g(i,u),a,s),t,o)}))};y.translateBy=function(t,r,i){y.transform(t,(function(){return n(this.__zoom.translate(typeof r==="function"?r.apply(this,arguments):r,typeof i==="function"?i.apply(this,arguments):i),e.apply(this,arguments),o)}))};y.translateTo=function(t,r,i){y.transform(t,(function(){var t=e.apply(this,arguments),a=this.__zoom,s=b(t);return n(iK.translate(s[0],s[1]).scale(a.k).translate(typeof r==="function"?-r.apply(this,arguments):-r,typeof i==="function"?-i.apply(this,arguments):-i),t,o)}))};function g(t,e){e=Math.max(a[0],Math.min(a[1],e));return e===t.k?t:new rK(e,t.x,t.y)}function m(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new rK(t.k,r,i)}function b(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function _(t,n,r){t.on("start.zoom",(function(){w(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){w(this,arguments).end()})).tween("zoom",(function(){var t=this,i=arguments,a=w(t,i),o=e.apply(t,i),s=r||b(o),l=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),c=t.__zoom,f=typeof n==="function"?n.apply(t,i):n,h=u(c.invert(s).concat(l/c.k),f.invert(s).concat(l/f.k));return function(t){if(t===1)t=f;else{var e=h(t),n=l/e[2];t=new rK(n,s[0]-e[0]*n,s[1]-e[1]*n)}a.zoom(null,t)}}))}function w(t,e){for(var n=0,r=l.length,i;n<r;++n){if((i=l[n]).that===t){return i}}return new x(t,e)}function x(t,n){this.that=t;this.args=n;this.index=-1;this.active=0;this.extent=e.apply(t,n)}x.prototype={start:function(){if(++this.active===1){this.index=l.push(this)-1;this.emit("start")}return this},zoom:function(t,e){if(this.mouse&&t!=="mouse")this.mouse[1]=e.invert(this.mouse[0]);if(this.touch0&&t!=="touch")this.touch0[1]=e.invert(this.touch0[0]);if(this.touch1&&t!=="touch")this.touch1[1]=e.invert(this.touch1[0]);this.that.__zoom=e;this.emit("zoom");return this},end:function(){if(--this.active===0){l.splice(this.index,1);this.index=-1;this.emit("end")}return this},emit:function(t){jt(new nK(y,t,this.that.__zoom),c.apply,c,[t,this.that,this.args])}};function A(){if(!t.apply(this,arguments))return;var e=w(this,arguments),i=this.__zoom,s=Math.max(a[0],Math.min(a[1],i.k*Math.pow(2,r.apply(this,arguments)))),u=Zt(this);if(e.wheel){if(e.mouse[0][0]!==u[0]||e.mouse[0][1]!==u[1]){e.mouse[1]=i.invert(e.mouse[0]=u)}clearTimeout(e.wheel)}else if(i.k===s)return;else{e.mouse=[u,i.invert(u)];qX(this);e.start()}sK();e.wheel=setTimeout(l,p);e.zoom("mouse",n(m(g(i,s),e.mouse[0],e.mouse[1]),e.extent,o));function l(){e.wheel=null;e.end()}}function S(){if(h||!t.apply(this,arguments))return;var e=w(this,arguments),r=Xt(It.view).on("mousemove.zoom",u,true).on("mouseup.zoom",l,true),i=Zt(this),a=It.clientX,s=It.clientY;Av(It.view);oK();e.mouse=[i,this.__zoom.invert(i)];qX(this);e.start();function u(){sK();if(!e.moved){var t=It.clientX-a,r=It.clientY-s;e.moved=t*t+r*r>v}e.zoom("mouse",n(m(e.that.__zoom,e.mouse[0]=Zt(e.that),e.mouse[1]),e.extent,o))}function l(){r.on("mousemove.zoom mouseup.zoom",null);Sv(It.view,e.moved);sK();e.end()}}function T(){if(!t.apply(this,arguments))return;var r=this.__zoom,i=Zt(this),a=r.invert(i),u=r.k*(It.shiftKey?.5:2),l=n(m(g(r,u),i,a),e.apply(this,arguments),o);sK();if(s>0)Xt(this).transition().duration(s).call(_,l,i);else Xt(this).call(y.transform,l)}function L(){if(!t.apply(this,arguments))return;var e=w(this,arguments),n=It.changedTouches,r,i=n.length,a,o,s;oK();for(a=0;a<i;++a){o=n[a],s=Jt(this,n,o.identifier);s=[s,this.__zoom.invert(s),o.identifier];if(!e.touch0)e.touch0=s,r=true;else if(!e.touch1)e.touch1=s}if(f){f=clearTimeout(f);if(!e.touch1){e.end();s=Xt(this).on("dblclick.zoom");if(s)s.apply(this,arguments);return}}if(r){f=setTimeout((function(){f=null}),d);qX(this);e.start()}}function E(){var t=w(this,arguments),e=It.changedTouches,r=e.length,i,a,s,u;sK();if(f)f=clearTimeout(f);for(i=0;i<r;++i){a=e[i],s=Jt(this,e,a.identifier);if(t.touch0&&t.touch0[2]===a.identifier)t.touch0[0]=s;else if(t.touch1&&t.touch1[2]===a.identifier)t.touch1[0]=s}a=t.that.__zoom;if(t.touch1){var l=t.touch0[0],c=t.touch0[1],h=t.touch1[0],d=t.touch1[1],p=(p=h[0]-l[0])*p+(p=h[1]-l[1])*p,v=(v=d[0]-c[0])*v+(v=d[1]-c[1])*v;a=g(a,Math.sqrt(p/v));s=[(l[0]+h[0])/2,(l[1]+h[1])/2];u=[(c[0]+d[0])/2,(c[1]+d[1])/2]}else if(t.touch0)s=t.touch0[0],u=t.touch0[1];else return;t.zoom("touch",n(m(a,s,u),t.extent,o))}function N(){var t=w(this,arguments),e=It.changedTouches,n=e.length,r,i;oK();if(h)clearTimeout(h);h=setTimeout((function(){h=null}),d);for(r=0;r<n;++r){i=e[r];if(t.touch0&&t.touch0[2]===i.identifier)delete t.touch0;else if(t.touch1&&t.touch1[2]===i.identifier)delete t.touch1}if(t.touch1&&!t.touch0)t.touch0=t.touch1,delete t.touch1;if(t.touch0)t.touch0[1]=this.__zoom.invert(t.touch0[0]);else t.end()}y.wheelDelta=function(t){return arguments.length?(r=typeof t==="function"?t:eK(+t),y):r};y.filter=function(e){return arguments.length?(t=typeof e==="function"?e:eK(!!e),y):t};y.touchable=function(t){return arguments.length?(i=typeof t==="function"?t:eK(!!t),y):i};y.extent=function(t){return arguments.length?(e=typeof t==="function"?t:eK([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),y):e};y.scaleExtent=function(t){return arguments.length?(a[0]=+t[0],a[1]=+t[1],y):[a[0],a[1]]};y.translateExtent=function(t){return arguments.length?(o[0][0]=+t[0][0],o[1][0]=+t[1][0],o[0][1]=+t[0][1],o[1][1]=+t[1][1],y):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]};y.constrain=function(t){return arguments.length?(n=t,y):n};y.duration=function(t){return arguments.length?(s=+t,y):s};y.interpolate=function(t){return arguments.length?(u=t,y):u};y.on=function(){var t=c.on.apply(c,arguments);return t===c?y:t};y.clickDistance=function(t){return arguments.length?(v=(t=+t)*t,y):Math.sqrt(v)};return y}var vK=Object.freeze({__proto__:null,version:vp,bisect:_p,bisectRight:_p,bisectLeft:wp,ascending:yp,bisector:gp,cross:Sp,descending:Tp,deviation:Np,extent:Cp,histogram:zp,thresholdFreedmanDiaconis:Wp,thresholdScott:Gp,thresholdSturges:Bp,max:qp,mean:Xp,median:$p,merge:Kp,min:Zp,pairs:xp,permute:Qp,quantile:Yp,range:Rp,scan:Jp,shuffle:tv,sum:ev,ticks:Hp,tickIncrement:jp,tickStep:Vp,transpose:nv,variance:Ep,zip:iv,axisTop:mv,axisRight:bv,axisBottom:_v,axisLeft:wv,brush:gg,brushX:vg,brushY:yg,brushSelection:pg,chord:Lg,ribbon:Dg,nest:Fg,set:Wg,map:Pg,keys:Gg,values:qg,entries:Xg,color:Fa,rgb:Ba,hsl:Qa,lab:yo,hcl:So,lch:Ao,gray:vo,cubehelix:Uo,dispatch:Kg,drag:f_,dragDisable:r_,dragEnable:i_,dsvFormat:__,csvParse:x_,csvParseRows:A_,csvFormat:S_,csvFormatRows:T_,tsvParse:E_,tsvParseRows:N_,tsvFormat:C_,tsvFormatRows:M_,easeLinear:k_,easeQuad:D_,easeQuadIn:I_,easeQuadOut:O_,easeQuadInOut:D_,easeCubic:P_,easeCubicIn:R_,easeCubicOut:U_,easeCubicInOut:P_,easePoly:V_,easePolyIn:H_,easePolyOut:j_,easePolyInOut:V_,easeSin:G_,easeSinIn:Y_,easeSinOut:W_,easeSinInOut:G_,easeExp:$_,easeExpIn:q_,easeExpOut:X_,easeExpInOut:$_,easeCircle:Q_,easeCircleIn:K_,easeCircleOut:Z_,easeCircleInOut:Q_,easeBounce:cw,easeBounceIn:lw,easeBounceOut:cw,easeBounceInOut:fw,easeBack:vw,easeBackIn:dw,easeBackOut:pw,easeBackInOut:vw,easeElastic:_w,easeElasticIn:bw,easeElasticOut:_w,easeElasticInOut:ww,forceCenter:xw,forceCollide:$w,forceLink:Qw,forceManyBody:ix,forceRadial:ax,forceSimulation:rx,forceX:ox,forceY:sx,formatDefaultLocale:Lx,get format(){return Sx},get formatPrefix(){return Tx},formatLocale:xx,formatSpecifier:mx,precisionFixed:Ex,precisionPrefix:Nx,precisionRound:Cx,geoArea:xA,geoBounds:QA,geoCentroid:LS,geoCircle:PS,geoClipAntimeridian:XS,geoClipCircle:QS,geoClipExtent:rT,geoClipRectangle:nT,geoContains:TT,geoDistance:yT,geoGraticule:NT,geoGraticule10:CT,geoInterpolate:MT,geoLength:dT,geoPath:ML,geoAlbers:QL,geoAlbersUsa:tE,geoAzimuthalEqualArea:iE,geoAzimuthalEqualAreaRaw:rE,geoAzimuthalEquidistant:oE,geoAzimuthalEquidistantRaw:aE,geoConicConformal:hE,geoConicConformalRaw:fE,geoConicEqualArea:ZL,geoConicEqualAreaRaw:KL,geoConicEquidistant:yE,geoConicEquidistantRaw:vE,geoEquirectangular:pE,geoEquirectangularRaw:dE,geoGnomonic:mE,geoGnomonicRaw:gE,geoIdentity:_E,geoProjection:GL,geoProjectionMutator:qL,geoMercator:uE,geoMercatorRaw:sE,geoNaturalEarth1:xE,geoNaturalEarth1Raw:wE,geoOrthographic:SE,geoOrthographicRaw:AE,geoStereographic:LE,geoStereographicRaw:TE,geoTransverseMercator:NE,geoTransverseMercatorRaw:EE,geoRotation:DS,geoStream:lA,geoTransform:kL,cluster:UE,hierarchy:KE,pack:SN,packSiblings:mN,packEnclose:iN,partition:MN,stratify:UN,tree:WN,treemap:KN,treemapBinary:ZN,treemapDice:CN,treemapSlice:GN,treemapSliceDice:QN,treemapSquarify:$N,treemapResquarify:JN,interpolate:xC,interpolateArray:dC,interpolateBasis:eC,interpolateBasisClosed:nC,interpolateDate:pC,interpolateNumber:vC,interpolateObject:yC,interpolateRound:AC,interpolateString:wC,interpolateTransformCss:DC,interpolateTransformSvg:RC,interpolateZoom:zC,interpolateRgb:lC,interpolateRgbBasis:fC,interpolateRgbBasisClosed:hC,interpolateHsl:WC,interpolateHslLong:GC,interpolateLab:qC,interpolateHcl:$C,interpolateHclLong:KC,interpolateCubehelix:QC,interpolateCubehelixLong:JC,quantize:tM,path:oM,polygonArea:sM,polygonCentroid:uM,polygonHull:hM,polygonContains:dM,polygonLength:pM,quadtree:OM,queue:WM,randomUniform:qM,randomNormal:XM,randomLogNormal:$M,randomBates:ZM,randomIrwinHall:KM,randomExponential:QM,request:JM,html:rk,json:ik,text:ak,xml:ok,csv:Tk,tsv:Lk,scaleBand:$k,scalePoint:Zk,scaleIdentity:rO,scaleLinear:nO,scaleLog:fO,scaleOrdinal:Xk,scaleImplicit:qk,scalePow:dO,scaleSqrt:pO,scaleQuantile:vO,scaleQuantize:yO,scaleThreshold:gO,scaleTime:kR,scaleUtc:IR,schemeCategory10:DR,schemeCategory20b:RR,schemeCategory20c:UR,schemeCategory20:PR,interpolateCubehelixDefault:FR,interpolateRainbow:BR,interpolateWarm:HR,interpolateCool:jR,interpolateViridis:YR,interpolateMagma:WR,interpolateInferno:GR,interpolatePlasma:qR,scaleSequential:XR,create:BP,creator:tU,local:YP,matcher:cU,mouse:XP,namespace:ZR,namespaces:KR,clientPoint:qP,select:VP,selectAll:$P,selection:jP,selector:nU,selectorAll:aU,style:zU,touch:KP,touches:ZP,window:FU,get event(){return TP},customEvent:OP,arc:TF,area:kF,line:MF,pie:DF,areaRadial:jF,radialArea:jF,lineRadial:HF,radialLine:HF,pointRadial:VF,linkHorizontal:$F,linkVertical:KF,linkRadial:ZF,symbol:gH,symbols:yH,symbolCircle:QF,symbolCross:JF,symbolDiamond:nH,symbolSquare:uH,symbolStar:sH,symbolTriangle:cH,symbolWye:vH,curveBasisClosed:AH,curveBasisOpen:TH,curveBasis:wH,curveBundle:EH,curveCardinalClosed:IH,curveCardinalOpen:DH,curveCardinal:MH,curveCatmullRomClosed:HH,curveCatmullRomOpen:VH,curveCatmullRom:PH,curveLinearClosed:zH,curveLinear:EF,curveMonotoneX:ZH,curveMonotoneY:QH,curveNatural:ej,curveStep:rj,curveStepAfter:aj,curveStepBefore:ij,stack:lj,stackOffsetExpand:cj,stackOffsetDiverging:fj,stackOffsetNone:oj,stackOffsetSilhouette:hj,stackOffsetWiggle:dj,stackOrderAscending:pj,stackOrderDescending:yj,stackOrderInsideOut:gj,stackOrderNone:sj,stackOrderReverse:mj,timeInterval:wj,timeMillisecond:xj,timeMilliseconds:Aj,utcMillisecond:xj,utcMilliseconds:Aj,timeSecond:Cj,timeSeconds:Mj,utcSecond:Cj,utcSeconds:Mj,timeMinute:kj,timeMinutes:Ij,timeHour:Oj,timeHours:Dj,timeDay:Rj,timeDays:Uj,timeWeek:Fj,timeWeeks:Wj,timeSunday:Fj,timeSundays:Wj,timeMonday:Hj,timeMondays:Gj,timeTuesday:jj,timeTuesdays:qj,timeWednesday:Vj,timeWednesdays:Xj,timeThursday:Bj,timeThursdays:$j,timeFriday:zj,timeFridays:Kj,timeSaturday:Yj,timeSaturdays:Zj,timeMonth:Qj,timeMonths:Jj,timeYear:tV,timeYears:eV,utcMinute:nV,utcMinutes:rV,utcHour:iV,utcHours:aV,utcDay:oV,utcDays:sV,utcWeek:lV,utcWeeks:yV,utcSunday:lV,utcSundays:yV,utcMonday:cV,utcMondays:gV,utcTuesday:fV,utcTuesdays:mV,utcWednesday:hV,utcWednesdays:bV,utcThursday:dV,utcThursdays:_V,utcFriday:pV,utcFridays:wV,utcSaturday:vV,utcSaturdays:xV,utcMonth:AV,utcMonths:SV,utcYear:TV,utcYears:LV,timeFormatDefaultLocale:dz,get timeFormat(){return lz},get timeParse(){return cz},get utcFormat(){return fz},get utcParse(){return hz},timeFormatLocale:ZV,isoFormat:yz,isoParse:mz,now:Mz,timer:Oz,timerFlush:Dz,timeout:Hz,interval:jz,transition:Rq,active:zq,interrupt:yG,voronoi:IX,zoom:pK,zoomTransform:aK,zoomIdentity:iK});var yK="http://www.w3.org/1999/xhtml";var gK={svg:"http://www.w3.org/2000/svg",xhtml:yK,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function mK(t){var e=t+="",n=e.indexOf(":");if(n>=0&&(e=t.slice(0,n))!=="xmlns")t=t.slice(n+1);return gK.hasOwnProperty(e)?{space:gK[e],local:t}:t}function bK(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===yK&&e.documentElement.namespaceURI===yK?e.createElement(t):e.createElementNS(n,t)}}function _K(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function wK(t){var e=mK(t);return(e.local?_K:bK)(e)}function xK(){}function AK(t){return t==null?xK:function(){return this.querySelector(t)}}function SK(t){if(typeof t!=="function")t=AK(t);for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i){for(var a=e[i],o=a.length,s=r[i]=new Array(o),u,l,c=0;c<o;++c){if((u=a[c])&&(l=t.call(u,u.__data__,c,a))){if("__data__"in u)l.__data__=u.__data__;s[c]=l}}}return new rQ(r,this._parents)}function TK(){return[]}function LK(t){return t==null?TK:function(){return this.querySelectorAll(t)}}function EK(t){if(typeof t!=="function")t=LK(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a){for(var o=e[a],s=o.length,u,l=0;l<s;++l){if(u=o[l]){r.push(t.call(u,u.__data__,l,o));i.push(u)}}}return new rQ(r,i)}function NK(t){return function(){return this.matches(t)}}function CK(t){if(typeof t!=="function")t=NK(t);for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i){for(var a=e[i],o=a.length,s=r[i]=[],u,l=0;l<o;++l){if((u=a[l])&&t.call(u,u.__data__,l,a)){s.push(u)}}}return new rQ(r,this._parents)}function MK(t){return new Array(t.length)}function kK(){return new rQ(this._enter||this._groups.map(MK),this._parents)}function IK(t,e){this.ownerDocument=t.ownerDocument;this.namespaceURI=t.namespaceURI;this._next=null;this._parent=t;this.__data__=e}IK.prototype={constructor:IK,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function OK(t){return function(){return t}}var DK="$";function RK(t,e,n,r,i,a){var o=0,s,u=e.length,l=a.length;for(;o<l;++o){if(s=e[o]){s.__data__=a[o];r[o]=s}else{n[o]=new IK(t,a[o])}}for(;o<u;++o){if(s=e[o]){i[o]=s}}}function UK(t,e,n,r,i,a,o){var s,u,l={},c=e.length,f=a.length,h=new Array(c),d;for(s=0;s<c;++s){if(u=e[s]){h[s]=d=DK+o.call(u,u.__data__,s,e);if(d in l){i[s]=u}else{l[d]=u}}}for(s=0;s<f;++s){d=DK+o.call(t,a[s],s,a);if(u=l[d]){r[s]=u;u.__data__=a[s];l[d]=null}else{n[s]=new IK(t,a[s])}}for(s=0;s<c;++s){if((u=e[s])&&l[h[s]]===u){i[s]=u}}}function PK(t,e){if(!t){d=new Array(this.size()),l=-1;this.each((function(t){d[++l]=t}));return d}var n=e?UK:RK,r=this._parents,i=this._groups;if(typeof t!=="function")t=OK(t);for(var a=i.length,o=new Array(a),s=new Array(a),u=new Array(a),l=0;l<a;++l){var c=r[l],f=i[l],h=f.length,d=t.call(c,c&&c.__data__,l,r),p=d.length,v=s[l]=new Array(p),y=o[l]=new Array(p),g=u[l]=new Array(h);n(c,f,v,y,g,d,e);for(var m=0,b=0,_,w;m<p;++m){if(_=v[m]){if(m>=b)b=m+1;while(!(w=y[b])&&++b<p);_._next=w||null}}}o=new rQ(o,r);o._enter=s;o._exit=u;return o}function FK(){return new rQ(this._exit||this._groups.map(MK),this._parents)}function HK(t,e,n){var r=this.enter(),i=this,a=this.exit();r=typeof t==="function"?t(r):r.append(t+"");if(e!=null)i=e(i);if(n==null)a.remove();else n(a);return r&&i?r.merge(i).order():i}function jK(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s){for(var u=e[s],l=n[s],c=u.length,f=o[s]=new Array(c),h,d=0;d<c;++d){if(h=u[d]||l[d]){f[d]=h}}}for(;s<r;++s){o[s]=e[s]}return new rQ(o,this._parents)}function VK(){for(var t=this._groups,e=-1,n=t.length;++e<n;){for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;){if(o=r[i]){if(a&&o.compareDocumentPosition(a)^4)a.parentNode.insertBefore(o,a);a=o}}}return this}function BK(t){if(!t)t=zK;function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,u=i[a]=new Array(s),l,c=0;c<s;++c){if(l=o[c]){u[c]=l}}u.sort(e)}return new rQ(i,this._parents).order()}function zK(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function YK(){var t=arguments[0];arguments[0]=this;t.apply(null,arguments);return this}function WK(){var t=new Array(this.size()),e=-1;this.each((function(){t[++e]=this}));return t}function GK(){for(var t=this._groups,e=0,n=t.length;e<n;++e){for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}}return null}function qK(){var t=0;this.each((function(){++t}));return t}function XK(){return!this.node()}function $K(t){for(var e=this._groups,n=0,r=e.length;n<r;++n){for(var i=e[n],a=0,o=i.length,s;a<o;++a){if(s=i[a])t.call(s,s.__data__,a,i)}}return this}function KK(t){return function(){this.removeAttribute(t)}}function ZK(t){return function(){this.removeAttributeNS(t.space,t.local)}}function QK(t,e){return function(){this.setAttribute(t,e)}}function JK(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function tZ(t,e){return function(){var n=e.apply(this,arguments);if(n==null)this.removeAttribute(t);else this.setAttribute(t,n)}}function eZ(t,e){return function(){var n=e.apply(this,arguments);if(n==null)this.removeAttributeNS(t.space,t.local);else this.setAttributeNS(t.space,t.local,n)}}function nZ(t,e){var n=mK(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?ZK:KK:typeof e==="function"?n.local?eZ:tZ:n.local?JK:QK)(n,e))}function rZ(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function iZ(t){return function(){this.style.removeProperty(t)}}function aZ(t,e,n){return function(){this.style.setProperty(t,e,n)}}function oZ(t,e,n){return function(){var r=e.apply(this,arguments);if(r==null)this.style.removeProperty(t);else this.style.setProperty(t,r,n)}}function sZ(t,e,n){return arguments.length>1?this.each((e==null?iZ:typeof e==="function"?oZ:aZ)(t,e,n==null?"":n)):uZ(this.node(),t)}function uZ(t,e){return t.style.getPropertyValue(e)||rZ(t).getComputedStyle(t,null).getPropertyValue(e)}function lZ(t){return function(){delete this[t]}}function cZ(t,e){return function(){this[t]=e}}function fZ(t,e){return function(){var n=e.apply(this,arguments);if(n==null)delete this[t];else this[t]=n}}function hZ(t,e){return arguments.length>1?this.each((e==null?lZ:typeof e==="function"?fZ:cZ)(t,e)):this.node()[t]}function dZ(t){return t.trim().split(/^|\s+/)}function pZ(t){return t.classList||new vZ(t)}function vZ(t){this._node=t;this._names=dZ(t.getAttribute("class")||"")}vZ.prototype={add:function(t){var e=this._names.indexOf(t);if(e<0){this._names.push(t);this._node.setAttribute("class",this._names.join(" "))}},remove:function(t){var e=this._names.indexOf(t);if(e>=0){this._names.splice(e,1);this._node.setAttribute("class",this._names.join(" "))}},contains:function(t){return this._names.indexOf(t)>=0}};function yZ(t,e){var n=pZ(t),r=-1,i=e.length;while(++r<i)n.add(e[r])}function gZ(t,e){var n=pZ(t),r=-1,i=e.length;while(++r<i)n.remove(e[r])}function mZ(t){return function(){yZ(this,t)}}function bZ(t){return function(){gZ(this,t)}}function _Z(t,e){return function(){(e.apply(this,arguments)?yZ:gZ)(this,t)}}function wZ(t,e){var n=dZ(t+"");if(arguments.length<2){var r=pZ(this.node()),i=-1,a=n.length;while(++i<a)if(!r.contains(n[i]))return false;return true}return this.each((typeof e==="function"?_Z:e?mZ:bZ)(n,e))}function xZ(){this.textContent=""}function AZ(t){return function(){this.textContent=t}}function SZ(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function TZ(t){return arguments.length?this.each(t==null?xZ:(typeof t==="function"?SZ:AZ)(t)):this.node().textContent}function LZ(){this.innerHTML=""}function EZ(t){return function(){this.innerHTML=t}}function NZ(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function CZ(t){return arguments.length?this.each(t==null?LZ:(typeof t==="function"?NZ:EZ)(t)):this.node().innerHTML}function MZ(){if(this.nextSibling)this.parentNode.appendChild(this)}function kZ(){return this.each(MZ)}function IZ(){if(this.previousSibling)this.parentNode.insertBefore(this,this.parentNode.firstChild)}function OZ(){return this.each(IZ)}function DZ(t){var e=typeof t==="function"?t:wK(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))}function RZ(){return null}function UZ(t,e){var n=typeof t==="function"?t:wK(t),r=e==null?RZ:typeof e==="function"?e:AK(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))}function PZ(){var t=this.parentNode;if(t)t.removeChild(this)}function FZ(){return this.each(PZ)}function HZ(){return this.parentNode.insertBefore(this.cloneNode(false),this.nextSibling)}function jZ(){return this.parentNode.insertBefore(this.cloneNode(true),this.nextSibling)}function VZ(t){return this.select(t?jZ:HZ)}function BZ(t){return arguments.length?this.property("__data__",t):this.node().__data__}var zZ={};var YZ=null;if(typeof document!=="undefined"){var WZ=document.documentElement;if(!("onmouseenter"in WZ)){zZ={mouseenter:"mouseover",mouseleave:"mouseout"}}}function GZ(t,e,n){t=qZ(t,e,n);return function(e){var n=e.relatedTarget;if(!n||n!==this&&!(n.compareDocumentPosition(this)&8)){t.call(this,e)}}}function qZ(t,e,n){return function(r){var i=YZ;YZ=r;try{t.call(this,this.__data__,e,n)}finally{YZ=i}}}function XZ(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0)e=t.slice(n+1),t=t.slice(0,n);return{type:t,name:e}}))}function $Z(t){return function(){var e=this.__on;if(!e)return;for(var n=0,r=-1,i=e.length,a;n<i;++n){if(a=e[n],(!t.type||a.type===t.type)&&a.name===t.name){this.removeEventListener(a.type,a.listener,a.capture)}else{e[++r]=a}}if(++r)e.length=r;else delete this.__on}}function KZ(t,e,n){var r=zZ.hasOwnProperty(t.type)?GZ:qZ;return function(i,a,o){var s=this.__on,u,l=r(e,a,o);if(s)for(var c=0,f=s.length;c<f;++c){if((u=s[c]).type===t.type&&u.name===t.name){this.removeEventListener(u.type,u.listener,u.capture);this.addEventListener(u.type,u.listener=l,u.capture=n);u.value=e;return}}this.addEventListener(t.type,l,n);u={type:t.type,name:t.name,value:e,listener:l,capture:n};if(!s)this.__on=[u];else s.push(u)}}function ZZ(t,e,n){var r=XZ(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s)for(var u=0,l=s.length,c;u<l;++u){for(i=0,c=s[u];i<a;++i){if((o=r[i]).type===c.type&&o.name===c.name){return c.value}}}return}s=e?KZ:$Z;if(n==null)n=false;for(i=0;i<a;++i)this.each(s(r[i],e,n));return this}function QZ(t,e,n){var r=rZ(t),i=r.CustomEvent;if(typeof i==="function"){i=new i(e,n)}else{i=r.document.createEvent("Event");if(n)i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail;else i.initEvent(e,false,false)}t.dispatchEvent(i)}function JZ(t,e){return function(){return QZ(this,t,e)}}function tQ(t,e){return function(){return QZ(this,t,e.apply(this,arguments))}}function eQ(t,e){return this.each((typeof e==="function"?tQ:JZ)(t,e))}var nQ=[null];function rQ(t,e){this._groups=t;this._parents=e}rQ.prototype={constructor:rQ,select:SK,selectAll:EK,filter:CK,data:PK,enter:kK,exit:FK,join:HK,merge:jK,order:VK,sort:BK,call:YK,nodes:WK,node:GK,size:qK,empty:XK,each:$K,attr:nZ,style:sZ,property:hZ,classed:wZ,text:TZ,html:CZ,raise:kZ,lower:OZ,append:DZ,insert:UZ,remove:FZ,clone:VZ,datum:BZ,on:ZZ,dispatch:eQ};function iQ(t){return typeof t==="string"?new rQ([[document.querySelector(t)]],[document.documentElement]):new rQ([[t]],nQ)}var aQ={value:function(){}};function oQ(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new sQ(n)}function sQ(t){this._=t}function uQ(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0)n=t.slice(r+1),t=t.slice(0,r);if(t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}sQ.prototype=oQ.prototype={constructor:sQ,on:function(t,e){var n=this._,r=uQ(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){while(++a<o)if((i=(t=r[a]).type)&&(i=lQ(n[i],t.name)))return i;return}if(e!=null&&typeof e!=="function")throw new Error("invalid callback: "+e);while(++a<o){if(i=(t=r[a]).type)n[i]=cQ(n[i],t.name,e);else if(e==null)for(i in n)n[i]=cQ(n[i],t.name,null)}return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new sQ(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function lQ(t,e){for(var n=0,r=t.length,i;n<r;++n){if((i=t[n]).name===e){return i.value}}}function cQ(t,e,n){for(var r=0,i=t.length;r<i;++r){if(t[r].name===e){t[r]=aQ,t=t.slice(0,r).concat(t.slice(r+1));break}}if(n!=null)t.push({name:e,value:n});return t}var fQ="http://www.w3.org/1999/xhtml";var hQ={svg:"http://www.w3.org/2000/svg",xhtml:fQ,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function dQ(t){var e=t+="",n=e.indexOf(":");if(n>=0&&(e=t.slice(0,n))!=="xmlns")t=t.slice(n+1);return hQ.hasOwnProperty(e)?{space:hQ[e],local:t}:t}function pQ(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===fQ&&e.documentElement.namespaceURI===fQ?e.createElement(t):e.createElementNS(n,t)}}function vQ(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function yQ(t){var e=dQ(t);return(e.local?vQ:pQ)(e)}function gQ(){}function mQ(t){return t==null?gQ:function(){return this.querySelector(t)}}function bQ(t){if(typeof t!=="function")t=mQ(t);for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i){for(var a=e[i],o=a.length,s=r[i]=new Array(o),u,l,c=0;c<o;++c){if((u=a[c])&&(l=t.call(u,u.__data__,c,a))){if("__data__"in u)l.__data__=u.__data__;s[c]=l}}}return new JJ(r,this._parents)}function _Q(){return[]}function wQ(t){return t==null?_Q:function(){return this.querySelectorAll(t)}}function xQ(t){if(typeof t!=="function")t=wQ(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a){for(var o=e[a],s=o.length,u,l=0;l<s;++l){if(u=o[l]){r.push(t.call(u,u.__data__,l,o));i.push(u)}}}return new JJ(r,i)}function AQ(t){return function(){return this.matches(t)}}function SQ(t){if(typeof t!=="function")t=AQ(t);for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i){for(var a=e[i],o=a.length,s=r[i]=[],u,l=0;l<o;++l){if((u=a[l])&&t.call(u,u.__data__,l,a)){s.push(u)}}}return new JJ(r,this._parents)}function TQ(t){return new Array(t.length)}function LQ(){return new JJ(this._enter||this._groups.map(TQ),this._parents)}function EQ(t,e){this.ownerDocument=t.ownerDocument;this.namespaceURI=t.namespaceURI;this._next=null;this._parent=t;this.__data__=e}EQ.prototype={constructor:EQ,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function NQ(t){return function(){return t}}var CQ="$";function MQ(t,e,n,r,i,a){var o=0,s,u=e.length,l=a.length;for(;o<l;++o){if(s=e[o]){s.__data__=a[o];r[o]=s}else{n[o]=new EQ(t,a[o])}}for(;o<u;++o){if(s=e[o]){i[o]=s}}}function kQ(t,e,n,r,i,a,o){var s,u,l={},c=e.length,f=a.length,h=new Array(c),d;for(s=0;s<c;++s){if(u=e[s]){h[s]=d=CQ+o.call(u,u.__data__,s,e);if(d in l){i[s]=u}else{l[d]=u}}}for(s=0;s<f;++s){d=CQ+o.call(t,a[s],s,a);if(u=l[d]){r[s]=u;u.__data__=a[s];l[d]=null}else{n[s]=new EQ(t,a[s])}}for(s=0;s<c;++s){if((u=e[s])&&l[h[s]]===u){i[s]=u}}}function IQ(t,e){if(!t){d=new Array(this.size()),l=-1;this.each((function(t){d[++l]=t}));return d}var n=e?kQ:MQ,r=this._parents,i=this._groups;if(typeof t!=="function")t=NQ(t);for(var a=i.length,o=new Array(a),s=new Array(a),u=new Array(a),l=0;l<a;++l){var c=r[l],f=i[l],h=f.length,d=t.call(c,c&&c.__data__,l,r),p=d.length,v=s[l]=new Array(p),y=o[l]=new Array(p),g=u[l]=new Array(h);n(c,f,v,y,g,d,e);for(var m=0,b=0,_,w;m<p;++m){if(_=v[m]){if(m>=b)b=m+1;while(!(w=y[b])&&++b<p);_._next=w||null}}}o=new JJ(o,r);o._enter=s;o._exit=u;return o}function OQ(){return new JJ(this._exit||this._groups.map(TQ),this._parents)}function DQ(t,e,n){var r=this.enter(),i=this,a=this.exit();r=typeof t==="function"?t(r):r.append(t+"");if(e!=null)i=e(i);if(n==null)a.remove();else n(a);return r&&i?r.merge(i).order():i}function RQ(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s){for(var u=e[s],l=n[s],c=u.length,f=o[s]=new Array(c),h,d=0;d<c;++d){if(h=u[d]||l[d]){f[d]=h}}}for(;s<r;++s){o[s]=e[s]}return new JJ(o,this._parents)}function UQ(){for(var t=this._groups,e=-1,n=t.length;++e<n;){for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;){if(o=r[i]){if(a&&o.compareDocumentPosition(a)^4)a.parentNode.insertBefore(o,a);a=o}}}return this}function PQ(t){if(!t)t=FQ;function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,u=i[a]=new Array(s),l,c=0;c<s;++c){if(l=o[c]){u[c]=l}}u.sort(e)}return new JJ(i,this._parents).order()}function FQ(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function HQ(){var t=arguments[0];arguments[0]=this;t.apply(null,arguments);return this}function jQ(){var t=new Array(this.size()),e=-1;this.each((function(){t[++e]=this}));return t}function VQ(){for(var t=this._groups,e=0,n=t.length;e<n;++e){for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}}return null}function BQ(){var t=0;this.each((function(){++t}));return t}function zQ(){return!this.node()}function YQ(t){for(var e=this._groups,n=0,r=e.length;n<r;++n){for(var i=e[n],a=0,o=i.length,s;a<o;++a){if(s=i[a])t.call(s,s.__data__,a,i)}}return this}function WQ(t){return function(){this.removeAttribute(t)}}function GQ(t){return function(){this.removeAttributeNS(t.space,t.local)}}function qQ(t,e){return function(){this.setAttribute(t,e)}}function XQ(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function $Q(t,e){return function(){var n=e.apply(this,arguments);if(n==null)this.removeAttribute(t);else this.setAttribute(t,n)}}function KQ(t,e){return function(){var n=e.apply(this,arguments);if(n==null)this.removeAttributeNS(t.space,t.local);else this.setAttributeNS(t.space,t.local,n)}}function ZQ(t,e){var n=dQ(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?GQ:WQ:typeof e==="function"?n.local?KQ:$Q:n.local?XQ:qQ)(n,e))}function QQ(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function JQ(t){return function(){this.style.removeProperty(t)}}function tJ(t,e,n){return function(){this.style.setProperty(t,e,n)}}function eJ(t,e,n){return function(){var r=e.apply(this,arguments);if(r==null)this.style.removeProperty(t);else this.style.setProperty(t,r,n)}}function nJ(t,e,n){return arguments.length>1?this.each((e==null?JQ:typeof e==="function"?eJ:tJ)(t,e,n==null?"":n)):rJ(this.node(),t)}function rJ(t,e){return t.style.getPropertyValue(e)||QQ(t).getComputedStyle(t,null).getPropertyValue(e)}function iJ(t){return function(){delete this[t]}}function aJ(t,e){return function(){this[t]=e}}function oJ(t,e){return function(){var n=e.apply(this,arguments);if(n==null)delete this[t];else this[t]=n}}function sJ(t,e){return arguments.length>1?this.each((e==null?iJ:typeof e==="function"?oJ:aJ)(t,e)):this.node()[t]}function uJ(t){return t.trim().split(/^|\s+/)}function lJ(t){return t.classList||new cJ(t)}function cJ(t){this._node=t;this._names=uJ(t.getAttribute("class")||"")}cJ.prototype={add:function(t){var e=this._names.indexOf(t);if(e<0){this._names.push(t);this._node.setAttribute("class",this._names.join(" "))}},remove:function(t){var e=this._names.indexOf(t);if(e>=0){this._names.splice(e,1);this._node.setAttribute("class",this._names.join(" "))}},contains:function(t){return this._names.indexOf(t)>=0}};function fJ(t,e){var n=lJ(t),r=-1,i=e.length;while(++r<i)n.add(e[r])}function hJ(t,e){var n=lJ(t),r=-1,i=e.length;while(++r<i)n.remove(e[r])}function dJ(t){return function(){fJ(this,t)}}function pJ(t){return function(){hJ(this,t)}}function vJ(t,e){return function(){(e.apply(this,arguments)?fJ:hJ)(this,t)}}function yJ(t,e){var n=uJ(t+"");if(arguments.length<2){var r=lJ(this.node()),i=-1,a=n.length;while(++i<a)if(!r.contains(n[i]))return false;return true}return this.each((typeof e==="function"?vJ:e?dJ:pJ)(n,e))}function gJ(){this.textContent=""}function mJ(t){return function(){this.textContent=t}}function bJ(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function _J(t){return arguments.length?this.each(t==null?gJ:(typeof t==="function"?bJ:mJ)(t)):this.node().textContent}function wJ(){this.innerHTML=""}function xJ(t){return function(){this.innerHTML=t}}function AJ(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function SJ(t){return arguments.length?this.each(t==null?wJ:(typeof t==="function"?AJ:xJ)(t)):this.node().innerHTML}function TJ(){if(this.nextSibling)this.parentNode.appendChild(this)}function LJ(){return this.each(TJ)}function EJ(){if(this.previousSibling)this.parentNode.insertBefore(this,this.parentNode.firstChild)}function NJ(){return this.each(EJ)}function CJ(t){var e=typeof t==="function"?t:yQ(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))}function MJ(){return null}function kJ(t,e){var n=typeof t==="function"?t:yQ(t),r=e==null?MJ:typeof e==="function"?e:mQ(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))}function IJ(){var t=this.parentNode;if(t)t.removeChild(this)}function OJ(){return this.each(IJ)}function DJ(){var t=this.cloneNode(false),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function RJ(){var t=this.cloneNode(true),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function UJ(t){return this.select(t?RJ:DJ)}function PJ(t){return arguments.length?this.property("__data__",t):this.node().__data__}var FJ={};var HJ=null;if(typeof document!=="undefined"){var jJ=document.documentElement;if(!("onmouseenter"in jJ)){FJ={mouseenter:"mouseover",mouseleave:"mouseout"}}}function VJ(t,e,n){t=BJ(t,e,n);return function(e){var n=e.relatedTarget;if(!n||n!==this&&!(n.compareDocumentPosition(this)&8)){t.call(this,e)}}}function BJ(t,e,n){return function(r){var i=HJ;HJ=r;try{t.call(this,this.__data__,e,n)}finally{HJ=i}}}function zJ(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0)e=t.slice(n+1),t=t.slice(0,n);return{type:t,name:e}}))}function YJ(t){return function(){var e=this.__on;if(!e)return;for(var n=0,r=-1,i=e.length,a;n<i;++n){if(a=e[n],(!t.type||a.type===t.type)&&a.name===t.name){this.removeEventListener(a.type,a.listener,a.capture)}else{e[++r]=a}}if(++r)e.length=r;else delete this.__on}}function WJ(t,e,n){var r=FJ.hasOwnProperty(t.type)?VJ:BJ;return function(i,a,o){var s=this.__on,u,l=r(e,a,o);if(s)for(var c=0,f=s.length;c<f;++c){if((u=s[c]).type===t.type&&u.name===t.name){this.removeEventListener(u.type,u.listener,u.capture);this.addEventListener(u.type,u.listener=l,u.capture=n);u.value=e;return}}this.addEventListener(t.type,l,n);u={type:t.type,name:t.name,value:e,listener:l,capture:n};if(!s)this.__on=[u];else s.push(u)}}function GJ(t,e,n){var r=zJ(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s)for(var u=0,l=s.length,c;u<l;++u){for(i=0,c=s[u];i<a;++i){if((o=r[i]).type===c.type&&o.name===c.name){return c.value}}}return}s=e?WJ:YJ;if(n==null)n=false;for(i=0;i<a;++i)this.each(s(r[i],e,n));return this}function qJ(t,e,n,r){var i=HJ;t.sourceEvent=HJ;HJ=t;try{return e.apply(n,r)}finally{HJ=i}}function XJ(t,e,n){var r=QQ(t),i=r.CustomEvent;if(typeof i==="function"){i=new i(e,n)}else{i=r.document.createEvent("Event");if(n)i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail;else i.initEvent(e,false,false)}t.dispatchEvent(i)}function $J(t,e){return function(){return XJ(this,t,e)}}function KJ(t,e){return function(){return XJ(this,t,e.apply(this,arguments))}}function ZJ(t,e){return this.each((typeof e==="function"?KJ:$J)(t,e))}var QJ=[null];function JJ(t,e){this._groups=t;this._parents=e}JJ.prototype={constructor:JJ,select:bQ,selectAll:xQ,filter:SQ,data:IQ,enter:LQ,exit:OQ,join:DQ,merge:RQ,order:UQ,sort:PQ,call:HQ,nodes:jQ,node:VQ,size:BQ,empty:zQ,each:YQ,attr:ZQ,style:nJ,property:sJ,classed:yJ,text:_J,html:SJ,raise:LJ,lower:NJ,append:CJ,insert:kJ,remove:OJ,clone:UJ,datum:PJ,on:GJ,dispatch:ZJ};function t0(t){return typeof t==="string"?new JJ([[document.querySelector(t)]],[document.documentElement]):new JJ([[t]],QJ)}function e0(){var t=HJ,e;while(e=t.sourceEvent)t=e;return t}function n0(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();r.x=e.clientX,r.y=e.clientY;r=r.matrixTransform(t.getScreenCTM().inverse());return[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function r0(t){var e=e0();if(e.changedTouches)e=e.changedTouches[0];return n0(t,e)}function i0(t,e,n){if(arguments.length<3)n=e,e=e0().changedTouches;for(var r=0,i=e?e.length:0,a;r<i;++r){if((a=e[r]).identifier===n){return n0(t,a)}}return null}function a0(){HJ.stopImmediatePropagation()}function o0(){HJ.preventDefault();HJ.stopImmediatePropagation()}function s0(t){var e=t.document.documentElement,n=t0(t).on("dragstart.drag",o0,true);if("onselectstart"in e){n.on("selectstart.drag",o0,true)}else{e.__noselect=e.style.MozUserSelect;e.style.MozUserSelect="none"}}function u0(t,e){var n=t.document.documentElement,r=t0(t).on("dragstart.drag",null);if(e){r.on("click.drag",o0,true);setTimeout((function(){r.on("click.drag",null)}),0)}if("onselectstart"in n){r.on("selectstart.drag",null)}else{n.style.MozUserSelect=n.__noselect;delete n.__noselect}}function l0(t){return function(){return t}}function c0(t,e,n,r,i,a,o,s,u,l){this.target=t;this.type=e;this.subject=n;this.identifier=r;this.active=i;this.x=a;this.y=o;this.dx=s;this.dy=u;this._=l}c0.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function f0(){return!HJ.button}function h0(){return this.parentNode}function d0(t){return t==null?{x:HJ.x,y:HJ.y}:t}function p0(){return"ontouchstart"in this}function v0(){var t=f0,e=h0,n=d0,r=p0,i={},a=oQ("start","drag","end"),o=0,s,u,l,c,f=0;function h(t){t.on("mousedown.drag",d).filter(r).on("touchstart.drag",y).on("touchmove.drag",g).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(c||!t.apply(this,arguments))return;var n=b("mouse",e.apply(this,arguments),r0,this,arguments);if(!n)return;t0(HJ.view).on("mousemove.drag",p,true).on("mouseup.drag",v,true);s0(HJ.view);a0();l=false;s=HJ.clientX;u=HJ.clientY;n("start")}function p(){o0();if(!l){var t=HJ.clientX-s,e=HJ.clientY-u;l=t*t+e*e>f}i.mouse("drag")}function v(){t0(HJ.view).on("mousemove.drag mouseup.drag",null);u0(HJ.view,l);o0();i.mouse("end")}function y(){if(!t.apply(this,arguments))return;var n=HJ.changedTouches,r=e.apply(this,arguments),i=n.length,a,o;for(a=0;a<i;++a){if(o=b(n[a].identifier,r,i0,this,arguments)){a0();o("start")}}}function g(){var t=HJ.changedTouches,e=t.length,n,r;for(n=0;n<e;++n){if(r=i[t[n].identifier]){o0();r("drag")}}}function m(){var t=HJ.changedTouches,e=t.length,n,r;if(c)clearTimeout(c);c=setTimeout((function(){c=null}),500);for(n=0;n<e;++n){if(r=i[t[n].identifier]){a0();r("end")}}}function b(t,e,r,s,u){var l=r(e,t),c,f,d,p=a.copy();if(!qJ(new c0(h,"beforestart",c,t,o,l[0],l[1],0,0,p),(function(){if((HJ.subject=c=n.apply(s,u))==null)return false;f=c.x-l[0]||0;d=c.y-l[1]||0;return true})))return;return function n(a){var v=l,y;switch(a){case"start":i[t]=n,y=o++;break;case"end":delete i[t],--o;case"drag":l=r(e,t),y=o;break}qJ(new c0(h,a,c,t,y,l[0]+f,l[1]+d,l[0]-v[0],l[1]-v[1],p),p.apply,p,[a,s,u])}}h.filter=function(e){return arguments.length?(t=typeof e==="function"?e:l0(!!e),h):t};h.container=function(t){return arguments.length?(e=typeof t==="function"?t:l0(t),h):e};h.subject=function(t){return arguments.length?(n=typeof t==="function"?t:l0(t),h):n};h.touchable=function(t){return arguments.length?(r=typeof t==="function"?t:l0(!!t),h):r};h.on=function(){var t=a.on.apply(a,arguments);return t===a?h:t};h.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,h):Math.sqrt(f)};return h}function y0(t){return function e(){return t}}var g0=1e-12;var m0=Math.PI;var b0=m0/2;var _0=2*m0;function w0(t){return t.innerRadius}function x0(t){return t.outerRadius}function A0(t){return t.startAngle}function S0(t){return t.endAngle}function T0(t){return t&&t.padAngle}function L0(t){return t>=1?b0:t<=-1?-b0:Math.asin(t)}function E0(t,e,n,r,i,a,o,s){var u=n-t,l=r-e,c=o-i,f=s-a,h=(c*(e-a)-f*(t-i))/(f*u-c*l);return[t+h*u,e+h*l]}function N0(t,e,n,r,i,a,o){var s=t-n,u=e-r,l=(o?a:-a)/Math.sqrt(s*s+u*u),c=l*u,f=-l*s,h=t+c,d=e+f,p=n+c,v=r+f,y=(h+p)/2,g=(d+v)/2,m=p-h,b=v-d,_=m*m+b*b,w=i-a,x=h*v-p*d,A=(b<0?-1:1)*Math.sqrt(Math.max(0,w*w*_-x*x)),S=(x*b-m*A)/_,T=(-x*m-b*A)/_,L=(x*b+m*A)/_,E=(-x*m+b*A)/_,N=S-y,C=T-g,M=L-y,k=E-g;if(N*N+C*C>M*M+k*k)S=L,T=E;return{cx:S,cy:T,x01:-c,y01:-f,x11:S*(i/w-1),y11:T*(i/w-1)}}function C0(){var t=w0,e=x0,n=y0(0),r=null,i=A0,a=S0,o=T0,s=null;function u(){var u,l,c=+t.apply(this,arguments),f=+e.apply(this,arguments),h=i.apply(this,arguments)-b0,d=a.apply(this,arguments)-b0,p=Math.abs(d-h),v=d>h;if(!s)s=u=bu();if(f<c)l=f,f=c,c=l;if(!(f>g0))s.moveTo(0,0);else if(p>_0-g0){s.moveTo(f*Math.cos(h),f*Math.sin(h));s.arc(0,0,f,h,d,!v);if(c>g0){s.moveTo(c*Math.cos(d),c*Math.sin(d));s.arc(0,0,c,d,h,v)}}else{var y=h,g=d,m=h,b=d,_=p,w=p,x=o.apply(this,arguments)/2,A=x>g0&&(r?+r.apply(this,arguments):Math.sqrt(c*c+f*f)),S=Math.min(Math.abs(f-c)/2,+n.apply(this,arguments)),T=S,L=S,E,N;if(A>g0){var C=L0(A/c*Math.sin(x)),M=L0(A/f*Math.sin(x));if((_-=C*2)>g0)C*=v?1:-1,m+=C,b-=C;else _=0,m=b=(h+d)/2;if((w-=M*2)>g0)M*=v?1:-1,y+=M,g-=M;else w=0,y=g=(h+d)/2}var k=f*Math.cos(y),I=f*Math.sin(y),O=c*Math.cos(b),D=c*Math.sin(b);if(S>g0){var R=f*Math.cos(g),U=f*Math.sin(g),P=c*Math.cos(m),F=c*Math.sin(m);if(p<m0){var H=_>g0?E0(k,I,P,F,R,U,O,D):[O,D],j=k-H[0],V=I-H[1],B=R-H[0],z=U-H[1],Y=1/Math.sin(Math.acos((j*B+V*z)/(Math.sqrt(j*j+V*V)*Math.sqrt(B*B+z*z)))/2),W=Math.sqrt(H[0]*H[0]+H[1]*H[1]);T=Math.min(S,(c-W)/(Y-1));L=Math.min(S,(f-W)/(Y+1))}}if(!(w>g0))s.moveTo(k,I);else if(L>g0){E=N0(P,F,k,I,f,L,v);N=N0(R,U,O,D,f,L,v);s.moveTo(E.cx+E.x01,E.cy+E.y01);if(L<S)s.arc(E.cx,E.cy,L,Math.atan2(E.y01,E.x01),Math.atan2(N.y01,N.x01),!v);else{s.arc(E.cx,E.cy,L,Math.atan2(E.y01,E.x01),Math.atan2(E.y11,E.x11),!v);s.arc(0,0,f,Math.atan2(E.cy+E.y11,E.cx+E.x11),Math.atan2(N.cy+N.y11,N.cx+N.x11),!v);s.arc(N.cx,N.cy,L,Math.atan2(N.y11,N.x11),Math.atan2(N.y01,N.x01),!v)}}else s.moveTo(k,I),s.arc(0,0,f,y,g,!v);if(!(c>g0)||!(_>g0))s.lineTo(O,D);else if(T>g0){E=N0(O,D,R,U,c,-T,v);N=N0(k,I,P,F,c,-T,v);s.lineTo(E.cx+E.x01,E.cy+E.y01);if(T<S)s.arc(E.cx,E.cy,T,Math.atan2(E.y01,E.x01),Math.atan2(N.y01,N.x01),!v);else{s.arc(E.cx,E.cy,T,Math.atan2(E.y01,E.x01),Math.atan2(E.y11,E.x11),!v);s.arc(0,0,c,Math.atan2(E.cy+E.y11,E.cx+E.x11),Math.atan2(N.cy+N.y11,N.cx+N.x11),v);s.arc(N.cx,N.cy,T,Math.atan2(N.y11,N.x11),Math.atan2(N.y01,N.x01),!v)}}else s.arc(0,0,c,b,m,v)}s.closePath();if(u)return s=null,u+""||null}u.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-m0/2;return[Math.cos(r)*n,Math.sin(r)*n]};u.innerRadius=function(e){return arguments.length?(t=typeof e==="function"?e:y0(+e),u):t};u.outerRadius=function(t){return arguments.length?(e=typeof t==="function"?t:y0(+t),u):e};u.cornerRadius=function(t){return arguments.length?(n=typeof t==="function"?t:y0(+t),u):n};u.padRadius=function(t){return arguments.length?(r=t==null?null:typeof t==="function"?t:y0(+t),u):r};u.startAngle=function(t){return arguments.length?(i=typeof t==="function"?t:y0(+t),u):i};u.endAngle=function(t){return arguments.length?(a=typeof t==="function"?t:y0(+t),u):a};u.padAngle=function(t){return arguments.length?(o=typeof t==="function"?t:y0(+t),u):o};u.context=function(t){return arguments.length?(s=t==null?null:t,u):s};return u}function M0(t){this._context=t}M0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(t,e){t=+t,e=+e;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function k0(t){return new M0(t)}function I0(t){return t[0]}function O0(t){return t[1]}function D0(){var t=I0,e=O0,n=y0(true),r=null,i=k0,a=null;function o(o){var s,u=o.length,l,c=false,f;if(r==null)a=i(f=bu());for(s=0;s<=u;++s){if(!(s<u&&n(l=o[s],s,o))===c){if(c=!c)a.lineStart();else a.lineEnd()}if(c)a.point(+t(l,s,o),+e(l,s,o))}if(f)return a=null,f+""||null}o.x=function(e){return arguments.length?(t=typeof e==="function"?e:y0(+e),o):t};o.y=function(t){return arguments.length?(e=typeof t==="function"?t:y0(+t),o):e};o.defined=function(t){return arguments.length?(n=typeof t==="function"?t:y0(!!t),o):n};o.curve=function(t){return arguments.length?(i=t,r!=null&&(a=i(r)),o):i};o.context=function(t){return arguments.length?(t==null?r=a=null:a=i(r=t),o):r};return o}function R0(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function U0(t,e){this._context=t;this._k=(1-e)/6}U0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:R0(this,this._x1,this._y1);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(t,e){t=+t,e=+e;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;this._x1=t,this._y1=e;break;case 2:this._point=3;default:R0(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t;this._y0=this._y1,this._y1=this._y2,this._y2=e}};function P0(t,e,n){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>g0){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u;i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>g0){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*l+t._x1*t._l23_2a-e*t._l12_2a)/c;o=(o*l+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function F0(t,e){this._context=t;this._alpha=e}F0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(t,e){t=+t,e=+e;if(this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:P0(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a;this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a;this._x0=this._x1,this._x1=this._x2,this._x2=t;this._y0=this._y1,this._y1=this._y2,this._y2=e}};var H0=function t(e){function n(t){return e?new F0(t,e):new U0(t,0)}n.alpha=function(e){return t(+e)};return n}(.5);function j0(t){return t<0?-1:1}function V0(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(j0(a)+j0(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function B0(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function z0(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function Y0(t){this._context=t}Y0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:z0(this,this._t0,B0(this,this._t0));break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(t,e){var n=NaN;t=+t,e=+e;if(t===this._x1&&e===this._y1)return;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;z0(this,B0(this,n=V0(this,t,e)),n);break;default:z0(this,this._t0,n=V0(this,t,e));break}this._x0=this._x1,this._x1=t;this._y0=this._y1,this._y1=e;this._t0=n}};Object.create(Y0.prototype).point=function(t,e){Y0.prototype.point.call(this,e,t)};var W0={value:function(){}};function G0(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n)throw new Error("illegal type: "+r);n[r]=[]}return new q0(n)}function q0(t){this._=t}function X0(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0)n=t.slice(r+1),t=t.slice(0,r);if(t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}q0.prototype=G0.prototype={constructor:q0,on:function(t,e){var n=this._,r=X0(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){while(++a<o)if((i=(t=r[a]).type)&&(i=$0(n[i],t.name)))return i;return}if(e!=null&&typeof e!=="function")throw new Error("invalid callback: "+e);while(++a<o){if(i=(t=r[a]).type)n[i]=K0(n[i],t.name,e);else if(e==null)for(i in n)n[i]=K0(n[i],t.name,null)}return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new q0(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function $0(t,e){for(var n=0,r=t.length,i;n<r;++n){if((i=t[n]).name===e){return i.value}}}function K0(t,e,n){for(var r=0,i=t.length;r<i;++r){if(t[r].name===e){t[r]=W0,t=t.slice(0,r).concat(t.slice(r+1));break}}if(n!=null)t.push({name:e,value:n});return t}var Z0=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var Q0=function(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}};var J0=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var t1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};var e1=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var a=Object.getPrototypeOf(e);if(a===null){return undefined}else{return t(a,n,r)}}else if("value"in i){return i.value}else{var o=i.get;if(o===undefined){return undefined}return o.call(r)}};var n1=function(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e};var r1=function(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t};var i1=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}else{return Array.from(t)}};var a1=function(){function t(e){var n=e.x,r=n===undefined?0:n,i=e.y,a=i===undefined?0:i,o=e.nx,s=e.ny,u=e.dy,l=u===undefined?0:u,c=e.dx,f=c===undefined?0:c,h=e.color,d=h===undefined?"grey":h,p=e.data,v=e.type,y=e.subject,g=e.connector,m=e.note,b=e.disable,_=e.id,w=e.className;Q0(this,t);this._dx=o!==undefined?o-r:f;this._dy=s!==undefined?s-a:l;this._x=r;this._y=a;this._color=d;this.id=_;this._className=w||"";this._type=v||"";this.data=p;this.note=m||{};this.connector=g||{};this.subject=y||{};this.disable=b||[]}J0(t,[{key:"updatePosition",value:function t(){if(this.type.setPosition){this.type.setPosition();if(this.type.subject&&this.type.subject.selectAll(":not(.handle)").nodes().length!==0){this.type.redrawSubject()}}}},{key:"clearComponents",value:function t(){this.type.clearComponents&&this.type.clearComponents()}},{key:"updateOffset",value:function t(){if(this.type.setOffset){this.type.setOffset();if(this.type.connector.selectAll(":not(.handle)").nodes().length!==0){this.type.redrawConnector()}this.type.redrawNote()}}},{key:"className",get:function t(){return this._className},set:function t(e){this._className=e;if(this.type.setClassName)this.type.setClassName()}},{key:"type",get:function t(){return this._type},set:function t(e){this._type=e;this.clearComponents()}},{key:"x",get:function t(){return this._x},set:function t(e){this._x=e;this.updatePosition()}},{key:"y",get:function t(){return this._y},set:function t(e){this._y=e;this.updatePosition()}},{key:"color",get:function t(){return this._color},set:function t(e){this._color=e;this.updatePosition()}},{key:"dx",get:function t(){return this._dx},set:function t(e){this._dx=e;this.updateOffset()}},{key:"dy",get:function t(){return this._dy},set:function t(e){this._dy=e;this.updateOffset()}},{key:"nx",set:function t(e){this._dx=e-this._x;this.updateOffset()}},{key:"ny",set:function t(e){this._dy=e-this._y;this.updateOffset()}},{key:"offset",get:function t(){return{x:this._dx,y:this._dy}},set:function t(e){var n=e.x,r=e.y;this._dx=n;this._dy=r;this.updateOffset()}},{key:"position",get:function t(){return{x:this._x,y:this._y}},set:function t(e){var n=e.x,r=e.y;this._x=n;this._y=r;this.updatePosition()}},{key:"translation",get:function t(){return{x:this._x+this._dx,y:this._y+this._dy}}},{key:"json",get:function t(){var e={x:this._x,y:this._y,dx:this._dx,dy:this._dy};if(this.data&&Object.keys(this.data).length>0)e.data=this.data;if(this.type)e.type=this.type;if(this._className)e.className=this._className;if(Object.keys(this.connector).length>0)e.connector=this.connector;if(Object.keys(this.subject).length>0)e.subject=this.subject;if(Object.keys(this.note).length>0)e.note=this.note;return e}}]);return t}();var o1=function(){function t(e){var n=e.annotations,r=e.accessors,i=e.accessorsInverse;Q0(this,t);this.accessors=r;this.accessorsInverse=i;this.annotations=n}J0(t,[{key:"clearTypes",value:function t(e){this.annotations.forEach((function(t){t.type=undefined;t.subject=e&&e.subject||t.subject;t.connector=e&&e.connector||t.connector;t.note=e&&e.note||t.note}))}},{key:"setPositionWithAccessors",value:function t(){var e=this;this.annotations.forEach((function(t){t.type.setPositionWithAccessors(e.accessors)}))}},{key:"editMode",value:function t(e){this.annotations.forEach((function(t){if(t.type){t.type.editMode=e;t.type.updateEditMode()}}))}},{key:"updateDisable",value:function t(e){this.annotations.forEach((function(t){t.disable=e;if(t.type){e.forEach((function(e){if(t.type[e]){t.type[e].remove&&t.type[e].remove();t.type[e]=undefined}}))}}))}},{key:"updateTextWrap",value:function t(e){this.annotations.forEach((function(t){if(t.type&&t.type.updateTextWrap){t.type.updateTextWrap(e)}}))}},{key:"updateText",value:function t(){this.annotations.forEach((function(t){if(t.type&&t.type.drawText){t.type.drawText()}}))}},{key:"updateNotePadding",value:function t(e){this.annotations.forEach((function(t){if(t.type){t.type.notePadding=e}}))}},{key:"json",get:function t(){var e=this;return this.annotations.map((function(t){var n=t.json;if(e.accessorsInverse&&t.data){n.data={};Object.keys(e.accessorsInverse).forEach((function(r){n.data[r]=e.accessorsInverse[r]({x:t.x,y:t.y})}))}return n}))}},{key:"noteNodes",get:function t(){return this.annotations.map((function(t){return t1({},t.type.getNoteBBoxOffset(),{positionX:t.x,positionY:t.y})}))}}]);return t}();var s1=function t(e){var n=e.cx,r=n===undefined?0:n,i=e.cy,a=i===undefined?0:i;return{move:{x:r,y:a}}};var u1=function t(e){var n=e.cx,r=n===undefined?0:n,i=e.cy,a=i===undefined?0:i,o=e.r1,s=e.r2,u=e.padding;var l={move:{x:r,y:a}};if(o!==undefined){l.r1={x:r+o/Math.sqrt(2),y:a+o/Math.sqrt(2)}}if(s!==undefined){l.r2={x:r+s/Math.sqrt(2),y:a+s/Math.sqrt(2)}}if(u!==undefined){l.padding={x:r+o+u,y:a}}return l};var l1=function t(e){var n=e.group,r=e.handles,i=e.r,a=i===undefined?10:i;var o=n.selectAll("circle.handle").data(r);o.enter().append("circle").attr("class","handle").attr("fill","grey").attr("fill-opacity",.1).attr("cursor","move").attr("stroke-dasharray",5).attr("stroke","grey").call(v0().container(iQ("g.annotations").node()).on("start",(function(t){return t.start&&t.start(t)})).on("drag",(function(t){return t.drag&&t.drag(t)})).on("end",(function(t){return t.end&&t.end(t)})));n.selectAll("circle.handle").attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y})).attr("r",(function(t){return t.r||a})).attr("class",(function(t){return"handle "+(t.className||"")}));o.exit().remove()};var c1=function t(e,n){if(e==="dynamic"||e==="left"||e==="right"){if(n<0){e="top"}else{e="bottom"}}return e};var f1=function t(e,n){if(e==="dynamic"||e==="top"||e==="bottom"){if(n<0){e="right"}else{e="left"}}return e};var h1=["topBottom","top","bottom"];var d1=["leftRight","left","right"];var p1=function(t){var e=t.padding,n=e===undefined?0:e,r=t.bbox,i=r===undefined?{x:0,y:0,width:0,height:0}:r,a=t.align,o=t.orientation,s=t.offset,u=s===undefined?{x:0,y:0}:s;var l=-i.x;var c=0;if(h1.indexOf(o)!==-1){a=f1(a,u.x);if(u.y<0&&o==="topBottom"||o==="top"){c-=i.height+n}else{c+=n}if(a==="middle"){l-=i.width/2}else if(a==="right"){l-=i.width}}else if(d1.indexOf(o)!==-1){a=c1(a,u.y);if(u.x<0&&o==="leftRight"||o==="left"){l-=i.width+n}else{l+=n}if(a==="middle"){c-=i.height/2}else if(a==="top"){c-=i.height}}return{x:l,y:c}};var v1=function t(e){var n=e.data,r=e.curve,i=r===undefined?k0:r,a=e.canvasContext,o=e.className,s=e.classID;var u=D0().curve(i);var l={type:"path",className:o,classID:s,data:n};if(a){u.context(a);l.pathMethods=u}else{l.attrs={d:u(n)}}return l};var y1=function t(e){var n=e.data,r=e.canvasContext,i=e.className,a=e.classID;var o={type:"path",className:i,classID:a,data:n};var s=C0().innerRadius(n.innerRadius||0).outerRadius(n.outerRadius||n.radius||2).startAngle(n.startAngle||0).endAngle(n.endAngle||2*Math.PI);if(r){s.context(r);o.pathMethods=lineGen}else{o.attrs={d:s()}}return o};var g1=function(t){var e=t.align,n=t.x,r=n===undefined?0:n,i=t.y,a=i===undefined?0:i,o=t.bbox,s=t.offset;e=c1(e,s.y);if(e==="top"){a-=o.height}else if(e==="middle"){a-=o.height/2}var u=[[r,a],[r,a+o.height]];return{components:[v1({data:u,className:"note-line"})]}};var m1=function(t){var e=t.align,n=t.x,r=n===undefined?0:n,i=t.y,a=i===undefined?0:i,o=t.offset,s=t.bbox;e=f1(e,o.x);if(e==="right"){r-=s.width}else if(e==="middle"){r-=s.width/2}var u=[[r,a],[r+s.width,a]];return{components:[v1({data:u,className:"note-line"})]}};var b1=function t(e){var n=e.type,r=e.subjectType;var i=n.annotation;var a=i.position;var o=i.x-a.x,s=o+i.dx,u=i.y-a.y,l=u+i.dy;var c=i.subject;if(r==="circle"&&(c.outerRadius||c.radius)){var f=Math.sqrt((o-s)*(o-s)+(u-l)*(u-l));var h=Math.asin(-l/f);var d=c.outerRadius||c.radius+(c.radiusPadding||0);o=Math.abs(Math.cos(h)*d)*(s<0?-1:1);u=Math.abs(Math.sin(h)*d)*(l<0?-1:1)}if(r==="rect"){var p=c.width,v=c.height;if(p>0&&i.dx>0||p<0&&i.dx<0){if(Math.abs(p)>Math.abs(i.dx))o=p/2;else o=p}if(v>0&&i.dy>0||v<0&&i.dy<0){if(Math.abs(v)>Math.abs(i.dy))u=v/2;else u=v}if(o===p/2&&u===v/2){o=s;u=l}}return[[o,u],[s,l]]};var _1=function(t){var e=b1(t);return{components:[v1({data:e,className:"connector"})]}};var w1=function(t){var e=t.type,n=t.subjectType;var r=e.annotation;var i=r.position;var a=r.x-i.x,o=a+r.dx,s=r.y-i.y,u=s+r.dy;var l=r.subject;if(n==="rect"){var c=l.width,f=l.height;if(c>0&&r.dx>0||c<0&&r.dx<0){if(Math.abs(c)>Math.abs(r.dx))a=c/2;else a=c}if(f>0&&r.dy>0||f<0&&r.dy<0){if(Math.abs(f)>Math.abs(r.dy))s=f/2;else s=f}if(a===c/2&&s===f/2){a=o;s=u}}var h=[[a,s],[o,u]];var d=u-s;var p=o-a;var v=o;var y=u;var g=u<s&&o>a||o<a&&u>s?-1:1;if(Math.abs(p)<Math.abs(d)){v=o;y=s+p*g}else{y=u;v=a+d*g}if(n==="circle"&&(l.outerRadius||l.radius)){var m=(l.outerRadius||l.radius)+(l.radiusPadding||0);var b=m/Math.sqrt(2);if(Math.abs(p)>b&&Math.abs(d)>b){a=b*(o<0?-1:1);s=b*(u<0?-1:1);h=[[a,s],[v,y],[o,u]]}else if(Math.abs(p)>Math.abs(d)){var _=Math.asin(-u/m);a=Math.abs(Math.cos(_)*m)*(o<0?-1:1);h=[[a,u],[o,u]]}else{var w=Math.acos(o/m);s=Math.abs(Math.sin(w)*m)*(u<0?-1:1);h=[[o,s],[o,u]]}}else{h=[[a,s],[v,y],[o,u]]}return{components:[v1({data:h,className:"connector"})]}};var x1=function(t){var e=t.type,n=t.connectorData,r=t.subjectType;if(!n){n={}}if(!n.points||typeof n.points==="number"){n.points=A1(e.annotation.offset,n.points)}if(!n.curve){n.curve=H0}var i=[];if(e.editMode){var a=n.points.map((function(t,e){return t1({},s1({cx:t[0],cy:t[1]}),{index:e})}));var o=function t(r){n.points[r][0]+=YZ.dx;n.points[r][1]+=YZ.dy;e.redrawConnector()};i=e.mapHandles(a.map((function(t){return t1({},t.move,{drag:o.bind(e,t.index)})})))}var s=b1({type:e,subjectType:r});s=[s[0]].concat(i1(n.points),[s[1]]);var u=[v1({data:s,curve:n.curve,className:"connector"})];return{components:u,handles:i}};var A1=function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;var r={x:e.x/(n+1),y:e.y/(n+1)};var i=[];var a=1;for(;a<=n;a++){i.push([r.x*a+a%2*20,r.y*a-a%2*20])}return i};var S1=function(t){var e=t.annotation,n=t.start,r=t.end,i=t.scale,a=i===undefined?1:i;var o=e.position;if(!n){n=[e.dx,e.dy]}else{n=[-r[0]+n[0],-r[1]+n[1]]}if(!r){r=[e.x-o.x,e.y-o.y]}var s=r[0],u=r[1];var l=n[0];var c=n[1];var f=10*a;var h=16/180*Math.PI;var d=Math.atan(c/l);if(l<0){d+=Math.PI}var p=[[s,u],[Math.cos(d+h)*f+s,Math.sin(d+h)*f+u],[Math.cos(d-h)*f+s,Math.sin(d-h)*f+u],[s,u]];return{components:[v1({data:p,className:"connector-end connector-arrow",classID:"connector-end"})]}};var T1=function(t){var e=t.line,n=t.scale,r=n===undefined?1:n;var i=y1({className:"connector-end connector-dot",classID:"connector-end",data:{radius:3*Math.sqrt(r)}});i.attrs.transform="translate("+e.data[0][0]+", "+e.data[0][1]+")";return{components:[i]}};var L1=function(t){var e=t.subjectData,n=t.type;if(!e.radius&&!e.outerRadius){e.radius=20}var r=[];var i=y1({data:e,className:"subject"});if(n.editMode){var a=u1({r1:i.data.outerRadius||i.data.radius,r2:i.data.innerRadius,padding:e.radiusPadding});var o=function t(r){var i=e[r]+YZ.dx*Math.sqrt(2);e[r]=i;n.redrawSubject();n.redrawConnector()};var s=[t1({},a.r1,{drag:o.bind(n,e.outerRadius!==undefined?"outerRadius":"radius")})];if(e.innerRadius){s.push(t1({},a.r2,{drag:o.bind(n,"innerRadius")}))}r=n.mapHandles(s)}i.attrs["fill-opacity"]=0;return{components:[i],handles:r}};var E1=function(t){var e=t.subjectData,n=t.type;if(!e.width){e.width=100}if(!e.height){e.height=100}var r=[];var i=e.width,a=e.height;var o=[[0,0],[i,0],[i,a],[0,a],[0,0]];var s=v1({data:o,className:"subject"});if(n.editMode){var u=function t(){e.width=YZ.x;n.redrawSubject();n.redrawConnector()};var l=function t(){e.height=YZ.y;n.redrawSubject();n.redrawConnector()};var c=[{x:i,y:a/2,drag:u.bind(n)},{x:i/2,y:a,drag:l.bind(n)}];r=n.mapHandles(c)}s.attrs["fill-opacity"]=.1;return{components:[s],handles:r}};var N1=function(t){var e=t.subjectData,n=t.type;var r=n.annotation.position;var i=(e.x1!==undefined?e.x1:r.x)-r.x,a=(e.x2!==undefined?e.x2:r.x)-r.x,o=(e.y1!==undefined?e.y1:r.y)-r.y,s=(e.y2!==undefined?e.y2:r.y)-r.y;var u=[[i,o],[a,s]];return{components:[v1({data:u,className:"subject"})]}};var C1=function(t){var e=t.subjectData,n=e===undefined?{}:e,r=t.type,i=r===undefined?{}:r;var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var o=i.typeSettings&&i.typeSettings.subject;if(!n.radius){if(o&&o.radius){n.radius=o.radius}else{n.radius=14}}if(!n.x){if(o&&o.x){n.x=o.x}}if(!n.y){if(o&&o.y){n.y=o.y}}var s=[];var u=[];var l=n.radius;var c=l*.7;var f=0;var h=0;var d=Math.sqrt(2)*l;var p={xleftcorner:-l,xrightcorner:l,ytopcorner:-l,ybottomcorner:l,xleft:-d,xright:d,ytop:-d,ybottom:d};if(n.x&&!n.y){f=p["x"+n.x]}else if(n.y&&!n.x){h=p["y"+n.y]}else if(n.x&&n.y){f=p["x"+n.x+"corner"];h=p["y"+n.y+"corner"]}var v="translate("+f+", "+h+")";var y=y1({className:"subject",data:{radius:l}});y.attrs.transform=v;y.attrs.fill=a.color;y.attrs["stroke-linecap"]="round";y.attrs["stroke-width"]="3px";var g=y1({className:"subject-ring",data:{outerRadius:l,innerRadius:c}});g.attrs.transform=v;g.attrs["stroke-width"]="3px";g.attrs.fill="white";var m=void 0;if(f&&h||!f&&!h){m=v1({className:"subject-pointer",data:[[0,0],[f||0,0],[0,h||0],[0,0]]})}else if(f||h){var b=function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return e&&e/Math.sqrt(2)/Math.sqrt(2)||n*l/Math.sqrt(2)};m=v1({className:"subject-pointer",data:[[0,0],[b(f),b(h)],[b(f,-1),b(h,-1)],[0,0]]})}if(m){m.attrs.fill=a.color;m.attrs["stroke-linecap"]="round";m.attrs["stroke-width"]="3px";u.push(m)}if(i.editMode){var _=function t(){n.x=YZ.x<-l*2?"left":YZ.x>l*2?"right":undefined;n.y=YZ.y<-l*2?"top":YZ.y>l*2?"bottom":undefined;i.redrawSubject()};var w={x:f*2,y:h*2,drag:_.bind(i)};if(!w.x&&!w.y){w.y=-l}s=i.mapHandles([w])}var x=void 0;if(n.text){x={type:"text",className:"badge-text",attrs:{fill:"white",stroke:"none","font-size":".7em",text:n.text,"text-anchor":"middle",dy:".25em",x:f,y:h}}}u.push(y);u.push(g);u.push(x);return{components:u,handles:s}};var M1=function(){function t(e){var n=e.a,r=e.annotation,i=e.editMode,a=e.dispatcher,o=e.notePadding,s=e.accessors;Q0(this,t);this.a=n;this.note=r.disable.indexOf("note")===-1&&n.select("g.annotation-note");this.noteContent=this.note&&n.select("g.annotation-note-content");this.connector=r.disable.indexOf("connector")===-1&&n.select("g.annotation-connector");this.subject=r.disable.indexOf("subject")===-1&&n.select("g.annotation-subject");this.dispatcher=a;if(a){var u=z1.bind(null,a,r);u({component:this.note,name:"note"});u({component:this.connector,name:"connector"});u({component:this.subject,name:"subject"})}this.annotation=r;this.editMode=r.editMode||i;this.notePadding=o!==undefined?o:3;this.offsetCornerX=0;this.offsetCornerY=0;if(s&&r.data){this.init(s)}}J0(t,[{key:"init",value:function t(e){if(!this.annotation.x){this.mapX(e)}if(!this.annotation.y){this.mapY(e)}}},{key:"mapY",value:function t(e){if(e.y){this.annotation.y=e.y(this.annotation.data)}}},{key:"mapX",value:function t(e){if(e.x){this.annotation.x=e.x(this.annotation.data)}}},{key:"updateEditMode",value:function t(){this.a.selectAll("circle.handle").remove()}},{key:"drawOnSVG",value:function t(e,n){var r=this;if(!Array.isArray(n)){n=[n]}n.filter((function(t){return t})).forEach((function(t){var n=t.type,i=t.className,a=t.attrs,o=t.handles,s=t.classID;if(n==="handle"){l1({group:e,r:a&&a.r,handles:o})}else{B1(e,[r.annotation],n,i,s);var u=e.select(n+"."+(s||i));var l=Object.keys(a);var c=[];var f=u.node().attributes;for(var h=f.length-1;h>=0;h--){var d=f[h].name;if(l.indexOf(d)===-1&&d!=="class")c.push(d)}l.forEach((function(t){if(t==="text"){u.text(a[t])}else{u.attr(t,a[t])}}));c.forEach((function(t){return u.attr(t,null)}))}}))}},{key:"getNoteBBox",value:function t(){return W1(this.note,".annotation-note-content text")}},{key:"getNoteBBoxOffset",value:function t(){var e=W1(this.note,".annotation-note-content");var n=this.noteContent.attr("transform").split(/\(|\,|\)/g);e.offsetCornerX=parseFloat(n[1])+this.annotation.dx;e.offsetCornerY=parseFloat(n[2])+this.annotation.dy;e.offsetX=this.annotation.dx;e.offsetY=this.annotation.dy;return e}},{key:"drawSubject",value:function t(){var e=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=this.annotation.subject;var i=n.type;var a={type:this,subjectData:r};var o={};if(i==="circle")o=L1(a);else if(i==="rect")o=E1(a);else if(i==="threshold")o=N1(a);else if(i==="badge")o=C1(a,this.annotation);var s=o,u=s.components,l=u===undefined?[]:u,c=s.handles,f=c===undefined?[]:c;l.forEach((function(t){if(t&&t.attrs&&!t.attrs.stroke){t.attrs.stroke=e.annotation.color}}));if(this.editMode){f=f.concat(this.mapHandles([{drag:this.dragSubject.bind(this)}]));l.push({type:"handle",handles:f})}return l}},{key:"drawConnector",value:function t(){var e=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=this.annotation.connector;var i=r.type||n.type;var a={type:this,connectorData:r};a.subjectType=this.typeSettings&&this.typeSettings.subject&&this.typeSettings.subject.type;var o={};if(i==="curve")o=x1(a);else if(i==="elbow")o=w1(a);else o=_1(a);var s=o,u=s.components,l=u===undefined?[]:u,c=s.handles,f=c===undefined?[]:c;var h=l[0];if(h){h.attrs.stroke=this.annotation.color;h.attrs.fill="none"}var d=r.end||n.end;var p={};if(d==="arrow"){var v=h.data[1];var y=h.data[0];var g=Math.sqrt(Math.pow(v[0]-y[0],2)+Math.pow(v[1]-y[1],2));if(g<5&&h.data[2]){v=h.data[2]}p=S1({annotation:this.annotation,start:v,end:y,scale:r.endScale})}else if(d==="dot"){p=T1({line:h,scale:r.endScale})}else if(!d||d==="none"){this.connector&&this.connector.select(".connector-end").remove()}if(p.components){p.components.forEach((function(t){t.attrs.fill=e.annotation.color;t.attrs.stroke=e.annotation.color}));l=l.concat(p.components)}if(this.editMode){if(f.length!==0)l.push({type:"handle",handles:f})}return l}},{key:"drawNote",value:function t(){var e=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=this.annotation.note;var i=r.align||n.align||"dynamic";var a={bbox:n.bbox,align:i,offset:this.annotation.offset};var o=r.lineType||n.lineType;var s={};if(o==="vertical")s=g1(a);else if(o==="horizontal")s=m1(a);var u=s,l=u.components,c=l===undefined?[]:l,f=u.handles,h=f===undefined?[]:f;c.forEach((function(t){t.attrs.stroke=e.annotation.color}));if(this.editMode){h=this.mapHandles([{x:0,y:0,drag:this.dragNote.bind(this)}]);c.push({type:"handle",handles:h});var d=this.dragNote.bind(this),p=this.dragstarted.bind(this),v=this.dragended.bind(this);this.note.call(v0().container(iQ("g.annotations").node()).on("start",(function(t){return p(t)})).on("drag",(function(t){return d(t)})).on("end",(function(t){return v(t)})))}else{this.note.on("mousedown.drag",null)}return c}},{key:"drawNoteContent",value:function t(e){var n=this.annotation.note;var r=n.padding!==undefined?n.padding:this.notePadding;var i=n.orientation||e.orientation||"topBottom";var a=n.lineType||e.lineType;var o=n.align||e.align||"dynamic";if(a==="vertical")i="leftRight";else if(a==="horizontal")i="topBottom";var s={padding:r,bbox:e.bbox,offset:this.annotation.offset,orientation:i,align:o};var u=p1(s),l=u.x,c=u.y;this.offsetCornerX=l+this.annotation.dx;this.offsetCornerY=c+this.annotation.dy;this.note&&this.noteContent.attr("transform","translate("+l+", "+c+")");return[]}},{key:"drawOnScreen",value:function t(e,n){return this.drawOnSVG(e,n)}},{key:"redrawSubject",value:function t(){this.subject&&this.drawOnScreen(this.subject,this.drawSubject())}},{key:"redrawConnector",value:function t(){this.connector&&this.drawOnScreen(this.connector,this.drawConnector())}},{key:"redrawNote",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.getNoteBBox();this.noteContent&&this.drawOnScreen(this.noteContent,this.drawNoteContent({bbox:e}));this.note&&this.drawOnScreen(this.note,this.drawNote({bbox:e}))}},{key:"setPosition",value:function t(){var e=this.annotation.position;this.a.attr("transform","translate("+e.x+", "+e.y+")")}},{key:"clearComponents",value:function t(){this.subject&&this.subject.select("*").remove();this.connector&&this.connector.select("*").remove()}},{key:"setOffset",value:function t(){if(this.note){var e=this.annotation.offset;this.note.attr("transform","translate("+e.x+", "+e.y+")")}}},{key:"setPositionWithAccessors",value:function t(e){if(e&&this.annotation.data){this.mapX(e);this.mapY(e)}this.setPosition()}},{key:"setClassName",value:function t(){this.a.attr("class","annotation "+(this.className&&this.className())+" "+(this.editMode?"editable":"")+" "+(this.annotation.className||""))}},{key:"draw",value:function t(){this.setClassName();this.setPosition();this.setOffset();this.redrawSubject();this.redrawConnector();this.redrawNote()}},{key:"dragstarted",value:function t(){YZ.sourceEvent.stopPropagation();this.dispatcher&&this.dispatcher.call("dragstart",this.a,this.annotation);this.a.classed("dragging",true);this.a.selectAll("circle.handle").style("pointer-events","none")}},{key:"dragended",value:function t(){this.dispatcher&&this.dispatcher.call("dragend",this.a,this.annotation);this.a.classed("dragging",false);this.a.selectAll("circle.handle").style("pointer-events","all")}},{key:"dragSubject",value:function t(){var e=this.annotation.position;e.x+=YZ.dx;e.y+=YZ.dy;this.annotation.position=e}},{key:"dragNote",value:function t(){var e=this.annotation.offset;e.x+=YZ.dx;e.y+=YZ.dy;this.annotation.offset=e}},{key:"mapHandles",value:function t(e){var n=this;return e.map((function(t){return t1({},t,{start:n.dragstarted.bind(n),end:n.dragended.bind(n)})}))}}]);return t}();var k1=function t(e,n,r){return function(t){n1(e,t);function e(t){Q0(this,e);var r=r1(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));r.typeSettings=n;if(n.disable){n.disable.forEach((function(t){r[t]&&r[t].remove();r[t]=undefined;if(t==="note"){r.noteContent=undefined}}))}return r}J0(e,[{key:"className",value:function t(){return""+(n.className||e1(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"className",this)&&e1(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"className",this).call(this)||"")}},{key:"drawSubject",value:function t(r){this.typeSettings.subject=t1({},n.subject,this.typeSettings.subject);return e1(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"drawSubject",this).call(this,t1({},r,this.typeSettings.subject))}},{key:"drawConnector",value:function t(r){this.typeSettings.connector=t1({},n.connector,this.typeSettings.connector);return e1(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"drawConnector",this).call(this,t1({},r,n.connector,this.typeSettings.connector))}},{key:"drawNote",value:function t(r){this.typeSettings.note=t1({},n.note,this.typeSettings.note);return e1(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"drawNote",this).call(this,t1({},r,n.note,this.typeSettings.note))}},{key:"drawNoteContent",value:function t(r){return e1(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"drawNoteContent",this).call(this,t1({},r,n.note,this.typeSettings.note))}}],[{key:"init",value:function t(n,i){e1(e.__proto__||Object.getPrototypeOf(e),"init",this).call(this,n,i);if(r){n=r(n,i)}return n}}]);return e}(e)};var I1=function(t){n1(e,t);function e(t){Q0(this,e);var n=r1(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.textWrap=t.textWrap||120;n.drawText();return n}J0(e,[{key:"updateTextWrap",value:function t(e){this.textWrap=e;this.drawText()}},{key:"drawText",value:function t(){if(this.note){B1(this.note,[this.annotation],"g","annotation-note-content");var e=this.note.select("g.annotation-note-content");B1(e,[this.annotation],"rect","annotation-note-bg");B1(e,[this.annotation],"text","annotation-note-label");B1(e,[this.annotation],"text","annotation-note-title");var n={height:0};var r=this.a.select("text.annotation-note-label");var i=this.annotation.note&&this.annotation.note.wrap||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrap||this.textWrap;var a=this.annotation.note&&this.annotation.note.wrapSplitter||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrapSplitter;var o=this.annotation.note&&this.annotation.note.bgPadding||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.bgPadding;var s={top:0,bottom:0,left:0,right:0};if(typeof o==="number"){s={top:o,bottom:o,left:o,right:o}}else if(o&&(typeof o==="undefined"?"undefined":Z0(o))==="object"){s=t1(s,o)}if(this.annotation.note.title){var u=this.a.select("text.annotation-note-title");u.text(this.annotation.note.title);u.attr("fill",this.annotation.color);u.attr("font-weight","bold");u.call(Y1,i,a);n=u.node().getBBox()}r.text(this.annotation.note.label).attr("dx","0");r.call(Y1,i,a);r.attr("y",n.height*1.1||0);r.attr("fill",this.annotation.color);var l=this.getNoteBBox();this.a.select("rect.annotation-note-bg").attr("width",l.width+s.left+s.right).attr("height",l.height+s.top+s.bottom).attr("x",l.x-s.left).attr("y",-s.top).attr("fill","white").attr("fill-opacity",0)}}}]);return e}(M1);var O1=k1(I1,{className:"label",note:{align:"middle"}});var D1=k1(I1,{className:"callout",note:{lineType:"horizontal"}});var R1=k1(D1,{className:"callout elbow",connector:{type:"elbow"}});var U1=k1(D1,{className:"callout curve",connector:{type:"curve"}});var P1=k1(M1,{className:"badge",subject:{type:"badge"},disable:["connector","note"]});var F1=k1(I1,{className:"callout circle",subject:{type:"circle"},note:{lineType:"horizontal"},connector:{type:"elbow"}});var H1=k1(I1,{className:"callout rect",subject:{type:"rect"},note:{lineType:"horizontal"},connector:{type:"elbow"}});var j1=function(t){n1(e,t);function e(){Q0(this,e);return r1(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}J0(e,[{key:"mapY",value:function t(n){e1(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mapY",this).call(this,n);var r=this.annotation;if((r.subject.x1||r.subject.x2)&&r.data&&n.y){r.y=n.y(r.data)}if((r.subject.x1||r.subject.x2)&&!r.x){r.x=r.subject.x1||r.subject.x2}}},{key:"mapX",value:function t(n){e1(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mapX",this).call(this,n);var r=this.annotation;if((r.subject.y1||r.subject.y2)&&r.data&&n.x){r.x=n.x(r.data)}if((r.subject.y1||r.subject.y2)&&!r.y){r.y=r.subject.y1||r.subject.y2}}}]);return e}(D1);var V1=k1(j1,{className:"callout xythreshold",subject:{type:"threshold"}});var B1=function t(e,n,r,i,a){var o=e.selectAll(r+"."+(a||i)).data(n);o.enter().append(r).merge(o).attr("class",i);o.exit().remove();return e};var z1=function t(e,n,r){var i=r.component,a=r.name;if(i){i.on("mouseover.annotations",(function(){e.call(a+"over",i,n)})).on("mouseout.annotations",(function(){return e.call(a+"out",i,n)})).on("click.annotations",(function(){return e.call(a+"click",i,n)}))}};var Y1=function t(e,n,r){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1.2;e.each((function(){var t=iQ(this),e=t.text().split(r||/[ \t\r\n]+/).reverse().filter((function(t){return t!==""}));var a=void 0,o=[],s=t.text(null).append("tspan").attr("x",0).attr("dy",.8+"em");while(a=e.pop()){o.push(a);s.text(o.join(" "));if(s.node().getComputedTextLength()>n&&o.length>1){o.pop();s.text(o.join(" "));o=[a];s=t.append("tspan").attr("x",0).attr("dy",i+"em").text(a)}}}))};var W1=function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:":not(.handle)";if(!e){return{x:0,y:0,width:0,height:0}}return e.selectAll(n).nodes().reduce((function(t,e){var n=e.getBBox();t.x=Math.min(t.x,n.x);t.y=Math.min(t.y,n.y);t.width=Math.max(t.width,n.width);var r=e&&e.attributes&&e.attributes.y;t.height=Math.max(t.height,(r&&parseFloat(r.value)||0)+n.height);return t}),{x:0,y:0,width:0,height:0})};function G1(){var t=[],e=void 0,n=void 0,r=[],i={},a={},o=false,s=void 0,u=D1,l=void 0,c=void 0,f=G0("subjectover","subjectout","subjectclick","connectorover","connectorout","connectorclick","noteover","noteout","noteclick","dragend","dragstart"),h=void 0;var d=function n(d){h=d;if(!o){d.selectAll("circle.handle").remove()}var p=t.map((function(t){if(!t.type){t.type=u}if(!t.disable){t.disable=r}return new a1(t)}));e=e||new o1({annotations:p,accessors:i,accessorsInverse:a,ids:s});var v=d.selectAll("g").data([e]);v.enter().append("g").attr("class","annotations");var y=d.select("g.annotations");B1(y,e.annotations,"g","annotation");var n=y.selectAll("g.annotation");n.each((function(t){var e=iQ(this);e.attr("class","annotation");B1(e,[t],"g","annotation-connector");B1(e,[t],"g","annotation-subject");B1(e,[t],"g","annotation-note");B1(e.select("g.annotation-note"),[t],"g","annotation-note-content");t.type=t.type.toString()==="[object Object]"?t.type:new t.type({a:e,annotation:t,textWrap:l,notePadding:c,editMode:o,dispatcher:f,accessors:i});t.type.draw();t.type.drawText&&t.type.drawText()}))};d.json=function(){console.log("Annotations JSON was copied to your clipboard. Please note the annotation type is not JSON compatible. It appears in the objects array in the console, but not in the copied JSON.",e.json);window.copy(JSON.stringify(e.json.map((function(t){delete t.type;return t}))));return d};d.update=function(){if(t&&e){t=e.annotations.map((function(t){t.type.draw();return t}))}return d};d.updateText=function(){if(e){e.updateText(l);t=e.annotations}return d};d.updatedAccessors=function(){e.setPositionWithAccessors();t=e.annotations;return d};d.disable=function(n){if(!arguments.length)return r;r=n;if(e){e.updateDisable(r);t=e.annotations}return d};d.textWrap=function(n){if(!arguments.length)return l;l=n;if(e){e.updateTextWrap(l);t=e.annotations}return d};d.notePadding=function(n){if(!arguments.length)return c;c=n;if(e){e.updateNotePadding(c);t=e.annotations}return d};d.type=function(n,r){if(!arguments.length)return u;u=n;if(e){e.annotations.map((function(t){t.type.note&&t.type.note.selectAll("*:not(.annotation-note-content)").remove();t.type.noteContent&&t.type.noteContent.selectAll("*").remove();t.type.subject&&t.type.subject.selectAll("*").remove();t.type.connector&&t.type.connector.selectAll("*").remove();t.type.typeSettings={};t.type=u;t.subject=r&&r.subject||t.subject;t.connector=r&&r.connector||t.connector;t.note=r&&r.note||t.note}));t=e.annotations}return d};d.annotations=function(n){if(!arguments.length)return e&&e.annotations||t;t=n;if(e&&e.annotations){var r=t.some((function(t){return!t.type||t.type.toString()!=="[object Object]"}));if(r){e=null;d(h)}else{e.annotations=t}}return d};d.context=function(t){if(!arguments.length)return n;n=t;return d};d.accessors=function(t){if(!arguments.length)return i;i=t;return d};d.accessorsInverse=function(t){if(!arguments.length)return a;a=t;return d};d.ids=function(t){if(!arguments.length)return s;s=t;return d};d.editMode=function(n){if(!arguments.length)return o;o=n;if(h){h.selectAll("g.annotation").classed("editable",o)}if(e){e.editMode(o);t=e.annotations}return d};d.collection=function(t){if(!arguments.length)return e;e=t;return d};d.on=function(){var t=f.on.apply(f,arguments);return t===f?d:t};return d}var q1={annotationLabel:O1,annotationCallout:D1,annotationCalloutElbow:R1,annotationCalloutCurve:U1,annotationCalloutCircle:F1,annotationCalloutRect:H1,annotationXYThreshold:V1,annotationBadge:P1};function X1(t){var e=t.source,n=t.data,i=t.xScale,a=t.xAccessor,o=t.yScale,s=t.yAccessor,u=t.ignoreScales,l=t.width,c=t.height,f=t.padding,h=t.margin,d=t.bitmaps;VP(e).selectAll(".vcl-annotation-group").remove();var p=VP(e).append("g").attr("class","vcl-annotation-group").attr("data-testid","annotation-group");Hi(p.node());var v=VP(e).append("g").attr("class","editable vcl-annotation-group").attr("data-testid","editable-annotation-group");Hi(v.node());if(n&&n.length){var y=nO().range(i?i.range():[0,100]).domain([0,100]);var g=o?o.range():[0,100];var m=g[0]>=g[1]?100:0;var b=100-m;var _=nO().range(g).domain([m,b]);var w=function(t){var e=g[0]>=g[1]?g[0]:g[1];return o(t)-e};var x=[];var A=[];n.forEach((function(t,e){var n={};var u=Object.keys(t);u.forEach((function(e){if(e!=="data"&&e!=="subject"&&e!=="connector"&&e!=="note"){if(t[e]instanceof Array){n[e]=r(t[e])}else{n[e]=t[e]}}else{n[e]={};var i=Object.keys(t[e]);i.forEach((function(i){if(t[e][i]instanceof Array){if(i==="points"){n[e][i]=[];t[e][i].forEach((function(t){var a=[];if(t[0]instanceof Array&&t[1]instanceof Array){a.push(r(t[0]));a.push(r(t[1]))}else{a.push(t[0]);a.push(t[1])}n[e][i].push(a)}))}else{n[e][i]=r(t[e][i])}}else{n[e][i]=t[e][i]}}))}}));var l=n.parseAsDates&&(n.parseAsDates.includes("y")||n.parseAsDates.includes(s));var c=n.parseAsDates&&(n.parseAsDates.includes("x")||n.parseAsDates.includes(a));var f=0;if(n.data){var h=Object.keys(n.data);var d=0;if(l||c){for(d=0;d<h.length;d++){if(h[d]==="x"||h[d]===a){n.data[h[d]]=Z1(n.data[h[d]],c)}else if(h[d]===s||h[d]==="y"){n.data[h[d]]=Z1(n.data[h[d]],l)}}}}if(n.x){n.x=$1(n.x,i,y,c)}if(n.y){n.y=$1(n.y,o,_,l)}if(n.dx){if(n.dx instanceof Array){f=n.data&&n.data[a]!==undefined?i(n.data[a]):n.x?n.x:0}n.dx=$1(n.dx,i,y,c)-f}if(n.dy){f=0;if(n.dy instanceof Array){f=n.data&&n.data[s]!==undefined?o(n.data[s]):n.y?n.y:0}n.dy=$1(n.dy,o,_,l)-f}if(n.subject){if(n.subject.x1){n.subject.x1=$1(n.subject.x1,i,y,c)}if(n.subject.y1){n.subject.y1=$1(n.subject.y1,o,_,l)}if(n.subject.x2){n.subject.x2=$1(n.subject.x2,i,y,c)}if(n.subject.y2){n.subject.y2=$1(n.subject.y2,o,_,l)}if(n.subject.width){n.subject.width=$1(n.subject.width,i,y,c)}if(n.subject.height){n.subject.height=$1(n.subject.height,w,_,l)}}if(n.connector){if(typeof n.connector.curve==="string"){n.connector.curve=vK[n.connector.curve]}if(n.connector.points instanceof Array){n.connector.points.forEach((function(t){t[0]=$1(t[0],i,y,c);t[1]=$1(t[1],o,_,l)}))}}if(n.type&&typeof n.type==="string"){n.type=q1[n.type]}if(!n.editMode){x.push(n)}else{A.push(n)}if(n.color){n.color=mh(n.color)||n.color}if(n.collisionHideOnly){if(n.className){n.className=n.className+" annotation-detect-collision"}else{n.className="annotation-detect-collision"}}}));var S=G1().annotations(x);var T=G1().editMode(true).annotations(A);if(!u){S=G1().accessors({x:function(t){return i(t[a])},y:function(t){return o(t[s])}}).annotations(x);T=G1().editMode(true).accessors({x:function(t){return i(t[a])},y:function(t){return o(t[s])}}).annotations(A)}p.call(S);v.call(T);if(x&&x.some((function(t){return t.collisionHideOnly===true}))){Q1(e,l,c,f,h,d)}if(A&&A.some((function(t){return t.collisionHideOnly===true}))){Q1(e,l,c,f,h,d)}}}function $1(t,e,n,r){if(t){if(t instanceof Array){if(t.length===1){return K1(e(Z1(t[0],r)))}else if(t.length===2){return K1(e(Z1(t[0],r))-e(Z1(t[1],r)))}}else if(typeof t==="string"&&t.substring(t.length-1,t.length)==="%"){return K1(n(+t.substring(0,t.length-1)))}}return K1(t)}function K1(t){if(t===0){return 1e-9}return t}function Z1(t,e){if(e){if(typeof t==="object"&&typeof t.getMonth==="function"){return t}return new Date(t)}return t}function Q1(t,e,n,r,i,a){var o=Xt(t).select(".vcl-annotation-group").select(".annotations");o.selectAll(".annotation").style("visibility",null);o.selectAll(".annotation-detect-collision").each((function(t,e,n){var a=n[e];var o=J1(Xt(a).attr("transform"));var s=o&&o["translate"]||[0,0];var u=Xt(a).select(".annotation-note").attr("transform")&&J1(Xt(a).select(".annotation-note").attr("transform"));var l=u&&u["translate"]||[0,0];var c=Xt(a).select(".annotation-note").select(".annotation-note-content").attr("transform")&&J1(Xt(a).select(".annotation-note").select(".annotation-note-content").attr("transform"));var f=c&&c["translate"]||[0,0];Xt(a).selectAll("path").each((function(t,e,n){var a=Xt(n[e]);var o=s[0]+r.left+i.left;var u=s[1]+r.top+i.top;if(a.classed("note-line")){o+=l[0];u+=l[1]}a.attr("data-d",a.attr("d")).attr("data-translate-x",o).attr("data-translate-y",u)}));var h=0;Xt(a).selectAll("text").each((function(t,e,n){var a=n[e];var o=getComputedStyle(a);var u=parseFloat(o.fontSize);var c=Math.max(u-1,1);var d=$u(a.textContent,u,true,o.fontFamily);var p=Xt(a);var v=s[0]+l[0]+f[0]+r.left+i.left;var y=s[1]+l[1]+f[1]+r.top+i.top;h=Math.max(d,h);p.attr("data-x",+p.attr("x")||0).attr("data-y",c/2+ +p.attr("y")||0).attr("data-ignore",d===0).attr("data-width",d).attr("data-height",c).attr("data-translate-x",v).attr("data-translate-y",y).attr("data-no-text-anchor",true)}));if(h===0){Xt(a).attr("data-no-text",true)}}));a=tc({bitmaps:a,labelSelection:Xt(".nothing-exists-here"),avoidMarks:[o.selectAll(".annotation-detect-collision").selectAll("path")],validPositions:["middle"],offsets:[1],accessors:["cidx"],size:[Ae(e,0),Ae(n,0)]});a=tc({bitmaps:a,labelSelection:o.selectAll(".annotation-detect-collision text"),avoidMarks:[],validPositions:["middle"],offsets:[1],accessors:["cidx"],size:[Ae(e,0),Ae(n,0)]});o.selectAll(".annotation-detect-collision").each((function(t,e,n){var r=n[e];var i=false;Xt(r).selectAll("text").each((function(t,e,n){var r=n[e];var a=Xt(r).attr("data-label-hidden")==="false"&&Xt(r).attr("data-ignore")==="false";i=i||a}));if(i||Xt(r).attr("data-no-text")==="true"){Xt(r).style("visibility",null)}else{Xt(r).style("visibility","hidden")}}))}function J1(t){var e={};t.trim().replace(", ",",").split(" ").forEach((function(t){var n=t.split(")")[0].split(",");var r=n[0].split("(");e[r[0]]=[];e[r[0]].push(+r[1],+n[1])}));return e}function t2(){t2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};return t2.apply(this,arguments)}var e2=Object.prototype;var n2=e2.hasOwnProperty;function r2(t,e){return t!=null&&n2.call(t,e)}var i2=Array.isArray;var a2=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal;var o2=typeof self=="object"&&self&&self.Object===Object&&self;var s2=a2||o2||Function("return this")();var u2=s2.Symbol;var l2=Object.prototype;var c2=l2.hasOwnProperty;var f2=l2.toString;var h2=u2?u2.toStringTag:undefined;function d2(t){var e=c2.call(t,h2),n=t[h2];try{t[h2]=undefined;var r=true}catch(a){}var i=f2.call(t);if(r){if(e){t[h2]=n}else{delete t[h2]}}return i}var p2=Object.prototype;var v2=p2.toString;function y2(t){return v2.call(t)}var g2="[object Null]",m2="[object Undefined]";var b2=u2?u2.toStringTag:undefined;function _2(t){if(t==null){return t===undefined?m2:g2}return b2&&b2 in Object(t)?d2(t):y2(t)}function w2(t){return t!=null&&typeof t=="object"}var x2="[object Symbol]";function A2(t){return typeof t=="symbol"||w2(t)&&_2(t)==x2}var S2=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,T2=/^\w*$/;function L2(t,e){if(i2(t)){return false}var n=typeof t;if(n=="number"||n=="symbol"||n=="boolean"||t==null||A2(t)){return true}return T2.test(t)||!S2.test(t)||e!=null&&t in Object(e)}function E2(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var N2="[object AsyncFunction]",C2="[object Function]",M2="[object GeneratorFunction]",k2="[object Proxy]";function I2(t){if(!E2(t)){return false}var e=_2(t);return e==C2||e==M2||e==N2||e==k2}var O2=s2["__core-js_shared__"];var D2=function(){var t=/[^.]+$/.exec(O2&&O2.keys&&O2.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function R2(t){return!!D2&&D2 in t}var U2=Function.prototype;var P2=U2.toString;function F2(t){if(t!=null){try{return P2.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var H2=/[\\^$.*+?()[\]{}|]/g;var j2=/^\[object .+?Constructor\]$/;var V2=Function.prototype,B2=Object.prototype;var z2=V2.toString;var Y2=B2.hasOwnProperty;var W2=RegExp("^"+z2.call(Y2).replace(H2,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function G2(t){if(!E2(t)||R2(t)){return false}var e=I2(t)?W2:j2;return e.test(F2(t))}function q2(t,e){return t==null?undefined:t[e]}function X2(t,e){var n=q2(t,e);return G2(n)?n:undefined}var $2=X2(Object,"create");function K2(){this.__data__=$2?$2(null):{};this.size=0}function Z2(t){var e=this.has(t)&&delete this.__data__[t];this.size-=e?1:0;return e}var Q2="__lodash_hash_undefined__";var J2=Object.prototype;var t3=J2.hasOwnProperty;function e3(t){var e=this.__data__;if($2){var n=e[t];return n===Q2?undefined:n}return t3.call(e,t)?e[t]:undefined}var n3=Object.prototype;var r3=n3.hasOwnProperty;function i3(t){var e=this.__data__;return $2?e[t]!==undefined:r3.call(e,t)}var a3="__lodash_hash_undefined__";function o3(t,e){var n=this.__data__;this.size+=this.has(t)?0:1;n[t]=$2&&e===undefined?a3:e;return this}function s3(t){var e=-1,n=t==null?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}s3.prototype.clear=K2;s3.prototype["delete"]=Z2;s3.prototype.get=e3;s3.prototype.has=i3;s3.prototype.set=o3;function u3(){this.__data__=[];this.size=0}function l3(t,e){return t===e||t!==t&&e!==e}function c3(t,e){var n=t.length;while(n--){if(l3(t[n][0],e)){return n}}return-1}var f3=Array.prototype;var h3=f3.splice;function d3(t){var e=this.__data__,n=c3(e,t);if(n<0){return false}var r=e.length-1;if(n==r){e.pop()}else{h3.call(e,n,1)}--this.size;return true}function p3(t){var e=this.__data__,n=c3(e,t);return n<0?undefined:e[n][1]}function v3(t){return c3(this.__data__,t)>-1}function y3(t,e){var n=this.__data__,r=c3(n,t);if(r<0){++this.size;n.push([t,e])}else{n[r][1]=e}return this}function g3(t){var e=-1,n=t==null?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}g3.prototype.clear=u3;g3.prototype["delete"]=d3;g3.prototype.get=p3;g3.prototype.has=v3;g3.prototype.set=y3;var m3=X2(s2,"Map");function b3(){this.size=0;this.__data__={hash:new s3,map:new(m3||g3),string:new s3}}function _3(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function w3(t,e){var n=t.__data__;return _3(e)?n[typeof e=="string"?"string":"hash"]:n.map}function x3(t){var e=w3(this,t)["delete"](t);this.size-=e?1:0;return e}function A3(t){return w3(this,t).get(t)}function S3(t){return w3(this,t).has(t)}function T3(t,e){var n=w3(this,t),r=n.size;n.set(t,e);this.size+=n.size==r?0:1;return this}function L3(t){var e=-1,n=t==null?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}L3.prototype.clear=b3;L3.prototype["delete"]=x3;L3.prototype.get=A3;L3.prototype.has=S3;L3.prototype.set=T3;var E3="Expected a function";function N3(t,e){if(typeof t!="function"||e!=null&&typeof e!="function"){throw new TypeError(E3)}var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i)){return a.get(i)}var o=t.apply(this,r);n.cache=a.set(i,o)||a;return o};n.cache=new(N3.Cache||L3);return n}N3.Cache=L3;var C3=500;function M3(t){var e=N3(t,(function(t){if(n.size===C3){n.clear()}return t}));var n=e.cache;return e}var k3=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var I3=/\\(\\)?/g;var O3=M3((function(t){var e=[];if(t.charCodeAt(0)===46){e.push("")}t.replace(k3,(function(t,n,r,i){e.push(r?i.replace(I3,"$1"):n||t)}));return e}));function D3(t,e){var n=-1,r=t==null?0:t.length,i=Array(r);while(++n<r){i[n]=e(t[n],n,t)}return i}var R3=1/0;var U3=u2?u2.prototype:undefined,P3=U3?U3.toString:undefined;function F3(t){if(typeof t=="string"){return t}if(i2(t)){return D3(t,F3)+""}if(A2(t)){return P3?P3.call(t):""}var e=t+"";return e=="0"&&1/t==-R3?"-0":e}function H3(t){return t==null?"":F3(t)}function j3(t,e){if(i2(t)){return t}return L2(t,e)?[t]:O3(H3(t))}var V3="[object Arguments]";function B3(t){return w2(t)&&_2(t)==V3}var z3=Object.prototype;var Y3=z3.hasOwnProperty;var W3=z3.propertyIsEnumerable;var G3=B3(function(){return arguments}())?B3:function(t){return w2(t)&&Y3.call(t,"callee")&&!W3.call(t,"callee")};var q3=9007199254740991;var X3=/^(?:0|[1-9]\d*)$/;function $3(t,e){var n=typeof t;e=e==null?q3:e;return!!e&&(n=="number"||n!="symbol"&&X3.test(t))&&(t>-1&&t%1==0&&t<e)}var K3=9007199254740991;function Z3(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=K3}var Q3=1/0;function J3(t){if(typeof t=="string"||A2(t)){return t}var e=t+"";return e=="0"&&1/t==-Q3?"-0":e}function t5(t,e,n){e=j3(e,t);var r=-1,i=e.length,a=false;while(++r<i){var o=J3(e[r]);if(!(a=t!=null&&n(t,o))){break}t=t[o]}if(a||++r!=i){return a}i=t==null?0:t.length;return!!i&&Z3(i)&&$3(o,i)&&(i2(t)||G3(t))}function e5(t,e){return t!=null&&t5(t,e,r2)}function n5(){this.__data__=new g3;this.size=0}function r5(t){var e=this.__data__,n=e["delete"](t);this.size=e.size;return n}function i5(t){return this.__data__.get(t)}function a5(t){return this.__data__.has(t)}var o5=200;function s5(t,e){var n=this.__data__;if(n instanceof g3){var r=n.__data__;if(!m3||r.length<o5-1){r.push([t,e]);this.size=++n.size;return this}n=this.__data__=new L3(r)}n.set(t,e);this.size=n.size;return this}function u5(t){var e=this.__data__=new g3(t);this.size=e.size}u5.prototype.clear=n5;u5.prototype["delete"]=r5;u5.prototype.get=i5;u5.prototype.has=a5;u5.prototype.set=s5;function l5(t,e){var n=-1,r=t==null?0:t.length;while(++n<r){if(e(t[n],n,t)===false){break}}return t}var c5=function(){try{var t=X2(Object,"defineProperty");t({},"",{});return t}catch(e){}}();function f5(t,e,n){if(e=="__proto__"&&c5){c5(t,e,{configurable:true,enumerable:true,value:n,writable:true})}else{t[e]=n}}var h5=Object.prototype;var d5=h5.hasOwnProperty;function p5(t,e,n){var r=t[e];if(!(d5.call(t,e)&&l3(r,n))||n===undefined&&!(e in t)){f5(t,e,n)}}function v5(t,e,n,r){var i=!n;n||(n={});var a=-1,o=e.length;while(++a<o){var s=e[a];var u=r?r(n[s],t[s],s,n,t):undefined;if(u===undefined){u=t[s]}if(i){f5(n,s,u)}else{p5(n,s,u)}}return n}function y5(t,e){var n=-1,r=Array(t);while(++n<t){r[n]=e(n)}return r}function g5(){return false}var m5=e&&!e.nodeType&&e;var b5=m5&&"object"=="object"&&t&&!t.nodeType&&t;var _5=b5&&b5.exports===m5;var w5=_5?s2.Buffer:undefined;var x5=w5?w5.isBuffer:undefined;var A5=x5||g5;var S5="[object Arguments]",T5="[object Array]",L5="[object Boolean]",E5="[object Date]",N5="[object Error]",C5="[object Function]",M5="[object Map]",k5="[object Number]",I5="[object Object]",O5="[object RegExp]",D5="[object Set]",R5="[object String]",U5="[object WeakMap]";var P5="[object ArrayBuffer]",F5="[object DataView]",H5="[object Float32Array]",j5="[object Float64Array]",V5="[object Int8Array]",B5="[object Int16Array]",z5="[object Int32Array]",Y5="[object Uint8Array]",W5="[object Uint8ClampedArray]",G5="[object Uint16Array]",q5="[object Uint32Array]";var X5={};X5[H5]=X5[j5]=X5[V5]=X5[B5]=X5[z5]=X5[Y5]=X5[W5]=X5[G5]=X5[q5]=true;X5[S5]=X5[T5]=X5[P5]=X5[L5]=X5[F5]=X5[E5]=X5[N5]=X5[C5]=X5[M5]=X5[k5]=X5[I5]=X5[O5]=X5[D5]=X5[R5]=X5[U5]=false;function $5(t){return w2(t)&&Z3(t.length)&&!!X5[_2(t)]}function K5(t){return function(e){return t(e)}}var Z5=e&&!e.nodeType&&e;var Q5=Z5&&"object"=="object"&&t&&!t.nodeType&&t;var J5=Q5&&Q5.exports===Z5;var t4=J5&&a2.process;var e4=function(){try{var t=Q5&&Q5.require&&Q5.require("util").types;if(t){return t}return t4&&t4.binding&&t4.binding("util")}catch(e){}}();var n4=e4&&e4.isTypedArray;var r4=n4?K5(n4):$5;var i4=Object.prototype;var a4=i4.hasOwnProperty;function o4(t,e){var n=i2(t),r=!n&&G3(t),i=!n&&!r&&A5(t),a=!n&&!r&&!i&&r4(t),o=n||r||i||a,s=o?y5(t.length,String):[],u=s.length;for(var l in t){if((e||a4.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||$3(l,u)))){s.push(l)}}return s}var s4=Object.prototype;function u4(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||s4;return t===n}function l4(t,e){return function(n){return t(e(n))}}var c4=l4(Object.keys,Object);var f4=Object.prototype;var h4=f4.hasOwnProperty;function d4(t){if(!u4(t)){return c4(t)}var e=[];for(var n in Object(t)){if(h4.call(t,n)&&n!="constructor"){e.push(n)}}return e}function p4(t){return t!=null&&Z3(t.length)&&!I2(t)}function v4(t){return p4(t)?o4(t):d4(t)}function y4(t,e){return t&&v5(e,v4(e),t)}function g4(t){var e=[];if(t!=null){for(var n in Object(t)){e.push(n)}}return e}var m4=Object.prototype;var b4=m4.hasOwnProperty;function _4(t){if(!E2(t)){return g4(t)}var e=u4(t),n=[];for(var r in t){if(!(r=="constructor"&&(e||!b4.call(t,r)))){n.push(r)}}return n}function w4(t){return p4(t)?o4(t,true):_4(t)}function x4(t,e){return t&&v5(e,w4(e),t)}var A4=e&&!e.nodeType&&e;var S4=A4&&"object"=="object"&&t&&!t.nodeType&&t;var T4=S4&&S4.exports===A4;var L4=T4?s2.Buffer:undefined,E4=L4?L4.allocUnsafe:undefined;function N4(t,e){if(e){return t.slice()}var n=t.length,r=E4?E4(n):new t.constructor(n);t.copy(r);return r}function C4(t,e){var n=-1,r=t.length;e||(e=Array(r));while(++n<r){e[n]=t[n]}return e}function M4(t,e){var n=-1,r=t==null?0:t.length,i=0,a=[];while(++n<r){var o=t[n];if(e(o,n,t)){a[i++]=o}}return a}function k4(){return[]}var I4=Object.prototype;var O4=I4.propertyIsEnumerable;var D4=Object.getOwnPropertySymbols;var R4=!D4?k4:function(t){if(t==null){return[]}t=Object(t);return M4(D4(t),(function(e){return O4.call(t,e)}))};function U4(t,e){return v5(t,R4(t),e)}function P4(t,e){var n=-1,r=e.length,i=t.length;while(++n<r){t[i+n]=e[n]}return t}var F4=l4(Object.getPrototypeOf,Object);var H4=Object.getOwnPropertySymbols;var j4=!H4?k4:function(t){var e=[];while(t){P4(e,R4(t));t=F4(t)}return e};function V4(t,e){return v5(t,j4(t),e)}function B4(t,e,n){var r=e(t);return i2(t)?r:P4(r,n(t))}function z4(t){return B4(t,v4,R4)}function Y4(t){return B4(t,w4,j4)}var W4=X2(s2,"DataView");var G4=X2(s2,"Promise");var q4=X2(s2,"Set");var X4=X2(s2,"WeakMap");var $4="[object Map]",K4="[object Object]",Z4="[object Promise]",Q4="[object Set]",J4="[object WeakMap]";var t6="[object DataView]";var e6=F2(W4),n6=F2(m3),r6=F2(G4),i6=F2(q4),a6=F2(X4);var o6=_2;if(W4&&o6(new W4(new ArrayBuffer(1)))!=t6||m3&&o6(new m3)!=$4||G4&&o6(G4.resolve())!=Z4||q4&&o6(new q4)!=Q4||X4&&o6(new X4)!=J4){o6=function(t){var e=_2(t),n=e==K4?t.constructor:undefined,r=n?F2(n):"";if(r){switch(r){case e6:return t6;case n6:return $4;case r6:return Z4;case i6:return Q4;case a6:return J4}}return e}}var s6=o6;var u6=Object.prototype;var l6=u6.hasOwnProperty;function c6(t){var e=t.length,n=new t.constructor(e);if(e&&typeof t[0]=="string"&&l6.call(t,"index")){n.index=t.index;n.input=t.input}return n}var f6=s2.Uint8Array;function h6(t){var e=new t.constructor(t.byteLength);new f6(e).set(new f6(t));return e}function d6(t,e){var n=e?h6(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var p6=/\w*$/;function v6(t){var e=new t.constructor(t.source,p6.exec(t));e.lastIndex=t.lastIndex;return e}var y6=u2?u2.prototype:undefined,g6=y6?y6.valueOf:undefined;function m6(t){return g6?Object(g6.call(t)):{}}function b6(t,e){var n=e?h6(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var _6="[object Boolean]",w6="[object Date]",x6="[object Map]",A6="[object Number]",S6="[object RegExp]",T6="[object Set]",L6="[object String]",E6="[object Symbol]";var N6="[object ArrayBuffer]",C6="[object DataView]",M6="[object Float32Array]",k6="[object Float64Array]",I6="[object Int8Array]",O6="[object Int16Array]",D6="[object Int32Array]",R6="[object Uint8Array]",U6="[object Uint8ClampedArray]",P6="[object Uint16Array]",F6="[object Uint32Array]";function H6(t,e,n){var r=t.constructor;switch(e){case N6:return h6(t);case _6:case w6:return new r(+t);case C6:return d6(t,n);case M6:case k6:case I6:case O6:case D6:case R6:case U6:case P6:case F6:return b6(t,n);case x6:return new r;case A6:case L6:return new r(t);case S6:return v6(t);case T6:return new r;case E6:return m6(t)}}var j6=Object.create;var V6=function(){function t(){}return function(e){if(!E2(e)){return{}}if(j6){return j6(e)}t.prototype=e;var n=new t;t.prototype=undefined;return n}}();function B6(t){return typeof t.constructor=="function"&&!u4(t)?V6(F4(t)):{}}var z6="[object Map]";function Y6(t){return w2(t)&&s6(t)==z6}var W6=e4&&e4.isMap;var G6=W6?K5(W6):Y6;var q6="[object Set]";function X6(t){return w2(t)&&s6(t)==q6}var $6=e4&&e4.isSet;var K6=$6?K5($6):X6;var Z6=1,Q6=2,J6=4;var t7="[object Arguments]",e7="[object Array]",n7="[object Boolean]",r7="[object Date]",i7="[object Error]",a7="[object Function]",o7="[object GeneratorFunction]",s7="[object Map]",u7="[object Number]",l7="[object Object]",c7="[object RegExp]",f7="[object Set]",h7="[object String]",d7="[object Symbol]",p7="[object WeakMap]";var v7="[object ArrayBuffer]",y7="[object DataView]",g7="[object Float32Array]",m7="[object Float64Array]",b7="[object Int8Array]",_7="[object Int16Array]",w7="[object Int32Array]",x7="[object Uint8Array]",A7="[object Uint8ClampedArray]",S7="[object Uint16Array]",T7="[object Uint32Array]";var L7={};L7[t7]=L7[e7]=L7[v7]=L7[y7]=L7[n7]=L7[r7]=L7[g7]=L7[m7]=L7[b7]=L7[_7]=L7[w7]=L7[s7]=L7[u7]=L7[l7]=L7[c7]=L7[f7]=L7[h7]=L7[d7]=L7[x7]=L7[A7]=L7[S7]=L7[T7]=true;L7[i7]=L7[a7]=L7[p7]=false;function E7(t,e,n,r,i,a){var o,s=e&Z6,u=e&Q6,l=e&J6;if(n){o=i?n(t,r,i,a):n(t)}if(o!==undefined){return o}if(!E2(t)){return t}var c=i2(t);if(c){o=c6(t);if(!s){return C4(t,o)}}else{var f=s6(t),h=f==a7||f==o7;if(A5(t)){return N4(t,s)}if(f==l7||f==t7||h&&!i){o=u||h?{}:B6(t);if(!s){return u?V4(t,x4(o,t)):U4(t,y4(o,t))}}else{if(!L7[f]){return i?t:{}}o=H6(t,f,s)}}a||(a=new u5);var d=a.get(t);if(d){return d}a.set(t,o);if(K6(t)){t.forEach((function(r){o.add(E7(r,e,n,r,t,a))}))}else if(G6(t)){t.forEach((function(r,i){o.set(i,E7(r,e,n,i,t,a))}))}var p=l?u?Y4:z4:u?w4:v4;var v=c?undefined:p(t);l5(v||t,(function(r,i){if(v){i=r;r=t[i]}p5(o,i,E7(r,e,n,i,t,a))}));return o}var N7=1,C7=4;function M7(t,e){e=typeof e=="function"?e:undefined;return E7(t,N7|C7,e)}var k7="[object String]";function I7(t){return typeof t=="string"||!i2(t)&&w2(t)&&_2(t)==k7}function O7(t){var e,n=[];while(!(e=t.next()).done){n.push(e.value)}return n}function D7(t){var e=-1,n=Array(t.size);t.forEach((function(t,r){n[++e]=[r,t]}));return n}function R7(t){var e=-1,n=Array(t.size);t.forEach((function(t){n[++e]=t}));return n}function U7(t){return t.split("")}var P7="\\ud800-\\udfff",F7="\\u0300-\\u036f",H7="\\ufe20-\\ufe2f",j7="\\u20d0-\\u20ff",V7=F7+H7+j7,B7="\\ufe0e\\ufe0f";var z7="\\u200d";var Y7=RegExp("["+z7+P7+V7+B7+"]");function W7(t){return Y7.test(t)}var G7="\\ud800-\\udfff",q7="\\u0300-\\u036f",X7="\\ufe20-\\ufe2f",$7="\\u20d0-\\u20ff",K7=q7+X7+$7,Z7="\\ufe0e\\ufe0f";var Q7="["+G7+"]",J7="["+K7+"]",t8="\\ud83c[\\udffb-\\udfff]",e8="(?:"+J7+"|"+t8+")",n8="[^"+G7+"]",r8="(?:\\ud83c[\\udde6-\\uddff]){2}",i8="[\\ud800-\\udbff][\\udc00-\\udfff]",a8="\\u200d";var o8=e8+"?",s8="["+Z7+"]?",u8="(?:"+a8+"(?:"+[n8,r8,i8].join("|")+")"+s8+o8+")*",l8=s8+o8+u8,c8="(?:"+[n8+J7+"?",J7,r8,i8,Q7].join("|")+")";var f8=RegExp(t8+"(?="+t8+")|"+c8+l8,"g");function h8(t){return t.match(f8)||[]}function d8(t){return W7(t)?h8(t):U7(t)}function p8(t,e){return D3(e,(function(e){return t[e]}))}function v8(t){return t==null?[]:p8(t,v4(t))}var y8="[object Map]",g8="[object Set]";var m8=u2?u2.iterator:undefined;function b8(t){if(!t){return[]}if(p4(t)){return I7(t)?d8(t):C4(t)}if(m8&&t[m8]){return O7(t[m8]())}var e=s6(t),n=e==y8?D7:e==g8?R7:v8;return n(t)}var _8=Object.prototype.toString;var w8=Error.prototype.toString;var x8=RegExp.prototype.toString;var A8=typeof Symbol!=="undefined"?Symbol.prototype.toString:function(){return""};var S8=/^Symbol\((.*)\)(.*)$/;function T8(t){if(t!=+t)return"NaN";var e=t===0&&1/t<0;return e?"-0":""+t}function L8(t,e){if(e===void 0){e=false}if(t==null||t===true||t===false)return""+t;var n=typeof t;if(n==="number")return T8(t);if(n==="string")return e?'"'+t+'"':t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return A8.call(t).replace(S8,"Symbol($1)");var r=_8.call(t).slice(8,-1);if(r==="Date")return isNaN(t.getTime())?""+t:t.toISOString(t);if(r==="Error"||t instanceof Error)return"["+w8.call(t)+"]";if(r==="RegExp")return x8.call(t);return null}function E8(t,e){var n=L8(t,e);if(n!==null)return n;return JSON.stringify(t,(function(t,n){var r=L8(this[t],e);if(r!==null)return r;return n}),2)}var N8={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:function t(e){var n=e.path,r=e.type,i=e.value,a=e.originalValue;var o=a!=null&&a!==i;var s=n+" must be a `"+r+"` type, "+("but the final value was: `"+E8(i,true)+"`")+(o?" (cast from the value `"+E8(a,true)+"`).":".");if(i===null){s+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'}return s},defined:"${path} must be defined"};var C8={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"};var M8={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",notEqual:"${path} must be not equal to ${notEqual}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"};var k8={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"};var I8={noUnknown:"${path} field has unspecified keys: ${unknown}"};var O8={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items"};var D8=function(t){return t&&t.__isYupSchema__};var R8=function(){function t(t,e){this.refs=t;if(typeof e==="function"){this.fn=e;return}if(!e5(e,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!e.then&&!e.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");var n=e.is,r=e.then,i=e.otherwise;var a=typeof n==="function"?n:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++){e[r]=arguments[r]}return e.every((function(t){return t===n}))};this.fn=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++){e[n]=arguments[n]}var o=e.pop();var s=e.pop();var u=a.apply(void 0,e)?r:i;if(!u)return undefined;if(typeof u==="function")return u(s);return s.concat(u.resolve(o))}}var e=t.prototype;e.resolve=function t(e,n){var r=this.refs.map((function(t){return t.getValue(n)}));var i=this.fn.apply(e,r.concat(e,n));if(i===undefined||i===e)return e;if(!D8(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)};return t}();function U8(t,e){if(t==null)return{};var n={};var r=Object.keys(t);var i,a;for(a=0;a<r.length;a++){i=r[a];if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function P8(t){return Array.prototype.slice.apply(t)}var F8="pending",H8="resolved",j8="rejected";function V8(t){this.status=F8;this._continuations=[];this._parent=null;this._paused=false;if(t){t.call(this,this._continueWith.bind(this),this._failWith.bind(this))}}function B8(t){return t&&typeof t.then==="function"}function z8(t){return t}V8.prototype={then:function(t,e){var n=V8.unresolved()._setParent(this);if(this._isRejected()){if(this._paused){this._continuations.push({promise:n,nextFn:t,catchFn:e});return n}if(e){try{var r=e(this._error);if(B8(r)){this._chainPromiseData(r,n);return n}else{return V8.resolve(r)._setParent(this)}}catch(i){return V8.reject(i)._setParent(this)}}return V8.reject(this._error)._setParent(this)}this._continuations.push({promise:n,nextFn:t,catchFn:e});this._runResolutions();return n},catch:function(t){if(this._isResolved()){return V8.resolve(this._data)._setParent(this)}var e=V8.unresolved()._setParent(this);this._continuations.push({promise:e,catchFn:t});this._runRejections();return e},finally:function(t){var e=false;function n(n,r){if(!e){e=true;if(!t){t=z8}var i=t(n);if(B8(i)){return i.then((function(){if(r){throw r}return n}))}else{return n}}}return this.then((function(t){return n(t)})).catch((function(t){return n(null,t)}))},pause:function(){this._paused=true;return this},resume:function(){var t=this._findFirstPaused();if(t){t._paused=false;t._runResolutions();t._runRejections()}return this},_findAncestry:function(){return this._continuations.reduce((function(t,e){if(e.promise){var n={promise:e.promise,children:e.promise._findAncestry()};t.push(n)}return t}),[])},_setParent:function(t){if(this._parent){throw new Error("parent already set")}this._parent=t;return this},_continueWith:function(t){var e=this._findFirstPending();if(e){e._data=t;e._setResolved()}},_findFirstPending:function(){return this._findFirstAncestor((function(t){return t._isPending&&t._isPending()}))},_findFirstPaused:function(){return this._findFirstAncestor((function(t){return t._paused}))},_findFirstAncestor:function(t){var e=this;var n;while(e){if(t(e)){n=e}e=e._parent}return n},_failWith:function(t){var e=this._findFirstPending();if(e){e._error=t;e._setRejected()}},_takeContinuations:function(){return this._continuations.splice(0,this._continuations.length)},_runRejections:function(){if(this._paused||!this._isRejected()){return}var t=this._error,e=this._takeContinuations(),n=this;e.forEach((function(e){if(e.catchFn){try{var r=e.catchFn(t);n._handleUserFunctionResult(r,e.promise)}catch(i){e.promise.reject(i)}}else{e.promise.reject(t)}}))},_runResolutions:function(){if(this._paused||!this._isResolved()||this._isPending()){return}var t=this._takeContinuations();if(B8(this._data)){return this._handleWhenResolvedDataIsPromise(this._data)}var e=this._data;var n=this;t.forEach((function(t){if(t.nextFn){try{var r=t.nextFn(e);n._handleUserFunctionResult(r,t.promise)}catch(i){n._handleResolutionError(i,t)}}else if(t.promise){t.promise.resolve(e)}}))},_handleResolutionError:function(t,e){this._setRejected();if(e.catchFn){try{e.catchFn(t);return}catch(ea){t=ea}}if(e.promise){e.promise.reject(t)}},_handleWhenResolvedDataIsPromise:function(t){var e=this;return t.then((function(t){e._data=t;e._runResolutions()})).catch((function(t){e._error=t;e._setRejected();e._runRejections()}))},_handleUserFunctionResult:function(t,e){if(B8(t)){this._chainPromiseData(t,e)}else{e.resolve(t)}},_chainPromiseData:function(t,e){t.then((function(t){e.resolve(t)})).catch((function(t){e.reject(t)}))},_setResolved:function(){this.status=H8;if(!this._paused){this._runResolutions()}},_setRejected:function(){this.status=j8;if(!this._paused){this._runRejections()}},_isPending:function(){return this.status===F8},_isResolved:function(){return this.status===H8},_isRejected:function(){return this.status===j8}};V8.resolve=function(t){return new V8((function(e,n){if(B8(t)){t.then((function(t){e(t)})).catch((function(t){n(t)}))}else{e(t)}}))};V8.reject=function(t){return new V8((function(e,n){n(t)}))};V8.unresolved=function(){return new V8((function(t,e){this.resolve=t;this.reject=e}))};V8.all=function(){var t=P8(arguments);if(Array.isArray(t[0])){t=t[0]}if(!t.length){return V8.resolve([])}return new V8((function(e,n){var r=[],i=0,a=function(){if(i===t.length){e(r)}},o=false,s=function(t){if(o){return}o=true;n(t)};t.forEach((function(t,e){V8.resolve(t).then((function(t){r[e]=t;i+=1;a()})).catch((function(t){s(t)}))}))}))};function Y8(t){if(typeof window!=="undefined"&&"AggregateError"in window){return new window.AggregateError(t)}return{errors:t}}V8.any=function(){var t=P8(arguments);if(Array.isArray(t[0])){t=t[0]}if(!t.length){return V8.reject(Y8([]))}return new V8((function(e,n){var r=[],i=0,a=function(){if(i===t.length){n(Y8(r))}},o=false,s=function(t){if(o){return}o=true;e(t)};t.forEach((function(t,e){V8.resolve(t).then((function(t){s(t)})).catch((function(t){r[e]=t;i+=1;a()}))}))}))};V8.allSettled=function(){var t=P8(arguments);if(Array.isArray(t[0])){t=t[0]}if(!t.length){return V8.resolve([])}return new V8((function(e){var n=[],r=0,i=function(){r+=1;if(r===t.length){e(n)}};t.forEach((function(t,e){V8.resolve(t).then((function(t){n[e]={status:"fulfilled",value:t};i()})).catch((function(t){n[e]={status:"rejected",reason:t};i()}))}))}))};if(Promise===V8){throw new Error("Please use SynchronousPromise.installGlobally() to install globally")}var W8=Promise;V8.installGlobally=function(t){if(Promise===V8){return t}var e=G8(t);Promise=V8;return e};V8.uninstallGlobally=function(){if(Promise===V8){Promise=W8}};function G8(t){if(typeof t==="undefined"||t.__patched){return t}var e=t;t=function(){e.apply(this,P8(arguments))};t.__patched=true;return t}var q8={SynchronousPromise:V8};var X8=q8.SynchronousPromise;var $8=/\$\{\s*(\w+)\s*\}/g;var K8=function t(e){return function(t){return e.replace($8,(function(e,n){return E8(t[n])}))}};function Z8(t,e,n,r){var i=this;this.name="ValidationError";this.value=e;this.path=n;this.type=r;this.errors=[];this.inner=[];if(t)[].concat(t).forEach((function(t){i.errors=i.errors.concat(t.errors||t);if(t.inner)i.inner=i.inner.concat(t.inner.length?t.inner:t)}));this.message=this.errors.length>1?this.errors.length+" errors occurred":this.errors[0];if(Error.captureStackTrace)Error.captureStackTrace(this,Z8)}Z8.prototype=Object.create(Error.prototype);Z8.prototype.constructor=Z8;Z8.isError=function(t){return t&&t.name==="ValidationError"};Z8.formatError=function(t,e){if(typeof t==="string")t=K8(t);var n=function e(n){n.path=n.label||n.path||"this";return typeof t==="function"?t(n):t};return arguments.length===1?n:n(e)};var Q8=function t(e){return e?X8:Promise};var J8=function t(e){if(e===void 0){e=[]}return e.inner&&e.inner.length?e.inner:[].concat(e)};function t9(t,e,n){var r=Q8(n).all(t);var i=r.catch((function(t){if(t.name==="ValidationError")t.value=e;throw t}));var a=i.then((function(){return e}));return a}function e9(t,e){return t?null:function(t){e.push(t);return t.value}}function n9(t,e){var n=Q8(e);return n.all(t.map((function(t){return n.resolve(t).then((function(t){return{fulfilled:true,value:t}}),(function(t){return{fulfilled:false,value:t}}))})))}function r9(t){var e=t.validations,n=t.value,r=t.path,i=t.sync,a=t.errors,o=t.sort;a=J8(a);return n9(e,i).then((function(t){var e=t.filter((function(t){return!t.fulfilled})).reduce((function(t,e){var n=e.value;if(!Z8.isError(n)){throw n}return t.concat(n)}),[]);if(o)e.sort(o);a=e.concat(a);if(a.length)throw new Z8(a,n,r);return n}))}function i9(t){var e=t.endEarly,n=U8(t,["endEarly"]);if(e)return t9(n.validations,n.value,n.sync);return r9(n)}var a9=function t(e){return Object.prototype.toString.call(e)==="[object Object]"};function o9(t,e){for(var n in e){if(e5(e,n)){var r=e[n],i=t[n];if(i===undefined){t[n]=r}else if(i===r){continue}else if(D8(i)){if(D8(r))t[n]=r.concat(i)}else if(a9(i)){if(a9(r))t[n]=o9(i,r)}else if(Array.isArray(i)){if(Array.isArray(r))t[n]=r.concat(i)}}}return t}function s9(t){return function(e,n,r){var i=-1,a=Object(e),o=r(e),s=o.length;while(s--){var u=o[t?s:++i];if(n(a[u],u,a)===false){break}}return e}}var u9=s9();function l9(t,e){return t&&u9(t,e,v4)}var c9="__lodash_hash_undefined__";function f9(t){this.__data__.set(t,c9);return this}function h9(t){return this.__data__.has(t)}function d9(t){var e=-1,n=t==null?0:t.length;this.__data__=new L3;while(++e<n){this.add(t[e])}}d9.prototype.add=d9.prototype.push=f9;d9.prototype.has=h9;function p9(t,e){var n=-1,r=t==null?0:t.length;while(++n<r){if(e(t[n],n,t)){return true}}return false}function v9(t,e){return t.has(e)}var y9=1,g9=2;function m9(t,e,n,r,i,a){var o=n&y9,s=t.length,u=e.length;if(s!=u&&!(o&&u>s)){return false}var l=a.get(t);var c=a.get(e);if(l&&c){return l==e&&c==t}var f=-1,h=true,d=n&g9?new d9:undefined;a.set(t,e);a.set(e,t);while(++f<s){var p=t[f],v=e[f];if(r){var y=o?r(v,p,f,e,t,a):r(p,v,f,t,e,a)}if(y!==undefined){if(y){continue}h=false;break}if(d){if(!p9(e,(function(t,e){if(!v9(d,e)&&(p===t||i(p,t,n,r,a))){return d.push(e)}}))){h=false;break}}else if(!(p===v||i(p,v,n,r,a))){h=false;break}}a["delete"](t);a["delete"](e);return h}var b9=1,_9=2;var w9="[object Boolean]",x9="[object Date]",A9="[object Error]",S9="[object Map]",T9="[object Number]",L9="[object RegExp]",E9="[object Set]",N9="[object String]",C9="[object Symbol]";var M9="[object ArrayBuffer]",k9="[object DataView]";var I9=u2?u2.prototype:undefined,O9=I9?I9.valueOf:undefined;function D9(t,e,n,r,i,a,o){switch(n){case k9:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset){return false}t=t.buffer;e=e.buffer;case M9:if(t.byteLength!=e.byteLength||!a(new f6(t),new f6(e))){return false}return true;case w9:case x9:case T9:return l3(+t,+e);case A9:return t.name==e.name&&t.message==e.message;case L9:case N9:return t==e+"";case S9:var s=D7;case E9:var u=r&b9;s||(s=R7);if(t.size!=e.size&&!u){return false}var l=o.get(t);if(l){return l==e}r|=_9;o.set(t,e);var c=m9(s(t),s(e),r,i,a,o);o["delete"](t);return c;case C9:if(O9){return O9.call(t)==O9.call(e)}}return false}var R9=1;var U9=Object.prototype;var P9=U9.hasOwnProperty;function F9(t,e,n,r,i,a){var o=n&R9,s=z4(t),u=s.length,l=z4(e),c=l.length;if(u!=c&&!o){return false}var f=u;while(f--){var h=s[f];if(!(o?h in e:P9.call(e,h))){return false}}var d=a.get(t);var p=a.get(e);if(d&&p){return d==e&&p==t}var v=true;a.set(t,e);a.set(e,t);var y=o;while(++f<u){h=s[f];var g=t[h],m=e[h];if(r){var b=o?r(m,g,h,e,t,a):r(g,m,h,t,e,a)}if(!(b===undefined?g===m||i(g,m,n,r,a):b)){v=false;break}y||(y=h=="constructor")}if(v&&!y){var _=t.constructor,w=e.constructor;if(_!=w&&("constructor"in t&&"constructor"in e)&&!(typeof _=="function"&&_ instanceof _&&typeof w=="function"&&w instanceof w)){v=false}}a["delete"](t);a["delete"](e);return v}var H9=1;var j9="[object Arguments]",V9="[object Array]",B9="[object Object]";var z9=Object.prototype;var Y9=z9.hasOwnProperty;function W9(t,e,n,r,i,a){var o=i2(t),s=i2(e),u=o?V9:s6(t),l=s?V9:s6(e);u=u==j9?B9:u;l=l==j9?B9:l;var c=u==B9,f=l==B9,h=u==l;if(h&&A5(t)){if(!A5(e)){return false}o=true;c=false}if(h&&!c){a||(a=new u5);return o||r4(t)?m9(t,e,n,r,i,a):D9(t,e,u,n,r,i,a)}if(!(n&H9)){var d=c&&Y9.call(t,"__wrapped__"),p=f&&Y9.call(e,"__wrapped__");if(d||p){var v=d?t.value():t,y=p?e.value():e;a||(a=new u5);return i(v,y,n,r,a)}}if(!h){return false}a||(a=new u5);return F9(t,e,n,r,i,a)}function G9(t,e,n,r,i){if(t===e){return true}if(t==null||e==null||!w2(t)&&!w2(e)){return t!==t&&e!==e}return W9(t,e,n,r,G9,i)}var q9=1,X9=2;function $9(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null){return!a}t=Object(t);while(i--){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t)){return false}}while(++i<a){s=n[i];var u=s[0],l=t[u],c=s[1];if(o&&s[2]){if(l===undefined&&!(u in t)){return false}}else{var f=new u5;if(r){var h=r(l,c,u,t,e,f)}if(!(h===undefined?G9(c,l,q9|X9,r,f):h)){return false}}}return true}function K9(t){return t===t&&!E2(t)}function Z9(t){var e=v4(t),n=e.length;while(n--){var r=e[n],i=t[r];e[n]=[r,i,K9(i)]}return e}function Q9(t,e){return function(n){if(n==null){return false}return n[t]===e&&(e!==undefined||t in Object(n))}}function J9(t){var e=Z9(t);if(e.length==1&&e[0][2]){return Q9(e[0][0],e[0][1])}return function(n){return n===t||$9(n,t,e)}}function ttt(t,e){e=j3(e,t);var n=0,r=e.length;while(t!=null&&n<r){t=t[J3(e[n++])]}return n&&n==r?t:undefined}function ett(t,e,n){var r=t==null?undefined:ttt(t,e);return r===undefined?n:r}function ntt(t,e){return t!=null&&e in Object(t)}function rtt(t,e){return t!=null&&t5(t,e,ntt)}var itt=1,att=2;function ott(t,e){if(L2(t)&&K9(e)){return Q9(J3(t),e)}return function(n){var r=ett(n,t);return r===undefined&&r===e?rtt(n,t):G9(e,r,itt|att)}}function stt(t){return t}function utt(t){return function(e){return e==null?undefined:e[t]}}function ltt(t){return function(e){return ttt(e,t)}}function ctt(t){return L2(t)?utt(J3(t)):ltt(t)}function ftt(t){if(typeof t=="function"){return t}if(t==null){return stt}if(typeof t=="object"){return i2(t)?ott(t[0],t[1]):J9(t)}return ctt(t)}function htt(t,e){var n={};e=ftt(e);l9(t,(function(t,r,i){f5(n,r,e(t,r,i))}));return n}function dtt(t){this._maxSize=t;this.clear()}dtt.prototype.clear=function(){this._size=0;this._values=Object.create(null)};dtt.prototype.get=function(t){return this._values[t]};dtt.prototype.set=function(t,e){this._size>=this._maxSize&&this.clear();if(!(t in this._values))this._size++;return this._values[t]=e};var ptt=/[^.^\]^[]+|(?=\[\]|\.\.)/g,vtt=/^\d+$/,ytt=/^\d/,gtt=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,mtt=/^\s*(['"]?)(.*?)(\1)\s*$/,btt=512;var _tt=new dtt(btt),wtt=new dtt(btt),xtt=new dtt(btt);var Att={Cache:dtt,split:Ttt,normalizePath:Stt,setter:function(t){var e=Stt(t);return wtt.get(t)||wtt.set(t,(function t(n,r){var i=0;var a=e.length;var o=n;while(i<a-1){var s=e[i];if(s==="__proto__"||s==="constructor"||s==="prototype"){return n}o=o[e[i++]]}o[e[i]]=r}))},getter:function(t,e){var n=Stt(t);return xtt.get(t)||xtt.set(t,(function t(r){var i=0,a=n.length;while(i<a){if(r!=null||!e)r=r[n[i++]];else return}return r}))},join:function(t){return t.reduce((function(t,e){return t+(Ett(e)||vtt.test(e)?"["+e+"]":(t?".":"")+e)}),"")},forEach:function(t,e,n){Ltt(Array.isArray(t)?t:Ttt(t),e,n)}};function Stt(t){return _tt.get(t)||_tt.set(t,Ttt(t).map((function(t){return t.replace(mtt,"$2")})))}function Ttt(t){return t.match(ptt)||[""]}function Ltt(t,e,n){var r=t.length,i,a,o,s;for(a=0;a<r;a++){i=t[a];if(i){if(Mtt(i)){i='"'+i+'"'}s=Ett(i);o=!s&&/^\d+$/.test(i);e.call(n,i,s,o,a,t)}}}function Ett(t){return typeof t==="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function Ntt(t){return t.match(ytt)&&!t.match(vtt)}function Ctt(t){return gtt.test(t)}function Mtt(t){return!Ett(t)&&(Ntt(t)||Ctt(t))}var ktt=Att.split;var Itt=Att.getter;var Ott=Att.forEach;var Dtt={context:"$",value:"."};var Rtt=function(){function t(t,e){if(e===void 0){e={}}if(typeof t!=="string")throw new TypeError("ref must be a string, got: "+t);this.key=t.trim();if(t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Dtt.context;this.isValue=this.key[0]===Dtt.value;this.isSibling=!this.isContext&&!this.isValue;var n=this.isContext?Dtt.context:this.isValue?Dtt.value:"";this.path=this.key.slice(n.length);this.getter=this.path&&Itt(this.path,true);this.map=e.map}var e=t.prototype;e.getValue=function t(e){var n=this.isContext?e.context:this.isValue?e.value:e.parent;if(this.getter)n=this.getter(n||{});if(this.map)n=this.map(n);return n};e.cast=function t(e,n){return this.getValue(t2({},n,{value:e}))};e.resolve=function t(){return this};e.describe=function t(){return{type:"ref",key:this.key}};e.toString=function t(){return"Ref("+this.key+")"};t.isRef=function t(e){return e&&e.__isYupRef};return t}();Rtt.prototype.__isYupRef=true;var Utt=Z8.formatError;var Ptt=function t(e){return e&&typeof e.then==="function"&&typeof e.catch==="function"};function Ftt(t,e,n,r){var i=t.call(e,n);if(!r)return Promise.resolve(i);if(Ptt(i)){throw new Error('Validation test of type: "'+e.type+'" returned a Promise during a synchronous validate. '+"This test will finish after the validate call has returned")}return X8.resolve(i)}function Htt(t,e,n){return htt(t2({},t,{},e),n)}function jtt(t){var e=t.value,n=t.label,r=t.resolve,i=t.originalValue,a=U8(t,["value","label","resolve","originalValue"]);return function t(o){var s=o===void 0?{}:o,u=s.path,l=u===void 0?a.path:u,c=s.message,f=c===void 0?a.message:c,h=s.type,d=h===void 0?a.name:h,p=s.params;p=t2({path:l,value:e,originalValue:i,label:n},Htt(a.params,p,r));return t2(new Z8(Utt(f,p),e,l,d),{params:p})}}function Vtt(t){var e=t.name,n=t.message,r=t.test,i=t.params;function a(t){var a=t.value,o=t.path,s=t.label,u=t.options,l=t.originalValue,c=t.sync,f=U8(t,["value","path","label","options","originalValue","sync"]);var h=u.parent;var d=function t(e){return Rtt.isRef(e)?e.getValue({value:a,parent:h,context:u.context}):e};var p=jtt({message:n,path:o,value:a,originalValue:l,params:i,label:s,resolve:d,name:e});var v=t2({path:o,parent:h,type:e,createError:p,resolve:d,options:u},f);return Ftt(r,v,a,c).then((function(t){if(Z8.isError(t))throw t;else if(!t)throw p()}))}a.OPTIONS=t;return a}var Btt=function t(e){return e.substr(0,e.length-1).substr(1)};function ztt(t,e,n,r){if(r===void 0){r=n}var i,a,o;if(!e)return{parent:i,parentPath:e,schema:t};Ott(e,(function(s,u,l){var c=u?Btt(s):s;t=t.resolve({context:r,parent:i,value:n});if(t.innerType){var f=l?parseInt(c,10):0;if(n&&f>=n.length){throw new Error("Yup.reach cannot resolve an array item at index: "+s+", in the path: "+e+". "+"because there is no value at that index. ")}i=n;n=n&&n[f];t=t.innerType}if(!l){if(!t.fields||!t.fields[c])throw new Error("The schema does not contain the path: "+e+". "+("(failed at: "+o+' which is a type: "'+t._type+'")'));i=n;n=n&&n[c];t=t.fields[c]}a=c;o=u?"["+s+"]":"."+s}));return{schema:t,parent:i,parentPath:a}}var Ytt=function(){function t(){this.list=new Set;this.refs=new Map}var e=t.prototype;e.toArray=function t(){return b8(this.list).concat(b8(this.refs.values()))};e.add=function t(e){Rtt.isRef(e)?this.refs.set(e.key,e):this.list.add(e)};e.delete=function t(e){Rtt.isRef(e)?this.refs.delete(e.key):this.list.delete(e)};e.has=function t(e,n){if(this.list.has(e))return true;var r,i=this.refs.values();while(r=i.next(),!r.done){if(n(r.value)===e)return true}return false};e.clone=function e(){var n=new t;n.list=new Set(this.list);n.refs=new Map(this.refs);return n};e.merge=function t(e,n){var r=this.clone();e.list.forEach((function(t){return r.add(t)}));e.refs.forEach((function(t){return r.add(t)}));n.list.forEach((function(t){return r.delete(t)}));n.refs.forEach((function(t){return r.delete(t)}));return r};return t}();function Wtt(t){var e=this;if(t===void 0){t={}}if(!(this instanceof Wtt))return new Wtt;this._deps=[];this._conditions=[];this._options={abortEarly:true,recursive:true};this._exclusive=Object.create(null);this._whitelist=new Ytt;this._blacklist=new Ytt;this.tests=[];this.transforms=[];this.withMutation((function(){e.typeError(N8.notType)}));if(e5(t,"default"))this._defaultDefault=t.default;this.type=t.type||"mixed";this._type=t.type||"mixed"}var Gtt=Wtt.prototype={__isYupSchema__:true,constructor:Wtt,clone:function t(){var e=this;if(this._mutate)return this;return M7(this,(function(t){if(D8(t)&&t!==e)return t}))},label:function t(e){var n=this.clone();n._label=e;return n},meta:function t(e){if(arguments.length===0)return this._meta;var n=this.clone();n._meta=t2(n._meta||{},e);return n},withMutation:function t(e){var n=this._mutate;this._mutate=true;var r=e(this);this._mutate=n;return r},concat:function t(e){if(!e||e===this)return this;if(e._type!==this._type&&this._type!=="mixed")throw new TypeError("You cannot `concat()` schema's of different types: "+this._type+" and "+e._type);var n=o9(e.clone(),this);if(e5(e,"_default"))n._default=e._default;n.tests=this.tests;n._exclusive=this._exclusive;n._whitelist=this._whitelist.merge(e._whitelist,e._blacklist);n._blacklist=this._blacklist.merge(e._blacklist,e._whitelist);n.withMutation((function(t){e.tests.forEach((function(e){t.test(e.OPTIONS)}))}));return n},isType:function t(e){if(this._nullable&&e===null)return true;return!this._typeCheck||this._typeCheck(e)},resolve:function t(e){var n=this;if(n._conditions.length){var r=n._conditions;n=n.clone();n._conditions=[];n=r.reduce((function(t,n){return n.resolve(t,e)}),n);n=n.resolve(e)}return n},cast:function t(e,n){if(n===void 0){n={}}var r=this.resolve(t2({},n,{value:e}));var i=r._cast(e,n);if(e!==undefined&&n.assert!==false&&r.isType(i)!==true){var a=E8(e);var o=E8(i);throw new TypeError("The value of "+(n.path||"field")+" could not be cast to a value "+('that satisfies the schema type: "'+r._type+'". \n\n')+("attempted value: "+a+" \n")+(o!==a?"result of cast: "+o:""))}return i},_cast:function t(e){var n=this;var r=e===undefined?e:this.transforms.reduce((function(t,r){return r.call(n,t,e)}),e);if(r===undefined&&e5(this,"_default")){r=this.default()}return r},_validate:function t(e,n){var r=this;if(n===void 0){n={}}var i=e;var a=n.originalValue!=null?n.originalValue:e;var o=this._option("strict",n);var s=this._option("abortEarly",n);var u=n.sync;var l=n.path;var c=this._label;if(!o){i=this._cast(i,t2({assert:false},n))}var f={value:i,path:l,schema:this,options:n,label:c,originalValue:a,sync:u};var h=[];if(this._typeError)h.push(this._typeError(f));if(this._whitelistError)h.push(this._whitelistError(f));if(this._blacklistError)h.push(this._blacklistError(f));return i9({validations:h,endEarly:s,value:i,path:l,sync:u}).then((function(t){return i9({path:l,sync:u,value:t,endEarly:s,validations:r.tests.map((function(t){return t(f)}))})}))},validate:function t(e,n){if(n===void 0){n={}}var r=this.resolve(t2({},n,{value:e}));return r._validate(e,n)},validateSync:function t(e,n){if(n===void 0){n={}}var r=this.resolve(t2({},n,{value:e}));var i,a;r._validate(e,t2({},n,{sync:true})).then((function(t){return i=t})).catch((function(t){return a=t}));if(a)throw a;return i},isValid:function t(e,n){return this.validate(e,n).then((function(){return true})).catch((function(t){if(t.name==="ValidationError")return false;throw t}))},isValidSync:function t(e,n){try{this.validateSync(e,n);return true}catch(r){if(r.name==="ValidationError")return false;throw r}},getDefault:function t(e){if(e===void 0){e={}}var n=this.resolve(e);return n.default()},default:function t(e){if(arguments.length===0){var n=e5(this,"_default")?this._default:this._defaultDefault;return typeof n==="function"?n.call(this):M7(n)}var r=this.clone();r._default=e;return r},strict:function t(e){if(e===void 0){e=true}var n=this.clone();n._options.strict=e;return n},_isPresent:function t(e){return e!=null},required:function t(e){if(e===void 0){e=N8.required}return this.test({message:e,name:"required",exclusive:true,test:function t(e){return this.schema._isPresent(e)}})},notRequired:function t(){var e=this.clone();e.tests=e.tests.filter((function(t){return t.OPTIONS.name!=="required"}));return e},nullable:function t(e){if(e===void 0){e=true}var n=this.clone();n._nullable=e;return n},transform:function t(e){var n=this.clone();n.transforms.push(e);return n},test:function t(){var e;if(arguments.length===1){if(typeof(arguments.length<=0?undefined:arguments[0])==="function"){e={test:arguments.length<=0?undefined:arguments[0]}}else{e=arguments.length<=0?undefined:arguments[0]}}else if(arguments.length===2){e={name:arguments.length<=0?undefined:arguments[0],test:arguments.length<=1?undefined:arguments[1]}}else{e={name:arguments.length<=0?undefined:arguments[0],message:arguments.length<=1?undefined:arguments[1],test:arguments.length<=2?undefined:arguments[2]}}if(e.message===undefined)e.message=N8.default;if(typeof e.test!=="function")throw new TypeError("`test` is a required parameters");var n=this.clone();var r=Vtt(e);var i=e.exclusive||e.name&&n._exclusive[e.name]===true;if(e.exclusive&&!e.name){throw new TypeError("Exclusive tests must provide a unique `name` identifying the test")}n._exclusive[e.name]=!!e.exclusive;n.tests=n.tests.filter((function(t){if(t.OPTIONS.name===e.name){if(i)return false;if(t.OPTIONS.test===r.OPTIONS.test)return false}return true}));n.tests.push(r);return n},when:function t(e,n){if(arguments.length===1){n=e;e="."}var r=this.clone(),i=[].concat(e).map((function(t){return new Rtt(t)}));i.forEach((function(t){if(t.isSibling)r._deps.push(t.key)}));r._conditions.push(new R8(i,n));return r},typeError:function t(e){var n=this.clone();n._typeError=Vtt({message:e,name:"typeError",test:function t(e){if(e!==undefined&&!this.schema.isType(e))return this.createError({params:{type:this.schema._type}});return true}});return n},oneOf:function t(e,n){if(n===void 0){n=N8.oneOf}var r=this.clone();e.forEach((function(t){r._whitelist.add(t);r._blacklist.delete(t)}));r._whitelistError=Vtt({message:n,name:"oneOf",test:function t(e){if(e===undefined)return true;var n=this.schema._whitelist;return n.has(e,this.resolve)?true:this.createError({params:{values:n.toArray().join(", ")}})}});return r},notOneOf:function t(e,n){if(n===void 0){n=N8.notOneOf}var r=this.clone();e.forEach((function(t){r._blacklist.add(t);r._whitelist.delete(t)}));r._blacklistError=Vtt({message:n,name:"notOneOf",test:function t(e){var n=this.schema._blacklist;if(n.has(e,this.resolve))return this.createError({params:{values:n.toArray().join(", ")}});return true}});return r},strip:function t(e){if(e===void 0){e=true}var n=this.clone();n._strip=e;return n},_option:function t(e,n){return e5(n,e)?n[e]:this._options[e]},describe:function t(){var e=this.clone();return{type:e._type,meta:e._meta,label:e._label,tests:e.tests.map((function(t){return{name:t.OPTIONS.name,params:t.OPTIONS.params}})).filter((function(t,e,n){return n.findIndex((function(e){return e.name===t.name}))===e}))}},defined:function t(e){if(e===void 0){e=N8.defined}return this.nullable().test({message:e,name:"defined",exclusive:true,test:function t(e){return e!==undefined}})}};var qtt=function t(){var e=$tt[Xtt];Gtt[e+"At"]=function(t,n,r){if(r===void 0){r={}}var i=ztt(this,t,n,r.context),a=i.parent,o=i.parentPath,s=i.schema;return s[e](a&&a[o],t2({},r,{parent:a,path:t}))}};for(var Xtt=0,$tt=["validate","validateSync"];Xtt<$tt.length;Xtt++){qtt()}for(var Ktt=0,Ztt=["equals","is"];Ktt<Ztt.length;Ktt++){var Qtt=Ztt[Ktt];Gtt[Qtt]=Gtt.oneOf}for(var Jtt=0,tet=["not","nope"];Jtt<tet.length;Jtt++){var eet=tet[Jtt];Gtt[eet]=Gtt.notOneOf}Gtt.optional=Gtt.notRequired;function net(t,e,n){t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});t2(t.prototype,n)}function ret(){var t=this;if(!(this instanceof ret))return new ret;Wtt.call(this,{type:"boolean"});this.withMutation((function(){t.transform((function(t){if(!this.isType(t)){if(/^(true|1)$/i.test(t))return true;if(/^(false|0)$/i.test(t))return false}return t}))}))}net(ret,Wtt,{_typeCheck:function t(e){if(e instanceof Boolean)e=e.valueOf();return typeof e==="boolean"}});var iet=function(t){return t==null};var aet=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;var oet=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;var set=function t(e){return iet(e)||e===e.trim()};function uet(){var t=this;if(!(this instanceof uet))return new uet;Wtt.call(this,{type:"string"});this.withMutation((function(){t.transform((function(t){if(this.isType(t))return t;return t!=null&&t.toString?t.toString():t}))}))}net(uet,Wtt,{_typeCheck:function t(e){if(e instanceof String)e=e.valueOf();return typeof e==="string"},_isPresent:function t(e){return Wtt.prototype._cast.call(this,e)&&e.length>0},length:function t(e,n){if(n===void 0){n=C8.length}return this.test({message:n,name:"length",exclusive:true,params:{length:e},test:function t(n){return iet(n)||n.length===this.resolve(e)}})},min:function t(e,n){if(n===void 0){n=C8.min}return this.test({message:n,name:"min",exclusive:true,params:{min:e},test:function t(n){return iet(n)||n.length>=this.resolve(e)}})},max:function t(e,n){if(n===void 0){n=C8.max}return this.test({name:"max",exclusive:true,message:n,params:{max:e},test:function t(n){return iet(n)||n.length<=this.resolve(e)}})},matches:function t(e,n){var r=false;var i;var a;if(n){if(typeof n==="object"){r=n.excludeEmptyString;i=n.message;a=n.name}else{i=n}}return this.test({name:a||"matches",message:i||C8.matches,params:{regex:e},test:function t(n){return iet(n)||n===""&&r||n.search(e)!==-1}})},email:function t(e){if(e===void 0){e=C8.email}return this.matches(aet,{name:"email",message:e,excludeEmptyString:true})},url:function t(e){if(e===void 0){e=C8.url}return this.matches(oet,{name:"url",message:e,excludeEmptyString:true})},ensure:function t(){return this.default("").transform((function(t){return t===null?"":t}))},trim:function t(e){if(e===void 0){e=C8.trim}return this.transform((function(t){return t!=null?t.trim():t})).test({message:e,name:"trim",test:set})},lowercase:function t(e){if(e===void 0){e=C8.lowercase}return this.transform((function(t){return!iet(t)?t.toLowerCase():t})).test({message:e,name:"string_case",exclusive:true,test:function t(e){return iet(e)||e===e.toLowerCase()}})},uppercase:function t(e){if(e===void 0){e=C8.uppercase}return this.transform((function(t){return!iet(t)?t.toUpperCase():t})).test({message:e,name:"string_case",exclusive:true,test:function t(e){return iet(e)||e===e.toUpperCase()}})}});var cet=function t(e){return e!=+e};function fet(){var t=this;if(!(this instanceof fet))return new fet;Wtt.call(this,{type:"number"});this.withMutation((function(){t.transform((function(t){var e=t;if(typeof e==="string"){e=e.replace(/\s/g,"");if(e==="")return NaN;e=+e}if(this.isType(e))return e;return parseFloat(e)}))}))}net(fet,Wtt,{_typeCheck:function t(e){if(e instanceof Number)e=e.valueOf();return typeof e==="number"&&!cet(e)},min:function t(e,n){if(n===void 0){n=M8.min}return this.test({message:n,name:"min",exclusive:true,params:{min:e},test:function t(n){return iet(n)||n>=this.resolve(e)}})},max:function t(e,n){if(n===void 0){n=M8.max}return this.test({message:n,name:"max",exclusive:true,params:{max:e},test:function t(n){return iet(n)||n<=this.resolve(e)}})},lessThan:function t(e,n){if(n===void 0){n=M8.lessThan}return this.test({message:n,name:"max",exclusive:true,params:{less:e},test:function t(n){return iet(n)||n<this.resolve(e)}})},moreThan:function t(e,n){if(n===void 0){n=M8.moreThan}return this.test({message:n,name:"min",exclusive:true,params:{more:e},test:function t(n){return iet(n)||n>this.resolve(e)}})},positive:function t(e){if(e===void 0){e=M8.positive}return this.moreThan(0,e)},negative:function t(e){if(e===void 0){e=M8.negative}return this.lessThan(0,e)},integer:function t(e){if(e===void 0){e=M8.integer}return this.test({name:"integer",message:e,test:function t(e){return iet(e)||Number.isInteger(e)}})},truncate:function t(){return this.transform((function(t){return!iet(t)?t|0:t}))},round:function t(e){var n=["ceil","floor","round","trunc"];e=e&&e.toLowerCase()||"round";if(e==="trunc")return this.truncate();if(n.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform((function(t){return!iet(t)?Math[e](t):t}))}});var het=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function det(t){var e=[1,4,5,6,7,10,11],n=0,r,i;if(i=het.exec(t)){for(var a=0,o;o=e[a];++a){i[o]=+i[o]||0}i[2]=(+i[2]||1)-1;i[3]=+i[3]||1;i[7]=i[7]?String(i[7]).substr(0,3):0;if((i[8]===undefined||i[8]==="")&&(i[9]===undefined||i[9]===""))r=+new Date(i[1],i[2],i[3],i[4],i[5],i[6],i[7]);else{if(i[8]!=="Z"&&i[9]!==undefined){n=i[10]*60+i[11];if(i[9]==="+")n=0-n}r=Date.UTC(i[1],i[2],i[3],i[4],i[5]+n,i[6],i[7])}}else r=Date.parse?Date.parse(t):NaN;return r}var pet=new Date("");var vet=function t(e){return Object.prototype.toString.call(e)==="[object Date]"};function yet(){var t=this;if(!(this instanceof yet))return new yet;Wtt.call(this,{type:"date"});this.withMutation((function(){t.transform((function(t){if(this.isType(t))return t;t=det(t);return!isNaN(t)?new Date(t):pet}))}))}net(yet,Wtt,{_typeCheck:function t(e){return vet(e)&&!isNaN(e.getTime())},min:function t(e,n){if(n===void 0){n=k8.min}var r=e;if(!Rtt.isRef(r)){r=this.cast(e);if(!this._typeCheck(r))throw new TypeError("`min` must be a Date or a value that can be `cast()` to a Date")}return this.test({message:n,name:"min",exclusive:true,params:{min:e},test:function t(e){return iet(e)||e>=this.resolve(r)}})},max:function t(e,n){if(n===void 0){n=k8.max}var r=e;if(!Rtt.isRef(r)){r=this.cast(e);if(!this._typeCheck(r))throw new TypeError("`max` must be a Date or a value that can be `cast()` to a Date")}return this.test({message:n,name:"max",exclusive:true,params:{max:e},test:function t(e){return iet(e)||e<=this.resolve(r)}})}});function get(t,e){if(!e){e=t.slice(0)}t.raw=e;return t}function met(t,e,n,r){var i=-1,a=t==null?0:t.length;if(r&&a){n=t[++i]}while(++i<a){n=e(n,t[i],i,t)}return n}function bet(t){return function(e){return t==null?undefined:t[e]}}var _et={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"};var wet=bet(_et);var xet=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;var Aet="\\u0300-\\u036f",Tet="\\ufe20-\\ufe2f",Let="\\u20d0-\\u20ff",Eet=Aet+Tet+Let;var Net="["+Eet+"]";var Cet=RegExp(Net,"g");function Met(t){t=H3(t);return t&&t.replace(xet,wet).replace(Cet,"")}var ket=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Iet(t){return t.match(ket)||[]}var Oet=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Det(t){return Oet.test(t)}var Ret="\\ud800-\\udfff",Uet="\\u0300-\\u036f",Pet="\\ufe20-\\ufe2f",Fet="\\u20d0-\\u20ff",Het=Uet+Pet+Fet,jet="\\u2700-\\u27bf",Vet="a-z\\xdf-\\xf6\\xf8-\\xff",Bet="\\xac\\xb1\\xd7\\xf7",zet="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Yet="\\u2000-\\u206f",Wet=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Get="A-Z\\xc0-\\xd6\\xd8-\\xde",qet="\\ufe0e\\ufe0f",Xet=Bet+zet+Yet+Wet;var $et="['’]",Ket="["+Xet+"]",Zet="["+Het+"]",Qet="\\d+",Jet="["+jet+"]",tnt="["+Vet+"]",ent="[^"+Ret+Xet+Qet+jet+Vet+Get+"]",nnt="\\ud83c[\\udffb-\\udfff]",rnt="(?:"+Zet+"|"+nnt+")",int="[^"+Ret+"]",ant="(?:\\ud83c[\\udde6-\\uddff]){2}",ont="[\\ud800-\\udbff][\\udc00-\\udfff]",snt="["+Get+"]",unt="\\u200d";var lnt="(?:"+tnt+"|"+ent+")",cnt="(?:"+snt+"|"+ent+")",fnt="(?:"+$et+"(?:d|ll|m|re|s|t|ve))?",hnt="(?:"+$et+"(?:D|LL|M|RE|S|T|VE))?",dnt=rnt+"?",pnt="["+qet+"]?",vnt="(?:"+unt+"(?:"+[int,ant,ont].join("|")+")"+pnt+dnt+")*",ynt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",gnt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",mnt=pnt+dnt+vnt,bnt="(?:"+[Jet,ant,ont].join("|")+")"+mnt;var _nt=RegExp([snt+"?"+tnt+"+"+fnt+"(?="+[Ket,snt,"$"].join("|")+")",cnt+"+"+hnt+"(?="+[Ket,snt+lnt,"$"].join("|")+")",snt+"?"+lnt+"+"+fnt,snt+"+"+hnt,gnt,ynt,Qet,bnt].join("|"),"g");function wnt(t){return t.match(_nt)||[]}function xnt(t,e,n){t=H3(t);e=n?undefined:e;if(e===undefined){return Det(t)?wnt(t):Iet(t)}return t.match(e)||[]}var Ant="['’]";var Snt=RegExp(Ant,"g");function Tnt(t){return function(e){return met(xnt(Met(e).replace(Snt,"")),t,"")}}var Lnt=Tnt((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));function Ent(t,e,n){var r=-1,i=t.length;if(e<0){e=-e>i?0:i+e}n=n>i?i:n;if(n<0){n+=i}i=e>n?0:n-e>>>0;e>>>=0;var a=Array(i);while(++r<i){a[r]=t[r+e]}return a}function Nnt(t,e,n){var r=t.length;n=n===undefined?r:n;return!e&&n>=r?t:Ent(t,e,n)}function Cnt(t){return function(e){e=H3(e);var n=W7(e)?d8(e):undefined;var r=n?n[0]:e.charAt(0);var i=n?Nnt(n,1).join(""):e.slice(1);return r[t]()+i}}var Mnt=Cnt("toUpperCase");function knt(t){return Mnt(H3(t).toLowerCase())}var Int=Tnt((function(t,e,n){e=e.toLowerCase();return t+(n?knt(e):e)}));function Ont(t,e){var n={};e=ftt(e);l9(t,(function(t,r,i){f5(n,e(t,r,i),t)}));return n}var Dnt=function(t){return Unt(Pnt(t),t)};var Rnt=Unt;function Unt(t,e){var n=t.length,r=new Array(n),i={},a=n,o=Fnt(e),s=Hnt(t);e.forEach((function(t){if(!s.has(t[0])||!s.has(t[1])){throw new Error("Unknown node. There is an unknown node in the supplied edges.")}}));while(a--){if(!i[a])u(t[a],a,new Set)}return r;function u(t,e,a){if(a.has(t)){var l;try{l=", node was:"+JSON.stringify(t)}catch(h){l=""}throw new Error("Cyclic dependency"+l)}if(!s.has(t)){throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(t))}if(i[e])return;i[e]=true;var c=o.get(t)||new Set;c=Array.from(c);if(e=c.length){a.add(t);do{var f=c[--e];u(f,s.get(f),a)}while(e);a.delete(t)}r[--n]=t}}function Pnt(t){var e=new Set;for(var n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]);e.add(i[1])}return Array.from(e)}function Fnt(t){var e=new Map;for(var n=0,r=t.length;n<r;n++){var i=t[n];if(!e.has(i[0]))e.set(i[0],new Set);if(!e.has(i[1]))e.set(i[1],new Set);e.get(i[0]).add(i[1])}return e}function Hnt(t){var e=new Map;for(var n=0,r=t.length;n<r;n++){e.set(t[n],n)}return e}Dnt.array=Rnt;function jnt(t,e){if(e===void 0){e=[]}var n=[],r=[];function i(t,i){var a=ktt(t)[0];if(!~r.indexOf(a))r.push(a);if(!~e.indexOf(i+"-"+a))n.push([i,a])}for(var a in t){if(e5(t,a)){var o=t[a];if(!~r.indexOf(a))r.push(a);if(Rtt.isRef(o)&&o.isSibling)i(o.path,a);else if(D8(o)&&o._deps)o._deps.forEach((function(t){return i(t,a)}))}}return Dnt.array(r,n).reverse()}function Vnt(t,e){var n=Infinity;t.some((function(t,r){if(e.path.indexOf(t)!==-1){n=r;return true}}));return n}function Bnt(t){var e=Object.keys(t);return function(t,n){return Vnt(e,t)-Vnt(e,n)}}function znt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++){n[r-1]=arguments[r]}var i=t.reduce((function(t,e){var r=n.shift();return t+(r==null?"":r)+e}));return i.replace(/^\./,"")}function Ynt(){var t=get(["",'["','"]']);Ynt=function e(){return t};return t}function Wnt(){var t=get(["",".",""]);Wnt=function e(){return t};return t}function Gnt(){var t=get(["",".",""]);Gnt=function e(){return t};return t}var qnt=function t(e){return Object.prototype.toString.call(e)==="[object Object]"};var Xnt=function t(e){return e?X8:Promise};function $nt(t,e){var n=Object.keys(t.fields);return Object.keys(e).filter((function(t){return n.indexOf(t)===-1}))}function Knt(t){var e=this;if(!(this instanceof Knt))return new Knt(t);Wtt.call(this,{type:"object",default:function t(){var e=this;if(!this._nodes.length)return undefined;var n={};this._nodes.forEach((function(t){n[t]=e.fields[t].default?e.fields[t].default():undefined}));return n}});this.fields=Object.create(null);this._nodes=[];this._excludedEdges=[];this.withMutation((function(){e.transform((function t(e){if(typeof e==="string"){try{e=JSON.parse(e)}catch(n){e=null}}if(this.isType(e))return e;return null}));if(t){e.shape(t)}}))}net(Knt,Wtt,{_typeCheck:function t(e){return qnt(e)||typeof e==="function"},_cast:function t(e,n){var r=this;if(n===void 0){n={}}var i=Wtt.prototype._cast.call(this,e,n);if(i===undefined)return this.default();if(!this._typeCheck(i))return i;var a=this.fields;var o=this._option("stripUnknown",n)===true;var s=this._nodes.concat(Object.keys(i).filter((function(t){return r._nodes.indexOf(t)===-1})));var u={};var l=t2({},n,{parent:u,__validating:false});var c=false;s.forEach((function(t){var e=a[t];var r=e5(i,t);if(e){var s;var f=e._options&&e._options.strict;l.path=znt(Gnt(),n.path,t);l.value=i[t];e=e.resolve(l);if(e._strip===true){c=c||t in i;return}s=!n.__validating||!f?e.cast(i[t],l):i[t];if(s!==undefined)u[t]=s}else if(r&&!o)u[t]=i[t];if(u[t]!==i[t])c=true}));return c?u:i},_validate:function t(e,n){var r=this;if(n===void 0){n={}}var i,a;var o=n.sync;var s=[];var u=n.originalValue!=null?n.originalValue:e;i=this._option("abortEarly",n);a=this._option("recursive",n);n=t2({},n,{__validating:true,originalValue:u});return Wtt.prototype._validate.call(this,e,n).catch(e9(i,s)).then((function(t){if(!a||!qnt(t)){if(s.length)throw s[0];return t}u=u||t;var e=r._nodes.map((function(e){var i=e.indexOf(".")===-1?znt(Wnt(),n.path,e):znt(Ynt(),n.path,e);var a=r.fields[e];var s=t2({},n,{path:i,parent:t,originalValue:u[e]});if(a&&a.validate){s.strict=true;return a.validate(t[e],s)}return Xnt(o).resolve(true)}));return i9({sync:o,validations:e,value:t,errors:s,endEarly:i,path:n.path,sort:Bnt(r.fields)})}))},concat:function t(e){var n=Wtt.prototype.concat.call(this,e);n._nodes=jnt(n.fields,n._excludedEdges);return n},shape:function t(e,n){if(n===void 0){n=[]}var r=this.clone();var i=t2(r.fields,e);r.fields=i;if(n.length){if(!Array.isArray(n[0]))n=[n];var a=n.map((function(t){var e=t[0],n=t[1];return e+"-"+n}));r._excludedEdges=r._excludedEdges.concat(a)}r._nodes=jnt(i,r._excludedEdges);return r},from:function t(e,n,r){var i=Itt(e,true);return this.transform((function(t){if(t==null)return t;var a=t;if(e5(t,e)){a=t2({},t);if(!r)delete a[e];a[n]=i(t)}return a}))},noUnknown:function t(e,n){if(e===void 0){e=true}if(n===void 0){n=I8.noUnknown}if(typeof e==="string"){n=e;e=true}var r=this.test({name:"noUnknown",exclusive:true,message:n,test:function t(n){if(n==null)return true;var r=$nt(this.schema,n);return!e||r.length===0||this.createError({params:{unknown:r.join(", ")}})}});r._options.stripUnknown=e;return r},unknown:function t(e,n){if(e===void 0){e=true}if(n===void 0){n=I8.noUnknown}return this.noUnknown(!e,n)},transformKeys:function t(e){return this.transform((function(t){return t&&Ont(t,(function(t,n){return e(n)}))}))},camelCase:function t(){return this.transformKeys(Int)},snakeCase:function t(){return this.transformKeys(Lnt)},constantCase:function t(){return this.transformKeys((function(t){return Lnt(t).toUpperCase()}))},describe:function t(){var e=Wtt.prototype.describe.call(this);e.fields=htt(this.fields,(function(t){return t.describe()}));return e}});function Znt(){var t=get(["","[","]"]);Znt=function e(){return t};return t}function Qnt(){var t=get(["","[","]"]);Qnt=function e(){return t};return t}function Jnt(t){var e=this;if(!(this instanceof Jnt))return new Jnt(t);Wtt.call(this,{type:"array"});this._subType=undefined;this.innerType=undefined;this.withMutation((function(){e.transform((function(t){if(typeof t==="string")try{t=JSON.parse(t)}catch(e){t=null}return this.isType(t)?t:null}));if(t)e.of(t)}))}net(Jnt,Wtt,{_typeCheck:function t(e){return Array.isArray(e)},_cast:function t(e,n){var r=this;var i=Wtt.prototype._cast.call(this,e,n);if(!this._typeCheck(i)||!this.innerType)return i;var a=false;var o=i.map((function(t,e){var i=r.innerType.cast(t,t2({},n,{path:znt(Qnt(),n.path,e)}));if(i!==t){a=true}return i}));return a?o:i},_validate:function t(e,n){var r=this;if(n===void 0){n={}}var i=[];var a=n.sync;var o=n.path;var s=this.innerType;var u=this._option("abortEarly",n);var l=this._option("recursive",n);var c=n.originalValue!=null?n.originalValue:e;return Wtt.prototype._validate.call(this,e,n).catch(e9(u,i)).then((function(t){if(!l||!s||!r._typeCheck(t)){if(i.length)throw i[0];return t}c=c||t;var e=t.map((function(e,r){var i=znt(Znt(),n.path,r);var a=t2({},n,{path:i,strict:true,parent:t,originalValue:c[r]});if(s.validate)return s.validate(e,a);return true}));return i9({sync:a,path:o,value:t,errors:i,endEarly:u,validations:e})}))},_isPresent:function t(e){return Wtt.prototype._cast.call(this,e)&&e.length>0},of:function t(e){var n=this.clone();if(e!==false&&!D8(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema, or `false` to negate a current sub-schema. "+"not: "+E8(e));n._subType=e;n.innerType=e;return n},min:function t(e,n){n=n||O8.min;return this.test({message:n,name:"min",exclusive:true,params:{min:e},test:function t(n){return iet(n)||n.length>=this.resolve(e)}})},max:function t(e,n){n=n||O8.max;return this.test({message:n,name:"max",exclusive:true,params:{max:e},test:function t(n){return iet(n)||n.length<=this.resolve(e)}})},ensure:function t(){var e=this;return this.default((function(){return[]})).transform((function(t,n){if(e._typeCheck(t))return t;return n==null?[]:[].concat(n)}))},compact:function t(e){var n=!e?function(t){return!!t}:function(t,n,r){return!e(t,n,r)};return this.transform((function(t){return t!=null?t.filter(n):t}))},describe:function t(){var e=Wtt.prototype.describe.call(this);if(this.innerType)e.innerType=this.innerType.describe();return e}});var trt=function t(e,n){return new Rtt(e,n)};function ert(t,e,n){if(!t||!D8(t.prototype))throw new TypeError("You must provide a yup schema constructor function");if(typeof e!=="string")throw new TypeError("A Method name must be provided");if(typeof n!=="function")throw new TypeError("Method function must be provided");t.prototype[e]=n}var nrt={warningStyle:"color: #C6003F;font-size:medium;",recommendationStyle:"font-size:medium;",specialRecommendationStyle:"color: #0061C1;font-size:medium;"};var rrt={TITLE:{MIN:5,MAX:50},PURPOSE:{MIN:40,MAX:250},EXECUTIVE:{MIN:40,MAX:250},EXECUTIVECOMBINED:{MIN:40,MAX:250},CONTEXTEXPLANATION:{MIN:40,MAX:500},CONTEXTEXPLANATIONCOMBINED:{MIN:40,MAX:500},STATISTICALNOTES:{MIN:40,MAX:250},STRUCTURENOTES:{MIN:40,MAX:250},DATAELEMENTDESCRIPTIONACCESSOR:{MIN:0,MAX:125},ELEMENTDESCRIPTIONACCESSOR:{MAX:125},ANNOTATIONNOTETITLE:{MIN:5,MAX:50},ANNOTATIONNOTELABEL:{MIN:25,MAX:125},ANNOTATIONACCESSIBILITYDESCRIPTION:{MIN:25,MAX:125},UNIQUEID:{MIN:1,MAX:125}};var irt={WARNINGS:{TITLE:"Either mainTitle or accessibility.title is required",LONGDESCRIPTION:"Either accessibility.longDescription or accessibility.contextExplanation is required",EXECUTIVESUMMARY:"Either accessibility.purpose or accessibility.executiveSummary is required",ONCLICKEVENT:"accessibility.elementsAreInterface needs a boolean value either true or false",ANNOTATIONDESCRIPTION:"Either annotation.accessibilityDescription or annotation.note.label is required",WARNINGLOGGROUP:"CHARTNAME has accessibility warnings and other messages",NORMALIZED:"Either tooltipLabel or dataLabel should have normalized format"},RECOMMENDATIONS:{EXECUTIVESUMMARY:"Either accessibility.purpose or accessibility.executiveSummary should have minimum 40 characters and a combined length between 40 and 250 characters",LONGDESCRIPTION:"Either accessibility.longDescription or accessibility.contextExplanation should have minimum 40 characters and a combined length between 40 and 500 characters",TITLE:"Either mainTitle or accessibility.title should have length between 5 and 50 characters",STATISTICALNOTES:"accessibility.statisticalNotes should have length between 40 and 250 characters",STRUCTURENOTES:"accessibility.structureNotes should have length between 40 and 250 characters",DATAELEMENTDESCRIPTIONACCESSOR:"accessibility.elementDescriptionAccessor should have length between 0 and 125 characters",ELEMENTDESCRIPTIONACCESSOR:"Passing accessibility.elementDescriptionAccessor can add description to chart elements",ANNOTATIONNOTETITLE:"Should have length between 5 and 50 characters",ANNOTATIONNOTELABEL:"Should have length between 25 and 125 characters",ANNOTATIONACCESSIBILITYDESCRIPTION:"Should have length between 25 and 125 characters",UNIQUEID:"Should have human readable uniqueID",INCLUDEDATAKEYNAMES:"accessibility.includeDataKeyNames: data's key names are recommended as human-readable with includeDataKeyNames set to true",RECOMMENDATIONLOGGROUP:"CHARTNAME has strong accessibility recommendations",SPECIALRECOMMENDATION:"Success! CHARTNAME has met minimum accessibility, we recommend you disable accessibility validation by setting accessibility.disableValidation"}};var art={MAINTITLE:"mainTitle",LONGDESCRIPTION:"longDescription",CONTEXTEXPLANATION:"contextExplanation",PURPOSE:"purpose",ONCLICKEVENT:"onClickEvent",NOTE:"note",DISABLEVALIDATION:"disableValidation",INCLUDEDATAKEYNAMES:"includeDataKeyNames",CHARTNAME:"CHARTNAME",TOOLTIPLABEL:"tooltipLabel",DATALABEL:"dataLabel",VALUEACCESSOR:"valueAccessor"};var ort={abortEarly:false};var srt={requiredSchema:uet().required().trim(),requiredSubSchema:Knt().shape({label:uet().required().trim()}),requiredBooleanSchema:ret().required()};var urt=function(t,e){return uet().required().trim().min(t).max(e)};var lrt=function(t){return uet().required().trim().matches(t)};var crt=function(t,e,n,r,i){return this.test({message:t,test:function(t){var a=this.resolve(e);var o=this.resolve(n);var s=this.resolve(r);if(t&&uet().min(1).isValidSync(s,ort)){var u=Array.prototype.findIndex.call(a.labelAccessor,(function(t){return t.trim()===(""+s).trim()}));return u>-1?i.isValidSync(((a||{}).format||[""])[u],ort):i.isValidSync((o||{}).format,ort)}return true}})};var frt=function(t,e,n,r){return this.test({message:t,test:function(t){r=r?r:n;var i=this.resolve(e);var a=n.isValidSync(t,ort);var o=r.isValidSync(i,ort);return o||a?true:false}})};var hrt=function(t,e,n,r){return this.test({message:r,test:function(r){var i=this.resolve(n);return t.isValidSync(i,ort)?e.isValidSync(r,{abortyEarly:false,strict:true}):true}})};var drt=function(t,e,n,r){return this.test({message:r,test:function(r){var i=(this.resolve(n)||"").toString().trim();var a=(r||"").toString().trim();var o=""+i+a;var s=t.isValidSync(i,ort);var u=t.isValidSync(a,ort);var l=e.isValidSync(o,ort);var c=i.length&&!s||a.length&&!u?false:true;return c&&(u||s)&&l?true:false}})};var prt=function(t,e){return this.test({message:e,test:function(e){return t.isValidSync(e,ort)}})};var vrt=function(){return Knt().shape({title:uet().validateBySchemaRef(irt.WARNINGS.TITLE,trt("$"+art.MAINTITLE),srt.requiredSchema),longDescription:uet().validateBySchemaRef(irt.WARNINGS.LONGDESCRIPTION,trt(""+art.CONTEXTEXPLANATION),srt.requiredSchema),executiveSummary:uet().validateBySchemaRef(irt.WARNINGS.EXECUTIVESUMMARY,trt(""+art.PURPOSE),srt.requiredSchema),elementsAreInterface:ret().validateBySchemaRefBoolean(srt.requiredSchema,srt.requiredBooleanSchema,trt("$"+art.ONCLICKEVENT),irt.WARNINGS.ONCLICKEVENT),normalized:ret().validateBySchemaRefs(irt.WARNINGS.NORMALIZED,trt("$"+art.TOOLTIPLABEL),trt("$"+art.DATALABEL),trt("$"+art.VALUEACCESSOR),lrt(/^normalized$/)),annotations:Jnt().of(Knt().shape({accessibilityDescription:uet().validateBySchemaRef(irt.WARNINGS.ANNOTATIONDESCRIPTION,trt(""+art.NOTE),srt.requiredSchema,srt.requiredSubSchema)}))})};var yrt=function(){return Knt().shape({title:uet().validateBySchemaRef(irt.RECOMMENDATIONS.TITLE,trt("$"+art.MAINTITLE),urt(rrt.TITLE.MIN,rrt.TITLE.MAX)),longDescription:uet().validateBySchemaRefAndCondition(urt(rrt.CONTEXTEXPLANATION.MIN,rrt.CONTEXTEXPLANATION.MAX),urt(rrt.CONTEXTEXPLANATIONCOMBINED.MIN,rrt.CONTEXTEXPLANATIONCOMBINED.MAX),trt(""+art.CONTEXTEXPLANATION),irt.RECOMMENDATIONS.LONGDESCRIPTION),executiveSummary:uet().validateBySchemaRefAndCondition(urt(rrt.PURPOSE.MIN,rrt.PURPOSE.MAX),urt(rrt.EXECUTIVECOMBINED.MIN,rrt.EXECUTIVECOMBINED.MAX),trt(""+art.PURPOSE),irt.RECOMMENDATIONS.EXECUTIVESUMMARY),statisticalNotes:uet().validateBySchema(urt(rrt.STATISTICALNOTES.MIN,rrt.STATISTICALNOTES.MAX),irt.RECOMMENDATIONS.STATISTICALNOTES),structureNotes:uet().validateBySchema(urt(rrt.STRUCTURENOTES.MIN,rrt.STRUCTURENOTES.MAX),irt.RECOMMENDATIONS.STRUCTURENOTES),elementDescriptionAccessor:uet().nullable().validateBySchema(uet().nullable().max(rrt.ELEMENTDESCRIPTIONACCESSOR.MAX),irt.RECOMMENDATIONS.ELEMENTDESCRIPTIONACCESSOR),annotations:Jnt().of(Knt().shape({note:Knt().shape({title:uet().validateBySchema(urt(rrt.ANNOTATIONNOTETITLE.MIN,rrt.ANNOTATIONNOTETITLE.MAX),irt.RECOMMENDATIONS.ANNOTATIONNOTETITLE),label:uet().validateBySchema(urt(rrt.ANNOTATIONNOTELABEL.MIN,rrt.ANNOTATIONNOTELABEL.MAX),irt.RECOMMENDATIONS.ANNOTATIONNOTELABEL)}),accessibilityDescription:uet().validateBySchema(urt(rrt.ANNOTATIONACCESSIBILITYDESCRIPTION.MIN,rrt.ANNOTATIONACCESSIBILITYDESCRIPTION.MAX),irt.RECOMMENDATIONS.ANNOTATIONACCESSIBILITYDESCRIPTION)})),data:Jnt().nullable().of(Knt().shape({note:uet().nullable().validateBySchema(uet().nullable().max(rrt.DATAELEMENTDESCRIPTIONACCESSOR.MAX),irt.RECOMMENDATIONS.DATAELEMENTDESCRIPTIONACCESSOR)})),uniqueID:uet().validateBySchema(uet().required().trim().min(rrt.UNIQUEID.MIN),irt.RECOMMENDATIONS.UNIQUEID)})};function grt(t,e,n,r){var i=irt.RECOMMENDATIONS.SPECIALRECOMMENDATION.replace(art.CHARTNAME,t);var a=irt.RECOMMENDATIONS.RECOMMENDATIONLOGGROUP.replace(art.CHARTNAME,t);try{var o=yrt();o.validateSync(e,n);if(!r&&e&&!e[art.DISABLEVALIDATION]){console.log("%c "+i,nrt.specialRecommendationStyle)}}catch(s){if(!r){console.groupCollapsed("%c "+a,nrt.recommendationStyle)}s.inner.map((function(t){console.log("%c "+t.path+": "+t.message,nrt.recommendationStyle)}))}if(!e&&!e[art.INCLUDEDATAKEYNAMES]){console.log("%c "+irt.RECOMMENDATIONS.INCLUDEDATAKEYNAMES,nrt.recommendationStyle)}console.groupEnd()}function mrt(t,e,n){var r=irt.WARNINGS.WARNINGLOGGROUP.replace(art.CHARTNAME,t);try{var i=vrt();i.validateSync(e,n);return false}catch(a){console.groupCollapsed("%c "+r,nrt.warningStyle);a.inner.map((function(t){console.warn("%c "+t.path+": "+t.message,nrt.warningStyle)}));return true}}var brt=function(t,e,r){if(e===void 0){e={}}if(r===void 0){r={context:{},data:{},uniqueID:"",annotations:[],misc:{}}}var i=r.context,a=r.annotations,o=r.data,s=r.uniqueID,u=r.misc;var l={context:i,abortEarly:false};var c=n(n(n({},e),{annotations:a,data:o,uniqueID:s}),u);ert(uet,"validateBySchemaRefAndCondition",drt);ert(uet,"validateBySchema",prt);ert(ret,"validateBySchemaRefs",crt);ert(uet,"validateBySchemaRef",frt);ert(ret,"validateBySchemaRefBoolean",hrt);var f=mrt(t,c,l);grt(t,c,l,f)};var _rt={longDescription:"",executiveSummary:"",purpose:"",contextExplanation:"",title:"",elementDescriptionAccessor:"",statisticalNotes:"",structureNotes:"",includeDataKeyNames:false,hideDataTableButton:false,disableValidation:false,elementsAreInterface:null,hideTextures:false,hideStrokes:false,showSmallLabels:false,showExperimentalTextures:false,keyboardNavConfig:{disabled:false}};var wrt={disabled:false};var xrt="h2";var Art="";var Srt="asc";var Trt="desc";var Lrt="vertical";var Ert={visible:true,gridVisible:true,label:"X Axis",format:"0[.][0][0]a",tickInterval:1};var Nrt={visible:true,gridVisible:true,label:"X Axis",format:"0[.][0][0]a",tickInterval:1,centerBaseline:false};var Crt={visible:true,gridVisible:false,label:"X Axis",unit:"month",format:"%b %y",tickInterval:1};var Mrt={visible:true,gridVisible:true,label:"Y Axis",format:"0[.][0][0]a",tickInterval:1};var krt={visible:true,gridVisible:true,label:"Y Axis",format:"0[.][0][0]a",tickInterval:1,centerBaseline:false};var Irt=true;var Ort="single_blue";var Drt="sequential_suppPurple";var Rrt="sequential_grey";var Urt="diverging_RtoB";var Prt="categorical";var Frt=4;var Hrt=5;var jrt={color:"",strokeWidth:2};var Vrt={color:"",strokeWidth:2};var Brt={color:"",strokeWidth:2};var zrt={color:"",strokeWidth:3};var Yrt={color:"pri_grey",strokeWidth:"1px",opacity:1,dashed:""};var Wrt={visible:true,placement:"right",label:[],collisionHideOnly:false};var Grt="default";var qrt=1;var Xrt=1;var $rt=2;var Krt=0;var Zrt=.2;var Qrt=6;var Jrt=5;var tit=4;var eit=1;var nit=["circle"];var rit=true;var iit=false;var ait=true;var oit=false;var sit={keys:[],showDataLabel:true,showSeriesLabel:true,opacity:1};var uit={visible:false,placement:"bottom",labelAccessor:"",format:"",collisionHideOnly:false,collisionPlacement:"all"};var lit={visible:true,placement:"top",labelAccessor:"",format:"0[.][0][0]a",collisionHideOnly:false,collisionPlacement:"top"};var cit={visible:true,placement:"top",labelAccessor:"",format:"0[.][0][0]a",collisionHideOnly:false,collisionPlacement:"all"};var fit={visible:true,placement:"outside",labelAccessor:"",format:"0[.][0][0]a",collisionHideOnly:false};var hit={visible:true,placement:"middle",labelAccessor:"",format:"0[.][0][0]a",collisionHideOnly:false,collisionPlacement:"middle"};var dit={visible:true,placement:"center",labelAccessor:"",format:"",collisionHideOnly:false,collisionPlacement:"centroid"};var pit={visible:true,placement:"ends",labelAccessor:"",format:"0[.][0][0]a",collisionHideOnly:false};var vit={visible:true,placement:"bottom-right",labelAccessor:"",format:"0[.][0][0]a",collisionHideOnly:false,collisionPlacement:"right"};var yit={visible:true,placement:"outside",labelAccessor:"",format:"normalized",collisionHideOnly:false};var git={labelAccessor:[],labelTitle:[],format:""};var mit={sizeAccessor:"",minValueOverride:"",maxValueOverride:"",minSizeOverride:"",maxSizeOverride:"",dualEncodeColor:false,format:""};var bit={visible:true,interactive:false,format:"0[.][0][0]a",labels:""};var _it={visible:true,interactive:false,format:"",labels:""};var wit={visible:true,interactive:false,type:"key",format:"0[.][0][0]a",labels:""};var xit={visible:false,interactive:false,labels:""};var Ait=true;var Sit=false;var Tit=[];var Lit=[];var Eit=[];var Nit=Object.freeze({__proto__:null,accessibility:_rt,animationConfig:wrt,highestHeadingLevel:xrt,sortOrder:Art,sortOrderAsc:Srt,sortOrderDesc:Trt,layout:Lrt,xAxis:Ert,xAxisBarChart:Nrt,xAxisDate:Crt,yAxis:Mrt,yAxisBarChart:krt,wrapLabel:Irt,colorPaletteSingle:Ort,colorPaletteSequential:Drt,colorPaletteSequentialGrey:Rrt,colorPaletteDiverging:Urt,colorPaletteCategorical:Prt,colorSteps4:Frt,colorSteps5:Hrt,hoverStyle:jrt,clickStyle:Vrt,symbolHoverStyle:Brt,symbolClickStyle:zrt,referenceStyle:Yrt,seriesLabel:Wrt,cursor:Grt,hoverOpacity:qrt,strokeWidth1:Xrt,strokeWidth2:$rt,roundedCorner:Krt,barIntervalRatio:Zrt,dotRadius6:Qrt,dotRadius5:Jrt,dotRadius4:tit,dotOpacity:eit,dotSymbols:nit,showDots:rit,showFitLine:iit,showBaselineTrue:ait,showBaselineFalse:oit,secondaryLines:sit,hiddenDataLabel:uit,dataLabel:lit,dataLabelLine:cit,dataLabelOutside:fit,dataLabelMiddle:hit,dataLabelCenter:dit,dataLabelEnds:pit,dataLabelBottomRight:vit,dataLabelNormalizedOut:yit,tooltipLabel:git,sizeConfig:mit,legend:bit,categoryLegend:_it,keyLegend:wit,hiddenLegend:xit,showTooltip:Ait,suppressEvents:Sit,referenceLines:Tit,annotations:Lit,clickHighlight:Eit});function Cit(t){return t.target.depth}function Mit(t){return t.depth}function kit(t,e){return e-1-t.height}function Iit(t,e){return t.sourceLinks.length?t.depth:e-1}function Oit(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?sa(t.sourceLinks,Cit)-1:0}function Dit(t){return function(){return t}}function Rit(t,e){return Pit(t.source,e.source)||t.index-e.index}function Uit(t,e){return Pit(t.target,e.target)||t.index-e.index}function Pit(t,e){return t.y0-e.y0}function Fit(t){return t.value}function Hit(t,e,n){return t.index}function jit(t){return t.nodes}function Vit(t){return t.links}function Bit(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function zit(t){var e=t.nodes;for(var n=0,r=e;n<r.length;n++){var i=r[n];var a=i.y0;var o=a;for(var s=0,u=i.sourceLinks;s<u.length;s++){var l=u[s];l.y0=a+l.width/2;a+=l.width}for(var c=0,f=i.targetLinks;c<f.length;c++){var l=f[c];l.y1=o+l.width/2;o+=l.width}}}function Yit(t,e){var n=0,r=0,i=1,a=1;var o=24;var s=8,u;var l=Hit;var c=Iit;var f;var h;var d=jit;var p=Vit;var v=6;function y(){var t={nodes:d.apply(null,arguments),links:p.apply(null,arguments)};g(t);m(t);b(t);_(t);T(t);zit(t);return t}y.update=function(t){zit(t);return t};y.nodeId=function(t){return arguments.length?(l=typeof t==="function"?t:Dit(t),y):l};y.nodeAlign=function(t){return arguments.length?(c=typeof t==="function"?t:Dit(t),y):c};y.nodeSort=function(t){return arguments.length?(f=t,y):f};y.nodeWidth=function(t){return arguments.length?(o=+t,y):o};y.nodePadding=function(t){return arguments.length?(s=u=+t,y):s};y.nodes=function(t){return arguments.length?(d=typeof t==="function"?t:Dit(t),y):d};y.links=function(t){return arguments.length?(p=typeof t==="function"?t:Dit(t),y):p};y.linkSort=function(t){return arguments.length?(h=t,y):h};y.size=function(t){return arguments.length?(n=r=0,i=+t[0],a=+t[1],y):[i-n,a-r]};y.extent=function(t){return arguments.length?(n=+t[0][0],i=+t[1][0],r=+t[0][1],a=+t[1][1],y):[[n,r],[i,a]]};y.iterations=function(t){return arguments.length?(v=+t,y):v};function g(t){var e=t.nodes,n=t.links;e.forEach((function(t,e){t.index=e;t.sourceLinks=[];t.targetLinks=[]}));var r=new Map(e.map((function(t,n){return[l(t,n,e),t]})));n.forEach((function(t,e){t.index=e;var n=t.source,i=t.target;if(typeof n!=="object")n=t.source=Bit(r,n);if(typeof i!=="object")i=t.target=Bit(r,i);n.sourceLinks.push(t);i.targetLinks.push(t)}));if(h!=null){for(var i=0,a=e;i<a.length;i++){var o=a[i],s=o.sourceLinks,u=o.targetLinks;s.sort(h);u.sort(h)}}}function m(t){var e=t.nodes;for(var n=0,r=e;n<r.length;n++){var i=r[n];i.value=i.fixedValue===undefined?Math.max(ua(i.sourceLinks,Fit),ua(i.targetLinks,Fit)):i.fixedValue}}function b(t){var e=t.nodes;var n=e.length;var r=new Set(e);var i=new Set;var a=0;while(r.size){r.forEach((function(t){t.depth=a;for(var e=0,n=t.sourceLinks;e<n.length;e++){var r=n[e].target;i.add(r)}}));if(++a>n)throw new Error("circular link");r=i;i=new Set}}function _(t){var e=t.nodes;var n=e.length;var r=new Set(e);var i=new Set;var a=0;while(r.size){r.forEach((function(t){t.height=a;for(var e=0,n=t.targetLinks;e<n.length;e++){var r=n[e].source;i.add(r)}}));if(++a>n)throw new Error("circular link");r=i;i=new Set}}function w(t){var e=t.nodes;var n=aa(e,(function(t){return t.depth}));var r=n*(2*o);var a=(i-r)/2;var s=new Array(n+1);for(var u=0,l=e;u<l.length;u++){var h=l[u];var d=Math.max(0,Math.min(n,Math.floor(c.call(null,h,n+1))));h.layer=d;h.x0=a+h.depth*(2*o);h.x1=h.x0+o;if(s[d])s[d].push(h);else s[d]=[h]}if(f)for(var p=0,v=s;p<v.length;p++){var y=v[p];y.sort(f)}return s}function x(t){var e=t.nodes;var r=aa(e,(function(t){return t.depth}))+1;var a=(i-n-o)/(r-1);var s=new Array(r);for(var u=0,l=e;u<l.length;u++){var h=l[u];var d=Math.max(0,Math.min(r-1,Math.floor(c.call(null,h,r))));h.layer=d;h.x0=n+d*a;h.x1=h.x0+o;if(s[d])s[d].push(h);else s[d]=[h]}if(f)for(var p=0,v=s;p<v.length;p++){var y=v[p];y.sort(f)}return s}function A(t){var e=aa(t,(function(t){return t.length}));var n=[];for(var i=0;i<e;++i){var o=0;for(var s=0;s<t.length;++s){if(t[s][i]&&t[s][i].value&&t[s][i].value>o){o=t[s][i].value}}n[i]=o}var l=(a-r-(e-1)*u)/ua(n);for(var c=0,f=t;c<f.length;c++){var h=f[c];var d=r;for(var i=0;i<h.length;++i){h[i].y1=d+n[i]*l;h[i].y0=h[i].y1-h[i].value*l;d=h[i].y1+u;for(var p=0,v=h[i].sourceLinks;p<v.length;p++){var y=v[p];y.width=y.value*l}}}}function S(t){var e=sa(t,(function(t){return(a-r-(t.length-1)*u)/ua(t,Fit)}));for(var n=0,i=t;n<i.length;n++){var o=i[n];var s=r;for(var l=0,c=o;l<c.length;l++){var f=c[l];f.y0=s;f.y1=s+f.value*e;s=f.y1+u;for(var h=0,d=f.sourceLinks;h<d.length;h++){var p=d[h];p.width=p.value*e}}s=(a-s+u)/(o.length+1);for(var v=0;v<o.length;++v){var f=o[v];f.y0+=s*(v+1);f.y1+=s*(v+1)}I(o)}}function T(n){var i=!e?w(n):x(n);u=Math.min(s,(a-r)/(aa(i,(function(t){return t.length}))-1));t?A(i):S(i);for(var o=0;o<v;++o){var l=Math.pow(.99,o);var c=Math.max(1-l,(o+1)/v);if(!t){E(i,l,c);L(i,l,c)}}}function L(t,e,n){for(var r=1,i=t.length;r<i;++r){var a=t[r];for(var o=0,s=a;o<s.length;o++){var u=s[o];var l=0;var c=0;for(var h=0,d=u.targetLinks;h<d.length;h++){var p=d[h],v=p.source,y=p.value;var g=y*(u.layer-v.layer);l+=O(v,u)*g;c+=g}if(!(c>0))continue;var m=(l/c-u.y0)*e;u.y0+=m;u.y1+=m;k(u)}if(f===undefined)a.sort(Pit);N(a,n)}}function E(t,e,n){for(var r=t.length,i=r-2;i>=0;--i){var a=t[i];for(var o=0,s=a;o<s.length;o++){var u=s[o];var l=0;var c=0;for(var h=0,d=u.sourceLinks;h<d.length;h++){var p=d[h],v=p.target,y=p.value;var g=y*(v.layer-u.layer);l+=D(u,v)*g;c+=g}if(!(c>0))continue;var m=(l/c-u.y0)*e;u.y0+=m;u.y1+=m;k(u)}if(f===undefined)a.sort(Pit);N(a,n)}}function N(t,e){var n=t.length>>1;var i=t[n];M(t,i.y0-u,n-1,e);C(t,i.y1+u,n+1,e);M(t,a,t.length-1,e);C(t,r,0,e)}function C(t,e,n,r){for(;n<t.length;++n){var i=t[n];var a=(e-i.y0)*r;if(a>1e-6)i.y0+=a,i.y1+=a;e=i.y1+u}}function M(t,e,n,r){for(;n>=0;--n){var i=t[n];var a=(i.y1-e)*r;if(a>1e-6)i.y0-=a,i.y1-=a;e=i.y0-u}}function k(t){var e=t.sourceLinks,n=t.targetLinks;if(h===undefined){for(var r=0,i=n;r<i.length;r++){var a=i[r].source.sourceLinks;a.sort(Uit)}for(var o=0,s=e;o<s.length;o++){var u=s[o].target.targetLinks;u.sort(Rit)}}}function I(t){if(h===undefined){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=r.sourceLinks,a=r.targetLinks;i.sort(Uit);a.sort(Rit)}}}function O(t,e){var n=t.y0-(t.sourceLinks.length-1)*u/2;for(var r=0,i=t.sourceLinks;r<i.length;r++){var a=i[r],o=a.target,s=a.width;if(o===e)break;n+=s+u}for(var l=0,c=e.targetLinks;l<c.length;l++){var f=c[l],o=f.source,s=f.width;if(o===t)break;n-=s}return n}function D(t,e){var n=e.y0-(e.targetLinks.length-1)*u/2;for(var r=0,i=e.targetLinks;r<i.length;r++){var a=i[r],o=a.source,s=a.width;if(o===t)break;n+=s+u}for(var l=0,c=t.sourceLinks;l<c.length;l++){var f=c[l],o=f.target,s=f.width;if(o===e)break;n-=s}return n}return y}function Wit(t){return[t.source.x1,t.y0]}function Git(t){return[t.target.x0,t.y1]}function qit(){return Mu().source(Wit).target(Git)}window["VisaChartsLibOSSLicenses"]=Yd();var Xit=Object.freeze({__proto__:null,autoTextColor:yh,buildStrokes:Bh,checkAttributeTransitions:xh,createTextStrokeFilter:Eh,getBrowser:ie,getOS:ae,findTagLevel:sp,createUrl:ji,createMultiStrokeFilter:Nh,removeFilters:Lh,drawHoverStrokes:Ih,removeHoverStrokes:Mh,mirrorStrokeTransition:Oh,initializeElementAccess:Ri,initializeDescriptionRoot:qd,setElementFocusHandler:Wr,setElementAccessID:qr,setTooltipAccess:Pi,setLegendAccess:Fi,setHighContrastListener:Vi,createLabel:Ir,createGroupLabel:Or,setAccessibilityController:Yr,hideNonessentialGroups:Ui,hideNode:Hi,setAccessTitle:Xd,setAccessSubtitle:$d,setAccessLongDescription:Kd,setAccessExecutiveSummary:Qd,setAccessPurpose:Jd,setAccessContext:Zd,setAccessStatistics:tp,setAccessChartCounts:ep,setAccessXAxis:np,setAccessYAxis:rp,setAccessStructure:ip,setAccessAnnotation:ap,retainAccessFocus:$r,checkAccessFocus:Xr,setElementInteractionAccessState:Gr,setAccessibilityDescriptionWidth:op,annotate:X1,getTexture:wh,convertColorsToTextures:Sh,prepareStrokeColorsFromScheme:Th,calculateLuminance:ph,calculateRelativeLuminance:vh,getAccessibleStrokes:lh,getRecursiveStroke:ch,getContrastingStroke:hh,ensureTextContrast:dh,convertVisaColor:gh,circularFind:th,resolveLabelCollision:tc,prepareBitmap:Ll,addToBitmap:El,findCollision:Jl,capitalized:Gi,chartAccessors:Lr,checkInteraction:Hh,checkClicked:Vh,checkHovered:jh,drawAxis:fd,wrap:dd,halve:wd,drawGrid:Pd,drawLegend:Vd,setLegendInteractionState:Bd,drawTooltip:Jf,darkerColor:nh,equalizePath:pp,formatDataLabel:nc,formatStats:xe,setNumeralLocale:we,registerNumeralFormat:_e,registerNumeralLocale:be,getNumeralInstance:me,formatDate:wr,getColors:uh,getLicenses:Yd,generalizePath:dp,getDataSymbol:ic,getScopedData:Nr,getTextWidth:$u,verifyTextHasSpace:Ku,manuallyWrapText:Zu,getPadding:lp,interactionStyle:zh,initTooltipStyle:Qf,leastSquares:Wi,moveToFront:cp,mapButtons:fp,orderScopedData:Er,outlineColor:ih,overrideTitleTooltip:Zf,placeDataLabels:rc,propDefaultValues:Nit,resolveLines:hp,roundTo:Ae,symbols:jd,sankey:Yit,sankeyCenter:Oit,sankeyJustify:Iit,sankeyLeft:Mit,sankeyLinkHorizontal:qit,sankeyRight:kit,transitionEndAll:bh,transformData:xr,scopeDataKeys:Mr,visaColors:eh,validateAccessibilityProps:brt,fixNestedSparseness:kr,prepareRenderChange:Wd});var $it=n({},Xit);return $it}))}));var propDefaultValues=visaChartsUtils_umd.propDefaultValues;var BarChartDefaultValues=function(){function t(){}return t}();BarChartDefaultValues.mainTitle="This is bar chart title";BarChartDefaultValues.subTitle="This is the bar chart subtitle";BarChartDefaultValues.height=325;BarChartDefaultValues.width=675;BarChartDefaultValues.margin={top:325*.01,bottom:325*.01,right:675*.01,left:675*.01};BarChartDefaultValues.padding={top:20,bottom:50,right:60,left:60};BarChartDefaultValues.ordinalAccessor="label";BarChartDefaultValues.valueAccessor="value";BarChartDefaultValues.groupAccessor="";BarChartDefaultValues.highestHeadingLevel=propDefaultValues.highestHeadingLevel;BarChartDefaultValues.layout=propDefaultValues.layout;BarChartDefaultValues.accessibility=propDefaultValues.accessibility;BarChartDefaultValues.animationConfig=propDefaultValues.animationConfig;BarChartDefaultValues.sortOrder=propDefaultValues.sortOrder;BarChartDefaultValues.xAxis=propDefaultValues.xAxisBarChart;BarChartDefaultValues.yAxis=propDefaultValues.yAxisBarChart;BarChartDefaultValues.wrapLabel=propDefaultValues.wrapLabel;BarChartDefaultValues.colorPalette=propDefaultValues.colorPaletteSingle;BarChartDefaultValues.hoverStyle=propDefaultValues.hoverStyle;BarChartDefaultValues.clickStyle=propDefaultValues.clickStyle;BarChartDefaultValues.referenceStyle=propDefaultValues.referenceStyle;BarChartDefaultValues.cursor=propDefaultValues.cursor;BarChartDefaultValues.roundedCorner=propDefaultValues.roundedCorner;BarChartDefaultValues.barIntervalRatio=propDefaultValues.barIntervalRatio;BarChartDefaultValues.hoverOpacity=propDefaultValues.hoverOpacity;BarChartDefaultValues.dataLabel=propDefaultValues.dataLabel;BarChartDefaultValues.legend=propDefaultValues.categoryLegend;BarChartDefaultValues.tooltipLabel=propDefaultValues.tooltipLabel;BarChartDefaultValues.showTooltip=propDefaultValues.showTooltip;BarChartDefaultValues.suppressEvents=propDefaultValues.suppressEvents;BarChartDefaultValues.referenceLines=propDefaultValues.referenceLines;BarChartDefaultValues.annotations=propDefaultValues.annotations;BarChartDefaultValues.clickHighlight=propDefaultValues.clickHighlight;var getRandomValues;var rnds8=new Uint8Array(16);function rng(){if(!getRandomValues){getRandomValues=typeof crypto!=="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!=="undefined"&&typeof msCrypto.getRandomValues==="function"&&msCrypto.getRandomValues.bind(msCrypto);if(!getRandomValues){throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")}}return getRandomValues(rnds8)}var REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(t){return typeof t==="string"&&REGEX.test(t)}var byteToHex=[];for(var i=0;i<256;++i){byteToHex.push((i+256).toString(16).substr(1))}function stringify(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var n=(byteToHex[t[e+0]]+byteToHex[t[e+1]]+byteToHex[t[e+2]]+byteToHex[t[e+3]]+"-"+byteToHex[t[e+4]]+byteToHex[t[e+5]]+"-"+byteToHex[t[e+6]]+byteToHex[t[e+7]]+"-"+byteToHex[t[e+8]]+byteToHex[t[e+9]]+"-"+byteToHex[t[e+10]]+byteToHex[t[e+11]]+byteToHex[t[e+12]]+byteToHex[t[e+13]]+byteToHex[t[e+14]]+byteToHex[t[e+15]]).toLowerCase();if(!validate(n)){throw TypeError("Stringified UUID is invalid")}return n}function v4(t,e,n){t=t||{};var r=t.random||(t.rng||rng)();r[6]=r[6]&15|64;r[8]=r[8]&63|128;if(e){n=n||0;for(var i=0;i<16;++i){e[n+i]=r[i]}return e}return stringify(r)}var noop={value:function(){}};function dispatch(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Dispatch(n)}function Dispatch(t){this._=t}function parseTypenames(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0)n=t.slice(r+1),t=t.slice(0,r);if(t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(t,e){var n=this._,r=parseTypenames(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){while(++a<o)if((i=(t=r[a]).type)&&(i=get$1(n[i],t.name)))return i;return}if(e!=null&&typeof e!=="function")throw new Error("invalid callback: "+e);while(++a<o){if(i=(t=r[a]).type)n[i]=set$1(n[i],t.name,e);else if(e==null)for(i in n)n[i]=set$1(n[i],t.name,null)}return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Dispatch(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function get$1(t,e){for(var n=0,r=t.length,i;n<r;++n){if((i=t[n]).name===e){return i.value}}}function set$1(t,e,n){for(var r=0,i=t.length;r<i;++r){if(t[r].name===e){t[r]=noop,t=t.slice(0,r).concat(t.slice(r+1));break}}if(n!=null)t.push({name:e,value:n});return t}var frame=0,timeout$1=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance==="object"&&performance.now?performance:Date,setFrame=typeof window==="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(t,e,n){if(typeof t!=="function")throw new TypeError("callback is not a function");n=(n==null?now():+n)+(e==null?0:+e);if(!this._next&&taskTail!==this){if(taskTail)taskTail._next=this;else taskHead=this;taskTail=this}this._call=t;this._time=n;sleep()},stop:function(){if(this._call){this._call=null;this._time=Infinity;sleep()}}};function timer(t,e,n){var r=new Timer;r.restart(t,e,n);return r}function timerFlush(){now();++frame;var t=taskHead,e;while(t){if((e=clockNow-t._time)>=0)t._call.call(null,e);t=t._next}--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew;frame=timeout$1=0;try{timerFlush()}finally{frame=0;nap();clockNow=0}}function poke(){var t=clock.now(),e=t-clockLast;if(e>pokeDelay)clockSkew-=e,clockLast=t}function nap(){var t,e=taskHead,n,r=Infinity;while(e){if(e._call){if(r>e._time)r=e._time;t=e,e=e._next}else{n=e._next,e._next=null;e=t?t._next=n:taskHead=n}}taskTail=t;sleep(r)}function sleep(t){if(frame)return;if(timeout$1)timeout$1=clearTimeout(timeout$1);var e=t-clockNow;if(e>24){if(t<Infinity)timeout$1=setTimeout(wake,t-clock.now()-clockSkew);if(interval)interval=clearInterval(interval)}else{if(!interval)clockLast=clock.now(),interval=setInterval(poke,pokeDelay);frame=1,setFrame(wake)}}function timeout(t,e,n){var r=new Timer;e=e==null?0:+e;r.restart((function(n){r.stop();t(n+e)}),e,n);return r}var emptyOn=dispatch("start","end","interrupt");var emptyTween=[];var CREATED=0;var SCHEDULED=1;var STARTING=2;var STARTED=3;var RUNNING=4;var ENDING=5;var ENDED=6;function schedule(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;create(t,n,{name:e,index:r,group:i,on:emptyOn,tween:emptyTween,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:CREATED})}function init(t,e){var n=get(t,e);if(n.state>CREATED)throw new Error("too late; already scheduled");return n}function set(t,e){var n=get(t,e);if(n.state>STARTING)throw new Error("too late; already started");return n}function get(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function create(t,e,n){var r=t.__transition,i;r[e]=n;n.timer=timer(a,0,n.time);function a(t){n.state=SCHEDULED;n.timer.restart(o,n.delay,n.time);if(n.delay<=t)o(t-n.delay)}function o(a){var l,c,f,h;if(n.state!==SCHEDULED)return u();for(l in r){h=r[l];if(h.name!==n.name)continue;if(h.state===STARTED)return timeout(o);if(h.state===RUNNING){h.state=ENDED;h.timer.stop();h.on.call("interrupt",t,t.__data__,h.index,h.group);delete r[l]}else if(+l<e){h.state=ENDED;h.timer.stop();delete r[l]}}timeout((function(){if(n.state===STARTED){n.state=RUNNING;n.timer.restart(s,n.delay,n.time);s(a)}}));n.state=STARTING;n.on.call("start",t,t.__data__,n.index,n.group);if(n.state!==STARTING)return;n.state=STARTED;i=new Array(f=n.tween.length);for(l=0,c=-1;l<f;++l){if(h=n.tween[l].value.call(t,t.__data__,n.index,n.group)){i[++c]=h}}i.length=c+1}function s(e){var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=ENDING,1),a=-1,o=i.length;while(++a<o){i[a].call(null,r)}if(n.state===ENDING){n.on.call("end",t,t.__data__,n.index,n.group);u()}}function u(){n.state=ENDED;n.timer.stop();delete r[e];for(var i in r)return;delete t.__transition}}function interrupt(t,e){var n=t.__transition,r,i,a=true,o;if(!n)return;e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=false;continue}i=r.state>STARTING&&r.state<ENDING;r.state=ENDED;r.timer.stop();if(i)r.on.call("interrupt",t,t.__data__,r.index,r.group);delete n[o]}if(a)delete t.__transition}function selection_interrupt(t){return this.each((function(){interrupt(this,t)}))}function tweenRemove(t,e){var n,r;return function(){var i=set(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o){if(r[o].name===e){r=r.slice();r.splice(o,1);break}}}i.tween=r}}function tweenFunction(t,e,n){var r,i;if(typeof n!=="function")throw new Error;return function(){var a=set(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u){if(i[u].name===e){i[u]=s;break}}if(u===l)i.push(s)}a.tween=i}}function transition_tween(t,e){var n=this._id;t+="";if(arguments.length<2){var r=get(this.node(),n).tween;for(var i=0,a=r.length,o;i<a;++i){if((o=r[i]).name===t){return o.value}}return null}return this.each((e==null?tweenRemove:tweenFunction)(n,t,e))}function tweenValue(t,e,n){var r=t._id;t.each((function(){var t=set(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}));return function(t){return get(t,r).value[e]}}function interpolate(t,e){var n;return(typeof e==="number"?interpolateNumber:e instanceof color?interpolateRgb:(n=color(e))?(e=n,interpolateRgb):interpolateString)(t,e)}function attrRemove(t){return function(){this.removeAttribute(t)}}function attrRemoveNS(t){return function(){this.removeAttributeNS(t.space,t.local)}}function attrConstant(t,e,n){var r,i;return function(){var a=this.getAttribute(t);return a===n?null:a===r?i:i=e(r=a,n)}}function attrConstantNS(t,e,n){var r,i;return function(){var a=this.getAttributeNS(t.space,t.local);return a===n?null:a===r?i:i=e(r=a,n)}}function attrFunction(t,e,n){var r,i,a;return function(){var o,s=n(this);if(s==null)return void this.removeAttribute(t);o=this.getAttribute(t);return o===s?null:o===r&&s===i?a:a=e(r=o,i=s)}}function attrFunctionNS(t,e,n){var r,i,a;return function(){var o,s=n(this);if(s==null)return void this.removeAttributeNS(t.space,t.local);o=this.getAttributeNS(t.space,t.local);return o===s?null:o===r&&s===i?a:a=e(r=o,i=s)}}function transition_attr(t,e){var n=namespace(t),r=n==="transform"?interpolateTransformSvg:interpolate;return this.attrTween(t,typeof e==="function"?(n.local?attrFunctionNS:attrFunction)(n,r,tweenValue(this,"attr."+t,e)):e==null?(n.local?attrRemoveNS:attrRemove)(n):(n.local?attrConstantNS:attrConstant)(n,r,e+""))}function attrTweenNS(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttributeNS(t.space,t.local,r(e))}}n._value=e;return n}function attrTween(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttribute(t,r(e))}}n._value=e;return n}function transition_attrTween(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!=="function")throw new Error;var r=namespace(t);return this.tween(n,(r.local?attrTweenNS:attrTween)(r,e))}function delayFunction(t,e){return function(){init(this,t).delay=+e.apply(this,arguments)}}function delayConstant(t,e){return e=+e,function(){init(this,t).delay=e}}function transition_delay(t){var e=this._id;return arguments.length?this.each((typeof t==="function"?delayFunction:delayConstant)(e,t)):get(this.node(),e).delay}function durationFunction(t,e){return function(){set(this,t).duration=+e.apply(this,arguments)}}function durationConstant(t,e){return e=+e,function(){set(this,t).duration=e}}function transition_duration(t){var e=this._id;return arguments.length?this.each((typeof t==="function"?durationFunction:durationConstant)(e,t)):get(this.node(),e).duration}function easeConstant(t,e){if(typeof e!=="function")throw new Error;return function(){set(this,t).ease=e}}function transition_ease(t){var e=this._id;return arguments.length?this.each(easeConstant(e,t)):get(this.node(),e).ease}function transition_filter(t){if(typeof t!=="function")t=matcher(t);for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i){for(var a=e[i],o=a.length,s=r[i]=[],u,l=0;l<o;++l){if((u=a[l])&&t.call(u,u.__data__,l,a)){s.push(u)}}}return new Transition(r,this._parents,this._name,this._id)}function transition_merge(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s){for(var u=e[s],l=n[s],c=u.length,f=o[s]=new Array(c),h,d=0;d<c;++d){if(h=u[d]||l[d]){f[d]=h}}}for(;s<r;++s){o[s]=e[s]}return new Transition(o,this._parents,this._name,this._id)}function start(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");if(e>=0)t=t.slice(0,e);return!t||t==="start"}))}function onFunction(t,e,n){var r,i,a=start(e)?init:set;return function(){var o=a(this,t),s=o.on;if(s!==r)(i=(r=s).copy()).on(e,n);o.on=i}}function transition_on(t,e){var n=this._id;return arguments.length<2?get(this.node(),n).on.on(t):this.each(onFunction(n,t,e))}function removeFunction(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;if(e)e.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(t){var e=this._name,n=this._id;if(typeof t!=="function")t=selector(t);for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o){for(var s=r[o],u=s.length,l=a[o]=new Array(u),c,f,h=0;h<u;++h){if((c=s[h])&&(f=t.call(c,c.__data__,h,s))){if("__data__"in c)f.__data__=c.__data__;l[h]=f;schedule(l[h],e,n,h,l,get(c,n))}}}return new Transition(a,this._parents,e,n)}function transition_selectAll(t){var e=this._name,n=this._id;if(typeof t!=="function")t=selectorAll(t);for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s){for(var u=r[s],l=u.length,c,f=0;f<l;++f){if(c=u[f]){for(var h=t.call(c,c.__data__,f,u),d,p=get(c,n),v=0,y=h.length;v<y;++v){if(d=h[v]){schedule(d,e,n,v,h,p)}}a.push(h);o.push(c)}}}return new Transition(a,o,e,n)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleRemove(t,e){var n,r,i;return function(){var a=styleValue(this,t),o=(this.style.removeProperty(t),styleValue(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function styleRemoveEnd(t){return function(){this.style.removeProperty(t)}}function styleConstant(t,e,n){var r,i;return function(){var a=styleValue(this,t);return a===n?null:a===r?i:i=e(r=a,n)}}function styleFunction(t,e,n){var r,i,a;return function(){var o=styleValue(this,t),s=n(this);if(s==null)s=(this.style.removeProperty(t),styleValue(this,t));return o===s?null:o===r&&s===i?a:a=e(r=o,i=s)}}function transition_style(t,e,n){var r=(t+="")==="transform"?interpolateTransformCss:interpolate;return e==null?this.styleTween(t,styleRemove(t,r)).on("end.style."+t,styleRemoveEnd(t)):this.styleTween(t,typeof e==="function"?styleFunction(t,r,tweenValue(this,"style."+t,e)):styleConstant(t,r,e+""),n)}function styleTween(t,e,n){function r(){var r=this,i=e.apply(r,arguments);return i&&function(e){r.style.setProperty(t,i(e),n)}}r._value=e;return r}function transition_styleTween(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!=="function")throw new Error;return this.tween(r,styleTween(t,e,n==null?"":n))}function textConstant(t){return function(){this.textContent=t}}function textFunction(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function transition_text(t){return this.tween("text",typeof t==="function"?textFunction(tweenValue(this,"text",t)):textConstant(t==null?"":t+""))}function transition_transition(){var t=this._name,e=this._id,n=newId();for(var r=this._groups,i=r.length,a=0;a<i;++a){for(var o=r[a],s=o.length,u,l=0;l<s;++l){if(u=o[l]){var c=get(u,e);schedule(u,t,n,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}}}return new Transition(r,this._parents,t,n)}var id=0;function Transition(t,e,n,r){this._groups=t;this._parents=e;this._name=n;this._id=r}function newId(){return++id}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease};var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(t,e){var n;while(!(n=t.__transition)||!(n=n[e])){if(!(t=t.parentNode)){return defaultTiming.time=now(),defaultTiming}}return n}function selection_transition(t){var e,n;if(t instanceof Transition){e=t._id,t=t._name}else{e=newId(),(n=defaultTiming).time=now(),t=t==null?null:t+""}for(var r=this._groups,i=r.length,a=0;a<i;++a){for(var o=r[a],s=o.length,u,l=0;l<s;++l){if(u=o[l]){schedule(u,t,e,l,o,n||inherit(u,e))}}}return new Transition(r,this._parents,t,e)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;var barChartCss=".o-layout{width:100%;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.o-layout--chart{width:100%}.is--vertical .o-layout--chart{width:90%}bar-chart{cursor:default}bar-chart .annotations{pointer-events:none}bar-chart .annotations .handle{pointer-events:all}bar-chart .screen-reader-info{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}bar-chart .data-table-link{color:#767676;text-decoration:none;font-size:12px;margin-left:5%}bar-chart .hidden{display:none}bar-chart .light .grid line{stroke:#767676;stroke-opacity:1;stroke-width:0.8;stroke-dasharray:4, 4}bar-chart .light .grid path{stroke-width:0}bar-chart .light .axis{font-size:12px}bar-chart .light .axis .tick text{fill:#767676}bar-chart .light .axis .tick line{stroke:#767676}bar-chart .light .axis-label{text-anchor:middle;font:1rem sans-serif}bar-chart .light .y.axis path{stroke:#767676;opacity:0}bar-chart .light .x.axis path{stroke:#767676}bar-chart .light .o-layout--chart .bar-dataLabel-vertical{text-anchor:middle}bar-chart .light .o-layout--chart .bar-dataLabel-horizontal{text-anchor:start}bar-chart .dark .grid line{stroke:lightgrey;stroke-opacity:0.7;shape-rendering:crispEdges}bar-chart .dark .grid path{stroke-width:0}bar-chart .dark .axis{font-size:12px}bar-chart .dark .axis .tick line{stroke:lightgrey}bar-chart .dark .axis .tick text{fill:grey}bar-chart .dark .axis path{stroke:black}bar-chart .dark .axis-label{text-anchor:middle;font:1rem sans-serif}bar-chart .dark .o-layout--chart svg{background:black}bar-chart .dark .o-layout--chart svg .bar-dataLabel-vertical{text-anchor:middle}bar-chart .dark .o-layout--chart svg .bar-dataLabel-horizontal{text-anchor:start}";var prepareStrokeColorsFromScheme=visaChartsUtils_umd.prepareStrokeColorsFromScheme,calculateLuminance=visaChartsUtils_umd.calculateLuminance,verifyTextHasSpace=visaChartsUtils_umd.verifyTextHasSpace,checkAttributeTransitions=visaChartsUtils_umd.checkAttributeTransitions,createTextStrokeFilter=visaChartsUtils_umd.createTextStrokeFilter,drawHoverStrokes=visaChartsUtils_umd.drawHoverStrokes,removeHoverStrokes=visaChartsUtils_umd.removeHoverStrokes,buildStrokes=visaChartsUtils_umd.buildStrokes,convertColorsToTextures=visaChartsUtils_umd.convertColorsToTextures,initializeElementAccess=visaChartsUtils_umd.initializeElementAccess,initializeDescriptionRoot=visaChartsUtils_umd.initializeDescriptionRoot,setElementFocusHandler=visaChartsUtils_umd.setElementFocusHandler,setElementAccessID=visaChartsUtils_umd.setElementAccessID,setAccessibilityController=visaChartsUtils_umd.setAccessibilityController,hideNonessentialGroups=visaChartsUtils_umd.hideNonessentialGroups,setAccessTitle=visaChartsUtils_umd.setAccessTitle,setAccessSubtitle=visaChartsUtils_umd.setAccessSubtitle,setAccessLongDescription=visaChartsUtils_umd.setAccessLongDescription,setAccessExecutiveSummary=visaChartsUtils_umd.setAccessExecutiveSummary,setAccessPurpose=visaChartsUtils_umd.setAccessPurpose,setAccessContext=visaChartsUtils_umd.setAccessContext,setAccessStatistics=visaChartsUtils_umd.setAccessStatistics,setAccessChartCounts=visaChartsUtils_umd.setAccessChartCounts,setAccessXAxis=visaChartsUtils_umd.setAccessXAxis,setAccessYAxis=visaChartsUtils_umd.setAccessYAxis,setAccessStructure=visaChartsUtils_umd.setAccessStructure,setAccessAnnotation=visaChartsUtils_umd.setAccessAnnotation,retainAccessFocus=visaChartsUtils_umd.retainAccessFocus,checkAccessFocus=visaChartsUtils_umd.checkAccessFocus,setElementInteractionAccessState=visaChartsUtils_umd.setElementInteractionAccessState,setAccessibilityDescriptionWidth=visaChartsUtils_umd.setAccessibilityDescriptionWidth,autoTextColor=visaChartsUtils_umd.autoTextColor,annotate=visaChartsUtils_umd.annotate,chartAccessors=visaChartsUtils_umd.chartAccessors,checkInteraction=visaChartsUtils_umd.checkInteraction,checkClicked=visaChartsUtils_umd.checkClicked,checkHovered=visaChartsUtils_umd.checkHovered,convertVisaColor=visaChartsUtils_umd.convertVisaColor,drawAxis=visaChartsUtils_umd.drawAxis,drawGrid=visaChartsUtils_umd.drawGrid,drawLegend=visaChartsUtils_umd.drawLegend,setLegendInteractionState=visaChartsUtils_umd.setLegendInteractionState,drawTooltip=visaChartsUtils_umd.drawTooltip,formatDataLabel=visaChartsUtils_umd.formatDataLabel,getColors=visaChartsUtils_umd.getColors,getLicenses=visaChartsUtils_umd.getLicenses,getPadding=visaChartsUtils_umd.getPadding,getScopedData=visaChartsUtils_umd.getScopedData,initTooltipStyle=visaChartsUtils_umd.initTooltipStyle,placeDataLabels=visaChartsUtils_umd.placeDataLabels,overrideTitleTooltip=visaChartsUtils_umd.overrideTitleTooltip,transitionEndAll=visaChartsUtils_umd.transitionEndAll,scopeDataKeys=visaChartsUtils_umd.scopeDataKeys,visaColors=visaChartsUtils_umd.visaColors,validateAccessibilityProps=visaChartsUtils_umd.validateAccessibilityProps,findTagLevel=visaChartsUtils_umd.findTagLevel,prepareRenderChange=visaChartsUtils_umd.prepareRenderChange,roundTo=visaChartsUtils_umd.roundTo,resolveLabelCollision=visaChartsUtils_umd.resolveLabelCollision,halve=visaChartsUtils_umd.halve;var BarChart=function(){function t(t){var e=this;registerInstance(this,t);this.clickEvent=createEvent(this,"clickEvent",7);this.hoverEvent=createEvent(this,"hoverEvent",7);this.mouseOutEvent=createEvent(this,"mouseOutEvent",7);this.initialLoadEvent=createEvent(this,"initialLoadEvent",7);this.initialLoadEndEvent=createEvent(this,"initialLoadEndEvent",7);this.drawStartEvent=createEvent(this,"drawStartEvent",7);this.drawEndEvent=createEvent(this,"drawEndEvent",7);this.transitionEndEvent=createEvent(this,"transitionEndEvent",7);this.shouldValidateAccessibility=true;this.updated=true;this.shouldUpdateXAxis=false;this.shouldUpdateYAxis=false;this.shouldUpdateXGrid=false;this.shouldUpdateYGrid=false;this.shouldValidate=false;this.shouldUpdateData=false;this.shouldUpdateLayoutVariables=false;this.shouldUpdateScales=false;this.shouldUpdateTableData=false;this.shouldUpdateAnnotations=false;this.shouldDrawInteractionState=false;this.shouldValidateClickStyle=false;this.shouldValidateHoverStyle=false;this.shouldSetSelectionClass=false;this.shouldUpdateCursor=false;this.shouldSetColors=false;this.shouldUpdateGeometries=false;this.shouldUpdateLegend=false;this.shouldUpdateReferenceLines=false;this.shouldBindInteractivity=false;this.shouldUpdateLegendInteractivity=false;this.shouldResetRoot=false;this.shouldUpdateBaseline=false;this.shouldValidateInteractionKeys=false;this.shouldUpdateLegendData=false;this.shouldCheckValueAxis=false;this.shouldCheckLabelAxis=false;this.shouldUpdateCorners=false;this.shouldEnterUpdateExit=false;this.shouldSetGlobalSelections=false;this.shouldSetTestingAttributes=false;this.shouldValidateLabelPlacement=false;this.shouldValidateDataLabelAccessor=false;this.shouldCheckLabelColor=false;this.shouldSetLabelOpacity=false;this.shouldSetLabelPosition=false;this.shouldSetLabelContent=false;this.shouldUpdateDescriptionWrapper=false;this.shouldSetChartAccessibilityTitle=false;this.shouldSetChartAccessibilitySubtitle=false;this.shouldSetChartAccessibilityLongDescription=false;this.shouldSetChartAccessibilityExecutiveSummary=false;this.shouldSetChartAccessibilityStatisticalNotes=false;this.shouldSetChartAccessibilityStructureNotes=false;this.shouldSetParentSVGAccessibility=false;this.shouldSetGeometryAccessibilityAttributes=false;this.shouldSetGeometryAriaLabels=false;this.shouldSetGroupAccessibilityAttributes=false;this.shouldSetGroupAccessibilityLabel=false;this.shouldSetChartAccessibilityPurpose=false;this.shouldSetChartAccessibilityContext=false;this.shouldSetLegendCursor=false;this.shouldRedrawWrapper=false;this.shouldSetTagLevels=false;this.shouldSetChartAccessibilityCount=false;this.shouldSetYAxisAccessibility=false;this.shouldSetXAxisAccessibility=false;this.shouldSetAnnotationAccessibility=false;this.shouldSetStrokes=false;this.topLevel="h2";this.bottomLevel="p";this.shouldSetTextures=false;this.strokes={};this.textTreatmentHandler=function(t,n,r){var i=e.preparedColors.range?e.preparedColors.range():e.preparedColors;var a=e.groupAccessor||i.length===1?"categorical":e.colorPalette&&e.colorPalette.includes("diverging")?"diverging":"sequential";var o=!e.accessibility.hideTextures&&a!=="categorical"&&e.accessibility.showExperimentalTextures?"fillColors":"preparedColors";var s=e.clickHighlight&&e.clickHighlight.length>0&&checkClicked(t,e.clickHighlight,e.innerInteractionKeys)&&e.innerClickStyle.color?visaColors[e.innerClickStyle.color]||e.innerClickStyle.color:e.hoverHighlight&&checkHovered(t,e.hoverHighlight,e.innerInteractionKeys)&&e.innerHoverStyle.color?visaColors[e.innerHoverStyle.color]||e.innerHoverStyle.color:e.groupAccessor?e[o](t[e.groupAccessor]):e[o](t[e.valueAccessor]);var u=select(r[n]);var l=e.placement==="auto"?e.layout==="vertical"?e.dataLabel.collisionPlacement==="top"&&u.attr("data-baseline")!=="bottom"||e.dataLabel.collisionPlacement==="middle"&&u.attr("data-baseline")!=="bottom"||e.dataLabel.collisionPlacement==="bottom"&&u.attr("data-baseline")==="bottom"&&(t[e.valueAccessor]>=0&&e.y(0)-e.y(t[e.valueAccessor])>20||t[e.valueAccessor]<0&&e.y(0)-e.y(t[e.valueAccessor])<-20):e.dataLabel.collisionPlacement==="right"&&u.attr("data-align")!=="left"||e.dataLabel.collisionPlacement==="middle"&&u.attr("data-align")!=="left"||e.dataLabel.collisionPlacement==="left"&&u.attr("data-align")!=="right":false;var c=l||e.placement==="bottom"||e.placement==="left"?autoTextColor(s):visaColors.dark_text;u.attr("filter",!u.classed("textIsMoving")?createTextStrokeFilter({root:e.svg.node(),id:e.chartID,color:l||e.placement==="bottom"||e.placement==="left"?s:"#ffffff"}):null);return c};this.mainTitle=BarChartDefaultValues.mainTitle;this.subTitle=BarChartDefaultValues.subTitle;this.height=BarChartDefaultValues.height;this.width=BarChartDefaultValues.width;this.layout=BarChartDefaultValues.layout;this.highestHeadingLevel=BarChartDefaultValues.highestHeadingLevel;this.margin=BarChartDefaultValues.margin;this.padding=BarChartDefaultValues.padding;this.data=undefined;this.uniqueID=undefined;this.ordinalAccessor=BarChartDefaultValues.ordinalAccessor;this.valueAccessor=BarChartDefaultValues.valueAccessor;this.groupAccessor=BarChartDefaultValues.groupAccessor;this.sortOrder=BarChartDefaultValues.sortOrder;this.xAxis=BarChartDefaultValues.xAxis;this.yAxis=BarChartDefaultValues.yAxis;this.wrapLabel=BarChartDefaultValues.wrapLabel;this.colorPalette=BarChartDefaultValues.colorPalette;this.colors=undefined;this.hoverStyle=BarChartDefaultValues.hoverStyle;this.clickStyle=BarChartDefaultValues.clickStyle;this.referenceStyle=BarChartDefaultValues.referenceStyle;this.cursor=BarChartDefaultValues.cursor;this.roundedCorner=BarChartDefaultValues.roundedCorner;this.barIntervalRatio=BarChartDefaultValues.barIntervalRatio;this.hoverOpacity=BarChartDefaultValues.hoverOpacity;this.animationConfig=BarChartDefaultValues.animationConfig;this.dataLabel=BarChartDefaultValues.dataLabel;this.dataKeyNames=undefined;this.showTooltip=BarChartDefaultValues.showTooltip;this.tooltipLabel=BarChartDefaultValues.tooltipLabel;this.accessibility=BarChartDefaultValues.accessibility;this.legend=BarChartDefaultValues.legend;this.annotations=BarChartDefaultValues.annotations;this.maxValueOverride=undefined;this.minValueOverride=undefined;this.referenceLines=BarChartDefaultValues.referenceLines;this.suppressEvents=BarChartDefaultValues.suppressEvents;this.hoverHighlight=undefined;this.clickHighlight=BarChartDefaultValues.clickHighlight;this.interactionKeys=undefined;this.unitTest=false}t.prototype.dataWatcher=function(t,e){this.updated=true;this.shouldUpdateData=true;this.shouldSetColors=true;this.shouldSetTextures=true;this.shouldSetGlobalSelections=true;this.shouldSetTestingAttributes=true;this.shouldEnterUpdateExit=true;this.shouldSetLabelContent=true;this.shouldSetLabelPosition=true;this.shouldSetGeometryAccessibilityAttributes=true;this.shouldSetGeometryAriaLabels=true;this.shouldUpdateLegendData=true;this.shouldUpdateTableData=true;this.shouldUpdateScales=true;this.shouldValidate=true;this.shouldUpdateGeometries=true;this.shouldUpdateXAxis=true;this.shouldSetXAxisAccessibility=true;this.shouldUpdateYAxis=true;this.shouldSetYAxisAccessibility=true;this.shouldUpdateXGrid=true;this.shouldUpdateYGrid=true;this.shouldUpdateLegend=true;this.shouldUpdateReferenceLines=true;this.shouldUpdateBaseline=true;this.shouldUpdateAnnotations=true;this.shouldSetStrokes=true};t.prototype.sortWatcher=function(t,e){this.updated=true;this.shouldUpdateData=true;this.shouldSetGlobalSelections=true;this.shouldSetTestingAttributes=true;this.shouldEnterUpdateExit=true;this.shouldSetGeometryAccessibilityAttributes=true;this.shouldSetGeometryAriaLabels=true;this.shouldUpdateTableData=true;this.shouldUpdateScales=true;this.shouldUpdateGeometries=true;this.shouldSetLabelContent=true;this.shouldSetLabelPosition=true;this.shouldUpdateAnnotations=true};t.prototype.groupAccessorWatcher=function(t,e){this.shouldUpdateLegendData=true;this.shouldSetColors=true;this.shouldSetTextures=true;this.shouldDrawInteractionState=true;this.shouldCheckLabelColor=true;this.shouldUpdateLegend=true;this.shouldSetGeometryAriaLabels=true;this.shouldSetGeometryAccessibilityAttributes=true;this.shouldUpdateTableData=true;this.shouldSetStrokes=true;if(!(this.interactionKeys&&this.interactionKeys.length)){this.shouldValidateInteractionKeys=true;this.shouldSetSelectionClass=true}};t.prototype.ordinalAccessorWatcher=function(t,e){this.shouldUpdateTableData=true;this.shouldUpdateScales=true;this.shouldUpdateGeometries=true;this.shouldDrawInteractionState=true;this.shouldCheckLabelColor=true;this.shouldCheckLabelAxis=true;this.shouldUpdateReferenceLines=true;this.shouldUpdateBaseline=true;this.shouldUpdateAnnotations=true;this.shouldSetGeometryAriaLabels=true;this.shouldSetStrokes=true;if(!(this.interactionKeys&&this.interactionKeys.length)){this.shouldValidateInteractionKeys=true;this.shouldSetSelectionClass=true}};t.prototype.valueAccessorWatcher=function(t,e){this.shouldUpdateTableData=true;this.shouldUpdateScales=true;this.shouldSetColors=true;this.shouldSetTextures=true;this.shouldUpdateGeometries=true;this.shouldDrawInteractionState=true;this.shouldCheckValueAxis=true;this.shouldValidateDataLabelAccessor=true;this.shouldCheckLabelColor=true;this.shouldSetLabelContent=true;this.shouldSetLabelPosition=true;this.shouldUpdateReferenceLines=true;this.shouldUpdateBaseline=true;this.shouldUpdateAnnotations=true;this.shouldSetGeometryAriaLabels=true;this.shouldSetStrokes=true};t.prototype.valueOverrideWatcher=function(t,e){this.shouldUpdateScales=true;this.shouldUpdateGeometries=true;this.shouldCheckValueAxis=true;this.shouldSetLabelPosition=true;this.shouldCheckLabelColor=true;this.shouldUpdateReferenceLines=true;this.shouldUpdateBaseline=true;this.shouldUpdateAnnotations=true};t.prototype.headingWatcher=function(t,e){this.shouldRedrawWrapper=true;this.shouldSetTagLevels=true;this.shouldSetChartAccessibilityCount=true;this.shouldSetYAxisAccessibility=true;this.shouldSetXAxisAccessibility=true;this.shouldUpdateDescriptionWrapper=true;this.shouldSetAnnotationAccessibility=true;this.shouldSetChartAccessibilityTitle=true;this.shouldSetChartAccessibilitySubtitle=true;this.shouldSetChartAccessibilityLongDescription=true;this.shouldSetChartAccessibilityContext=true;this.shouldSetChartAccessibilityExecutiveSummary=true;this.shouldSetChartAccessibilityPurpose=true;this.shouldSetChartAccessibilityStatisticalNotes=true;this.shouldSetChartAccessibilityStructureNotes=true};t.prototype.titleWatcher=function(t,e){this.shouldValidate=true;this.shouldUpdateDescriptionWrapper=true;this.shouldSetChartAccessibilityTitle=true;this.shouldSetParentSVGAccessibility=true};t.prototype.subtitleWatcher=function(t,e){this.shouldSetChartAccessibilitySubtitle=true;this.shouldSetParentSVGAccessibility=true};t.prototype.xAxisWatcher=function(t,e){this.shouldUpdateXAxis=true;this.shouldSetXAxisAccessibility=true;var n=t&&t.gridVisible;var r=e&&e.gridVisible;var i=t&&t.tickInterval?t.tickInterval:0;var a=e&&e.tickInterval?e.tickInterval:0;if(n!==r||i!==a){this.shouldUpdateXGrid=true}var o=t&&t.centerBaseline;var s=e&&e.centerBaseline;if(o!==s){this.shouldValidateLabelPlacement=true;this.shouldUpdateScales=true;this.shouldResetRoot=true;this.shouldUpdateGeometries=true;this.shouldSetGeometryAccessibilityAttributes=true;this.shouldUpdateXAxis=true;this.shouldUpdateYAxis=true;this.shouldUpdateXGrid=true;this.shouldUpdateYGrid=true;this.shouldSetLabelPosition=true;this.shouldCheckLabelColor=true;this.shouldUpdateLegend=true;this.shouldUpdateReferenceLines=true;this.shouldUpdateBaseline=true;this.shouldUpdateAnnotations=true}};t.prototype.yAxisWatcher=function(t,e){this.shouldUpdateYAxis=true;this.shouldSetYAxisAccessibility=true;var n=t&&t.gridVisible;var r=e&&e.gridVisible;var i=t&&t.tickInterval?t.tickInterval:0;var a=e&&e.tickInterval?e.tickInterval:0;if(n!==r||i!==a){this.shouldUpdateYGrid=true}var o=t&&t.centerBaseline;var s=e&&e.centerBaseline;if(o!==s){this.shouldValidateLabelPlacement=true;this.shouldUpdateScales=true;this.shouldResetRoot=true;this.shouldUpdateGeometries=true;this.shouldSetGeometryAccessibilityAttributes=true;this.shouldUpdateXAxis=true;this.shouldUpdateYAxis=true;this.shouldUpdateXGrid=true;this.shouldUpdateYGrid=true;this.shouldSetLabelPosition=true;this.shouldCheckLabelColor=true;this.shouldUpdateLegend=true;this.shouldUpdateReferenceLines=true;this.shouldUpdateBaseline=true;this.shouldUpdateAnnotations=true}};t.prototype.wrapLabelWatcher=function(t,e){this.shouldCheckLabelAxis=true};t.prototype.colorsWatcher=function(t,e){this.shouldSetColors=true;this.shouldSetTextures=true;this.shouldDrawInteractionState=true;this.shouldCheckLabelColor=true;this.shouldUpdateLegend=true;this.shouldSetStrokes=true};t.prototype.layoutWatcher=function(t,e){this.shouldValidateLabelPlacement=true;this.shouldUpdateScales=true;this.shouldResetRoot=true;this.shouldUpdateGeometries=true;this.shouldSetGeometryAccessibilityAttributes=true;this.shouldUpdateXAxis=true;this.shouldUpdateYAxis=true;this.shouldUpdateXGrid=true;this.shouldUpdateYGrid=true;this.shouldSetLabelPosition=true;this.shouldCheckLabelColor=true;this.shouldUpdateLegend=true;this.shouldUpdateReferenceLines=true;this.shouldUpdateBaseline=true;this.shouldUpdateAnnotations=true};t.prototype.dimensionWatcher=function(t,e){this.shouldUpdateLayoutVariables=true;this.shouldUpdateScales=true;this.shouldResetRoot=true;this.shouldUpdateGeometries=true;this.shouldUpdateXAxis=true;this.shouldUpdateYAxis=true;this.shouldUpdateXGrid=true;this.shouldUpdateYGrid=true;this.shouldSetLabelPosition=true;this.shouldCheckLabelColor=true;this.shouldUpdateLegend=true;this.shouldUpdateReferenceLines=true;this.shouldUpdateBaseline=true;this.shouldUpdateAnnotations=true};t.prototype.cornerWatcher=function(t,e){this.shouldUpdateCorners=true};t.prototype.intervalRatioWatcher=function(t,e){this.shouldUpdateScales=true;this.shouldUpdateGeometries=true;this.shouldCheckLabelAxis=true;this.shouldSetLabelPosition=true;this.shouldCheckLabelColor=true;this.shouldUpdateAnnotations=true};t.prototype.labelWatcher=function(t,e){var n=t&&t.placement?t.placement:false;var r=e&&e.placement?e.placement:false;var i=t&&t.collisionPlacement?t.collisionPlacement:false;var a=e&&e.collisionPlacement?e.collisionPlacement:false;var o=t&&t.visible;var s=e&&e.visible;var u=t&&t.labelAccessor?t.labelAccessor:false;var l=e&&e.labelAccessor?e.labelAccessor:false;var c=t&&t.format?t.format:false;var f=e&&e.format?e.format:false;var h=t&&t.collisionHideOnly?t.collisionHideOnly:false;var d=e&&e.collisionHideOnly?e.collisionHideOnly:false;if(o!==s){this.shouldSetLabelOpacity=true}if(n!==r||i!==a||h!==d){this.shouldValidateLabelPlacement=true;this.shouldSetLabelPosition=true;this.shouldCheckLabelColor=true}if(u!==l||c!==f){this.shouldUpdateTableData=true;this.shouldValidateDataLabelAccessor=true;this.shouldSetLabelContent=true;this.shouldCheckLabelColor=true}};t.prototype.legendWatcher=function(t,e){this.shouldUpdateLegend=true;var n=t&&t.interactive;var r=e&&e.interactive;if(n!==r){this.shouldSetLegendCursor=true;this.shouldUpdateLegendInteractivity=true}};t.prototype.referenceWatcher=function(t,e){this.shouldUpdateReferenceLines=true};t.prototype.tooltipLabelWatcher=function(t,e){this.shouldUpdateTableData=true;this.shouldSetParentSVGAccessibility=true;this.shouldSetGeometryAriaLabels=true};t.prototype.showTooltipWatcher=function(t,e){this.shouldDrawInteractionState=true};t.prototype.hoverOpacityWatcher=function(t,e){this.shouldDrawInteractionState=true;this.shouldCheckLabelColor=true};t.prototype.clickStyleWatcher=function(t,e){this.shouldDrawInteractionState=true;this.shouldCheckLabelColor=true;this.shouldValidateClickStyle=true;this.shouldSetStrokes=true};t.prototype.hoverStyleWatcher=function(t,e){this.shouldDrawInteractionState=true;this.shouldCheckLabelColor=true;this.shouldValidateHoverStyle=true;this.shouldSetStrokes=true};t.prototype.clickWatcher=function(t,e){this.shouldDrawInteractionState=true;this.shouldCheckLabelColor=true;this.shouldSetSelectionClass=true};t.prototype.hoverWatcher=function(t,e){this.shouldDrawInteractionState=true;this.shouldCheckLabelColor=true};t.prototype.interactionWatcher=function(t,e){this.shouldValidateInteractionKeys=true;this.shouldDrawInteractionState=true;this.shouldCheckLabelColor=true;this.shouldSetSelectionClass=true;this.shouldSetGeometryAriaLabels=true;this.shouldUpdateTableData=true};t.prototype.dataKeyNamesWatcher=function(t,e){this.shouldUpdateXAxis=true;this.shouldSetXAxisAccessibility=true;this.shouldUpdateYAxis=true;this.shouldSetYAxisAccessibility=true;this.shouldSetParentSVGAccessibility=true;this.shouldSetGroupAccessibilityLabel=true;this.shouldSetGeometryAriaLabels=true};t.prototype.cursorWatcher=function(t,e){this.shouldUpdateCursor=true;this.shouldSetLegendCursor=true};t.prototype.accessibilityWatcher=function(t,e){this.shouldValidate=true;var n=t&&t.title?t.title:false;var r=e&&e.title?e.title:false;if(n!==r){this.shouldUpdateDescriptionWrapper=true;this.shouldSetChartAccessibilityTitle=true;this.shouldSetParentSVGAccessibility=true}var i=t&&t.executiveSummary?t.executiveSummary:false;var a=e&&e.executiveSummary?e.executiveSummary:false;if(i!==a){this.shouldSetChartAccessibilityExecutiveSummary=true}var o=t&&t.purpose?t.purpose:false;var s=e&&e.purpose?e.purpose:false;if(o!==s){this.shouldSetChartAccessibilityPurpose=true}var u=t&&t.longDescription?t.longDescription:false;var l=e&&e.longDescription?e.longDescription:false;if(u!==l){this.shouldSetChartAccessibilityLongDescription=true}var c=t&&t.contextExplanation?t.contextExplanation:false;var f=e&&e.contextExplanation?e.contextExplanation:false;if(c!==f){this.shouldSetChartAccessibilityContext=true}var h=t&&t.statisticalNotes?t.statisticalNotes:false;var d=e&&e.statisticalNotes?e.statisticalNotes:false;if(h!==d){this.shouldSetChartAccessibilityStatisticalNotes=true}var p=t&&t.structureNotes?t.structureNotes:false;var v=e&&e.structureNotes?e.structureNotes:false;if(p!==v){this.shouldSetChartAccessibilityStructureNotes=true}var y=t&&t.includeDataKeyNames;var g=e&&e.includeDataKeyNames;var m=t&&t.elementDescriptionAccessor?t.elementDescriptionAccessor:false;var b=e&&e.elementDescriptionAccessor?e.elementDescriptionAccessor:false;if(y!==g||m!==b){if(y!==g){this.shouldSetGroupAccessibilityLabel=true}this.shouldSetGeometryAriaLabels=true;this.shouldSetParentSVGAccessibility=true}var _=t&&t.hideTextures?t.hideTextures:false;var w=e&&e.hideTextures?e.hideTextures:false;var x=t&&t.showExperimentalTextures?t.showExperimentalTextures:false;var A=e&&e.showExperimentalTextures?e.showExperimentalTextures:false;if(_!==w||x!==A){this.shouldSetTextures=true;this.shouldUpdateLegend=true;this.shouldDrawInteractionState=true;this.shouldCheckLabelColor=true}var S=t&&t.showSmallLabels?t.showSmallLabels:false;var T=e&&e.showSmallLabels?e.showSmallLabels:false;if(S!==T){this.shouldSetLabelOpacity=true}var L=t&&t.hideStrokes?t.hideStrokes:false;var E=e&&e.hideStrokes?e.hideStrokes:false;if(L!==E){this.shouldSetStrokes=true;this.shouldUpdateLegend=true;this.shouldDrawInteractionState=true}var N=t&&t.keyboardNavConfig&&t.keyboardNavConfig.disabled?t.keyboardNavConfig.disabled:false;var C=e&&e.keyboardNavConfig&&e.keyboardNavConfig.disabled?e.keyboardNavConfig.disabled:false;var M=t&&t.elementsAreInterface?t.elementsAreInterface:false;var k=e&&e.elementsAreInterface?e.elementsAreInterface:false;if(N!==C||M!==k){this.shouldSetGeometryAriaLabels=true;this.shouldSetParentSVGAccessibility=true;this.shouldUpdateDescriptionWrapper=true;this.shouldRedrawWrapper=true;this.shouldSetChartAccessibilityTitle=true;this.shouldSetChartAccessibilitySubtitle=true;this.shouldSetChartAccessibilityLongDescription=true;this.shouldSetChartAccessibilityContext=true;this.shouldSetChartAccessibilityExecutiveSummary=true;this.shouldSetChartAccessibilityPurpose=true;this.shouldSetChartAccessibilityStatisticalNotes=true;this.shouldSetChartAccessibilityStructureNotes=true}if(M!==k){this.shouldSetSelectionClass=true}};t.prototype.annotationsWatcher=function(t,e){this.shouldValidate=true;this.shouldUpdateAnnotations=true;this.shouldSetAnnotationAccessibility=true};t.prototype.idWatcher=function(t,e){console.error("Change detected in prop uniqueID from value "+e+" to value "+t+". This prop cannot be changed after component has loaded.")};t.prototype.suppressWatcher=function(t,e){this.shouldBindInteractivity=true;this.shouldUpdateCursor=true;this.shouldSetLegendCursor=true;this.shouldUpdateLegendInteractivity=true;this.shouldSetGeometryAriaLabels=true;this.shouldSetParentSVGAccessibility=true;this.shouldUpdateDescriptionWrapper=true;this.shouldValidate=true;this.shouldRedrawWrapper=true;this.shouldSetChartAccessibilityTitle=true;this.shouldSetChartAccessibilitySubtitle=true;this.shouldSetChartAccessibilityLongDescription=true;this.shouldSetChartAccessibilityContext=true;this.shouldSetChartAccessibilityExecutiveSummary=true;this.shouldSetChartAccessibilityPurpose=true;this.shouldSetChartAccessibilityStatisticalNotes=true;this.shouldSetChartAccessibilityStructureNotes=true};t.prototype.unitTestWatcher=function(t,e){this.shouldSetTestingAttributes=true};t.prototype.componentWillLoad=function(){var t=this;var e=this.uniqueID||"bar-chart-"+v4();this.initialLoadEvent.emit({chartID:e});return new Promise((function(n){t.duration=0;t.defaults=true;t.chartID=e;t.barChartEl.id=t.chartID;t.setTagLevels();t.prepareData();t.prepareLegendData();t.updateChartVariable();t.prepareScales();t.validateInteractionKeys();t.setTableData();t.shouldValidateAccessibilityProps();t.validateClickStyle();t.validateHoverStyle();t.setColors();n("component will load")}))};t.prototype.componentWillUpdate=function(){return new Promise((function(t){t("component will update")}))};t.prototype.componentDidLoad=function(){var t=this;return new Promise((function(e){t.shouldValidateAccessibilityProps();t.renderRootElements();t.setTooltipInitialStyle();t.setChartDescriptionWrapper();t.setChartAccessibilityTitle();t.setChartAccessibilitySubtitle();t.setChartAccessibilityLongDescription();t.setChartAccessibilityExecutiveSummary();t.setChartAccessibilityPurpose();t.setChartAccessibilityContext();t.setChartAccessibilityStatisticalNotes();t.setChartAccessibilityStructureNotes();t.setParentSVGAccessibility();t.reSetRoot();t.setTextures();t.setStrokes();t.drawXGrid();t.drawYGrid();t.setGlobalSelections();t.setTestingAttributes();t.validateClickStyle();t.validateHoverStyle();t.validateDataLabelAccessor();t.enterGeometries();t.updateGeometries();t.exitGeometries();t.enterLabels();t.updateLabels();t.exitLabels();t.drawGeometries();t.setChartCountAccessibility();t.setGeometryAccessibilityAttributes();t.setGeometryAriaLabels();t.setRoundedCorners();t.drawLegendElements();t.validateLabelPlacement();t.setLabelContent();t.processLabelPosition(t.updatingLabels,false,true,false);t.drawReferenceLines();t.setSelectedClass();t.checkLabelColorAgainstBackground();t.updateCursor();t.bindInteractivity();t.bindLegendInteractivity();t.drawXAxis();t.setXAxisAccessibility();t.drawYAxis();t.setYAxisAccessibility();t.drawAnnotations();t.setAnnotationAccessibility();t.drawBaseline();t.onChangeHandler();hideNonessentialGroups(t.root.node(),t.bars.node());t.setGroupAccessibilityAttributes();t.setGroupAccessibilityID();t.defaults=false;t.updatingLabels.classed("entering",false);e("component did load")})).then((function(){return t.initialLoadEndEvent.emit({chartID:t.chartID})}))};t.prototype.componentDidUpdate=function(){var t=this;return new Promise((function(e){t.duration=!t.animationConfig||!t.animationConfig.disabled?750:0;if(t.shouldUpdateDescriptionWrapper){t.setChartDescriptionWrapper();t.shouldUpdateDescriptionWrapper=false}if(t.shouldSetChartAccessibilityCount){t.setChartCountAccessibility();t.shouldSetChartAccessibilityCount=false}if(t.shouldSetChartAccessibilityTitle){t.setChartAccessibilityTitle();t.shouldSetChartAccessibilityTitle=false}if(t.shouldSetChartAccessibilitySubtitle){t.setChartAccessibilitySubtitle();t.shouldSetChartAccessibilitySubtitle=false}if(t.shouldSetChartAccessibilityLongDescription){t.setChartAccessibilityLongDescription();t.shouldSetChartAccessibilityLongDescription=false}if(t.shouldSetChartAccessibilityExecutiveSummary){t.setChartAccessibilityExecutiveSummary();t.shouldSetChartAccessibilityExecutiveSummary=false}if(t.shouldSetChartAccessibilityPurpose){t.setChartAccessibilityPurpose();t.shouldSetChartAccessibilityPurpose=false}if(t.shouldSetChartAccessibilityContext){t.setChartAccessibilityContext();t.shouldSetChartAccessibilityContext=false}if(t.shouldSetChartAccessibilityStatisticalNotes){t.setChartAccessibilityStatisticalNotes();t.shouldSetChartAccessibilityStatisticalNotes=false}if(t.shouldSetChartAccessibilityStructureNotes){t.setChartAccessibilityStructureNotes();t.shouldSetChartAccessibilityStructureNotes=false}if(t.shouldSetParentSVGAccessibility){t.setParentSVGAccessibility();t.shouldSetParentSVGAccessibility=false}if(t.shouldResetRoot){t.reSetRoot();t.shouldResetRoot=false}if(t.shouldSetTextures){t.setTextures();t.shouldSetTextures=false}if(t.shouldSetStrokes){t.setStrokes();t.shouldSetStrokes=false}if(t.shouldSetGlobalSelections){t.setGlobalSelections();t.shouldSetGlobalSelections=false}if(t.shouldSetTestingAttributes){t.setTestingAttributes();t.shouldSetTestingAttributes=false}if(t.shouldUpdateXGrid){t.drawXGrid();t.shouldUpdateXGrid=false}if(t.shouldUpdateYGrid){t.drawYGrid();t.shouldUpdateYGrid=false}if(t.shouldEnterUpdateExit){t.enterGeometries();t.updateGeometries();t.exitGeometries();t.enterLabels();t.updateLabels();t.exitLabels();t.shouldEnterUpdateExit=false}if(t.shouldUpdateGeometries){t.drawGeometries();t.shouldUpdateGeometries=false}if(t.shouldSetGeometryAccessibilityAttributes){t.setGeometryAccessibilityAttributes();t.shouldSetGeometryAccessibilityAttributes=false}if(t.shouldSetGeometryAriaLabels){t.setGeometryAriaLabels();t.shouldSetGeometryAriaLabels=false}if(t.shouldSetGroupAccessibilityLabel){t.setGroupAccessibilityID();t.shouldSetGroupAccessibilityLabel=false}if(t.shouldUpdateCorners){t.setRoundedCorners();t.shouldUpdateCorners=false}if(t.shouldUpdateLegend){t.drawLegendElements();t.shouldUpdateLegend=false}if(t.shouldSetLabelContent){t.setLabelContent();t.shouldSetLabelContent=false}if(t.shouldSetLabelPosition){t.setLabelPosition();t.shouldSetLabelPosition=false}if(t.shouldUpdateReferenceLines){t.drawReferenceLines();t.shouldUpdateReferenceLines=false}if(t.shouldDrawInteractionState){t.updateInteractionState();t.shouldDrawInteractionState=false}if(t.shouldSetLabelOpacity){t.setLabelOpacity();t.shouldSetLabelOpacity=false}if(t.shouldCheckLabelColor){t.checkLabelColorAgainstBackground();t.shouldCheckLabelColor=false}if(t.shouldSetSelectionClass){t.setSelectedClass();t.shouldSetSelectionClass=false}if(t.shouldUpdateLegendInteractivity){t.bindLegendInteractivity();t.shouldUpdateLegendInteractivity=false}if(t.shouldSetLegendCursor){t.setLegendCursor();t.shouldSetLegendCursor=false}if(t.shouldUpdateCursor){t.updateCursor();t.shouldUpdateCursor=false}if(t.shouldBindInteractivity){t.bindInteractivity();t.shouldBindInteractivity=false}if(t.shouldUpdateXAxis){t.drawXAxis();t.shouldUpdateXAxis=false}if(t.shouldSetXAxisAccessibility){t.setXAxisAccessibility();t.shouldSetXAxisAccessibility=false}if(t.shouldUpdateYAxis){t.drawYAxis();t.shouldUpdateYAxis=false}if(t.shouldSetYAxisAccessibility){t.setYAxisAccessibility();t.shouldSetYAxisAccessibility=false}if(t.shouldUpdateAnnotations){t.drawAnnotations();t.shouldUpdateAnnotations=false}if(t.shouldSetAnnotationAccessibility){t.setAnnotationAccessibility();t.shouldSetAnnotationAccessibility=false}if(t.shouldUpdateBaseline){t.drawBaseline();t.shouldUpdateBaseline=false}t.onChangeHandler();t.updatingLabels.classed("entering",false);e("component did update")})).then((function(){return t.drawEndEvent.emit({chartID:t.chartID})}))};t.prototype.shouldValidateAccessibilityProps=function(){if(this.shouldValidateAccessibility&&!this.accessibility.disableValidation){this.shouldValidateAccessibility=false;validateAccessibilityProps(this.chartID,Object.assign({},this.accessibility),{annotations:this.annotations,data:this.data,uniqueID:this.uniqueID,context:{mainTitle:this.mainTitle,onClickEvent:this.suppressEvents?undefined:this.clickEvent.emit}})}};t.prototype.validateInteractionKeys=function(){this.innerInteractionKeys=this.interactionKeys&&this.interactionKeys.length?this.interactionKeys:[this.groupAccessor||this.ordinalAccessor]};t.prototype.validateDataLabelAccessor=function(){this.innerLabelAccessor=this.dataLabel.labelAccessor?this.dataLabel.labelAccessor:this.valueAccessor};t.prototype.setTagLevels=function(){this.topLevel=findTagLevel(this.highestHeadingLevel);this.bottomLevel=findTagLevel(this.highestHeadingLevel,3)};t.prototype.updateChartVariable=function(){this.padding=typeof this.padding==="string"?getPadding(this.padding):this.padding;this.innerHeight=this.height-this.margin.top-this.margin.bottom;this.innerWidth=this.width-this.margin.left-this.margin.right;this.innerPaddedHeight=this.innerHeight-this.padding.top-this.padding.bottom;this.innerPaddedWidth=this.innerWidth-this.padding.left-this.padding.right};t.prototype.prepareData=function(){var t=this;if(this.data){if(this.sortOrder==="asc"){this.preppedData=__spreadArray([],this.data,true).sort((function(e,n){e[t.valueAccessor]=parseFloat(e[t.valueAccessor]);n[t.valueAccessor]=parseFloat(n[t.valueAccessor]);return e[t.valueAccessor]-n[t.valueAccessor]}))}else if(this.sortOrder==="desc"){this.preppedData=__spreadArray([],this.data,true).sort((function(e,n){e[t.valueAccessor]=parseFloat(e[t.valueAccessor]);n[t.valueAccessor]=parseFloat(n[t.valueAccessor]);return n[t.valueAccessor]-e[t.valueAccessor]}))}else{this.preppedData=this.data;this.preppedData.map((function(e){e[t.valueAccessor]=parseFloat(e[t.valueAccessor])}))}}};t.prototype.prepareLegendData=function(){var t=this;var e=nest().key((function(e){return e[t.groupAccessor]})).entries(this.preppedData);this.legendData=[];e.forEach((function(e){t.legendData.push(e.values[0])}))};t.prototype.setColors=function(){var t=this;var e=this.colors?convertVisaColor(this.colors):this.colorPalette;var n=min(this.preppedData,(function(e){return e[t.valueAccessor]}));var r=max(this.preppedData,(function(e){return e[t.valueAccessor]}));this.preparedColors=this.groupAccessor?getColors(e,ordinal().domain(this.data.map((function(e){return e[t.groupAccessor]}))).domain()):getColors(e,[n,r]);var i=this.preparedColors.range?this.preparedColors.range():this.preparedColors;var a=[];var o=[];var s=0;var u=Math.ceil(i.length/2);var l=this.colorPalette&&this.colorPalette.includes("diverging");var c=this.colorPalette&&this.colorPalette.includes("dark");var f=this.groupAccessor||i.length===1?"categorical":l?"diverging":"sequential";i.forEach((function(t){var e=prepareStrokeColorsFromScheme(t,s,i,f);if(f==="diverging"){var n=calculateLuminance(e.fillColor);var r=calculateLuminance(e.textureColor);var l=n>r?e.textureColor:e.fillColor;var h=n<r?e.textureColor:e.fillColor;if(i.length%2&&s===(i.length-1)/2){o.push(c?l:h);a.push(c?h:l)}else{a.push(c?l:h);o.push(c?h:l)}}else{if(s+1<u){o.push(i[0]);a.push(i[i.length-1])}else{a.push(i[0]);o.push(i[i.length-1])}}s++}));this.fillColors=this.preparedColors.copy().range(o);this.strokeColors=this.preparedColors.copy().range(a)};t.prototype.setTextures=function(){var t=this.preparedColors.range?this.preparedColors.range():this.preparedColors;var e=this.groupAccessor||t.length===1?"categorical":this.colorPalette&&this.colorPalette.includes("diverging")?"diverging":"sequential";if(this.accessibility.hideTextures||e==="categorical"&&t.length>6||e!=="categorical"&&!this.accessibility.showExperimentalTextures){this.colorArr=this.preparedColors}else{var n=convertColorsToTextures({colors:t,rootSVG:this.svg.node(),id:this.chartID,scheme:e,disableTransitions:!this.duration});this.colorArr=this.preparedColors.copy().range(n)}};t.prototype.setStrokes=function(){var t=this.preparedColors.range?this.preparedColors.range():this.preparedColors;var e=this.groupAccessor||t.length===1?"categorical":this.colorPalette&&this.colorPalette.includes("diverging")?"diverging":"sequential";this.strokes=buildStrokes({root:this.svg.node(),id:this.chartID,colors:!this.accessibility.hideTextures&&e!=="categorical"&&this.accessibility.showExperimentalTextures?this.fillColors.range():t,clickStyle:this.innerClickStyle,hoverStyle:this.innerHoverStyle,strokeOverride:!this.accessibility.hideTextures&&e!=="categorical"&&this.accessibility.showExperimentalTextures?this.strokeColors.range():undefined})};t.prototype.setTableData=function(){var t=scopeDataKeys(this,chartAccessors,"bar-chart");this.tableData=getScopedData(this.preppedData,t);this.tableColumns=Object.keys(t)};t.prototype.validateLabelPlacement=function(){this.placement=this.dataLabel.placement;if(this.layout==="vertical"){if(this.placement!=="top"&&this.placement!=="bottom"&&this.placement!=="auto"){this.placement="top"}}else{if(!this.placement||this.placement==="top"||this.placement==="bottom"){this.placement="right"}}};t.prototype.shouldCenterBaseline=function(){var t=this;return(this.xAxis.centerBaseline&&this.layout==="horizontal"||this.yAxis.centerBaseline&&this.layout==="vertical")&&min(this.preppedData,(function(e){return e[t.valueAccessor]}))>=0};t.prototype.prepareScales=function(){var t=this;var e=this.shouldCenterBaseline()?this.maxValueOverride&&this.maxValueOverride>max(this.preppedData,(function(e){return e[t.valueAccessor]}))?-halve(this.maxValueOverride):-halve(max(this.preppedData,(function(e){return e[t.valueAccessor]}))):this.minValueOverride&&this.minValueOverride<min(this.preppedData,(function(e){return e[t.valueAccessor]}))?this.minValueOverride:min(this.preppedData,(function(e){return e[t.valueAccessor]}));var n=this.shouldCenterBaseline()?this.maxValueOverride&&this.maxValueOverride>max(this.preppedData,(function(e){return e[t.valueAccessor]}))?halve(this.maxValueOverride):halve(max(this.preppedData,(function(e){return e[t.valueAccessor]}))):this.maxValueOverride&&this.maxValueOverride>max(this.preppedData,(function(e){return e[t.valueAccessor]}))?this.maxValueOverride:max(this.preppedData,(function(e){return e[t.valueAccessor]}));if(this.layout==="vertical"){this.y=linear().domain([Math.min(0,e),Math.max(0,n)]).range([this.innerPaddedHeight,0]);this.x=band().domain(this.preppedData.map((function(e){return e[t.ordinalAccessor]}))).range([0,this.innerPaddedWidth]).padding(this.barIntervalRatio)}else if(this.layout==="horizontal"){this.x=linear().domain([Math.min(0,e),Math.max(0,n)]).range([0,this.innerPaddedWidth]);this.y=band().domain(this.preppedData.map((function(e){return e[t.ordinalAccessor]}))).range([0,this.innerPaddedHeight]).padding(this.barIntervalRatio)}};t.prototype.reSetRoot=function(){var t=prepareRenderChange({selection:this.svg,duration:this.duration,namespace:"root_reset",easing:circleIn});t.attr("width",this.width).attr("height",this.height).attr("viewBox","0 0 "+this.width+" "+this.height);var e=prepareRenderChange({selection:this.root,duration:this.duration,namespace:"root_reset",easing:circleIn});e.attr("transform","translate(".concat(this.margin.left,", ").concat(this.margin.top,")"));var n=prepareRenderChange({selection:this.rootG,duration:this.duration,namespace:"root_reset",easing:circleIn});n.attr("transform","translate(".concat(this.padding.left,", ").concat(this.padding.top,")"));setAccessibilityDescriptionWidth(this.chartID,this.width)};t.prototype.checkHideAxisState=function(t,e,n){return this[t].centerBaseline&&this.layout===e&&n>=0?true:!this[t].visible};t.prototype.drawXAxis=function(){var t=this;var e=this.layout==="vertical"?this.ordinalAccessor:this.valueAccessor;var n=this.xAxis.label||this.xAxis.label===""?this.xAxis.label:this.dataKeyNames&&this.dataKeyNames[e]?this.dataKeyNames[e]:this.xAxis.label;drawAxis({root:this.rootG,height:this.innerPaddedHeight,width:this.innerPaddedWidth,axisScale:this.x,left:false,wrapLabel:this.wrapLabel&&this.layout==="vertical"?this.innerPaddedWidth/this.data.length:"",format:this.xAxis.format,dateFormat:this.xAxis.format,tickInterval:this.xAxis.tickInterval,label:n,padding:this.padding,hide:this.checkHideAxisState("xAxis","horizontal",min(this.preppedData,(function(e){return e[t.valueAccessor]}))),duration:this.duration})};t.prototype.drawYAxis=function(){var t=this;var e=this.layout==="vertical"?this.valueAccessor:this.ordinalAccessor;var n=this.yAxis.label&&this.yAxis.label!==""?this.yAxis.label:this.dataKeyNames&&this.dataKeyNames[e]?this.dataKeyNames[e]:this.yAxis.label;drawAxis({root:this.rootG,height:this.innerPaddedHeight,width:this.innerPaddedWidth,axisScale:this.y,left:true,wrapLabel:this.wrapLabel?this.padding.left||100:"",format:this.yAxis.format,dateFormat:this.yAxis.format,tickInterval:this.yAxis.tickInterval,label:n,padding:this.padding,hide:this.checkHideAxisState("yAxis","vertical",min(this.preppedData,(function(e){return e[t.valueAccessor]}))),duration:this.duration})};t.prototype.drawBaseline=function(){var t=this;if(this.layout==="vertical"&&!this.shouldCenterBaseline()){drawAxis({root:this.rootG,height:this.innerPaddedHeight,width:this.innerPaddedWidth,axisScale:this.x,left:false,padding:this.padding,markOffset:this.y(0)||-1,duration:this.duration})}if(this.layout==="horizontal"){drawAxis({root:this.rootG,height:this.innerPaddedHeight,width:this.innerPaddedWidth,axisScale:this.y,left:true,padding:this.padding,markOffset:this.shouldCenterBaseline()?this.maxValueOverride&&this.maxValueOverride>max(this.preppedData,(function(e){return e[t.valueAccessor]}))?-halve(this.maxValueOverride):-halve(max(this.preppedData,(function(e){return e[t.valueAccessor]}))):this.minValueOverride&&this.minValueOverride<min(this.preppedData,(function(e){return e[t.valueAccessor]}))?this.minValueOverride:this.x(0)||-1,duration:this.duration})}};t.prototype.setXAxisAccessibility=function(){var t=this;var e=this.layout==="vertical"?this.ordinalAccessor:this.valueAccessor;var n=this.xAxis.label&&this.xAxis.label!==""?this.xAxis.label:this.dataKeyNames&&this.dataKeyNames[e]?this.dataKeyNames[e]:this.xAxis.label;setAccessXAxis({rootEle:this.barChartEl,hasXAxis:!this.checkHideAxisState("xAxis","horizontal",min(this.preppedData,(function(e){return e[t.valueAccessor]}))),xAxis:this.x?this.x:false,xAxisLabel:n?n:""})};t.prototype.setYAxisAccessibility=function(){var t=this;var e=this.layout==="vertical"?this.valueAccessor:this.ordinalAccessor;var n=this.yAxis.label&&this.yAxis.label!==""?this.yAxis.label:this.dataKeyNames&&this.dataKeyNames[e]?this.dataKeyNames[e]:this.yAxis.label;setAccessYAxis({rootEle:this.barChartEl,hasYAxis:!this.checkHideAxisState("yAxis","vertical",min(this.preppedData,(function(e){return e[t.valueAccessor]}))),yAxis:this.y?this.y:false,yAxisLabel:n?n:""})};t.prototype.drawXGrid=function(){drawGrid(this.gridG,this.innerPaddedHeight,this.innerPaddedWidth,this.x,false,this.shouldCenterBaseline()&&this.xAxis.gridVisible?!(this.layout==="vertical"):!(!(this.layout==="vertical")&&this.xAxis.gridVisible),this.xAxis.tickInterval,this.duration)};t.prototype.drawYGrid=function(){drawGrid(this.gridG,this.innerPaddedHeight,this.innerPaddedWidth,this.y,true,this.shouldCenterBaseline()&&this.yAxis.gridVisible?!(this.layout==="horizontal"):!(this.layout==="vertical"&&this.yAxis.gridVisible),this.yAxis.tickInterval,this.duration)};t.prototype.enterGeometries=function(){var t=this;this.enter.interrupt();var e=this.layout==="vertical"?"x":"y";var n=this.layout==="vertical"?"width":"height";var r="innerPadded"+n[0].toUpperCase()+n.substring(1);var i=this.layout==="vertical"?"y":"x";var a=this.layout==="vertical"?"height":"width";var o=this.layout==="vertical"?"max":"min";this.enter.attr("class","bar").on("click",!this.suppressEvents?function(e,n,r){return t.onClickHandler(e,r[n])}:null).on("mouseover",!this.suppressEvents?function(e,n,r){return t.onHoverHandler(e,r[n])}:null).on("mouseout",!this.suppressEvents?function(){return t.onMouseOutHandler()}:null).attr("cursor",!this.suppressEvents?this.cursor:null).attr("rx",this.roundedCorner).attr("ry",this.roundedCorner).attr("fill",(function(e){return t.clickHighlight&&t.clickHighlight.length>0&&checkClicked(e,t.clickHighlight,t.innerInteractionKeys)&&t.innerClickStyle.color?visaColors[t.innerClickStyle.color]||t.innerClickStyle.color:t.hoverHighlight&&checkHovered(e,t.hoverHighlight,t.innerInteractionKeys)&&t.innerHoverStyle.color?visaColors[t.innerHoverStyle.color]||t.innerHoverStyle.color:t.groupAccessor?t.colorArr(e[t.groupAccessor]):t.colorArr(e[t.valueAccessor])})).attr(i,(function(e){return t.shouldCenterBaseline()?t[i](halve(e[t.valueAccessor])*(t.layout==="vertical"?1:-1)):t[i](Math[o](0,e[t.valueAccessor]))})).attr(a,(function(e){return Math.abs(t.layout==="vertical"?t[i](0)-t[i](e[t.valueAccessor]):t[i](e[t.valueAccessor])-t[i](0))})).each((function(t,e,n){initializeElementAccess(n[e])}));if(this.defaults){this.enter.attr("opacity",(function(e){return checkInteraction(e,1,t.hoverOpacity,t.hoverHighlight,t.clickHighlight,t.innerInteractionKeys)})).attr(e,(function(n){return t[e](n[t.ordinalAccessor])})).attr(n,this[e].bandwidth())}else{this.enter.attr("opacity",0).attr(e,(function(n){var i=t[e](n[t.ordinalAccessor])+t[e].bandwidth()/2;i=t[e](n[t.ordinalAccessor])+t[e].bandwidth()/2*(i/(t[r]/2));return i})).attr(n,0)}this.update.order()};t.prototype.updateGeometries=function(){var t=this;this.update.interrupt();this.update.transition("opacity").duration(this.duration).ease(circleIn).attr("opacity",(function(e){return checkInteraction(e,1,t.hoverOpacity,t.hoverHighlight,t.clickHighlight,t.innerInteractionKeys)}))};t.prototype.exitGeometries=function(){var t=this;this.exit.interrupt();var e=this.layout==="vertical"?"x":"y";var n=this.layout==="vertical"?"width":"height";var r="innerPadded"+n[0].toUpperCase()+n.substring(1);this.exit.transition("exit").duration(this.duration).ease(circleIn).attr(e,(function(i,a,o){var s=select(o[a]);var u=+s.attr(e)+ +s.attr(n)/2;u=+s.attr(e)+ +s.attr(n)/2*(u/(t[r]/2));return u})).attr(n,0).attr("opacity",0);this.update.transition("accessibilityAfterExit").duration(this.duration).ease(circleIn).call(transitionEndAll,(function(){var e=checkAccessFocus(t.rootG.node());t.exit.remove();t.setChartCountAccessibility();t.setGroupAccessibilityID();t.setGeometryAriaLabels();retainAccessFocus({parentGNode:t.rootG.node(),focusDidExist:e})}))};t.prototype.drawGeometries=function(){var t=this;var e=this.layout==="vertical"?"x":"y";var n=this.layout==="vertical"?"width":"height";var r=this.layout==="vertical"?"y":"x";var i=this.layout==="vertical"?"height":"width";var a=this.layout==="vertical"?"max":"min";this.update.classed("geometryIsMoving",(function(o,s,u){var l=checkAttributeTransitions(select(u[s]),[{attr:e,numeric:true,newValue:t[e](o[t.ordinalAccessor])},{attr:n,numeric:true,newValue:t[e].bandwidth()},{attr:r,numeric:true,newValue:t.shouldCenterBaseline()?t[r](halve(o[t.valueAccessor])*(t.layout==="vertical"?1:-1)):t[r](Math[a](0,o[t.valueAccessor]))},{attr:i,numeric:true,newValue:Math.abs(t.layout==="vertical"?t[r](0)-t[r](o[t.valueAccessor]):t[r](o[t.valueAccessor])-t[r](0))}]);return l})).attr("data-translate-x",this.padding.left+this.margin.left).attr("data-translate-y",this.padding.top+this.margin.top).attr("data-".concat(e),(function(n){return t[e](n[t.ordinalAccessor])})).attr("data-".concat(n),this[e].bandwidth()).attr("data-".concat(r),(function(e){return t.shouldCenterBaseline()?t[r](halve(e[t.valueAccessor])*(t.layout==="vertical"?1:-1)):t[r](Math[a](0,e[t.valueAccessor]))})).attr("data-".concat(i),(function(e){return Math.abs(t.layout==="vertical"?t[r](0)-t[r](e[t.valueAccessor]):t[r](e[t.valueAccessor])-t[r](0))})).transition("update").duration(this.duration).ease(circleIn).attr(e,(function(n){return t[e](n[t.ordinalAccessor])})).attr(n,this[e].bandwidth()).attr(r,(function(e){return t.shouldCenterBaseline()?t[r](halve(e[t.valueAccessor])*(t.layout==="vertical"?1:-1)):t[r](Math[a](0,e[t.valueAccessor]))})).attr(i,(function(e){return Math.abs(t.layout==="vertical"?t[r](0)-t[r](e[t.valueAccessor]):t[r](e[t.valueAccessor])-t[r](0))})).call(transitionEndAll,(function(){t.update.classed("geometryIsMoving",false);t.updateInteractionState();t.checkLabelColorAgainstBackground();retainAccessFocus({parentGNode:t.rootG.node()});t.transitionEndEvent.emit({chartID:t.chartID})}))};t.prototype.setGlobalSelections=function(){var t=this;var e=this.bars.selectAll(".bar").data(this.preppedData,(function(e){return e[t.ordinalAccessor]}));this.enter=e.enter().append("rect");this.exit=e.exit();this.update=e.merge(this.enter);this.exitSize=this.exit.size();this.enterSize=this.enter.size();var n=this.labels.selectAll("text").data(this.preppedData,(function(e){return e[t.ordinalAccessor]}));this.enteringLabels=n.enter().append("text");this.exitingLabels=n.exit();this.updatingLabels=n.merge(this.enteringLabels)};t.prototype.setTestingAttributes=function(){var t=this;if(this.unitTest){select(this.barChartEl).select(".visa-viz-d3-bar-container").attr("data-testid","chart-container");select(this.barChartEl).select(".bar-main-title").attr("data-testid","main-title");select(this.barChartEl).select(".bar-sub-title").attr("data-testid","sub-title");this.svg.attr("data-testid","root-svg");this.root.attr("data-testid","margin-container");this.rootG.attr("data-testid","padding-container");this.legendG.attr("data-testid","legend-container");this.tooltipG.attr("data-testid","tooltip-container");this.bars.attr("data-testid","bar-group");this.labels.attr("data-testid","dataLabel-group");this.references.attr("data-testid","reference-line-group");this.svg.select("defs").attr("data-testid","pattern-defs");this.updatingLabels.attr("data-testid","dataLabel").attr("data-id",(function(e){return"label-".concat(e[t.ordinalAccessor])}));this.update.attr("data-testid","bar").attr("data-id",(function(e){return"bar-".concat(e[t.ordinalAccessor])}));this.references.selectAll(".bar-reference-line").attr("data-testid","reference-line");this.references.selectAll(".bar-reference-line-label").attr("data-testid","reference-line-label")}else{select(this.barChartEl).select(".visa-viz-d3-bar-container").attr("data-testid",null);select(this.barChartEl).select(".bar-main-title").attr("data-testid",null);select(this.barChartEl).select(".bar-sub-title").attr("data-testid",null);this.svg.attr("data-testid",null);this.root.attr("data-testid",null);this.rootG.attr("data-testid",null);this.legendG.attr("data-testid",null);this.tooltipG.attr("data-testid",null);this.bars.attr("data-testid",null);this.labels.attr("data-testid",null);this.references.attr("data-testid",null);this.svg.select("defs").attr("data-testid",null);this.updatingLabels.attr("data-testid",null).attr("data-id",null);this.update.attr("data-testid",null).attr("data-id",null);this.references.selectAll(".bar-reference-line").attr("data-testid",null);this.references.selectAll(".bar-reference-line-label").attr("data-testid",null)}};t.prototype.renderRootElements=function(){this.svg=select(this.barChartEl).select(".visa-viz-d3-bar-container").append("svg").attr("width",this.width).attr("height",this.height).attr("viewBox","0 0 "+this.width+" "+this.height);this.root=this.svg.append("g").attr("id","visa-viz-margin-container-g-"+this.chartID);this.rootG=this.root.append("g").attr("id","visa-viz-padding-container-g-"+this.chartID);this.gridG=this.rootG.append("g").attr("class","grid-group");this.bars=this.rootG.append("g").attr("class","bar-group");this.labels=this.rootG.append("g").attr("class","bar-dataLabel-group");this.legendG=select(this.barChartEl).select(".bar-legend").append("svg");this.tooltipG=select(this.barChartEl).select(".bar-tooltip");this.references=this.rootG.append("g").attr("class","bar-reference-line-group")};t.prototype.setRoundedCorners=function(){this.update.transition("corners").duration(this.duration).ease(circleIn).attr("rx",this.roundedCorner).attr("ry",this.roundedCorner)};t.prototype.validateClickStyle=function(){this.innerClickStyle=this.clickStyle?this.clickStyle:{strokeWidth:2}};t.prototype.validateHoverStyle=function(){this.innerHoverStyle=this.hoverStyle?this.hoverStyle:{strokeWidth:2}};t.prototype.updateInteractionState=function(){var t=this;removeHoverStrokes(this.svg.node());this.update.interrupt("opacity");this.update.attr("opacity",(function(e){return checkInteraction(e,1,t.hoverOpacity,t.hoverHighlight,t.clickHighlight,t.innerInteractionKeys)})).attr("fill",(function(e){return t.clickHighlight&&t.clickHighlight.length>0&&checkClicked(e,t.clickHighlight,t.innerInteractionKeys)&&t.innerClickStyle.color?visaColors[t.innerClickStyle.color]||t.innerClickStyle.color:t.hoverHighlight&&checkHovered(e,t.hoverHighlight,t.innerInteractionKeys)&&t.innerHoverStyle.color?visaColors[t.innerHoverStyle.color]||t.innerHoverStyle.color:t.groupAccessor?t.colorArr(e[t.groupAccessor]):t.colorArr(e[t.valueAccessor])})).attr("filter",(function(e,n,r){if(!t.accessibility.hideStrokes&&!select(r[n]).classed("geometryIsMoving")){var i=t.preparedColors.range?t.preparedColors.range():t.preparedColors;var a=t.groupAccessor||i.length===1?"categorical":t.colorPalette&&t.colorPalette.includes("diverging")?"diverging":"sequential";var o=!t.accessibility.hideTextures&&a!=="categorical"&&t.accessibility.showExperimentalTextures?"fillColors":"preparedColors";var s=t.clickHighlight&&t.clickHighlight.length>0&&checkClicked(e,t.clickHighlight,t.innerInteractionKeys);var u=t.hoverHighlight&&checkHovered(e,t.hoverHighlight,t.innerInteractionKeys);var l=t.groupAccessor?t[o](e[t.groupAccessor]):t[o](e[t.valueAccessor]);var c=s?"click":u&&!select(r[n]).classed("geometryIsMoving")?"hover":"rest";var f=s&&t.innerClickStyle.color?visaColors[t.innerClickStyle.color]||t.innerClickStyle.color:s?l:u&&t.innerHoverStyle.color?visaColors[t.innerHoverStyle.color]||t.innerHoverStyle.color:l;var h=!t.accessibility.hideTextures&&a!=="categorical"&&t.accessibility.showExperimentalTextures&&f===l?t.strokeColors(e[t.groupAccessor||t.valueAccessor]):undefined;if(c==="hover"){drawHoverStrokes({inputElement:r[n],id:t.chartID,key:e[t.ordinalAccessor],strokeWidth:t.innerHoverStyle.strokeWidth,fill:f,strokeOverride:h})}return t.strokes[c+f]}return null}));retainAccessFocus({parentGNode:this.rootG.node()});setLegendInteractionState({root:this.legendG,uniqueID:this.chartID,interactionKeys:this.innerInteractionKeys,groupAccessor:this.groupAccessor,hoverHighlight:this.hoverHighlight,clickHighlight:this.clickHighlight,hoverStyle:this.innerHoverStyle,clickStyle:this.innerClickStyle,hoverOpacity:this.hoverOpacity});this.updatingLabels.interrupt("opacity");var e=this.placement==="auto"||this.dataLabel.collisionHideOnly;var n=this.placement!=="auto"&&this.dataLabel.collisionHideOnly;this.processLabelOpacity(this.updatingLabels,e);if(e){var r=this.updatingLabels.filter((function(t,e,n){return select(n[e]).classed("collision-added")}));var i=this.updatingLabels.filter((function(t,e,n){return select(n[e]).classed("collision-removed")})).attr("data-use-dx",n).attr("data-use-dy",n);if(i.size()>0){this.bitmaps=resolveLabelCollision({bitmaps:this.bitmaps,labelSelection:i,avoidMarks:[],validPositions:["middle"],offsets:[1],accessors:["key"],size:[roundTo(this.width,0),roundTo(this.height,0)],hideOnly:false,removeOnly:true});i.classed("collision-removed",false)}if(r.size()>0){this.processLabelPosition(r,false,false,true);r.classed("collision-added",false)}}};t.prototype.setLabelOpacity=function(){this.processLabelOpacity(this.updatingLabels)};t.prototype.processLabelOpacity=function(t,e){var n=this;var r=this.dataLabel.visible?1:0;var i=this.layout==="vertical"?"x":"y";var a=this.layout==="vertical"?"width":"height";var o=this.layout==="vertical"?"y":"x";var s=this.layout==="vertical"?"height":"width";var u=this.layout==="vertical"?this.innerPaddedWidth/this.data.length:this.innerPaddedHeight/this.data.length;t.attr("opacity",(function(t,l,c){var f=+select(c[l]).attr("opacity");var h=select(c[l]).style("visibility");var d={};d[a]=n.placement==="left"||n.placement==="bottom"?n[i].bandwidth():u;if(n.placement==="left"||n.placement==="bottom"){d[s]=Math.abs(n.layout==="vertical"?n[o](0)-n[o](t[n.valueAccessor]):n[o](t[n.valueAccessor])-n[o](0))}var p=n.placement==="auto"||n.dataLabel.collisionHideOnly||n.accessibility.showSmallLabels||verifyTextHasSpace({text:formatDataLabel(t,n.innerLabelAccessor,n.dataLabel.format),dimensions:d,fontSize:14});var v=p?checkInteraction(t,r,n.hoverOpacity,n.hoverHighlight,n.clickHighlight,n.innerInteractionKeys)<1?0:1:0;if((v===1&&h==="hidden"||f!==v)&&e){if(v===1){select(c[l]).classed("collision-added",true).style("visibility",null)}else{select(c[l]).classed("collision-removed",true)}}return v}))};t.prototype.checkLabelColorAgainstBackground=function(){this.updatingLabels.attr("fill",this.textTreatmentHandler)};t.prototype.setSelectedClass=function(){var t=this;this.update.classed("highlight",(function(e){var n=checkInteraction(e,true,false,"",t.clickHighlight,t.innerInteractionKeys);return t.clickHighlight&&t.clickHighlight.length?n:false})).each((function(e,n,r){var i=checkInteraction(e,true,false,"",t.clickHighlight,t.innerInteractionKeys);i=t.clickHighlight&&t.clickHighlight.length?i:false;var a=t.accessibility.elementsAreInterface;setElementInteractionAccessState(r[n],i,a)}))};t.prototype.updateCursor=function(){this.update.attr("cursor",!this.suppressEvents?this.cursor:null);this.updatingLabels.attr("cursor",!this.suppressEvents?this.cursor:null)};t.prototype.bindLegendInteractivity=function(){var t=this;select(this.barChartEl).selectAll(".legend").on("click",this.legend.interactive&&!this.suppressEvents?function(e,n,r){return t.onClickHandler(e,r[n])}:null).on("mouseover",this.legend.interactive&&!this.suppressEvents?function(e,n,r){return t.onHoverHandler(e,r[n],true)}:null).on("mouseout",this.legend.interactive&&!this.suppressEvents?function(){return t.onMouseOutHandler()}:null)};t.prototype.setLegendCursor=function(){select(this.barChartEl).selectAll(".legend").style("cursor",this.legend.interactive&&!this.suppressEvents?this.cursor:null)};t.prototype.bindInteractivity=function(){var t=this;this.update.on("click",!this.suppressEvents?function(e,n,r){return t.onClickHandler(e,r[n])}:null).on("mouseover",!this.suppressEvents?function(e,n,r){return t.onHoverHandler(e,r[n])}:null).on("mouseout",!this.suppressEvents?function(){return t.onMouseOutHandler()}:null);this.updatingLabels.on("click",!this.suppressEvents?function(e,n,r){return t.onClickHandler(e,r[n])}:null).on("mouseover",!this.suppressEvents?function(e,n,r){return t.onHoverHandler(e,r[n])}:null).on("mouseout",!this.suppressEvents?function(){return t.onMouseOutHandler()}:null)};t.prototype.enterLabels=function(){var t=this;var e=this.dataLabel.visible?1:0;this.enteringLabels.attr("opacity",(function(n){return checkInteraction(n,e,t.hoverOpacity,t.hoverHighlight,t.clickHighlight,t.innerInteractionKeys)<1?0:Number.EPSILON})).attr("class","bar-dataLabel entering").attr("fill",this.textTreatmentHandler).attr("cursor",!this.suppressEvents?this.cursor:null).on("click",!this.suppressEvents?function(e,n,r){return t.onClickHandler(e,r[n])}:null).on("mouseover",!this.suppressEvents?function(e,n,r){return t.onHoverHandler(e,r[n])}:null).on("mouseout",!this.suppressEvents?function(){return t.onMouseOutHandler()}:null)};t.prototype.updateLabels=function(){var t=this.updatingLabels.transition("opacity").ease(circleIn).duration(this.duration);this.processLabelOpacity(t)};t.prototype.exitLabels=function(){this.exitingLabels.transition("exit").ease(circleIn).duration(this.duration/2).attr("opacity",0).remove()};t.prototype.setLabelContent=function(){var t=this;this.updatingLabels.text((function(e){return formatDataLabel(e,t.innerLabelAccessor,t.dataLabel.format)}))};t.prototype.setLabelPosition=function(){var t=this.enteringLabels.filter((function(t,e,n){return select(n[e]).classed("entering")}));var e=this.updatingLabels.filter((function(t,e,n){return!select(n[e]).classed("entering")}));if(t.size()>0){this.processLabelPosition(t,false,true,false);this.processLabelPosition(e,true,false,true)}else{this.processLabelPosition(e,true,true,false)}};t.prototype.processLabelPosition=function(t,e,n,r){var i=this;var a=this.layout==="vertical"?"x":"y";var o=this.layout==="vertical"?"width":"height";var s=this.layout==="vertical"?"y":"x";var u=this.layout==="vertical"?"height":"width";var l=this.layout==="vertical"?"max":"min";var c=15;var f=this.placement!=="auto"&&this.dataLabel.collisionHideOnly;var h={vertical:{top:{validPositions:["top","bottom"],offsets:[5,1]},middle:{validPositions:["middle","top"],offsets:[1,c/2]},bottom:{validPositions:["middle","top"],offsets:[1,c/2]}},horizontal:{right:{validPositions:["right","left"],offsets:[4,8]},middle:{validPositions:["middle","right"],offsets:[1,15]},left:{validPositions:["left","right"],offsets:[4,20]}}};var d=this.dataLabel&&this.dataLabel.collisionPlacement;var p=d&&h[this.layout][d]?this.dataLabel.collisionPlacement:this.layout==="vertical"?"top":"right";t.style("visibility",(function(t,e,n){if(e===0){var r=n[e];var a=getComputedStyle(r);var o=parseFloat(a.fontSize);c=Math.max(o-1,1)}return i.placement==="auto"||i.dataLabel.collisionHideOnly?select(n[e]).style("visibility"):null})).attr("data-".concat(a),(function(t){return i[a](t[i.ordinalAccessor])})).attr("data-".concat(o),this[a].bandwidth()).attr("data-".concat(s),(function(t){return i.shouldCenterBaseline()?i[s](halve(t[i.valueAccessor])*(i.layout==="vertical"?1:-1)):i[s](Math[l](0,t[i.valueAccessor]))})).attr("data-".concat(u),(function(t){return Math.abs(i.layout==="vertical"?i[s](0)-i[s](t[i.valueAccessor]):i[s](t[i.valueAccessor])-i[s](0))})).attr("data-translate-x",this.padding.left+this.margin.left).attr("data-translate-y",this.padding.top+this.margin.top);var v=prepareRenderChange({selection:t,duration:!e?0:this.duration,namespace:"position-labels",easing:circleIn});this.bitmaps=placeDataLabels({root:v,xScale:this.x,yScale:this.y,ordinalAccessor:this.ordinalAccessor,valueAccessor:this.valueAccessor,placement:this.placement,layout:this.layout,labelOffset:this.shouldCenterBaseline()?halve(1):undefined,chartType:"bar",avoidCollision:{runOccupancyBitmap:this.dataLabel.visible&&this.placement==="auto",bitmaps:!n?this.bitmaps:undefined,labelSelection:v,avoidMarks:[this.update],validPositions:f?["middle"]:h[this.layout][p].validPositions,offsets:f?[1]:h[this.layout][p].offsets,accessors:[this.ordinalAccessor,this.groupAccessor],size:[roundTo(this.width,0),roundTo(this.height,0)],boundsScope:f?undefined:p,hideOnly:this.dataLabel.visible&&this.dataLabel.collisionHideOnly,suppressMarkDraw:r}})};t.prototype.drawReferenceLines=function(){var t=this;var e=this.references.selectAll("g").data(this.referenceLines,(function(t){return t.label}));var n=e.enter().append("g").attr("class","bar-reference").attr("opacity",1);var r=n.append("line");r.attr("class","bar-reference-line").attr("opacity",0);var i=n.append("text");i.attr("class","bar-reference-line-label").attr("opacity",0);var a=e.merge(n);var o=a.selectAll(".bar-reference-line").data((function(t){return[t]})).transition("merge").ease(circleIn).duration(this.duration);var s=a.selectAll(".bar-reference-line-label").data((function(t){return[t]})).transition("merge").ease(circleIn).duration(this.duration).text((function(t){return t.label}));var u=e.exit();u.transition("exit").ease(circleIn).duration(this.duration).attr("opacity",0).remove();if(this.layout==="vertical"){n.attr("transform",(function(e){return"translate(0,"+t.y(e.value)+")"}));a.transition("merge").ease(circleIn).duration(this.duration).attr("transform",(function(e){return"translate(0,"+t.y(e.value)+")"}));r.attr("x1",0).attr("y1",0).attr("y2",0).attr("x2",this.innerPaddedWidth);i.attr("text-anchor",(function(t){return(t.labelPlacementHorizontal||"right")==="right"?"start":"end"})).attr("x",(function(e){return(e.labelPlacementHorizontal||"right")==="right"?t.innerPaddedWidth:0})).attr("y",0).attr("dx",(function(t){return(t.labelPlacementHorizontal||"right")==="right"?"0.1em":"-0.1em"})).attr("dy","0.3em");o.attr("x1",0).attr("y1",0).attr("y2",0).attr("x2",this.innerPaddedWidth);s.attr("text-anchor",(function(t){return(t.labelPlacementHorizontal||"right")==="right"?"start":"end"})).attr("x",(function(e){return(e.labelPlacementHorizontal||"right")==="right"?t.innerPaddedWidth:0})).attr("y",0).attr("dx",(function(t){return(t.labelPlacementHorizontal||"right")==="right"?"0.1em":"-0.1em"})).attr("dy","0.3em")}else if(this.layout==="horizontal"){n.attr("transform",(function(e){return"translate("+t.x(e.value)+",0)"}));a.transition("merge").ease(circleIn).duration(this.duration).attr("transform",(function(e){return"translate("+t.x(e.value)+",0)"}));r.attr("x1",0).attr("y1",this.innerPaddedHeight).attr("x2",0).attr("y2",0);o.attr("x1",0).attr("y1",this.innerPaddedHeight).attr("x2",0).attr("y2",0);i.attr("text-anchor","middle").attr("x",0).attr("y",(function(e){return(e.labelPlacementVertical||"top")==="top"?0:t.innerPaddedHeight})).attr("dx",0).attr("dy",(function(t){return(t.labelPlacementVertical||"top")==="top"?"-0.3em":"1em"}));s.attr("text-anchor","middle").attr("x",0).attr("y",(function(e){return(e.labelPlacementVertical||"top")==="top"?0:t.innerPaddedHeight})).attr("dx",0).attr("dy",(function(t){return(t.labelPlacementVertical||"top")==="top"?"-0.3em":"1em"}))}o.style("stroke",visaColors[this.referenceStyle.color]||this.referenceStyle.color).style("stroke-width",this.referenceStyle.strokeWidth).attr("stroke-dasharray",this.referenceStyle.dashed?this.referenceStyle.dashed:"").attr("opacity",this.referenceStyle.opacity);s.style("fill",visaColors[this.referenceStyle.color]||this.referenceStyle.color).attr("opacity",1)};t.prototype.drawLegendElements=function(){drawLegend({root:this.legendG,uniqueID:this.chartID,width:this.innerPaddedWidth,height:this.margin.top+20,colorArr:this.colorArr,baseColorArr:this.preparedColors,hideStrokes:this.accessibility.hideStrokes,margin:this.margin,padding:this.padding,duration:this.duration,type:"bar",fontSize:16,data:this.legendData,labelKey:this.groupAccessor,label:this.legend.labels,format:this.legend.format,hide:!this.legend.visible||!this.groupAccessor,interactionKeys:this.innerInteractionKeys,groupAccessor:this.groupAccessor,hoverHighlight:this.hoverHighlight,clickHighlight:this.clickHighlight,hoverStyle:this.innerHoverStyle,clickStyle:this.innerClickStyle,hoverOpacity:this.hoverOpacity})};t.prototype.drawAnnotations=function(){annotate({source:this.rootG.node(),data:this.annotations,xScale:this.x,xAccessor:this.layout!=="horizontal"?this.ordinalAccessor:this.valueAccessor,yScale:this.y,yAccessor:this.layout!=="horizontal"?this.valueAccessor:this.ordinalAccessor,width:this.width,height:this.height,padding:this.padding,margin:this.margin,bitmaps:this.bitmaps})};t.prototype.setAnnotationAccessibility=function(){setAccessAnnotation(this.barChartEl,this.annotations)};t.prototype.setChartDescriptionWrapper=function(){initializeDescriptionRoot({rootEle:this.barChartEl,title:this.accessibility.title||this.mainTitle,chartTag:"bar-chart",uniqueID:this.chartID,highestHeadingLevel:this.highestHeadingLevel,redraw:this.shouldRedrawWrapper,disableKeyNav:this.suppressEvents&&this.accessibility.elementsAreInterface===false&&this.accessibility.keyboardNavConfig&&this.accessibility.keyboardNavConfig.disabled});this.shouldRedrawWrapper=false};t.prototype.setParentSVGAccessibility=function(){setAccessibilityController({node:this.svg.node(),chartTag:"bar-chart",title:this.accessibility.title||this.mainTitle,description:this.subTitle,uniqueID:this.chartID,geomType:"bar",includeKeyNames:this.accessibility.includeDataKeyNames,dataKeys:scopeDataKeys(this,chartAccessors,"bar-chart"),dataKeyNames:this.dataKeyNames,groupAccessor:this.groupAccessor,disableKeyNav:this.suppressEvents&&this.accessibility.elementsAreInterface===false&&this.accessibility.keyboardNavConfig&&this.accessibility.keyboardNavConfig.disabled})};t.prototype.setGeometryAccessibilityAttributes=function(){this.update.each((function(t,e,n){initializeElementAccess(n[e])}))};t.prototype.setGeometryAriaLabels=function(){var t=this;var e=scopeDataKeys(this,chartAccessors,"bar-chart");this.update.each((function(n,r,i){setElementFocusHandler({node:i[r],geomType:"bar",includeKeyNames:t.accessibility.includeDataKeyNames,dataKeys:e,dataKeyNames:t.dataKeyNames,uniqueID:t.chartID,disableKeyNav:t.suppressEvents&&t.accessibility.elementsAreInterface===false&&t.accessibility.keyboardNavConfig&&t.accessibility.keyboardNavConfig.disabled});setElementAccessID({node:i[r],uniqueID:t.chartID})}))};t.prototype.setGroupAccessibilityAttributes=function(){initializeElementAccess(this.bars.node())};t.prototype.setGroupAccessibilityID=function(){var t=this;this.bars.each((function(e,n,r){setElementAccessID({node:r[n],uniqueID:t.chartID})}))};t.prototype.setChartAccessibilityTitle=function(){setAccessTitle(this.barChartEl,this.accessibility.title||this.mainTitle)};t.prototype.setChartAccessibilitySubtitle=function(){setAccessSubtitle(this.barChartEl,this.subTitle)};t.prototype.setChartAccessibilityLongDescription=function(){setAccessLongDescription(this.barChartEl,this.accessibility.longDescription)};t.prototype.setChartAccessibilityExecutiveSummary=function(){setAccessExecutiveSummary(this.barChartEl,this.accessibility.executiveSummary)};t.prototype.setChartAccessibilityPurpose=function(){setAccessPurpose(this.barChartEl,this.accessibility.purpose)};t.prototype.setChartAccessibilityContext=function(){setAccessContext(this.barChartEl,this.accessibility.contextExplanation)};t.prototype.setChartAccessibilityStatisticalNotes=function(){setAccessStatistics(this.barChartEl,this.accessibility.statisticalNotes)};t.prototype.setChartCountAccessibility=function(){setAccessChartCounts({rootEle:this.barChartEl,parentGNode:this.bars.node(),chartTag:"bar-chart",geomType:"bar"})};t.prototype.setChartAccessibilityStructureNotes=function(){setAccessStructure(this.barChartEl,this.accessibility.structureNotes)};t.prototype.onChangeHandler=function(){if(this.accessibility&&typeof this.accessibility.onChangeFunc==="function"){var t={updated:this.updated,added:this.enterSize,removed:this.exitSize};this.accessibility.onChangeFunc(t)}this.updated=false;this.enterSize=0;this.exitSize=0};t.prototype.onClickHandler=function(t,e){this.clickEvent.emit({data:t,target:e})};t.prototype.onHoverHandler=function(t,e,n){overrideTitleTooltip(this.chartID,true);this.hoverEvent.emit({data:t,target:e});if(this.showTooltip&&!n){this.eventsTooltip({data:t,evt:event,isToShow:true})}};t.prototype.onMouseOutHandler=function(){overrideTitleTooltip(this.chartID,false);this.mouseOutEvent.emit();if(this.showTooltip){this.eventsTooltip({isToShow:false})}};t.prototype.setTooltipInitialStyle=function(){initTooltipStyle(this.tooltipG)};t.prototype.eventsTooltip=function(t){var e=t.data,n=t.evt,r=t.isToShow;drawTooltip({root:this.tooltipG,data:e,event:n,isToShow:r,tooltipLabel:this.tooltipLabel,dataKeyNames:this.dataKeyNames,xAxis:this.xAxis,yAxis:this.yAxis,dataLabel:this.dataLabel,layout:this.layout,ordinalAccessor:this.ordinalAccessor,valueAccessor:this.valueAccessor,groupAccessor:this.groupAccessor,chartType:"bar"})};t.prototype.render=function(){this.drawStartEvent.emit({chartID:this.chartID});var t="light";this.init();if(this.shouldSetTagLevels){this.setTagLevels();this.shouldSetTagLevels=false}if(this.shouldCheckValueAxis){if(this.layout==="horizontal"){this.shouldUpdateXAxis=true;this.shouldSetXAxisAccessibility=true;this.shouldUpdateXGrid=true}else if(this.layout==="vertical"){this.shouldUpdateYAxis=true;this.shouldSetYAxisAccessibility=true;this.shouldUpdateYGrid=true}this.shouldCheckValueAxis=false}if(this.shouldCheckLabelAxis){if(this.layout==="vertical"){this.shouldUpdateXAxis=true;this.shouldSetXAxisAccessibility=true}else if(this.layout==="horizontal"){this.shouldUpdateYAxis=true;this.shouldSetYAxisAccessibility=true}this.shouldCheckLabelAxis=false}if(this.shouldUpdateData){this.prepareData();this.shouldUpdateData=false}if(this.shouldUpdateLegendData){this.prepareLegendData();this.shouldUpdateLegendData=false}if(this.shouldUpdateLayoutVariables){this.updateChartVariable();this.shouldUpdateLayoutVariables=false}if(this.shouldUpdateScales){this.prepareScales();this.shouldUpdateScales=false}if(this.shouldValidateInteractionKeys){this.validateInteractionKeys();this.shouldValidateInteractionKeys=false}if(this.shouldUpdateTableData){this.setTableData();this.shouldUpdateTableData=false}if(this.shouldValidate){this.shouldValidateAccessibilityProps();this.shouldValidate=false}if(this.shouldValidateClickStyle){this.validateClickStyle();this.shouldValidateClickStyle=false}if(this.shouldValidateHoverStyle){this.validateHoverStyle();this.shouldValidateHoverStyle=false}if(this.shouldValidateDataLabelAccessor){this.validateDataLabelAccessor();this.shouldValidateDataLabelAccessor=false}if(this.shouldSetColors){this.setColors();this.shouldSetColors=false}if(this.shouldValidateLabelPlacement){this.validateLabelPlacement();this.shouldValidateLabelPlacement=false}return h("div",{class:"o-layout is--".concat(this.layout," ").concat(t)},h("div",{class:"o-layout--chart"},h(this.topLevel,{class:"bar-main-title vcl-main-title"},this.mainTitle),h(this.bottomLevel,{class:"visa-ui-text--instructions bar-sub-title vcl-sub-title"},this.subTitle),h("div",{class:"bar-legend vcl-legend",style:{display:this.legend.visible&&this.groupAccessor?"block":"none"}}),h("keyboard-instructions",{uniqueID:this.chartID,geomType:"bar",groupName:"bar group",chartTag:"bar-chart",width:this.width-(this.margin?this.margin.right||0:0),isInteractive:this.accessibility.elementsAreInterface,hasCousinNavigation:this.groupAccessor?true:false,disabled:this.suppressEvents&&this.accessibility.elementsAreInterface===false&&this.accessibility.keyboardNavConfig&&this.accessibility.keyboardNavConfig.disabled}),h("div",{class:"visa-viz-d3-bar-container"}),h("div",{class:"bar-tooltip vcl-tooltip",style:{display:this.showTooltip?"block":"none"}}),h("data-table",{uniqueID:this.chartID,isCompact:true,tableColumns:this.tableColumns,dataKeyNames:this.dataKeyNames,data:this.tableData,padding:this.padding,margin:this.margin,hideDataTable:this.accessibility.hideDataTableButton,unitTest:this.unitTest})))};t.prototype.init=function(){var t=Object.keys(BarChartDefaultValues);var e=0;var n={showTooltip:{exception:false},mainTitle:{exception:""},subTitle:{exception:""},barIntervalRatio:{exception:0},wrapLabel:{exception:false},hoverOpacity:{exception:0}};for(e=0;e<t.length;e++){var r=!n[t[e]]?false:this[t[e]]===n[t[e]].exception;this[t[e]]=this[t[e]]||r?this[t[e]]:BarChartDefaultValues[t[e]]}};Object.defineProperty(t.prototype,"barChartEl",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{data:["dataWatcher"],sortOrder:["sortWatcher"],groupAccessor:["groupAccessorWatcher"],ordinalAccessor:["ordinalAccessorWatcher"],valueAccessor:["valueAccessorWatcher"],maxValueOverride:["valueOverrideWatcher"],minValueOverride:["valueOverrideWatcher"],highestHeadingLevel:["headingWatcher"],mainTitle:["titleWatcher"],subTitle:["subtitleWatcher"],xAxis:["xAxisWatcher"],yAxis:["yAxisWatcher"],wrapLabel:["wrapLabelWatcher"],colors:["colorsWatcher"],colorPalette:["colorsWatcher"],layout:["layoutWatcher"],height:["dimensionWatcher"],width:["dimensionWatcher"],padding:["dimensionWatcher"],margin:["dimensionWatcher"],roundedCorner:["cornerWatcher"],barIntervalRatio:["intervalRatioWatcher"],dataLabel:["labelWatcher"],legend:["legendWatcher"],referenceLines:["referenceWatcher"],referenceStyle:["referenceWatcher"],tooltipLabel:["tooltipLabelWatcher"],showTooltip:["showTooltipWatcher"],hoverOpacity:["hoverOpacityWatcher"],clickStyle:["clickStyleWatcher"],hoverStyle:["hoverStyleWatcher"],clickHighlight:["clickWatcher"],hoverHighlight:["hoverWatcher"],interactionKeys:["interactionWatcher"],dataKeyNames:["dataKeyNamesWatcher"],cursor:["cursorWatcher"],accessibility:["accessibilityWatcher"],annotations:["annotationsWatcher"],uniqueID:["idWatcher"],suppressEvents:["suppressWatcher"],unitTest:["unitTestWatcher"]}},enumerable:false,configurable:true});return t}();window["VisaChartsLibOSSLicenses"]=getLicenses();BarChart.style=barChartCss;export{BarChart as bar_chart};