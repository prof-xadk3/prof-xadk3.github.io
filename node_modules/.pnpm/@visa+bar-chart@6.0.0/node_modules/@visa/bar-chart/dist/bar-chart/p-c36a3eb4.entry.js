import{r as t,c as n,h as r,g as i}from"./p-dcd81849.js";var e="http://www.w3.org/1999/xhtml";const o={svg:"http://www.w3.org/2000/svg",xhtml:e,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function u(t){var n=t+="",r=n.indexOf(":");return r>=0&&"xmlns"!==(n=t.slice(0,r))&&(t=t.slice(r+1)),o.hasOwnProperty(n)?{space:o[n],local:t}:t}function a(t){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===e&&n.documentElement.namespaceURI===e?n.createElement(t):n.createElementNS(r,t)}}function s(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function c(t){var n=u(t);return(n.local?s:a)(n)}function f(){}function h(t){return null==t?f:function(){return this.querySelector(t)}}function l(){return[]}function d(t){return null==t?l:function(){return this.querySelectorAll(t)}}function v(t){return function(){return this.matches(t)}}function p(t){return new Array(t.length)}function b(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function m(t,n,r,i,e,o){for(var u,a=0,s=n.length,c=o.length;a<c;++a)(u=n[a])?(u.__data__=o[a],i[a]=u):r[a]=new b(t,o[a]);for(;a<s;++a)(u=n[a])&&(e[a]=u)}function y(t,n,r,i,e,o,u){var a,s,c,f={},h=n.length,l=o.length,d=new Array(h);for(a=0;a<h;++a)(s=n[a])&&(d[a]=c="$"+u.call(s,s.__data__,a,n),c in f?e[a]=s:f[c]=s);for(a=0;a<l;++a)(s=f[c="$"+u.call(t,o[a],a,o)])?(i[a]=s,s.__data__=o[a],f[c]=null):r[a]=new b(t,o[a]);for(a=0;a<h;++a)(s=n[a])&&f[d[a]]===s&&(e[a]=s)}function w(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function g(t){return function(){this.removeAttribute(t)}}function M(t){return function(){this.removeAttributeNS(t.space,t.local)}}function L(t,n){return function(){this.setAttribute(t,n)}}function A(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function N(t,n){return function(){var r=n.apply(this,arguments);null==r?this.removeAttribute(t):this.setAttribute(t,r)}}function E(t,n){return function(){var r=n.apply(this,arguments);null==r?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function k(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function x(t){return function(){this.style.removeProperty(t)}}function T(t,n,r){return function(){this.style.setProperty(t,n,r)}}function S(t,n,r){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,r)}}function O(t,n){return t.style.getPropertyValue(n)||k(t).getComputedStyle(t,null).getPropertyValue(n)}function I(t){return function(){delete this[t]}}function R(t,n){return function(){this[t]=n}}function C(t,n){return function(){var r=n.apply(this,arguments);null==r?delete this[t]:this[t]=r}}function D(t){return t.trim().split(/^|\s+/)}function F(t){return t.classList||new H(t)}function H(t){this._node=t,this._names=D(t.getAttribute("class")||"")}function W(t,n){for(var r=F(t),i=-1,e=n.length;++i<e;)r.add(n[i])}function j(t,n){for(var r=F(t),i=-1,e=n.length;++i<e;)r.remove(n[i])}function _(t){return function(){W(this,t)}}function U(t){return function(){j(this,t)}}function P(t,n){return function(){(n.apply(this,arguments)?W:j)(this,t)}}function B(){this.textContent=""}function Y(t){return function(){this.textContent=t}}function z(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function V(){this.innerHTML=""}function G(t){return function(){this.innerHTML=t}}function q(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function $(){this.nextSibling&&this.parentNode.appendChild(this)}function Z(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function X(){return null}function K(){var t=this.parentNode;t&&t.removeChild(this)}function J(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Q(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}b.prototype={constructor:b,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},H.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var tt={},nt=null;function rt(t,n,r){return t=it(t,n,r),function(n){var r=n.relatedTarget;r&&(r===this||8&r.compareDocumentPosition(this))||t.call(this,n)}}function it(t,n,r){return function(i){var e=nt;nt=i;try{t.call(this,this.__data__,n,r)}finally{nt=e}}}function et(t){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}}))}function ot(t){return function(){var n=this.__on;if(n){for(var r,i=0,e=-1,o=n.length;i<o;++i)r=n[i],t.type&&r.type!==t.type||r.name!==t.name?n[++e]=r:this.removeEventListener(r.type,r.listener,r.capture);++e?n.length=e:delete this.__on}}}function ut(t,n,r){var i=tt.hasOwnProperty(t.type)?rt:it;return function(e,o,u){var a,s=this.__on,c=i(n,o,u);if(s)for(var f=0,h=s.length;f<h;++f)if((a=s[f]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=r),void(a.value=n);this.addEventListener(t.type,c,r),a={type:t.type,name:t.name,value:n,listener:c,capture:r},s?s.push(a):this.__on=[a]}}function at(t,n,r){var i=k(t),e=i.CustomEvent;"function"==typeof e?e=new e(n,r):(e=i.document.createEvent("Event"),r?(e.initEvent(n,r.bubbles,r.cancelable),e.detail=r.detail):e.initEvent(n,!1,!1)),t.dispatchEvent(e)}function st(t,n){return function(){return at(this,t,n)}}function ct(t,n){return function(){return at(this,t,n.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(tt={mouseenter:"mouseover",mouseleave:"mouseout"}));var ft=[null];function ht(t,n){this._groups=t,this._parents=n}function lt(){return new ht([[document.documentElement]],ft)}function dt(t){return"string"==typeof t?new ht([[document.querySelector(t)]],[document.documentElement]):new ht([[t]],ft)}function vt(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}ht.prototype=lt.prototype={constructor:ht,select:function(t){"function"!=typeof t&&(t=h(t));for(var n=this._groups,r=n.length,i=new Array(r),e=0;e<r;++e)for(var o,u,a=n[e],s=a.length,c=i[e]=new Array(s),f=0;f<s;++f)(o=a[f])&&(u=t.call(o,o.__data__,f,a))&&("__data__"in o&&(u.__data__=o.__data__),c[f]=u);return new ht(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=d(t));for(var n=this._groups,r=n.length,i=[],e=[],o=0;o<r;++o)for(var u,a=n[o],s=a.length,c=0;c<s;++c)(u=a[c])&&(i.push(t.call(u,u.__data__,c,a)),e.push(u));return new ht(i,e)},filter:function(t){"function"!=typeof t&&(t=v(t));for(var n=this._groups,r=n.length,i=new Array(r),e=0;e<r;++e)for(var o,u=n[e],a=u.length,s=i[e]=[],c=0;c<a;++c)(o=u[c])&&t.call(o,o.__data__,c,u)&&s.push(o);return new ht(i,this._parents)},data:function(t,n){if(!t)return v=new Array(this.size()),f=-1,this.each((function(t){v[++f]=t})),v;var r,i=n?y:m,e=this._parents,o=this._groups;"function"!=typeof t&&(r=t,t=function(){return r});for(var u=o.length,a=new Array(u),s=new Array(u),c=new Array(u),f=0;f<u;++f){var h=e[f],l=o[f],d=l.length,v=t.call(h,h&&h.__data__,f,e),p=v.length,b=s[f]=new Array(p),w=a[f]=new Array(p);i(h,l,b,w,c[f]=new Array(d),v,n);for(var g,M,L=0,A=0;L<p;++L)if(g=b[L]){for(L>=A&&(A=L+1);!(M=w[A])&&++A<p;);g._next=M||null}}return(a=new ht(a,e))._enter=s,a._exit=c,a},enter:function(){return new ht(this._enter||this._groups.map(p),this._parents)},exit:function(){return new ht(this._exit||this._groups.map(p),this._parents)},join:function(t,n,r){var i=this.enter(),e=this,o=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=n&&(e=n(e)),null==r?o.remove():r(o),i&&e?i.merge(e).order():e},merge:function(t){for(var n=this._groups,r=t._groups,i=n.length,e=Math.min(i,r.length),o=new Array(i),u=0;u<e;++u)for(var a,s=n[u],c=r[u],f=s.length,h=o[u]=new Array(f),l=0;l<f;++l)(a=s[l]||c[l])&&(h[l]=a);for(;u<i;++u)o[u]=n[u];return new ht(o,this._parents)},order:function(){for(var t=this._groups,n=-1,r=t.length;++n<r;)for(var i,e=t[n],o=e.length-1,u=e[o];--o>=0;)(i=e[o])&&(u&&4^i.compareDocumentPosition(u)&&u.parentNode.insertBefore(i,u),u=i);return this},sort:function(t){function n(n,r){return n&&r?t(n.__data__,r.__data__):!n-!r}t||(t=w);for(var r=this._groups,i=r.length,e=new Array(i),o=0;o<i;++o){for(var u,a=r[o],s=a.length,c=e[o]=new Array(s),f=0;f<s;++f)(u=a[f])&&(c[f]=u);c.sort(n)}return new ht(e,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],e=0,o=i.length;e<o;++e){var u=i[e];if(u)return u}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,r=0,i=n.length;r<i;++r)for(var e,o=n[r],u=0,a=o.length;u<a;++u)(e=o[u])&&t.call(e,e.__data__,u,o);return this},attr:function(t,n){var r=u(t);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((null==n?r.local?M:g:"function"==typeof n?r.local?E:N:r.local?A:L)(r,n))},style:function(t,n,r){return arguments.length>1?this.each((null==n?x:"function"==typeof n?S:T)(t,n,null==r?"":r)):O(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?I:"function"==typeof n?C:R)(t,n)):this.node()[t]},classed:function(t,n){var r=D(t+"");if(arguments.length<2){for(var i=F(this.node()),e=-1,o=r.length;++e<o;)if(!i.contains(r[e]))return!1;return!0}return this.each(("function"==typeof n?P:n?_:U)(r,n))},text:function(t){return arguments.length?this.each(null==t?B:("function"==typeof t?z:Y)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?V:("function"==typeof t?q:G)(t)):this.node().innerHTML},raise:function(){return this.each($)},lower:function(){return this.each(Z)},append:function(t){var n="function"==typeof t?t:c(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var r="function"==typeof t?t:c(t),i=null==n?X:"function"==typeof n?n:h(n);return this.select((function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(K)},clone:function(t){return this.select(t?Q:J)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,r){var i,e,o=et(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?ut:ot,null==r&&(r=!1),i=0;i<u;++i)this.each(a(o[i],n,r));return this}var a=this.node().__on;if(a)for(var s,c=0,f=a.length;c<f;++c)for(i=0,s=a[c];i<u;++i)if((e=o[i]).type===s.type&&e.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?ct:st)(t,n))}};var pt,bt,mt=(1===(pt=vt).length&&(bt=pt,pt=function(t,n){return vt(bt(t),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var e=r+i>>>1;pt(t[e],n)<0?r=e+1:i=e}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var e=r+i>>>1;pt(t[e],n)>0?i=e:r=e+1}return r}}).right;function yt(t,n,r){t=+t,n=+n,r=(e=arguments.length)<2?(n=t,t=0,1):e<3?1:+r;for(var i=-1,e=0|Math.max(0,Math.ceil((n-t)/r)),o=new Array(e);++i<e;)o[i]=t+i*r;return o}var wt=Math.sqrt(50),gt=Math.sqrt(10),Mt=Math.sqrt(2);function Lt(t,n,r){var i=(n-t)/Math.max(0,r),e=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,e);return e>=0?(o>=wt?10:o>=gt?5:o>=Mt?2:1)*Math.pow(10,e):-Math.pow(10,-e)/(o>=wt?10:o>=gt?5:o>=Mt?2:1)}function At(t,n){var r,i,e=t.length,o=-1;if(null==n){for(;++o<e;)if(null!=(r=t[o])&&r>=r)for(i=r;++o<e;)null!=(r=t[o])&&r>i&&(i=r)}else for(;++o<e;)if(null!=(r=n(t[o],o,t))&&r>=r)for(i=r;++o<e;)null!=(r=n(t[o],o,t))&&r>i&&(i=r);return i}function Nt(t,n){var r,i,e=t.length,o=-1;if(null==n){for(;++o<e;)if(null!=(r=t[o])&&r>=r)for(i=r;++o<e;)null!=(r=t[o])&&i>r&&(i=r)}else for(;++o<e;)if(null!=(r=n(t[o],o,t))&&r>=r)for(i=r;++o<e;)null!=(r=n(t[o],o,t))&&i>r&&(i=r);return i}function Et(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}var kt="$";function xt(){}function Tt(t,n){var r=new xt;if(t instanceof xt)t.each((function(t,n){r.set(n,t)}));else if(Array.isArray(t)){var i,e=-1,o=t.length;if(null==n)for(;++e<o;)r.set(e,t[e]);else for(;++e<o;)r.set(n(i=t[e],e,t),i)}else if(t)for(var u in t)r.set(u,t[u]);return r}function St(){var t,n,r,i=[],e=[];function o(r,e,u,a){if(e>=i.length)return null!=t&&r.sort(t),null!=n?n(r):r;for(var s,c,f,h=-1,l=r.length,d=i[e++],v=Tt(),p=u();++h<l;)(f=v.get(s=d(c=r[h])+""))?f.push(c):v.set(s,[c]);return v.each((function(t,n){a(p,n,o(t,e,u,a))})),p}function u(t,r){if(++r>i.length)return t;var o,a=e[r-1];return null!=n&&r>=i.length?o=t.entries():(o=[],t.each((function(t,n){o.push({key:n,values:u(t,r)})}))),null!=a?o.sort((function(t,n){return a(t.key,n.key)})):o}return r={object:function(t){return o(t,0,Ot,It)},map:function(t){return o(t,0,Rt,Ct)},entries:function(t){return u(o(t,0,Rt,Ct),0)},key:function(t){return i.push(t),r},sortKeys:function(t){return e[i.length-1]=t,r},sortValues:function(n){return t=n,r},rollup:function(t){return n=t,r}}}function Ot(){return{}}function It(t,n,r){t[n]=r}function Rt(){return Tt()}function Ct(t,n,r){t.set(n,r)}xt.prototype=Tt.prototype={constructor:xt,has:function(t){return kt+t in this},get:function(t){return this[kt+t]},set:function(t,n){return this[kt+t]=n,this},remove:function(t){var n=kt+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===kt&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===kt&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===kt&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===kt&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===kt&&++t;return t},empty:function(){for(var t in this)if(t[0]===kt)return!1;return!0},each:function(t){for(var n in this)n[0]===kt&&t(this[n],n.slice(1),this)}};var Dt=Array.prototype,Ft=Dt.map,Ht=Dt.slice,Wt={name:"implicit"};function jt(){var t=Tt(),n=[],r=[],i=Wt;function e(e){var o=e+"",u=t.get(o);if(!u){if(i!==Wt)return i;t.set(o,u=n.push(e))}return r[(u-1)%r.length]}return e.domain=function(r){if(!arguments.length)return n.slice();n=[],t=Tt();for(var i,o,u=-1,a=r.length;++u<a;)t.has(o=(i=r[u])+"")||t.set(o,n.push(i));return e},e.range=function(t){return arguments.length?(r=Ht.call(t),e):r.slice()},e.unknown=function(t){return arguments.length?(i=t,e):i},e.copy=function(){return jt(n,r).unknown(i)},Et.apply(e,arguments),e}function _t(){var t,n,r=jt().unknown(void 0),i=r.domain,e=r.range,o=[0,1],u=!1,a=0,s=0,c=.5;function f(){var r=i().length,f=o[1]<o[0],h=o[f-0],l=o[1-f];t=(l-h)/Math.max(1,r-a+2*s),u&&(t=Math.floor(t)),h+=(l-h-t*(r-a))*c,n=t*(1-a),u&&(h=Math.round(h),n=Math.round(n));var d=yt(r).map((function(n){return h+t*n}));return e(f?d.reverse():d)}return delete r.unknown,r.domain=function(t){return arguments.length?(i(t),f()):i()},r.range=function(t){return arguments.length?(o=[+t[0],+t[1]],f()):o.slice()},r.rangeRound=function(t){return o=[+t[0],+t[1]],u=!0,f()},r.bandwidth=function(){return n},r.step=function(){return t},r.round=function(t){return arguments.length?(u=!!t,f()):u},r.padding=function(t){return arguments.length?(a=Math.min(1,s=+t),f()):a},r.paddingInner=function(t){return arguments.length?(a=Math.min(1,t),f()):a},r.paddingOuter=function(t){return arguments.length?(s=+t,f()):s},r.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),f()):c},r.copy=function(){return _t(i(),o).round(u).paddingInner(a).paddingOuter(s).align(c)},Et.apply(f(),arguments)}function Ut(t,n,r){t.prototype=n.prototype=r,r.constructor=t}function Pt(t,n){var r=Object.create(t.prototype);for(var i in n)r[i]=n[i];return r}function Bt(){}var Yt=.7,zt=1/Yt,Vt="\\s*([+-]?\\d+)\\s*",Gt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",qt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$t=/^#([0-9a-f]{3,8})$/,Zt=new RegExp("^rgb\\("+[Vt,Vt,Vt]+"\\)$"),Xt=new RegExp("^rgb\\("+[qt,qt,qt]+"\\)$"),Kt=new RegExp("^rgba\\("+[Vt,Vt,Vt,Gt]+"\\)$"),Jt=new RegExp("^rgba\\("+[qt,qt,qt,Gt]+"\\)$"),Qt=new RegExp("^hsl\\("+[Gt,qt,qt]+"\\)$"),tn=new RegExp("^hsla\\("+[Gt,qt,qt,Gt]+"\\)$"),nn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function rn(){return this.rgb().formatHex()}function en(){return this.rgb().formatRgb()}function on(t){var n,r;return t=(t+"").trim().toLowerCase(),(n=$t.exec(t))?(r=n[1].length,n=parseInt(n[1],16),6===r?un(n):3===r?new fn(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===r?an(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===r?an(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Zt.exec(t))?new fn(n[1],n[2],n[3],1):(n=Xt.exec(t))?new fn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Kt.exec(t))?an(n[1],n[2],n[3],n[4]):(n=Jt.exec(t))?an(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Qt.exec(t))?vn(n[1],n[2]/100,n[3]/100,1):(n=tn.exec(t))?vn(n[1],n[2]/100,n[3]/100,n[4]):nn.hasOwnProperty(t)?un(nn[t]):"transparent"===t?new fn(NaN,NaN,NaN,0):null}function un(t){return new fn(t>>16&255,t>>8&255,255&t,1)}function an(t,n,r,i){return i<=0&&(t=n=r=NaN),new fn(t,n,r,i)}function sn(t){return t instanceof Bt||(t=on(t)),t?new fn((t=t.rgb()).r,t.g,t.b,t.opacity):new fn}function cn(t,n,r,i){return 1===arguments.length?sn(t):new fn(t,n,r,null==i?1:i)}function fn(t,n,r,i){this.r=+t,this.g=+n,this.b=+r,this.opacity=+i}function hn(){return"#"+dn(this.r)+dn(this.g)+dn(this.b)}function ln(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function dn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function vn(t,n,r,i){return i<=0?t=n=r=NaN:r<=0||r>=1?t=n=NaN:n<=0&&(t=NaN),new bn(t,n,r,i)}function pn(t){if(t instanceof bn)return new bn(t.h,t.s,t.l,t.opacity);if(t instanceof Bt||(t=on(t)),!t)return new bn;if(t instanceof bn)return t;var n=(t=t.rgb()).r/255,r=t.g/255,i=t.b/255,e=Math.min(n,r,i),o=Math.max(n,r,i),u=NaN,a=o-e,s=(o+e)/2;return a?(u=n===o?(r-i)/a+6*(r<i):r===o?(i-n)/a+2:(n-r)/a+4,a/=s<.5?o+e:2-o-e,u*=60):a=s>0&&s<1?0:u,new bn(u,a,s,t.opacity)}function bn(t,n,r,i){this.h=+t,this.s=+n,this.l=+r,this.opacity=+i}function mn(t,n,r){return 255*(t<60?n+(r-n)*t/60:t<180?r:t<240?n+(r-n)*(240-t)/60:n)}function yn(t){return function(){return t}}function wn(t,n){var r=n-t;return r?function(t,n){return function(r){return t+r*n}}(t,r):yn(isNaN(t)?n:t)}Ut(Bt,on,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:rn,formatHex:rn,formatHsl:function(){return pn(this).formatHsl()},formatRgb:en,toString:en}),Ut(fn,cn,Pt(Bt,{brighter:function(t){return t=null==t?zt:Math.pow(zt,t),new fn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Yt:Math.pow(Yt,t),new fn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hn,formatHex:hn,formatRgb:ln,toString:ln})),Ut(bn,(function(t,n,r,i){return 1===arguments.length?pn(t):new bn(t,n,r,null==i?1:i)}),Pt(Bt,{brighter:function(t){return t=null==t?zt:Math.pow(zt,t),new bn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Yt:Math.pow(Yt,t),new bn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*n,e=2*r-i;return new fn(mn(t>=240?t-240:t+120,e,i),mn(t,e,i),mn(t<120?t+240:t-120,e,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const gn=function t(n){var r=function(t){return 1==(t=+t)?wn:function(n,r){return r-n?function(t,n,r){return t=Math.pow(t,r),n=Math.pow(n,r)-t,r=1/r,function(i){return Math.pow(t+i*n,r)}}(n,r,t):yn(isNaN(n)?r:n)}}(n);function i(t,n){var i=r((t=cn(t)).r,(n=cn(n)).r),e=r(t.g,n.g),o=r(t.b,n.b),u=wn(t.opacity,n.opacity);return function(n){return t.r=i(n),t.g=e(n),t.b=o(n),t.opacity=u(n),t+""}}return i.gamma=t,i}(1);function Mn(t,n){n||(n=[]);var r,i=t?Math.min(n.length,t.length):0,e=n.slice();return function(o){for(r=0;r<i;++r)e[r]=t[r]*(1-o)+n[r]*o;return e}}function Ln(t,n){var r,i=n?n.length:0,e=t?Math.min(i,t.length):0,o=new Array(e),u=new Array(i);for(r=0;r<e;++r)o[r]=Sn(t[r],n[r]);for(;r<i;++r)u[r]=n[r];return function(t){for(r=0;r<e;++r)u[r]=o[r](t);return u}}function An(t,n){var r=new Date;return t=+t,n=+n,function(i){return r.setTime(t*(1-i)+n*i),r}}function Nn(t,n){return t=+t,n=+n,function(r){return t*(1-r)+n*r}}function En(t,n){var r,i={},e={};for(r in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)r in t?i[r]=Sn(t[r],n[r]):e[r]=n[r];return function(t){for(r in i)e[r]=i[r](t);return e}}var kn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xn=new RegExp(kn.source,"g");function Tn(t,n){var r,i,e,o=kn.lastIndex=xn.lastIndex=0,u=-1,a=[],s=[];for(t+="",n+="";(r=kn.exec(t))&&(i=xn.exec(n));)(e=i.index)>o&&(e=n.slice(o,e),a[u]?a[u]+=e:a[++u]=e),(r=r[0])===(i=i[0])?a[u]?a[u]+=i:a[++u]=i:(a[++u]=null,s.push({i:u,x:Nn(r,i)})),o=xn.lastIndex;return o<n.length&&(e=n.slice(o),a[u]?a[u]+=e:a[++u]=e),a.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var r,i=0;i<n;++i)a[(r=s[i]).i]=r.x(t);return a.join("")})}function Sn(t,n){var r,i,e=typeof n;return null==n||"boolean"===e?yn(n):("number"===e?Nn:"string"===e?(r=on(n))?(n=r,gn):Tn:n instanceof on?gn:n instanceof Date?An:(i=n,!ArrayBuffer.isView(i)||i instanceof DataView?Array.isArray(n)?Ln:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?En:Nn:Mn))(t,n)}function On(t,n){return t=+t,n=+n,function(r){return Math.round(t*(1-r)+n*r)}}var In,Rn,Cn,Dn,Fn=180/Math.PI,Hn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Wn(t,n,r,i,e,o){var u,a,s;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(s=t*r+n*i)&&(r-=t*s,i-=n*s),(a=Math.sqrt(r*r+i*i))&&(r/=a,i/=a,s/=a),t*i<n*r&&(t=-t,n=-n,s=-s,u=-u),{translateX:e,translateY:o,rotate:Math.atan2(n,t)*Fn,skewX:Math.atan(s)*Fn,scaleX:u,scaleY:a}}function jn(t,n,r,i){function e(t){return t.length?t.pop()+" ":""}return function(o,u){var a=[],s=[];return o=t(o),u=t(u),function(t,i,e,o,u,a){if(t!==e||i!==o){var s=u.push("translate(",null,n,null,r);a.push({i:s-4,x:Nn(t,e)},{i:s-2,x:Nn(i,o)})}else(e||o)&&u.push("translate("+e+n+o+r)}(o.translateX,o.translateY,u.translateX,u.translateY,a,s),function(t,n,r,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:r.push(e(r)+"rotate(",null,i)-2,x:Nn(t,n)})):n&&r.push(e(r)+"rotate("+n+i)}(o.rotate,u.rotate,a,s),function(t,n,r,o){t!==n?o.push({i:r.push(e(r)+"skewX(",null,i)-2,x:Nn(t,n)}):n&&r.push(e(r)+"skewX("+n+i)}(o.skewX,u.skewX,a,s),function(t,n,r,i,o,u){if(t!==r||n!==i){var a=o.push(e(o)+"scale(",null,",",null,")");u.push({i:a-4,x:Nn(t,r)},{i:a-2,x:Nn(n,i)})}else 1===r&&1===i||o.push(e(o)+"scale("+r+","+i+")")}(o.scaleX,o.scaleY,u.scaleX,u.scaleY,a,s),o=u=null,function(t){for(var n,r=-1,i=s.length;++r<i;)a[(n=s[r]).i]=n.x(t);return a.join("")}}}var _n=jn((function(t){return"none"===t?Hn:(In||(In=document.createElement("DIV"),Rn=document.documentElement,Cn=document.defaultView),In.style.transform=t,t=Cn.getComputedStyle(Rn.appendChild(In),null).getPropertyValue("transform"),Rn.removeChild(In),Wn(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),Un=jn((function(t){return null==t?Hn:(Dn||(Dn=document.createElementNS("http://www.w3.org/2000/svg","g")),Dn.setAttribute("transform",t),(t=Dn.transform.baseVal.consolidate())?Wn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Hn)}),", ",")",")");function Pn(t){return+t}var Bn=[0,1];function Yn(t){return t}function zn(t,n){return(n-=t=+t)?function(r){return(r-t)/n}:(r=isNaN(n)?NaN:.5,function(){return r});var r}function Vn(t){var n,r=t[0],i=t[t.length-1];return r>i&&(n=r,r=i,i=n),function(t){return Math.max(r,Math.min(i,t))}}function Gn(t,n,r){var i=t[0],e=t[1],o=n[0],u=n[1];return e<i?(i=zn(e,i),o=r(u,o)):(i=zn(i,e),o=r(o,u)),function(t){return o(i(t))}}function qn(t,n,r){var i=Math.min(t.length,n.length)-1,e=new Array(i),o=new Array(i),u=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<i;)e[u]=zn(t[u],t[u+1]),o[u]=r(n[u],n[u+1]);return function(n){var r=mt(t,n,1,i)-1;return o[r](e[r](n))}}function $n(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Zn(t,n){return function(){var t,n,r,i,e,o,u=Bn,a=Bn,s=Sn,c=Yn;function f(){return i=Math.min(u.length,a.length)>2?qn:Gn,e=o=null,h}function h(n){return isNaN(n=+n)?r:(e||(e=i(u.map(t),a,s)))(t(c(n)))}return h.invert=function(r){return c(n((o||(o=i(a,u.map(t),Nn)))(r)))},h.domain=function(t){return arguments.length?(u=Ft.call(t,Pn),c===Yn||(c=Vn(u)),f()):u.slice()},h.range=function(t){return arguments.length?(a=Ht.call(t),f()):a.slice()},h.rangeRound=function(t){return a=Ht.call(t),s=On,f()},h.clamp=function(t){return arguments.length?(c=t?Vn(u):Yn,h):c!==Yn},h.interpolate=function(t){return arguments.length?(s=t,f()):s},h.unknown=function(t){return arguments.length?(r=t,h):r},function(r,i){return t=r,n=i,f()}}()(t,n)}function Xn(t,n){if((r=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var r,i=t.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+t.slice(r+1)]}function Kn(t){return(t=Xn(Math.abs(t)))?t[1]:NaN}var Jn,Qn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tr(t){if(!(n=Qn.exec(t)))throw new Error("invalid format: "+t);var n;return new nr({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function nr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function rr(t,n){var r=Xn(t,n);if(!r)return t+"";var i=r[0],e=r[1];return e<0?"0."+new Array(-e).join("0")+i:i.length>e+1?i.slice(0,e+1)+"."+i.slice(e+1):i+new Array(e-i.length+2).join("0")}tr.prototype=nr.prototype,nr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const ir={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return rr(100*t,n)},r:rr,s:function(t,n){var r=Xn(t,n);if(!r)return t+"";var i=r[0],e=r[1],o=e-(Jn=3*Math.max(-8,Math.min(8,Math.floor(e/3))))+1,u=i.length;return o===u?i:o>u?i+new Array(o-u+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Xn(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function er(t){return t}var or,ur,ar,sr=Array.prototype.map,cr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function fr(t){var n=t.domain;return t.ticks=function(t){var r=n();return function(t,n,r){var i,e,o,u,a=-1;if(r=+r,(t=+t)==(n=+n)&&r>0)return[t];if((i=n<t)&&(e=t,t=n,n=e),0===(u=Lt(t,n,r))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),n=Math.floor(n/u),o=new Array(e=Math.ceil(n-t+1));++a<e;)o[a]=(t+a)*u;else for(t=Math.floor(t*u),n=Math.ceil(n*u),o=new Array(e=Math.ceil(t-n+1));++a<e;)o[a]=(t-a)/u;return i&&o.reverse(),o}(r[0],r[r.length-1],null==t?10:t)},t.tickFormat=function(t,r){var i=n();return function(t,n,r,i){var e,o=function(t,n,r){var i=Math.abs(n-t)/Math.max(0,r),e=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/e;return o>=wt?e*=10:o>=gt?e*=5:o>=Mt&&(e*=2),n<t?-e:e}(t,n,r);switch((i=tr(null==i?",f":i)).type){case"s":var u=Math.max(Math.abs(t),Math.abs(n));return null!=i.precision||isNaN(e=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Kn(n)/3)))-Kn(Math.abs(t)))}(o,u))||(i.precision=e),ar(i,u);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(e=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Kn(n)-Kn(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(i.precision=e-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(e=function(t){return Math.max(0,-Kn(Math.abs(t)))}(o))||(i.precision=e-2*("%"===i.type))}return ur(i)}(i[0],i[i.length-1],null==t?10:t,r)},t.nice=function(r){null==r&&(r=10);var i,e=n(),o=0,u=e.length-1,a=e[o],s=e[u];return s<a&&(i=a,a=s,s=i,i=o,o=u,u=i),(i=Lt(a,s,r))>0?i=Lt(a=Math.floor(a/i)*i,s=Math.ceil(s/i)*i,r):i<0&&(i=Lt(a=Math.ceil(a*i)/i,s=Math.floor(s*i)/i,r)),i>0?(e[o]=Math.floor(a/i)*i,e[u]=Math.ceil(s/i)*i,n(e)):i<0&&(e[o]=Math.ceil(a*i)/i,e[u]=Math.floor(s*i)/i,n(e)),t},t}function hr(){var t=Zn(Yn,Yn);return t.copy=function(){return $n(t,hr())},Et.apply(t,arguments),fr(t)}function lr(t){return 1-Math.sqrt(1-t*t)}or=function(t){var n,r,i=void 0===t.grouping||void 0===t.thousands?er:(n=sr.call(t.grouping,Number),r=t.thousands+"",function(t,i){for(var e=t.length,o=[],u=0,a=n[0],s=0;e>0&&a>0&&(s+a+1>i&&(a=Math.max(1,i-s)),o.push(t.substring(e-=a,e+a)),!((s+=a+1)>i));)a=n[u=(u+1)%n.length];return o.reverse().join(r)}),e=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",u=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?er:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(sr.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",f=void 0===t.nan?"NaN":t.nan+"";function h(t){var n=(t=tr(t)).fill,r=t.align,h=t.sign,l=t.symbol,d=t.zero,v=t.width,p=t.comma,b=t.precision,m=t.trim,y=t.type;"n"===y?(p=!0,y="g"):ir[y]||(void 0===b&&(b=12),m=!0,y="g"),(d||"0"===n&&"="===r)&&(d=!0,n="0",r="=");var w="$"===l?e:"#"===l&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",g="$"===l?o:/[%p]/.test(y)?s:"",M=ir[y],L=/[defgprs%]/.test(y);function A(t){var e,o,s,l=w,A=g;if("c"===y)A=M(t)+A,t="";else{var N=(t=+t)<0||1/t<0;if(t=isNaN(t)?f:M(Math.abs(t),b),m&&(t=function(t){t:for(var n,r=t.length,i=1,e=-1;i<r;++i)switch(t[i]){case".":e=n=i;break;case"0":0===e&&(e=i),n=i;break;default:if(!+t[i])break t;e>0&&(e=0)}return e>0?t.slice(0,e)+t.slice(n+1):t}(t)),N&&0==+t&&"+"!==h&&(N=!1),l=(N?"("===h?h:c:"-"===h||"("===h?"":h)+l,A=("s"===y?cr[8+Jn/3]:"")+A+(N&&"("===h?")":""),L)for(e=-1,o=t.length;++e<o;)if(48>(s=t.charCodeAt(e))||s>57){A=(46===s?u+t.slice(e+1):t.slice(e))+A,t=t.slice(0,e);break}}p&&!d&&(t=i(t,1/0));var E=l.length+t.length+A.length,k=E<v?new Array(v-E+1).join(n):"";switch(p&&d&&(t=i(k+t,k.length?v-A.length:1/0),k=""),r){case"<":t=l+t+A+k;break;case"=":t=l+k+t+A;break;case"^":t=k.slice(0,E=k.length>>1)+l+t+A+k.slice(E);break;default:t=k+l+t+A}return a(t)}return b=void 0===b?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),A.toString=function(){return t+""},A}return{format:h,formatPrefix:function(t,n){var r=h(((t=tr(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Kn(n)/3))),e=Math.pow(10,-i),o=cr[8+i/3];return function(t){return r(e*t)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),ur=or.format,ar=or.formatPrefix;var dr,vr,pr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},br=(dr=function(t,n){t.exports=function(){
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var r=function(){return r=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++)for(var e in n=arguments[r])Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t},r.apply(this,arguments)};function i(){for(var t=0,n=0,r=arguments.length;n<r;n++)t+=arguments[n].length;var i=Array(t),e=0;for(n=0;n<r;n++)for(var o=arguments[n],u=0,a=o.length;u<a;u++,e++)i[e]=o[u];return i}var e="http://www.w3.org/1999/xhtml",o={svg:"http://www.w3.org/2000/svg",xhtml:e,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function u(t){var n=t+="",r=n.indexOf(":");return r>=0&&"xmlns"!==(n=t.slice(0,r))&&(t=t.slice(r+1)),o.hasOwnProperty(n)?{space:o[n],local:t}:t}function a(t){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===e&&n.documentElement.namespaceURI===e?n.createElement(t):n.createElementNS(r,t)}}function s(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function c(t){var n=u(t);return(n.local?s:a)(n)}function f(){}function h(t){return null==t?f:function(){return this.querySelector(t)}}function l(){return[]}function d(t){return null==t?l:function(){return this.querySelectorAll(t)}}function v(t){return function(){return this.matches(t)}}function p(t){return new Array(t.length)}function b(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}b.prototype={constructor:b,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function m(t,n,r,i,e,o){for(var u,a=0,s=n.length,c=o.length;a<c;++a)(u=n[a])?(u.__data__=o[a],i[a]=u):r[a]=new b(t,o[a]);for(;a<s;++a)(u=n[a])&&(e[a]=u)}function y(t,n,r,i,e,o,u){var a,s,c,f={},h=n.length,l=o.length,d=new Array(h);for(a=0;a<h;++a)(s=n[a])&&(d[a]=c="$"+u.call(s,s.__data__,a,n),c in f?e[a]=s:f[c]=s);for(a=0;a<l;++a)(s=f[c="$"+u.call(t,o[a],a,o)])?(i[a]=s,s.__data__=o[a],f[c]=null):r[a]=new b(t,o[a]);for(a=0;a<h;++a)(s=n[a])&&f[d[a]]===s&&(e[a]=s)}function w(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function g(t){return function(){this.removeAttribute(t)}}function M(t){return function(){this.removeAttributeNS(t.space,t.local)}}function L(t,n){return function(){this.setAttribute(t,n)}}function A(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function N(t,n){return function(){var r=n.apply(this,arguments);null==r?this.removeAttribute(t):this.setAttribute(t,r)}}function E(t,n){return function(){var r=n.apply(this,arguments);null==r?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function k(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function x(t){return function(){this.style.removeProperty(t)}}function T(t,n,r){return function(){this.style.setProperty(t,n,r)}}function S(t,n,r){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,r)}}function O(t,n){return t.style.getPropertyValue(n)||k(t).getComputedStyle(t,null).getPropertyValue(n)}function I(t){return function(){delete this[t]}}function R(t,n){return function(){this[t]=n}}function C(t,n){return function(){var r=n.apply(this,arguments);null==r?delete this[t]:this[t]=r}}function D(t){return t.trim().split(/^|\s+/)}function F(t){return t.classList||new H(t)}function H(t){this._node=t,this._names=D(t.getAttribute("class")||"")}function W(t,n){for(var r=F(t),i=-1,e=n.length;++i<e;)r.add(n[i])}function j(t,n){for(var r=F(t),i=-1,e=n.length;++i<e;)r.remove(n[i])}function _(t){return function(){W(this,t)}}function U(t){return function(){j(this,t)}}function P(t,n){return function(){(n.apply(this,arguments)?W:j)(this,t)}}function B(){this.textContent=""}function Y(t){return function(){this.textContent=t}}function z(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function V(){this.innerHTML=""}function G(t){return function(){this.innerHTML=t}}function q(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function $(){this.nextSibling&&this.parentNode.appendChild(this)}function Z(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function X(){return null}function K(){var t=this.parentNode;t&&t.removeChild(this)}function J(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Q(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}H.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var tt={},nt=null;function rt(t,n,r){return t=it(t,n,r),function(n){var r=n.relatedTarget;r&&(r===this||8&r.compareDocumentPosition(this))||t.call(this,n)}}function it(t,n,r){return function(i){var e=nt;nt=i;try{t.call(this,this.__data__,n,r)}finally{nt=e}}}function et(t){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}}))}function ot(t){return function(){var n=this.__on;if(n){for(var r,i=0,e=-1,o=n.length;i<o;++i)r=n[i],t.type&&r.type!==t.type||r.name!==t.name?n[++e]=r:this.removeEventListener(r.type,r.listener,r.capture);++e?n.length=e:delete this.__on}}}function ut(t,n,r){var i=tt.hasOwnProperty(t.type)?rt:it;return function(e,o,u){var a,s=this.__on,c=i(n,o,u);if(s)for(var f=0,h=s.length;f<h;++f)if((a=s[f]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=r),void(a.value=n);this.addEventListener(t.type,c,r),a={type:t.type,name:t.name,value:n,listener:c,capture:r},s?s.push(a):this.__on=[a]}}function at(t,n,r,i){var e=nt;t.sourceEvent=nt,nt=t;try{return n.apply(r,i)}finally{nt=e}}function st(t,n,r){var i=k(t),e=i.CustomEvent;"function"==typeof e?e=new e(n,r):(e=i.document.createEvent("Event"),r?(e.initEvent(n,r.bubbles,r.cancelable),e.detail=r.detail):e.initEvent(n,!1,!1)),t.dispatchEvent(e)}function ct(t,n){return function(){return st(this,t,n)}}function ft(t,n){return function(){return st(this,t,n.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(tt={mouseenter:"mouseover",mouseleave:"mouseout"}));var ht=[null];function lt(t,n){this._groups=t,this._parents=n}function dt(){return new lt([[document.documentElement]],ht)}function vt(t){return"string"==typeof t?new lt([[document.querySelector(t)]],[document.documentElement]):new lt([[t]],ht)}function pt(){for(var t,n=nt;t=n.sourceEvent;)n=t;return n}function bt(t,n){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var e=t.getBoundingClientRect();return[n.clientX-e.left-t.clientLeft,n.clientY-e.top-t.clientTop]}function mt(t){var n=pt();return n.changedTouches&&(n=n.changedTouches[0]),bt(t,n)}function yt(t){return"string"==typeof t?new lt([document.querySelectorAll(t)],[document.documentElement]):new lt([null==t?[]:t],ht)}function wt(t,n,r){arguments.length<3&&(r=n,n=pt().changedTouches);for(var i,e=0,o=n?n.length:0;e<o;++e)if((i=n[e]).identifier===r)return bt(t,i);return null}lt.prototype=dt.prototype={constructor:lt,select:function(t){"function"!=typeof t&&(t=h(t));for(var n=this._groups,r=n.length,i=new Array(r),e=0;e<r;++e)for(var o,u,a=n[e],s=a.length,c=i[e]=new Array(s),f=0;f<s;++f)(o=a[f])&&(u=t.call(o,o.__data__,f,a))&&("__data__"in o&&(u.__data__=o.__data__),c[f]=u);return new lt(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=d(t));for(var n=this._groups,r=n.length,i=[],e=[],o=0;o<r;++o)for(var u,a=n[o],s=a.length,c=0;c<s;++c)(u=a[c])&&(i.push(t.call(u,u.__data__,c,a)),e.push(u));return new lt(i,e)},filter:function(t){"function"!=typeof t&&(t=v(t));for(var n=this._groups,r=n.length,i=new Array(r),e=0;e<r;++e)for(var o,u=n[e],a=u.length,s=i[e]=[],c=0;c<a;++c)(o=u[c])&&t.call(o,o.__data__,c,u)&&s.push(o);return new lt(i,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),c=-1,this.each((function(t){d[++c]=t})),d;var r=n?y:m,i=this._parents,e=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=e.length,u=new Array(o),a=new Array(o),s=new Array(o),c=0;c<o;++c){var f=i[c],h=e[c],l=h.length,d=t.call(f,f&&f.__data__,c,i),v=d.length,p=a[c]=new Array(v),b=u[c]=new Array(v);r(f,h,p,b,s[c]=new Array(l),d,n);for(var w,g,M=0,L=0;M<v;++M)if(w=p[M]){for(M>=L&&(L=M+1);!(g=b[L])&&++L<v;);w._next=g||null}}return(u=new lt(u,i))._enter=a,u._exit=s,u},enter:function(){return new lt(this._enter||this._groups.map(p),this._parents)},exit:function(){return new lt(this._exit||this._groups.map(p),this._parents)},join:function(t,n,r){var i=this.enter(),e=this,o=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=n&&(e=n(e)),null==r?o.remove():r(o),i&&e?i.merge(e).order():e},merge:function(t){for(var n=this._groups,r=t._groups,i=n.length,e=Math.min(i,r.length),o=new Array(i),u=0;u<e;++u)for(var a,s=n[u],c=r[u],f=s.length,h=o[u]=new Array(f),l=0;l<f;++l)(a=s[l]||c[l])&&(h[l]=a);for(;u<i;++u)o[u]=n[u];return new lt(o,this._parents)},order:function(){for(var t=this._groups,n=-1,r=t.length;++n<r;)for(var i,e=t[n],o=e.length-1,u=e[o];--o>=0;)(i=e[o])&&(u&&4^i.compareDocumentPosition(u)&&u.parentNode.insertBefore(i,u),u=i);return this},sort:function(t){function n(n,r){return n&&r?t(n.__data__,r.__data__):!n-!r}t||(t=w);for(var r=this._groups,i=r.length,e=new Array(i),o=0;o<i;++o){for(var u,a=r[o],s=a.length,c=e[o]=new Array(s),f=0;f<s;++f)(u=a[f])&&(c[f]=u);c.sort(n)}return new lt(e,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],e=0,o=i.length;e<o;++e){var u=i[e];if(u)return u}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,r=0,i=n.length;r<i;++r)for(var e,o=n[r],u=0,a=o.length;u<a;++u)(e=o[u])&&t.call(e,e.__data__,u,o);return this},attr:function(t,n){var r=u(t);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((null==n?r.local?M:g:"function"==typeof n?r.local?E:N:r.local?A:L)(r,n))},style:function(t,n,r){return arguments.length>1?this.each((null==n?x:"function"==typeof n?S:T)(t,n,null==r?"":r)):O(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?I:"function"==typeof n?C:R)(t,n)):this.node()[t]},classed:function(t,n){var r=D(t+"");if(arguments.length<2){for(var i=F(this.node()),e=-1,o=r.length;++e<o;)if(!i.contains(r[e]))return!1;return!0}return this.each(("function"==typeof n?P:n?_:U)(r,n))},text:function(t){return arguments.length?this.each(null==t?B:("function"==typeof t?z:Y)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?V:("function"==typeof t?q:G)(t)):this.node().innerHTML},raise:function(){return this.each($)},lower:function(){return this.each(Z)},append:function(t){var n="function"==typeof t?t:c(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var r="function"==typeof t?t:c(t),i=null==n?X:"function"==typeof n?n:h(n);return this.select((function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(K)},clone:function(t){return this.select(t?Q:J)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,r){var i,e,o=et(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?ut:ot,null==r&&(r=!1),i=0;i<u;++i)this.each(a(o[i],n,r));return this}var a=this.node().__on;if(a)for(var s,c=0,f=a.length;c<f;++c)for(i=0,s=a[c];i<u;++i)if((e=o[i]).type===s.type&&e.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?ft:ct)(t,n))}};var gt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==pr?pr:"undefined"!=typeof self?self:{};var Mt,Lt,At=function(t,n){return t(n={exports:{}},n.exports),n.exports}((function(t,n){!function(r,i){var e="function",o="undefined",u="object",a="string",s="model",c="name",f="type",h="vendor",l="version",d="architecture",v="console",p="mobile",b="tablet",m="smarttv",y="wearable",w="embedded",g="Amazon",M="Apple",L="ASUS",A="BlackBerry",N="Browser",E="Chrome",k="Firefox",x="Google",T="Huawei",S="LG",O="Microsoft",I="Motorola",R="Opera",C="Samsung",D="Sharp",F="Sony",H="Xiaomi",W="Zebra",j="Facebook",_=function(t){for(var n={},r=0;r<t.length;r++)n[t[r].toUpperCase()]=t[r];return n},U=function(t,n){return typeof t===a&&-1!==P(n).indexOf(P(t))},P=function(t){return t.toLowerCase()},B=function(t,n){if(typeof t===a)return t=t.replace(/^\s\s*/,""),typeof n===o?t:t.substring(0,350)},Y=function(t,n){for(var r,o,a,s,c,f,h=0;h<n.length&&!c;){var l=n[h],d=n[h+1];for(r=o=0;r<l.length&&!c;)if(c=l[r++].exec(t))for(a=0;a<d.length;a++)f=c[++o],typeof(s=d[a])===u&&s.length>0?2===s.length?this[s[0]]=typeof s[1]==e?s[1].call(this,f):s[1]:3===s.length?this[s[0]]=typeof s[1]!==e||s[1].exec&&s[1].test?f?f.replace(s[1],s[2]):i:f?s[1].call(this,f,s[2]):i:4===s.length&&(this[s[0]]=f?s[3].call(this,f.replace(s[1],s[2])):i):this[s]=f||i;h+=2}},z=function(t,n){for(var r in n)if(typeof n[r]===u&&n[r].length>0){for(var e=0;e<n[r].length;e++)if(U(n[r][e],t))return"?"===r?i:r}else if(U(n[r],t))return"?"===r?i:r;return t},V={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},G={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[l,[c,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[l,[c,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[c,l],[/opios[\/ ]+([\w\.]+)/i],[l,[c,R+" Mini"]],[/\bopr\/([\w\.]+)/i],[l,[c,R]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[c,l],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[l,[c,"UC"+N]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[l,[c,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[l,[c,"WeChat"]],[/konqueror\/([\w\.]+)/i],[l,[c,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[l,[c,"IE"]],[/yabrowser\/([\w\.]+)/i],[l,[c,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[c,/(.+)/,"$1 Secure "+N],l],[/\bfocus\/([\w\.]+)/i],[l,[c,k+" Focus"]],[/\bopt\/([\w\.]+)/i],[l,[c,R+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[l,[c,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[l,[c,"Dolphin"]],[/coast\/([\w\.]+)/i],[l,[c,R+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[l,[c,"MIUI "+N]],[/fxios\/([-\w\.]+)/i],[l,[c,k]],[/\bqihu|(qi?ho?o?|360)browser/i],[[c,"360 "+N]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[c,/(.+)/,"$1 "+N],l],[/(comodo_dragon)\/([\w\.]+)/i],[[c,/_/g," "],l],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[c,l],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[c],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[c,j],l],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[c,l],[/\bgsa\/([\w\.]+) .*safari\//i],[l,[c,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[l,[c,E+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[c,E+" WebView"],l],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[l,[c,"Android "+N]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[c,l],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[l,[c,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[l,c],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[c,[l,z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[c,l],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[c,"Netscape"],l],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[l,[c,k+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[c,l],[/(cobalt)\/([\w\.]+)/i],[c,[l,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[d,"amd64"]],[/(ia32(?=;))/i],[[d,P]],[/((?:i[346]|x)86)[;\)]/i],[[d,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[d,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[d,"armhf"]],[/windows (ce|mobile); ppc;/i],[[d,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[d,/ower/,"",P]],[/(sun4\w)[;\)]/i],[[d,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[d,P]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[s,[h,C],[f,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[s,[h,C],[f,p]],[/\((ip(?:hone|od)[\w ]*);/i],[s,[h,M],[f,p]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[s,[h,M],[f,b]],[/(macintosh);/i],[s,[h,M]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[s,[h,T],[f,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[s,[h,T],[f,p]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[s,/_/g," "],[h,H],[f,p]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[s,/_/g," "],[h,H],[f,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[s,[h,"OPPO"],[f,p]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[s,[h,"Vivo"],[f,p]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[s,[h,"Realme"],[f,p]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[s,[h,I],[f,p]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[s,[h,I],[f,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[s,[h,S],[f,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[s,[h,S],[f,p]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[s,[h,"Lenovo"],[f,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[s,/_/g," "],[h,"Nokia"],[f,p]],[/(pixel c)\b/i],[s,[h,x],[f,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[s,[h,x],[f,p]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[s,[h,F],[f,p]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[s,"Xperia Tablet"],[h,F],[f,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[s,[h,"OnePlus"],[f,p]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[s,[h,g],[f,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[s,/(.+)/g,"Fire Phone $1"],[h,g],[f,p]],[/(playbook);[-\w\),; ]+(rim)/i],[s,h,[f,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[s,[h,A],[f,p]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[s,[h,L],[f,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[s,[h,L],[f,p]],[/(nexus 9)/i],[s,[h,"HTC"],[f,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[s,/_/g," "],[f,p]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[s,[h,"Acer"],[f,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[s,[h,"Meizu"],[f,p]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[s,[h,D],[f,p]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,s,[f,p]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,s,[f,b]],[/(surface duo)/i],[s,[h,O],[f,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[s,[h,"Fairphone"],[f,p]],[/(u304aa)/i],[s,[h,"AT&T"],[f,p]],[/\bsie-(\w*)/i],[s,[h,"Siemens"],[f,p]],[/\b(rct\w+) b/i],[s,[h,"RCA"],[f,b]],[/\b(venue[\d ]{2,7}) b/i],[s,[h,"Dell"],[f,b]],[/\b(q(?:mv|ta)\w+) b/i],[s,[h,"Verizon"],[f,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[s,[h,"Barnes & Noble"],[f,b]],[/\b(tm\d{3}\w+) b/i],[s,[h,"NuVision"],[f,b]],[/\b(k88) b/i],[s,[h,"ZTE"],[f,b]],[/\b(nx\d{3}j) b/i],[s,[h,"ZTE"],[f,p]],[/\b(gen\d{3}) b.+49h/i],[s,[h,"Swiss"],[f,p]],[/\b(zur\d{3}) b/i],[s,[h,"Swiss"],[f,b]],[/\b((zeki)?tb.*\b) b/i],[s,[h,"Zeki"],[f,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],s,[f,b]],[/\b(ns-?\w{0,9}) b/i],[s,[h,"Insignia"],[f,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[s,[h,"NextBook"],[f,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],s,[f,p]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],s,[f,p]],[/\b(ph-1) /i],[s,[h,"Essential"],[f,p]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[s,[h,"Envizen"],[f,b]],[/\b(trio[-\w\. ]+) b/i],[s,[h,"MachSpeed"],[f,b]],[/\btu_(1491) b/i],[s,[h,"Rotor"],[f,b]],[/(shield[\w ]+) b/i],[s,[h,"Nvidia"],[f,b]],[/(sprint) (\w+)/i],[h,s,[f,p]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[h,O],[f,p]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[s,[h,W],[f,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[s,[h,W],[f,p]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,s,[f,v]],[/droid.+; (shield) bui/i],[s,[h,"Nvidia"],[f,v]],[/(playstation [345portablevi]+)/i],[s,[h,F],[f,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[s,[h,O],[f,v]],[/smart-tv.+(samsung)/i],[h,[f,m]],[/hbbtv.+maple;(\d+)/i],[[s,/^/,"SmartTV"],[h,C],[f,m]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,S],[f,m]],[/(apple) ?tv/i],[h,[s,M+" TV"],[f,m]],[/crkey/i],[[s,E+"cast"],[h,x],[f,m]],[/droid.+aft(\w)( bui|\))/i],[s,[h,g],[f,m]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[s,[h,D],[f,m]],[/(bravia[\w ]+)( bui|\))/i],[s,[h,F],[f,m]],[/(mitv-\w{5}) bui/i],[s,[h,H],[f,m]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[h,B],[s,B],[f,m]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,m]],[/((pebble))app/i],[h,s,[f,y]],[/droid.+; (glass) \d/i],[s,[h,x],[f,y]],[/droid.+; (wt63?0{2,3})\)/i],[s,[h,W],[f,y]],[/(quest( 2)?)/i],[s,[h,j],[f,y]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[f,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[s,[f,p]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[s,[f,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,p]],[/(android[-\w\. ]{0,9});.+buil/i],[s,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[l,[c,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[l,[c,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[c,l],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[l,c]],os:[[/microsoft (windows) (vista|xp)/i],[c,l],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[c,[l,z,V]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[c,"Windows"],[l,z,V]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[l,/_/g,"."],[c,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[c,"Mac OS"],[l,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[l,c],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[c,l],[/\(bb(10);/i],[l,[c,A]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[l,[c,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[l,[c,k+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[l,[c,"webOS"]],[/crkey\/([\d\.]+)/i],[l,[c,E+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[c,"Chromium OS"],l],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[c,l],[/(sunos) ?([\w\.\d]*)/i],[[c,"Solaris"],l],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[c,l]]},q=function(t,n){if(typeof t===u&&(n=t,t=i),!(this instanceof q))return new q(t,n).getResult();var e=t||(typeof r!==o&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:""),v=n?function(t,n){var r={};for(var i in t)r[i]=n[i]&&n[i].length%2==0?n[i].concat(t[i]):t[i];return r}(G,n):G;return this.getBrowser=function(){var t={};return t[c]=i,t[l]=i,Y.call(t,e,v.browser),t.major=function(t){return typeof t===a?t.replace(/[^\d\.]/g,"").split(".")[0]:i}(t.version),t},this.getCPU=function(){var t={};return t[d]=i,Y.call(t,e,v.cpu),t},this.getDevice=function(){var t={};return t[h]=i,t[s]=i,t[f]=i,Y.call(t,e,v.device),t},this.getEngine=function(){var t={};return t[c]=i,t[l]=i,Y.call(t,e,v.engine),t},this.getOS=function(){var t={};return t[c]=i,t[l]=i,Y.call(t,e,v.os),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return e},this.setUA=function(t){return e=typeof t===a&&t.length>350?B(t,350):t,this},this.setUA(e),this};q.VERSION="0.7.33",q.BROWSER=_([c,l,"major"]),q.CPU=_([d]),q.DEVICE=_([s,h,f,v,p,m,b,y,w]),q.ENGINE=q.OS=_([c,l]),t.exports&&(n=t.exports=q),n.UAParser=q;var $=typeof r!==o&&(r.jQuery||r.Zepto);if($&&!$.ua){var Z=new q;$.ua=Z.getResult(),$.ua.get=function(){return Z.getUA()},$.ua.set=function(t){Z.setUA(t);var n=Z.getResult();for(var r in n)$.ua[r]=n[r]}}}("object"==typeof window?window:gt)})),Nt=At(window.navigator.userAgent),Et=function(){return Nt.browser.name},kt={},xt={},Tt={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},St={currentLocale:Tt.currentLocale,zeroFormat:Tt.zeroFormat,nullFormat:Tt.nullFormat,defaultFormat:Tt.defaultFormat,scalePercentBy100:Tt.scalePercentBy100};function Ot(t,n){this._input=t,this._value=n}(Mt=function(t){var n,r,i,e;if(Mt.isNumeral(t))n=t.value();else if(0===t||void 0===t)n=0;else if(null===t||Lt.isNaN(t))n=null;else if("string"==typeof t)if(St.zeroFormat&&t===St.zeroFormat)n=0;else if(St.nullFormat&&t===St.nullFormat||!t.replace(/[^0-9]+/g,"").length)n=null;else{for(r in kt)if((e="function"==typeof kt[r].regexps.unformat?kt[r].regexps.unformat():kt[r].regexps.unformat)&&t.match(e)){i=kt[r].unformat;break}n=(i=i||Mt._.stringToNumber)(t)}else n=Number(t)||null;return new Ot(t,n)}).version="2.0.6",Mt.isNumeral=function(t){return t instanceof Ot},Mt._=Lt={numberToFormat:function(t,n,r){var i,e,o,u,a,s,c,f,h=xt[Mt.options.currentLocale],l=!1,d=!1,v="",p=1e12,b=1e9,m=1e6,y="",w=!1;if(t=t||0,e=Math.abs(t),Mt._.includes(n,"(")?(l=!0,n=n.replace(/[\(|\)]/g,"")):(Mt._.includes(n,"+")||Mt._.includes(n,"-"))&&(a=Mt._.includes(n,"+")?n.indexOf("+"):t<0?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),Mt._.includes(n,"a")&&(i=!!(i=n.match(/a(k|m|b|t)?/))&&i[1],Mt._.includes(n," a")&&(v=" "),n=n.replace(new RegExp(v+"a[kmbt]?"),""),e>=p&&!i||"t"===i?(v+=h.abbreviations.trillion,t/=p):e<p&&e>=b&&!i||"b"===i?(v+=h.abbreviations.billion,t/=b):e<b&&e>=m&&!i||"m"===i?(v+=h.abbreviations.million,t/=m):(e<m&&e>=1e3&&!i||"k"===i)&&(v+=h.abbreviations.thousand,t/=1e3)),Mt._.includes(n,"[.]")&&(d=!0,n=n.replace("[.]",".")),o=t.toString().split(".")[0],u=n.split(".")[1],s=n.indexOf(","),f=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,u?(Mt._.includes(u,"[")?(u=(u=u.replace("]","")).split("["),y=Mt._.toFixed(t,u[0].length+u[1].length,r,u[1].length)):y=Mt._.toFixed(t,u.length,r),o=y.split(".")[0],y=Mt._.includes(y,".")?h.delimiters.decimal+y.split(".")[1]:"",d&&0===Number(y.slice(1))&&(y="")):o=Mt._.toFixed(t,0,r),v&&!i&&Number(o)>=1e3&&v!==h.abbreviations.trillion)switch(o=String(Number(o)/1e3),v){case h.abbreviations.thousand:v=h.abbreviations.million;break;case h.abbreviations.million:v=h.abbreviations.billion;break;case h.abbreviations.billion:v=h.abbreviations.trillion}if(Mt._.includes(o,"-")&&(o=o.slice(1),w=!0),o.length<f)for(var g=f-o.length;g>0;g--)o="0"+o;return s>-1&&(o=o.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+h.delimiters.thousands)),0===n.indexOf(".")&&(o=""),c=o+y+(v||""),l?c=(l&&w?"(":"")+c+(l&&w?")":""):a>=0?c=0===a?(w?"-":"+")+c:c+(w?"-":"+"):w&&(c="-"+c),c},stringToNumber:function(t){var n,r,i,e=xt[St.currentLocale],o=t,u={thousand:3,million:6,billion:9,trillion:12};if(St.zeroFormat&&t===St.zeroFormat)r=0;else if(St.nullFormat&&t===St.nullFormat||!t.replace(/[^0-9]+/g,"").length)r=null;else{for(n in r=1,"."!==e.delimiters.decimal&&(t=t.replace(/\./g,"").replace(e.delimiters.decimal,".")),u)if(i=new RegExp("[^a-zA-Z]"+e.abbreviations[n]+"(?:\\)|(\\"+e.currency.symbol+")?(?:\\))?)?$"),o.match(i)){r*=Math.pow(10,u[n]);break}r*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,t=t.replace(/[^0-9\.]+/g,""),r*=Number(t)}return r},isNaN:function(t){return"number"==typeof t&&isNaN(t)},includes:function(t,n){return-1!==t.indexOf(n)},insert:function(t,n,r){return t.slice(0,r)+n+t.slice(r)},reduce:function(t,n){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof n)throw new TypeError(n+" is not a function");var r,i=Object(t),e=i.length>>>0,o=0;if(3===arguments.length)r=arguments[2];else{for(;o<e&&!(o in i);)o++;if(o>=e)throw new TypeError("Reduce of empty array with no initial value");r=i[o++]}for(;o<e;o++)o in i&&(r=n(r,i[o],o,i));return r},multiplier:function(t){var n=t.toString().split(".");return n.length<2?1:Math.pow(10,n[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce((function(t,n){var r=Lt.multiplier(n);return t>r?t:r}),1)},toFixed:function(t,n,r,i){var e,o,u,a,s=t.toString().split("."),c=n-(i||0);return e=2===s.length?Math.min(Math.max(s[1].length,c),n):c,u=Math.pow(10,e),a=(r(t+"e+"+e)/u).toFixed(e),i>n-e&&(o=new RegExp("\\.?0{1,"+(i-(n-e))+"}$"),a=a.replace(o,"")),a}},Mt.options=St,Mt.formats=kt,Mt.locales=xt,Mt.locale=function(t){return t&&(St.currentLocale=t.toLowerCase()),St.currentLocale},Mt.localeData=function(t){if(!t)return xt[St.currentLocale];if(t=t.toLowerCase(),!xt[t])throw new Error("Unknown locale : "+t);return xt[t]},Mt.reset=function(){for(var t in Tt)St[t]=Tt[t]},Mt.zeroFormat=function(t){St.zeroFormat="string"==typeof t?t:null},Mt.nullFormat=function(t){St.nullFormat="string"==typeof t?t:null},Mt.defaultFormat=function(t){St.defaultFormat="string"==typeof t?t:"0.0"},Mt.register=function(t,n,r){if(n=n.toLowerCase(),this[t+"s"][n])throw new TypeError(n+" "+t+" already registered.");return this[t+"s"][n]=r,r},Mt.validate=function(t,n){var r,i,e,o,u,a,s,c;if("string"!=typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),(t=t.trim()).match(/^\d+$/))return!0;if(""===t)return!1;try{s=Mt.localeData(n)}catch(f){s=Mt.localeData(Mt.locale())}return e=s.currency.symbol,u=s.abbreviations,r=s.delimiters.decimal,i="."===s.delimiters.thousands?"\\.":s.delimiters.thousands,!(null!==(c=t.match(/^[^\d]+/))&&(t=t.substr(1),c[0]!==e)||null!==(c=t.match(/[^\d]+$/))&&(t=t.slice(0,-1),c[0]!==u.thousand&&c[0]!==u.million&&c[0]!==u.billion&&c[0]!==u.trillion)||(a=new RegExp(i+"{2}"),t.match(/[^\d.,]/g)||(o=t.split(r)).length>2||(o.length<2?!o[0].match(/^\d+.*\d$/)||o[0].match(a):1===o[0].length?!o[0].match(/^\d+$/)||o[0].match(a)||!o[1].match(/^\d+$/):!o[0].match(/^\d+.*\d$/)||o[0].match(a)||!o[1].match(/^\d+$/))))},Mt.fn=Ot.prototype={clone:function(){return Mt(this)},format:function(t,n){var r,i,e,o=this._value,u=t||St.defaultFormat;if(n=n||Math.round,0===o&&null!==St.zeroFormat)i=St.zeroFormat;else if(null===o&&null!==St.nullFormat)i=St.nullFormat;else{for(r in kt)if(u.match(kt[r].regexps.format)){e=kt[r].format;break}i=(e=e||Mt._.numberToFormat)(o,u,n)}return i},value:function(){return this._value},input:function(){return this._input},set:function(t){return this._value=Number(t),this},add:function(t){var n=Lt.correctionFactor.call(null,this._value,t);return this._value=Lt.reduce([this._value,t],(function(t,r){return t+Math.round(n*r)}),0)/n,this},subtract:function(t){var n=Lt.correctionFactor.call(null,this._value,t);return this._value=Lt.reduce([t],(function(t,r){return t-Math.round(n*r)}),Math.round(this._value*n))/n,this},multiply:function(t){return this._value=Lt.reduce([this._value,t],(function(t,n){var r=Lt.correctionFactor(t,n);return Math.round(t*r)*Math.round(n*r)/Math.round(r*r)}),1),this},divide:function(t){return this._value=Lt.reduce([this._value,t],(function(t,n){var r=Lt.correctionFactor(t,n);return Math.round(t*r)/Math.round(n*r)})),this},difference:function(t){return Math.abs(Mt(this._value).subtract(t).value())}},Mt.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var n=t%10;return 1==~~(t%100/10)?"th":1===n?"st":2===n?"nd":3===n?"rd":"th"},currency:{symbol:"$"}}),Mt.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(t,n,r){var i,e=Mt._.includes(n," BPS")?" ":"";return t*=1e4,n=n.replace(/\s?BPS/,""),i=Mt._.numberToFormat(t,n,r),Mt._.includes(i,")")?((i=i.split("")).splice(-1,0,e+"BPS"),i=i.join("")):i=i+e+"BPS",i},unformat:function(t){return+(1e-4*Mt._.stringToNumber(t)).toFixed(15)}}),function(){var t={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},n={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},r=t.suffixes.concat(n.suffixes.filter((function(n){return t.suffixes.indexOf(n)<0}))).join("|");r="("+r.replace("B","B(?!PS)")+")",Mt.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(r)},format:function(r,i,e){var o,u,a,s=Mt._.includes(i,"ib")?n:t,c=Mt._.includes(i," b")||Mt._.includes(i," ib")?" ":"";for(i=i.replace(/\s?i?b/,""),o=0;o<=s.suffixes.length;o++)if(u=Math.pow(s.base,o),a=Math.pow(s.base,o+1),null===r||0===r||r>=u&&r<a){c+=s.suffixes[o],u>0&&(r/=u);break}return Mt._.numberToFormat(r,i,e)+c},unformat:function(r){var i,e,o=Mt._.stringToNumber(r);if(o){for(i=t.suffixes.length-1;i>=0;i--){if(Mt._.includes(r,t.suffixes[i])){e=Math.pow(t.base,i);break}if(Mt._.includes(r,n.suffixes[i])){e=Math.pow(n.base,i);break}}o*=e||1}return o}})}(),Mt.register("format","currency",{regexps:{format:/(\$)/},format:function(t,n,r){var i,e,o=Mt.locales[Mt.options.currentLocale],u={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),i=Mt._.numberToFormat(t,n,r),t>=0?(u.before=u.before.replace(/[\-\(]/,""),u.after=u.after.replace(/[\-\)]/,"")):t<0&&!Mt._.includes(u.before,"-")&&!Mt._.includes(u.before,"(")&&(u.before="-"+u.before),e=0;e<u.before.length;e++)switch(u.before[e]){case"$":i=Mt._.insert(i,o.currency.symbol,e);break;case" ":i=Mt._.insert(i," ",e+o.currency.symbol.length-1)}for(e=u.after.length-1;e>=0;e--)switch(u.after[e]){case"$":i=e===u.after.length-1?i+o.currency.symbol:Mt._.insert(i,o.currency.symbol,-(u.after.length-(1+e)));break;case" ":i=e===u.after.length-1?i+" ":Mt._.insert(i," ",-(u.after.length-(1+e)+o.currency.symbol.length-1))}return i}}),Mt.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(t,n,r){var i=("number"!=typeof t||Mt._.isNaN(t)?"0e+0":t.toExponential()).split("e");return n=n.replace(/e[\+|\-]{1}0/,""),Mt._.numberToFormat(Number(i[0]),n,r)+"e"+i[1]},unformat:function(t){var n=Mt._.includes(t,"e+")?t.split("e+"):t.split("e-"),r=Number(n[0]),i=Number(n[1]);return i=Mt._.includes(t,"e-")?i*=-1:i,Mt._.reduce([r,Math.pow(10,i)],(function(t,n){var r=Mt._.correctionFactor(t,n);return t*r*(n*r)/(r*r)}),1)}}),Mt.register("format","ordinal",{regexps:{format:/(o)/},format:function(t,n,r){var i=Mt.locales[Mt.options.currentLocale],e=Mt._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),e+=i.ordinal(t),Mt._.numberToFormat(t,n,r)+e}}),Mt.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(t,n,r){var i,e=Mt._.includes(n," %")?" ":"";return Mt.options.scalePercentBy100&&(t*=100),n=n.replace(/\s?\%/,""),i=Mt._.numberToFormat(t,n,r),Mt._.includes(i,")")?((i=i.split("")).splice(-1,0,e+"%"),i=i.join("")):i=i+e+"%",i},unformat:function(t){var n=Mt._.stringToNumber(t);return Mt.options.scalePercentBy100?.01*n:n}}),Mt.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(t){var n=Math.floor(t/60/60),r=Math.floor((t-60*n*60)/60),i=Math.round(t-60*n*60-60*r);return n+":"+(r<10?"0"+r:r)+":"+(i<10?"0"+i:i)},unformat:function(t){var n=t.split(":"),r=0;return 3===n.length?(r+=60*Number(n[0])*60,r+=60*Number(n[1]),r+=Number(n[2])):2===n.length&&(r+=60*Number(n[0]),r+=Number(n[1])),Number(r)}});var It=Mt;function Rt(t,n,r){if(void 0===t&&(t="format"),void 0===n&&(n="formatName"),!It[t+"s"]||!It[t+"s"][n])try{It.register(t,n,r)}catch(i){console.error("error encountered when registering to numeral instance",t,n,i)}}function Ct(t,n){return void 0===t&&(t="0"),void 0===n&&(n="(0.00a)"),It(t).format(n)}function Dt(t,n){var r=Math.pow(10,n||0);return Math.round((t+Number.EPSILON)*r)/r}var Ft=new Date,Ht=new Date;function Wt(t,n,r,i){function e(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return e.floor=function(n){return t(n=new Date(+n)),n},e.ceil=function(r){return t(r=new Date(r-1)),n(r,1),t(r),r},e.round=function(t){var n=e(t),r=e.ceil(t);return t-n<r-t?n:r},e.offset=function(t,r){return n(t=new Date(+t),null==r?1:Math.floor(r)),t},e.range=function(r,i,o){var u,a=[];if(r=e.ceil(r),o=null==o?1:Math.floor(o),!(r<i&&o>0))return a;do{a.push(u=new Date(+r)),n(r,o),t(r)}while(u<r&&r<i);return a},e.filter=function(r){return Wt((function(n){if(n>=n)for(;t(n),!r(n);)n.setTime(n-1)}),(function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;n(t,-1),!r(t););else for(;--i>=0;)for(;n(t,1),!r(t););}))},r&&(e.count=function(n,i){return Ft.setTime(+n),Ht.setTime(+i),t(Ft),t(Ht),Math.floor(r(Ft,Ht))},e.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?e.filter(i?function(n){return i(n)%t==0}:function(n){return e.count(0,n)%t==0}):e:null}),e}var jt=Wt((function(){}),(function(t,n){t.setTime(+t+n)}),(function(t,n){return n-t}));jt.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Wt((function(n){n.setTime(Math.floor(n/t)*t)}),(function(n,r){n.setTime(+n+r*t)}),(function(n,r){return(r-n)/t})):jt:null};var _t=1e3,Ut=6e4,Pt=36e5,Bt=864e5,Yt=6048e5;Wt((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,n){t.setTime(+t+n*_t)}),(function(t,n){return(n-t)/_t}),(function(t){return t.getUTCSeconds()})),Wt((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*_t)}),(function(t,n){t.setTime(+t+n*Ut)}),(function(t,n){return(n-t)/Ut}),(function(t){return t.getMinutes()})),Wt((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*_t-t.getMinutes()*Ut)}),(function(t,n){t.setTime(+t+n*Pt)}),(function(t,n){return(n-t)/Pt}),(function(t){return t.getHours()}));var zt=Wt((function(t){t.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+n)}),(function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ut)/Bt}),(function(t){return t.getDate()-1}));function Vt(t){return Wt((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ut)/Yt}))}var Gt=Vt(0),qt=Vt(1);Vt(2),Vt(3);var $t=Vt(4);Vt(5),Vt(6),Wt((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}));var Zt=Wt((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Zt.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Wt((function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,r){n.setFullYear(n.getFullYear()+r*t)})):null},Wt((function(t){t.setUTCSeconds(0,0)}),(function(t,n){t.setTime(+t+n*Ut)}),(function(t,n){return(n-t)/Ut}),(function(t){return t.getUTCMinutes()})),Wt((function(t){t.setUTCMinutes(0,0,0)}),(function(t,n){t.setTime(+t+n*Pt)}),(function(t,n){return(n-t)/Pt}),(function(t){return t.getUTCHours()}));var Xt=Wt((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/Bt}),(function(t){return t.getUTCDate()-1}));function Kt(t){return Wt((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/Yt}))}var Jt=Kt(0),Qt=Kt(1);Kt(2),Kt(3);var tn=Kt(4);Kt(5),Kt(6),Wt((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCMonth(t.getUTCMonth()+n)}),(function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}));var nn=Wt((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));function rn(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function en(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function on(t,n,r){return{y:t,m:n,d:r,H:0,M:0,S:0,L:0}}nn.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Wt((function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,r){n.setUTCFullYear(n.getUTCFullYear()+r*t)})):null};var un,an,sn,cn={"-":"",_:" ",0:"0"},fn=/^\s*\d+/,hn=/^%/,ln=/[\\^$*+?|[\]().{}]/g;function dn(t,n,r){var i=t<0?"-":"",e=(i?-t:t)+"",o=e.length;return i+(o<r?new Array(r-o+1).join(n)+e:e)}function vn(t){return t.replace(ln,"\\$&")}function pn(t){return new RegExp("^(?:"+t.map(vn).join("|")+")","i")}function bn(t){for(var n={},r=-1,i=t.length;++r<i;)n[t[r].toLowerCase()]=r;return n}function mn(t,n,r){var i=fn.exec(n.slice(r,r+1));return i?(t.w=+i[0],r+i[0].length):-1}function yn(t,n,r){var i=fn.exec(n.slice(r,r+1));return i?(t.u=+i[0],r+i[0].length):-1}function wn(t,n,r){var i=fn.exec(n.slice(r,r+2));return i?(t.U=+i[0],r+i[0].length):-1}function gn(t,n,r){var i=fn.exec(n.slice(r,r+2));return i?(t.V=+i[0],r+i[0].length):-1}function Mn(t,n,r){var i=fn.exec(n.slice(r,r+2));return i?(t.W=+i[0],r+i[0].length):-1}function Ln(t,n,r){var i=fn.exec(n.slice(r,r+4));return i?(t.y=+i[0],r+i[0].length):-1}function An(t,n,r){var i=fn.exec(n.slice(r,r+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),r+i[0].length):-1}function Nn(t,n,r){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(r,r+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),r+i[0].length):-1}function En(t,n,r){var i=fn.exec(n.slice(r,r+1));return i?(t.q=3*i[0]-3,r+i[0].length):-1}function kn(t,n,r){var i=fn.exec(n.slice(r,r+2));return i?(t.m=i[0]-1,r+i[0].length):-1}function xn(t,n,r){var i=fn.exec(n.slice(r,r+2));return i?(t.d=+i[0],r+i[0].length):-1}function Tn(t,n,r){var i=fn.exec(n.slice(r,r+3));return i?(t.m=0,t.d=+i[0],r+i[0].length):-1}function Sn(t,n,r){var i=fn.exec(n.slice(r,r+2));return i?(t.H=+i[0],r+i[0].length):-1}function On(t,n,r){var i=fn.exec(n.slice(r,r+2));return i?(t.M=+i[0],r+i[0].length):-1}function In(t,n,r){var i=fn.exec(n.slice(r,r+2));return i?(t.S=+i[0],r+i[0].length):-1}function Rn(t,n,r){var i=fn.exec(n.slice(r,r+3));return i?(t.L=+i[0],r+i[0].length):-1}function Cn(t,n,r){var i=fn.exec(n.slice(r,r+6));return i?(t.L=Math.floor(i[0]/1e3),r+i[0].length):-1}function Dn(t,n,r){var i=hn.exec(n.slice(r,r+1));return i?r+i[0].length:-1}function Fn(t,n,r){var i=fn.exec(n.slice(r));return i?(t.Q=+i[0],r+i[0].length):-1}function Hn(t,n,r){var i=fn.exec(n.slice(r));return i?(t.s=+i[0],r+i[0].length):-1}function Wn(t,n){return dn(t.getDate(),n,2)}function jn(t,n){return dn(t.getHours(),n,2)}function _n(t,n){return dn(t.getHours()%12||12,n,2)}function Un(t,n){return dn(1+zt.count(Zt(t),t),n,3)}function Pn(t,n){return dn(t.getMilliseconds(),n,3)}function Bn(t,n){return Pn(t,n)+"000"}function Yn(t,n){return dn(t.getMonth()+1,n,2)}function zn(t,n){return dn(t.getMinutes(),n,2)}function Vn(t,n){return dn(t.getSeconds(),n,2)}function Gn(t){var n=t.getDay();return 0===n?7:n}function qn(t,n){return dn(Gt.count(Zt(t)-1,t),n,2)}function $n(t){var n=t.getDay();return n>=4||0===n?$t(t):$t.ceil(t)}function Zn(t,n){return t=$n(t),dn($t.count(Zt(t),t)+(4===Zt(t).getDay()),n,2)}function Xn(t){return t.getDay()}function Kn(t,n){return dn(qt.count(Zt(t)-1,t),n,2)}function Jn(t,n){return dn(t.getFullYear()%100,n,2)}function Qn(t,n){return dn((t=$n(t)).getFullYear()%100,n,2)}function tr(t,n){return dn(t.getFullYear()%1e4,n,4)}function nr(t,n){var r=t.getDay();return dn((t=r>=4||0===r?$t(t):$t.ceil(t)).getFullYear()%1e4,n,4)}function rr(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+dn(n/60|0,"0",2)+dn(n%60,"0",2)}function ir(t,n){return dn(t.getUTCDate(),n,2)}function er(t,n){return dn(t.getUTCHours(),n,2)}function or(t,n){return dn(t.getUTCHours()%12||12,n,2)}function ur(t,n){return dn(1+Xt.count(nn(t),t),n,3)}function ar(t,n){return dn(t.getUTCMilliseconds(),n,3)}function sr(t,n){return ar(t,n)+"000"}function cr(t,n){return dn(t.getUTCMonth()+1,n,2)}function fr(t,n){return dn(t.getUTCMinutes(),n,2)}function hr(t,n){return dn(t.getUTCSeconds(),n,2)}function lr(t){var n=t.getUTCDay();return 0===n?7:n}function dr(t,n){return dn(Jt.count(nn(t)-1,t),n,2)}function vr(t){var n=t.getUTCDay();return n>=4||0===n?tn(t):tn.ceil(t)}function br(t,n){return t=vr(t),dn(tn.count(nn(t),t)+(4===nn(t).getUTCDay()),n,2)}function mr(t){return t.getUTCDay()}function yr(t,n){return dn(Qt.count(nn(t)-1,t),n,2)}function wr(t,n){return dn(t.getUTCFullYear()%100,n,2)}function gr(t,n){return dn((t=vr(t)).getUTCFullYear()%100,n,2)}function Mr(t,n){return dn(t.getUTCFullYear()%1e4,n,4)}function Lr(t,n){var r=t.getUTCDay();return dn((t=r>=4||0===r?tn(t):tn.ceil(t)).getUTCFullYear()%1e4,n,4)}function Ar(){return"+0000"}function Nr(){return"%"}function Er(t){return+t}function kr(t){return Math.floor(+t/1e3)}un=function(t){var n=t.dateTime,r=t.date,i=t.time,e=t.periods,o=t.days,u=t.shortDays,a=t.months,s=t.shortMonths,c=pn(e),f=bn(e),h=pn(o),l=bn(o),d=pn(u),v=bn(u),p=pn(a),b=bn(a),m=pn(s),y=bn(s),w={a:function(t){return u[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:Wn,e:Wn,f:Bn,g:Qn,G:nr,H:jn,I:_n,j:Un,L:Pn,m:Yn,M:zn,p:function(t){return e[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Er,s:kr,S:Vn,u:Gn,U:qn,V:Zn,w:Xn,W:Kn,x:null,X:null,y:Jn,Y:tr,Z:rr,"%":Nr},g={a:function(t){return u[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:ir,e:ir,f:sr,g:gr,G:Lr,H:er,I:or,j:ur,L:ar,m:cr,M:fr,p:function(t){return e[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Er,s:kr,S:hr,u:lr,U:dr,V:br,w:mr,W:yr,x:null,X:null,y:wr,Y:Mr,Z:Ar,"%":Nr},M={a:function(t,n,r){var i=d.exec(n.slice(r));return i?(t.w=v[i[0].toLowerCase()],r+i[0].length):-1},A:function(t,n,r){var i=h.exec(n.slice(r));return i?(t.w=l[i[0].toLowerCase()],r+i[0].length):-1},b:function(t,n,r){var i=m.exec(n.slice(r));return i?(t.m=y[i[0].toLowerCase()],r+i[0].length):-1},B:function(t,n,r){var i=p.exec(n.slice(r));return i?(t.m=b[i[0].toLowerCase()],r+i[0].length):-1},c:function(t,r,i){return N(t,n,r,i)},d:xn,e:xn,f:Cn,g:An,G:Ln,H:Sn,I:Sn,j:Tn,L:Rn,m:kn,M:On,p:function(t,n,r){var i=c.exec(n.slice(r));return i?(t.p=f[i[0].toLowerCase()],r+i[0].length):-1},q:En,Q:Fn,s:Hn,S:In,u:yn,U:wn,V:gn,w:mn,W:Mn,x:function(t,n,i){return N(t,r,n,i)},X:function(t,n,r){return N(t,i,n,r)},y:An,Y:Ln,Z:Nn,"%":Dn};function L(t,n){return function(r){var i,e,o,u=[],a=-1,s=0,c=t.length;for(r instanceof Date||(r=new Date(+r));++a<c;)37===t.charCodeAt(a)&&(u.push(t.slice(s,a)),null!=(e=cn[i=t.charAt(++a)])?i=t.charAt(++a):e="e"===i?" ":"0",(o=n[i])&&(i=o(r,e)),u.push(i),s=a+1);return u.push(t.slice(s,a)),u.join("")}}function A(t,n){return function(r){var i,e,o=on(1900,void 0,1);if(N(o,t,r+="",0)!=r.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(n&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(e=(i=en(on(o.y,0,1))).getUTCDay(),i=e>4||0===e?Qt.ceil(i):Qt(i),i=Xt.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7):(e=(i=rn(on(o.y,0,1))).getDay(),i=e>4||0===e?qt.ceil(i):qt(i),i=zt.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),e="Z"in o?en(on(o.y,0,1)).getUTCDay():rn(on(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(e+5)%7:o.w+7*o.U-(e+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,en(o)):rn(o)}}function N(t,n,r,i){for(var e,o,u=0,a=n.length,s=r.length;u<a;){if(i>=s)return-1;if(37===(e=n.charCodeAt(u++))){if(e=n.charAt(u++),!(o=M[e in cn?n.charAt(u++):e])||(i=o(t,r,i))<0)return-1}else if(e!=r.charCodeAt(i++))return-1}return i}return w.x=L(r,w),w.X=L(i,w),w.c=L(n,w),g.x=L(r,g),g.X=L(i,g),g.c=L(n,g),{format:function(t){var n=L(t+="",w);return n.toString=function(){return t},n},parse:function(t){var n=A(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=L(t+="",g);return n.toString=function(){return t},n},utcParse:function(t){var n=A(t+="",!0);return n.toString=function(){return t},n}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),an=un.format,sn=un.utcParse;var xr="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString||(0,un.utcFormat)(xr),+new Date("2000-01-01T00:00:00.000Z")||sn(xr);var Tr=function(t){var n=t.date,r=t.format,i=t.offsetTimezone?6e4*n.getTimezoneOffset():0,e=new Date(n.getTime()+i);return r=r.includes("%")?r:"%Y %b",an(r)(e)};var Sr={number:"0[.][0][0]a",date:"%B %d %Y",percent:"0[.][0][0]%",string:""},Or={valueAccessor:"number",nodeSizeAccessor:"number",latitudeAccessor:"number",longitudeAccessor:"number",xAccessor:[{charts:["scatter-plot"],type:"number"}],yAccessor:[{charts:["scatter-plot"],type:"number"}],sizeAccessor:[{charts:["scatter-plot"],type:"number"}]},Ir={"alluvial-diagram":["nodeIDAccessor","labelAccessor","valueAccessor"],"alluvial-diagram-secondary-table":["groupAccessor","sourceAccessor","targetAccessor","valueAccessor"],"bar-chart":["groupAccessor","ordinalAccessor","valueAccessor"],"clustered-bar-chart":["groupAccessor","ordinalAccessor","valueAccessor"],"stacked-bar-chart":["groupAccessor","ordinalAccessor","valueAccessor"],"line-chart":["seriesAccessor","ordinalAccessor","valueAccessor"],"pie-chart":["ordinalAccessor","valueAccessor"],"scatter-plot":["groupAccessor","xAccessor","yAccessor","sizeAccessor"],"heat-map":["xAccessor","yAccessor","valueAccessor"],"circle-packing":["clusterAccessor","nodeAccessor","nodeSizeAccessor","idAccessor"],"parallel-plot":["seriesAccessor","ordinalAccessor","valueAccessor"],"dumbbell-plot":["seriesAccessor","ordinalAccessor","valueAccessor"],"world-map":["groupAccessor","markerNameAccessor","joinNameAccessor","valueAccessor"]};function Rr(t,n,r){var i=[];return Ir[r].forEach((function(r){t[r]&&void 0!==n[t[r]]&&i.push(t[r])})),Object.keys(n).forEach((function(t){i.indexOf(t)<0&&i.push(t)})),i}function Cr(t,n){var r=[];return t.forEach((function(t){var i={};Object.keys(n).forEach((function(r){t[r]instanceof Date?i[r]=Tr({date:t[r],format:n[r]?n[r]:Sr.date,offsetTimezone:!0}):"normalized"===n[r]?(i[r]=n[r]&&t[r]?Ct(t[r],Sr.number):t[r],i[r+"%"]=n[r]&&t[r]&&t.getSum?Ct(t[r]/t.getSum(),Sr.percent):t[r]):i[r]=n[r]&&t[r]?Ct(t[r],n[r]):t[r]})),r.push(i)})),r}var Dr=function(t){var n=t.d,r=t.i,i=t.n,e=t.capitalizedGeomType,o=t.capitalizedGroupName,u=t.includeKeyNames,a=t.dataKeys,s=t.dataKeyNames,c=t.groupKeys,f=t.nested,h=t.recursive,l=h?n.data.data:n,d="";if(f?(l[f].length&&l[f].forEach((function(t){d+=Hr(t,a,s,u,!0)})),c&&c.length&&c.forEach((function(t){d+=t?l[t]+". ":""}))):d+=Hr(l,a,s,u),d+=e+" "+(r+1)+" of "+i.length+".",h){var v=n.depth,p=vt(i[r].parentNode).selectAll("g:not(.vcl-accessibility-focus-highlight)").filter((function(t){return void 0===v||t&&t.depth===v+1})).size();d+=(" This "+o||e+" group")+" contains "+(p||"0")+" child elements"+(!p&&n.children&&n.children.length?" (but some may be hidden until you interact with this node)":"")}return d},Fr=function(t){var n=t.d,r=t.targetNode,i=t.index,e=t.groupAccessor,o=t.groupKeys,u=t.dataKeyNames,a=t.siblings,s=t.isOffsetGroup,c=t.includeKeyNames,f=t.capitalizedGroupName,h=t.capitalizedGeomType,l=t.geomType,d=0;if(Array.prototype.forEach.call(a,(function(t){null!==vt(t).attr("tabindex")&&d++})),d>1){var v=s?r.parentNode.nextSibling.childNodes[i]:r,p=r.querySelectorAll("*:not(.vcl-accessibility-focus-highlight)")[0],b=p&&p.__data__?c&&e&&u&&p.__data__[e]&&u[e]?u[e]+" "+p.__data__[e]+". ":c&&e&&p.__data__[e]?e+" "+p.__data__[e]+". ":p.__data__[e]+". ":"";o&&o.length&&o.forEach((function(t){b+=t?n[t]+". ":""}));var m=v?v.querySelectorAll("*:not(.vcl-accessibility-focus-highlight)").length:0;return b+(f||h+" group")+" "+(i+1)+" of "+r.parentNode.querySelectorAll("g:not(.vcl-accessibility-focus-highlight)").length+" which contains "+m+" interactive "+l+(1!==m?"s.":".")}return(f||h+" group")+" which contains "+(m=a[i].querySelectorAll("*:not(.vcl-accessibility-focus-highlight)").length)+" interactive "+l+(1!==m?"s.":".")},Hr=function(t,n,r,i,e){var o=Object.keys(n),u="",a=t.data?Cr([t.data],n)[0]:Cr([t],n)[0],s=1;return o.forEach((function(t){var n=r&&r[t]?r[t]:t;if(void 0!==a[t]){var o="string"==typeof a[t]&&"."===a[t][a[t].length-1]?" ":". ";!e||i?(u+=i?n+" ":"",u+=a[t]+o):u+=a[t]+(s%2?" ":o),void 0!==a[t+"%"]&&(u+=i?n+" as a percentage ":"",u+=a[t+"%"]+("."===a[t+"%"][a[t+"%"].length-1]?" ":". ")),s++}})),u},Wr=13,jr=13,_r=32,Ur=39,Pr=37,Br=40,Yr=38,zr=190,Vr=188,Gr=27,qr=Et(),$r="IE"===qr,Zr="Edge"===qr,Xr="application",Kr="button",Jr="node-",Qr=!1;$r&&function(t){var n=function(n,r){r=r||{bubbles:!1,cancelable:!1};var i=document.createEvent("MouseEvent");return i.initMouseEvent(n,r.bubbles,r.cancelable,t,0,r.screenX||0,r.screenY||0,r.clientX||0,r.clientY||0,r.ctrlKey||!1,r.altKey||!1,r.shiftKey||!1,r.metaKey||!1,r.button||0,r.relatedTarget||null),i};n.prototype=Event.prototype,t.MouseEvent=n}(window);var ti=function(t){return t===_r||t===jr||t===Wr||t===Ur||t===Pr||t===Br||t===Yr||t===zr||t===Vr},ni=function(t){var n=t.rootNode,r=t.nodeID,i=t.geomType,e=t.includeKeyNames,o=t.dataKeys,u=t.dataKeyNames,a=t.groupKeys,s=t.nested,c=t.groupName,f=t.groupAccessor,h=t.recursive,l=t.sameGroupCousinKey,d=t.deleteControllers;($r||Zr)&&(Qr=!1);var v=0;if(!d){var p=si(r,h);p&&p.id&&(v++,ei({rootNode:n,nodeID:p.id,isTarget:!1,geomType:i,includeKeyNames:e,dataKeys:o,dataKeyNames:u,groupKeys:a,nested:s,recursive:h,groupName:c,groupAccessor:f,direction:"backward",sourceID:r,sameGroupCousinKey:l}));var b=document.getElementById(Jr+r);if(b){v++,n.appendChild(b.parentNode);var m=document.getElementById(r).getBoundingClientRect(),y=n.getBoundingClientRect();vt(b).on("focus",(function(){})).style("position","absolute").style("padding",0).style("margin",0).style("overflow","visible").style("left",m.left-y.left+"px").style("top",m.top-y.top+"px").style("width",m.width+"px").style("height",m.height+"px")}else v++,ei({rootNode:n,nodeID:r,isTarget:!0,geomType:i,includeKeyNames:e,dataKeys:o,dataKeyNames:u,groupKeys:a,nested:s,recursive:h,groupName:c,groupAccessor:f,sameGroupCousinKey:l});var w=ai(r,h);w&&w.id&&(v++,ei({rootNode:n,nodeID:w.id,isTarget:!1,geomType:i,includeKeyNames:e,dataKeys:o,dataKeyNames:u,groupKeys:a,nested:s,recursive:h,groupName:c,groupAccessor:f,direction:"forward",sourceID:r,sameGroupCousinKey:l}))}ri(r,h,d);for(var g=n.children.length-v;g;)n.removeChild(n.children[0]),g--},ri=function(t,n,r){var i=document.getElementById(r?t:Jr+t),e=document.getElementById(t);ii(r?i:i.parentNode.parentNode),hi(i),r?fi(e,!0):(vt(i).classed("VCL-controller-focused",!0),Ii(e,n,!1),ci(e)),Ai(e,n)},ii=function(t){var n=vt(t).select(".VCL-controller-focused");if(n.size()){n.classed("VCL-controller-focused",!1);var r=document.getElementById(n.node().id.substring(5));li(r)}},ei=function(t){var n=t.rootNode,r=t.nodeID,i=t.isTarget,e=t.geomType,o=t.includeKeyNames,u=t.dataKeys,a=t.dataKeyNames,s=t.groupKeys,c=t.nested,f=t.recursive,h=t.groupName,l=t.groupAccessor,d=t.direction,v=t.sourceID,p=t.sameGroupCousinKey,b=document.getElementById(r),m=vt(b).attr("data-offset-group"),y="g"===b.nodeName||m,w="div",g="img",M=null;y||(g=vt(b).attr("data-role"),w=(M=vt(b).attr("data-aria-pressed"))?"button":"div");var L=b.getBoundingClientRect(),A=n.getBoundingClientRect();vt(n).append(Zr?"div":"figure").attr("role","figure").append(w).style("position","absolute").style("padding",0).style("margin",0).style("overflow","visible").attr("role",g).attr("id",Jr+r).attr("tabindex",-1).on("keydown",(function(){var t=nt;t.stopPropagation();var i=gi(r,t,y,f,p);if(i)if(i.clicked){var d=document.getElementById(i.id);Li(d.parentNode);var v=new MouseEvent("click",{bubbles:!1,cancelable:!0});d.dispatchEvent(v),ri(r,f)}else if(i.focused){var b=i.id||n.id;ni({rootNode:n,nodeID:b,geomType:e,includeKeyNames:o,dataKeys:u,dataKeyNames:a,groupKeys:s,nested:c,groupName:h,groupAccessor:l,recursive:f,sameGroupCousinKey:p,deleteControllers:b===n.id})}})).on("keyup",(function(){Qr=!1})).on("focus",i?null:function(){var t=r;if(d){var i="backward"===d?si(v,f):ai(v,f);t=i?i.id:""}t&&ni({rootNode:n,nodeID:t,geomType:e,includeKeyNames:o,dataKeys:u,dataKeyNames:a,groupKeys:s,nested:c,groupName:h,groupAccessor:l,recursive:f,sameGroupCousinKey:p})}).on("blur",(function(){var t=document.getElementById(r);li(t)})).attr("aria-label",(function(t,n,r){var i,d=e[0].toUpperCase()+e.substring(1),v=h?h[0].toUpperCase()+h.substring(1):"",p=f?b.parentNode:b,w=f?mi(b):p.parentNode.childNodes,g=Array.prototype.indexOf.call(w,b),L=vt(p),A=p.__data__||L.data()[0];return i=y?Fr({d:A,targetNode:p,index:g,groupAccessor:l,groupKeys:s,dataKeyNames:a,siblings:w,isOffsetGroup:m,includeKeyNames:o,capitalizedGroupName:v,capitalizedGeomType:d,geomType:e}):Dr({d:A,i:g,n:w,capitalizedGeomType:d,capitalizedGroupName:v,includeKeyNames:o,dataKeys:u,dataKeyNames:a,groupKeys:s,nested:c,recursive:f}),vt(r[n]).text(i),M&&vt(r[n]).attr("aria-pressed",M),i})).style("left",L.left-A.left+"px").style("top",L.top-A.top+"px").style("width",L.width+"px").style("height",L.height+"px").style("pointer-events","none")},oi=function(t,n){var r=n?t.__data__["next"===n?"target":"source"].index:Array.prototype.indexOf.call(t.parentNode.parentNode.childNodes,t.parentNode);return t.parentNode.parentNode.previousSibling.childNodes[r]},ui=function(t){return t+"-"+Math.round(1e6*Math.random())+"-"+Math.round(1e6*Math.random())+"-"+Math.round(1e6*Math.random())},ai=function(t,n,r){var i=""===t?null:document.getElementById(t);if(!i||"svg"===i.tagName)return null;if(!n&&i.nextElementSibling)return null!==vt(i.nextElementSibling).attr("tabindex")?i.nextElementSibling:ai(i.nextElementSibling.id,n);if(n&&yi(i,"next",!0))return yi(i,"next",!0);if(!r){var e=vi(i,n),o=n?e?yi(e,"next",!0):null:e.nextElementSibling;if(o){if(null!==vt(o).attr("tabindex"))return o;if(o.id)return ai(o.id,n,!0)}}return null},si=function(t,n){var r=""===t?null:document.getElementById(t);return r&&"svg"!==r.tagName?!n&&r.previousElementSibling?null!==vt(r.previousElementSibling).attr("tabindex")?r.previousElementSibling:si(r.previousElementSibling.id,n):n&&yi(r,"previous",!0)?yi(r,"previous",!0):"g"===r.tagName?null:vi(r,n):null},ci=function(t){var n=pi(t);n!==document.body&&n.parentNode.firstElementChild.setAttribute("aria-activedescendant",Jr+t.id)},fi=function(t,n){var r=n?t:pi(t);r!==document.body&&(n?t:r.parentNode.firstElementChild).setAttribute("aria-activedescendant",null)},hi=function(t){$r?setTimeout((function(){t.focus()}),10):t.focus()},li=function(t){t&&(fi(t),Oi(t),Mi(t))},di=function(t){if(null!==vt(t.parentNode.lastElementChild).attr("tabindex"))return t.parentNode.lastElementChild;for(var n=null,r=t.parentNode.childNodes.length-2;!n&&r>=0;){var i=t.parentNode.childNodes[r];null!==vt(i).attr("tabindex")&&(n=i),r--}return n},vi=function(t,n,r){return n?t.parentNode&&t.parentNode.parentNode&&t.parentNode.parentNode.firstElementChild&&Ti(t.parentNode.parentNode.firstElementChild,!0)||pi(t):r&&null!==vt(t.parentNode).attr("tabindex")?t.parentNode:pi(t)},pi=function(t){return t.ownerSVGElement?t.ownerSVGElement:"svg"===t.parentNode.nodeName||t.parentNode===document.body?t.parentNode:pi(t.parentNode)},bi=function(t){var n=t.target,r=t.keyCode||t.which;if(!t.shiftKey&&(r===jr||r===_r))return t.preventDefault(),vt(n.parentNode).select("svg").select("[tabindex]").node()},mi=function(t){var n=[];return Array.prototype.forEach.call(t.parentNode.parentNode.childNodes,(function(t){"g"!==t.tagName||t.classList.contains(".vcl-accessibility-focus-highlight")||n.push(t.firstElementChild)})),n},yi=function(t,n,r){var i,e,o=wi(t.parentNode),u=vt(t).attr("data-index")?+vt(t).attr("data-index"):wi(t),a=[];Array.prototype.forEach.call(t.parentNode.parentNode.childNodes,(function(t){"g"!==t.tagName||t.classList.contains("vcl-accessibility-focus-highlight")||a.push(t)}));var s=a.length;if(!s)return null;if("previous"===n){if(r&&0===o)return null;i=0!==o?a[o-1].childNodes:a[s-1].childNodes}else if("next"===n){if(r&&o===s-1)return null;i=o!==s-1?a[o+1].childNodes:a[0].childNodes}for(e=vt(t).attr("data-index")?Array.prototype.filter.call(i,(function(t){return u===+vt(t).attr("data-index")}))[0]:i[u];!e&&u>-1;)e=vt(t).attr("data-index")?Array.prototype.filter.call(i,(function(t){return u===+vt(t).attr("data-index")}))[0]:i[u],0===u&&!e&&vt(t).attr("data-index")&&(e=i[u]),u--;return t!==e?e:null},wi=function(t){for(var n=0,r=t.nodeName;t.previousSibling;)r!==t.previousSibling.nodeName||vt(t.previousSibling).classed("vcl-accessibility-focus-hover")||n++,t=t.previousSibling;return n},gi=function(t,n,r,i,e){var o,u={clicked:!1,focused:!1,id:""},a=document.getElementById(t),s=n.keyCode||n.which,c=ti(s),f=s===Ur||s===Br||s===zr?"next":s===Pr||s===Yr||s===Vr?"previous":n.shiftKey&&s===Wr?"up":s===jr?"down":"";return(f||s===_r)&&n.preventDefault(),c&&!Qr&&(Qr=!0,s===_r?(u.clicked=!0,u.id=t):s!==Ur&&s!==Pr||i?!i&&(s===Br||s===zr||s===Yr||s===Vr)||(s===Ur||s===Pr)&&i?e&&!r?o=function(t,n,r){var i,e=vt(t).data()[0][r],o=[],u=-1,a=0;return vt(t.parentNode).selectAll("*").each((function(n,i,s){n&&n[r]===e&&(o.push(s[i]),a++),u<0&&t===s[i]&&(u=a-1)})),a&&u>-1&&("previous"===n?i=o[u-1]||o[o.length-1]:"next"===n&&(i=o[u+1]||o[0])),i}(a,f,e):r||(o=vt(a).attr("data-offset-element")?oi(a,f):yi(a,f)):"down"===f||i&&(s===Br||s===zr)?(r||i)&&(o=vt(a).attr("data-offset-group")?function(t){var n=Array.prototype.indexOf.call(t.parentNode.childNodes,t);return t.parentNode.nextSibling.childNodes[n]?t.parentNode.nextSibling.childNodes[n].childNodes[0]:void 0}(a):function(t,n){var r=n?xi(t):t;return r&&r.firstElementChild?Ti(r.firstElementChild,!0):null}(a,i)):("up"===f||i&&(s===Yr||s===Vr))&&(o=r?pi(a):vt(a).attr("data-offset-element")?oi(a):vi(a,i,!0)):o=function(t,n){var r=n+"Sibling",i=("next"===n?"first":"last")+"ElementChild",e=t[r]&&null!==vt(t[r]).attr("tabindex")&&t[r]?t[r]:"next"===n?t.parentNode.firstElementChild:di(t);return e||e.parentNode[i]}(a,f)),o&&vt(o).attr("tabindex")&&(u.focused=!0,u.id=o.id),u},Mi=function(t,n){var r=n?"vcl-accessibility-focus-root":"vcl-accessibility-focus";vt(t.ownerSVGElement).selectAll("."+r+"-source").classed(r+"-source",!1),vt(t.ownerSVGElement).selectAll("."+r+"-indicator").remove()},Li=function(t){vt(t.ownerSVGElement).selectAll(".vcl-accessibility-focus-indicator").classed("hidden",!0).style("opacity",0).attr("opacity",0)},Ai=function(t,n){var r="DIV"!==t.tagName?t:vt(t.parentNode).select("svg").node(),i=!1,e="svg"!==r.tagName?"vcl-accessibility-focus":"vcl-accessibility-focus-root",o="g"===r.tagName||"svg"===r.tagName;if(o){var u=r.getBBox(),a="svg"===r.tagName?Math.max(+r.getAttribute("width")-10,0):+u.width+10,s="svg"===r.tagName?Math.max(+r.getAttribute("height")-10,0):+u.height+10,c="svg"===r.tagName?5:+u.x-5,f="svg"===r.tagName?5:+u.y-5;r=vt("svg"!==r.tagName?r.parentNode:r).append("rect").attr("x",c).attr("y",f).attr("width",a).attr("height",s).attr("transform",vt(r).attr("transform")||null).attr("fill","none").style("fill","none").node(),i=!0}else vt(r).style("outline").includes("auto")&&vt(r).style("outline-width","0px").style("outline-offset","0px").style("outline-color","none");var h=r.parentNode;Mi("svg"!==h.tagName?h:h.firstElementChild),vt(r).classed(e+"-source",!0);var l=vt(r).attr("width"),d=r.cloneNode(!1),v=r.cloneNode(!1),p=r.cloneNode(!1);if(!n&&!i||n&&o){var b=o||null===vt(r.parentNode).attr("tabindex")&&!vt(r.parentNode).classed("offset-target")?h:h.parentNode,m=h.cloneNode(!1);m.appendChild(v),m.appendChild(d),m.appendChild(p),b.appendChild(m),Ni(vt(m),e),vt(m).attr("filter",null)}else if(n){var y=+vt(p).attr("r");h.parentNode.appendChild(v),vt(v).attr("r",y+6).attr("stroke-width",0),h.parentNode.appendChild(d),vt(d).attr("r",y+3).attr("stroke-width",0)}else if(vt(t).attr("data-offset-group")){var w=h.nextSibling.nextSibling;h.parentNode.insertBefore(v,w),h.parentNode.insertBefore(d,w),h.parentNode.insertBefore(p,w)}else r.nextSibling?(h.insertBefore(p,r.nextSibling),h.insertBefore(d,r.nextSibling),h.insertBefore(v,r.nextSibling)):(h.appendChild(v),h.appendChild(d),h.appendChild(p));var g=vt(p).style("opacity",o?0:1).attr("opacity",o?0:1).style("stroke-opacity",o?0:1).attr("stroke-opacity",o?0:1);(!n&&!o&&l||o)&&g.style("fill-opacity",0).attr("fill-opacity",0),Ni(g,e);var M=vt(r).data()&&vt(r).data()[0]&&vt(r).data()[0].source&&vt(r).data()[0].target&&(vt(r).data()[0].y0||0===vt(r).data()[0].y0),L=vt(d);Ni(L,e),ki(L,o||n||l?6:10,"#ffffff",M?vt(r).data()[0]:void 0),n||o||!l||Ei(L,3),L.style("opacity",1).attr("opacity",1);var A=vt(v);Ni(A,e),ki(A,o||n||l?o?10:2:14,"#000000",M?vt(r).data()[0]:void 0),n||o||!l||Ei(A,7),A.style("opacity",1).attr("opacity",1),i&&vt(r).remove()},Ni=function(t,n){t.attr("d")&&t.attr("filter")&&!t.attr("marker-start")&&t.attr("filter",null),t.attr("id",null).attr("class",n+"-highlight "+n+"-indicator").attr("focusable",!1).attr("aria-label",null).attr("aria-hidden",!0).attr("role",null).style("pointer-events","none").attr("tabindex",null).attr("mix-blend-mode",null).style("mix-blend-mode",null).attr("r",(function(t,n,r){return parseFloat(vt(r[n]).attr("r"))||1}))},Ei=function(t,n){t.attr("width",(function(t,r,i){return parseFloat(vt(i[r]).attr("width"))+2*n})).attr("height",(function(t,r,i){return parseFloat(vt(i[r]).attr("height"))+2*n})).attr("x",(function(t,r,i){return parseFloat(vt(i[r]).attr("x"))-n})).attr("y",(function(t,r,i){return parseFloat(vt(i[r]).attr("y"))-n}))},ki=function(t,n,r,i){t.style("stroke-dasharray","").attr("stroke-dasharray",null).style("outline-offset","0px").style("outline-color","none").style("outline-width","0px").attr("filter",null).style("stroke-linecap",i?"butt":"round").style("fill","none").style("stroke-opacity",1).style("stroke",r).style("stroke-width",(function(t,r,e){var o="none"!==vt(e[r]).style("stroke")&&parseFloat(vt(e[r]).style("stroke-width"))||0,u=vt(e[r]).attr("transform")?vt(e[r]).attr("transform").indexOf("scale"):-1,a=1;if(u>-1){var s=vt(e[r]).attr("transform").substring(u+6),c=s.indexOf(",")<s.indexOf(")")&&-1!==s.indexOf(",")?s.indexOf(","):s.indexOf(")");a=+s.substring(0,c)}var f=0,h=vt(e[r]);if(h.attr("d")&&i){var l=h.attr("d").substr(1);h.attr("d","M "+(i.source.x1-n/2)+" "+i.y0+" L"+l+"L "+(i.target.x0+n/2)+" "+i.y1)}else if(h.attr("marker-start")&&h.attr("data-centerX1")&&h.attr("d")){var d=h.attr("data-centerX1"),v=h.attr("data-centerY1"),p=h.attr("data-centerX2"),b=h.attr("data-centerY2");h.attr("d","M "+d+" "+v+" L "+p+" "+b),f=+h.attr("data-barSize")+6}return h.attr("marker-start",null),h.attr("marker-end",null),(o+n+f)/a+"px"}))},xi=function(t){return t.nextElementSibling?"g"===t.nextElementSibling.nodeName?t.nextElementSibling:xi(t.nextElementSibling):null},Ti=function(t,n){return n&&(!n||null===vt(t).attr("tabindex"))||vt(t).classed("vcl-accessibility-focus-highlight")?t.nextElementSibling?Ti(t.nextElementSibling,n):null:t},Si=function(t){var n=t.getBoundingClientRect(),r=n.left+($r?0:document.body.scrollLeft+document.documentElement.scrollLeft);return{top:n.top+($r?0:document.body.scrollTop+document.documentElement.scrollTop),left:r}},Oi=function(t){Mi(t.parentNode);var n=new MouseEvent("mouseout",{bubbles:!1,cancelable:!0});t.dispatchEvent(n)},Ii=function(t,n,r){var i=Si(t).left,e=Si(t).top,o=new MouseEvent("mouseover",{bubbles:!1,cancelable:!0,clientX:i,clientY:e});r&&Ai(t,n),t.dispatchEvent(o)},Ri=Et(),Ci="IE"===Ri,Di="Edge"===Ri,Fi=function(t){t.setAttribute("role","tooltip"),t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex",null)},Hi=function(t,n){Wi(t),Wi(t.parentNode,!0),vt(t).classed("vcl-svg",!0),(Ci||Di)&&Ui(null,n)},Wi=function(t,n){vt(t).attr("aria-hidden","true").attr("role","presentation").attr("focusable",n?null:"false").attr("tabindex",null)},ji=function(t){var n=window.location.pathname;return"/"===n[n.length-1]&&(n=n.substring(0,n.length-1)),"url(#"+(t?t+")":"")},_i=function(t,n){vt(t).classed("vcl-svg",!0);var r=vt(t).select(".vcl-inversion-filter");if(!r.size()){var i=vt(t).select("defs");i.size()||(i=vt(t).append("defs")),(r=i.append("filter").attr("class","vcl-inversion-filter").attr("color-interpolation-filters","sRGB")).append("feColorMatrix").attr("in","SourceGraphic").attr("type","matrix").attr("values","-1 0 0 0 1 \n        0 -1 0 0 1 \n        0 0 -1 0 1\n        0 0 0 1 0"),r.append("feColorMatrix").attr("type","hueRotate").attr("values","180")}r.attr("id","inversion-"+n);var e=function(t){Ui(t,n)};(Ci||Di)&&(matchMedia("(-ms-high-contrast: active)").addListener(e),matchMedia("(-ms-high-contrast: black-on-white)").addListener((function(){Ui(null,n)})),e(matchMedia("(-ms-high-contrast: active)")))},Ui=function(t,n){if((t||matchMedia("(-ms-high-contrast: active)")).matches&&!matchMedia("(-ms-high-contrast: black-on-white)").matches){var r=ji("inversion-"+n);vt("#"+n).selectAll(".vcl-svg").select("g").attr("filter",r)}else vt("#"+n).selectAll(".vcl-svg").select("g").attr("filter",null)},Pi=function(t){t.keyCode===Gr&&yt(".vcl-tooltip").each((function(t,n,r){var i=vt(r[n]);1==i.style("opacity")&&tc({root:i,isToShow:!1})}))};function Bi(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Yi(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var zi=function(t){return 1===t.length&&(t=function(t){return function(n,r){return Yi(t(n),r)}}(t)),{left:function(n,r,i,e){for(null==i&&(i=0),null==e&&(e=n.length);i<e;){var o=i+e>>>1;t(n[o],r)<0?i=o+1:e=o}return i},right:function(n,r,i,e){for(null==i&&(i=0),null==e&&(e=n.length);i<e;){var o=i+e>>>1;t(n[o],r)>0?e=o:i=o+1}return i}}}(Yi),Vi=zi.right;function Gi(t,n,r){t=+t,n=+n,r=(e=arguments.length)<2?(n=t,t=0,1):e<3?1:+r;for(var i=-1,e=0|Math.max(0,Math.ceil((n-t)/r)),o=new Array(e);++i<e;)o[i]=t+i*r;return o}var qi=Math.sqrt(50),$i=Math.sqrt(10),Zi=Math.sqrt(2);function Xi(t,n,r){var i=(n-t)/Math.max(0,r),e=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,e);return e>=0?(o>=qi?10:o>=$i?5:o>=Zi?2:1)*Math.pow(10,e):-Math.pow(10,-e)/(o>=qi?10:o>=$i?5:o>=Zi?2:1)}function Ki(t,n){var r,i,e=t.length,o=-1;if(null==n){for(;++o<e;)if(null!=(r=t[o])&&r>=r)for(i=r;++o<e;)null!=(r=t[o])&&r>i&&(i=r)}else for(;++o<e;)if(null!=(r=n(t[o],o,t))&&r>=r)for(i=r;++o<e;)null!=(r=n(t[o],o,t))&&r>i&&(i=r);return i}function Ji(t){for(var n,r,i,e=t.length,o=-1,u=0;++o<e;)u+=t[o].length;for(r=new Array(u);--e>=0;)for(n=(i=t[e]).length;--n>=0;)r[--u]=i[n];return r}function Qi(t,n){var r,i,e=t.length,o=-1;if(null==n){for(;++o<e;)if(null!=(r=t[o])&&r>=r)for(i=r;++o<e;)null!=(r=t[o])&&i>r&&(i=r)}else for(;++o<e;)if(null!=(r=n(t[o],o,t))&&r>=r)for(i=r;++o<e;)null!=(r=n(t[o],o,t))&&i>r&&(i=r);return i}function te(t,n){var r,i=t.length,e=-1,o=0;if(null==n)for(;++e<i;)(r=+t[e])&&(o+=r);else for(;++e<i;)(r=+n(t[e],e,t))&&(o+=r);return o}function ne(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}var re="$";function ie(){}function ee(t,n){var r=new ie;if(t instanceof ie)t.each((function(t,n){r.set(n,t)}));else if(Array.isArray(t)){var i,e=-1,o=t.length;if(null==n)for(;++e<o;)r.set(e,t[e]);else for(;++e<o;)r.set(n(i=t[e],e,t),i)}else if(t)for(var u in t)r.set(u,t[u]);return r}ie.prototype=ee.prototype={constructor:ie,has:function(t){return re+t in this},get:function(t){return this[re+t]},set:function(t,n){return this[re+t]=n,this},remove:function(t){var n=re+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===re&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===re&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===re&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===re&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===re&&++t;return t},empty:function(){for(var t in this)if(t[0]===re)return!1;return!0},each:function(t){for(var n in this)n[0]===re&&t(this[n],n.slice(1),this)}};var oe=Array.prototype,ue=oe.map,ae=oe.slice,se={name:"implicit"};function ce(){var t=ee(),n=[],r=[],i=se;function e(e){var o=e+"",u=t.get(o);if(!u){if(i!==se)return i;t.set(o,u=n.push(e))}return r[(u-1)%r.length]}return e.domain=function(r){if(!arguments.length)return n.slice();n=[],t=ee();for(var i,o,u=-1,a=r.length;++u<a;)t.has(o=(i=r[u])+"")||t.set(o,n.push(i));return e},e.range=function(t){return arguments.length?(r=ae.call(t),e):r.slice()},e.unknown=function(t){return arguments.length?(i=t,e):i},e.copy=function(){return ce(n,r).unknown(i)},ne.apply(e,arguments),e}function fe(t,n,r){t.prototype=n.prototype=r,r.constructor=t}function he(t,n){var r=Object.create(t.prototype);for(var i in n)r[i]=n[i];return r}function le(){}var de=.7,ve=1/de,pe="\\s*([+-]?\\d+)\\s*",be="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",me="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ye=/^#([0-9a-f]{3,8})$/,we=new RegExp("^rgb\\("+pe+","+pe+","+pe+"\\)$"),ge=new RegExp("^rgb\\("+me+","+me+","+me+"\\)$"),Me=new RegExp("^rgba\\("+pe+","+pe+","+pe+","+be+"\\)$"),Le=new RegExp("^rgba\\("+me+","+me+","+me+","+be+"\\)$"),Ae=new RegExp("^hsl\\("+be+","+me+","+me+"\\)$"),Ne=new RegExp("^hsla\\("+be+","+me+","+me+","+be+"\\)$"),Ee={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ke(){return this.rgb().formatHex()}function xe(){return this.rgb().formatRgb()}function Te(t){var n,r;return t=(t+"").trim().toLowerCase(),(n=ye.exec(t))?(r=n[1].length,n=parseInt(n[1],16),6===r?Se(n):3===r?new Ce(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===r?Oe(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===r?Oe(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=we.exec(t))?new Ce(n[1],n[2],n[3],1):(n=ge.exec(t))?new Ce(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Me.exec(t))?Oe(n[1],n[2],n[3],n[4]):(n=Le.exec(t))?Oe(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Ae.exec(t))?_e(n[1],n[2]/100,n[3]/100,1):(n=Ne.exec(t))?_e(n[1],n[2]/100,n[3]/100,n[4]):Ee.hasOwnProperty(t)?Se(Ee[t]):"transparent"===t?new Ce(NaN,NaN,NaN,0):null}function Se(t){return new Ce(t>>16&255,t>>8&255,255&t,1)}function Oe(t,n,r,i){return i<=0&&(t=n=r=NaN),new Ce(t,n,r,i)}function Ie(t){return t instanceof le||(t=Te(t)),t?new Ce((t=t.rgb()).r,t.g,t.b,t.opacity):new Ce}function Re(t,n,r,i){return 1===arguments.length?Ie(t):new Ce(t,n,r,null==i?1:i)}function Ce(t,n,r,i){this.r=+t,this.g=+n,this.b=+r,this.opacity=+i}function De(){return"#"+je(this.r)+je(this.g)+je(this.b)}function Fe(){var t=He(this.opacity);return(1===t?"rgb(":"rgba(")+We(this.r)+", "+We(this.g)+", "+We(this.b)+(1===t?")":", "+t+")")}function He(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function We(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function je(t){return((t=We(t))<16?"0":"")+t.toString(16)}function _e(t,n,r,i){return i<=0?t=n=r=NaN:r<=0||r>=1?t=n=NaN:n<=0&&(t=NaN),new Be(t,n,r,i)}function Ue(t){if(t instanceof Be)return new Be(t.h,t.s,t.l,t.opacity);if(t instanceof le||(t=Te(t)),!t)return new Be;if(t instanceof Be)return t;var n=(t=t.rgb()).r/255,r=t.g/255,i=t.b/255,e=Math.min(n,r,i),o=Math.max(n,r,i),u=NaN,a=o-e,s=(o+e)/2;return a?(u=n===o?(r-i)/a+6*(r<i):r===o?(i-n)/a+2:(n-r)/a+4,a/=s<.5?o+e:2-o-e,u*=60):a=s>0&&s<1?0:u,new Be(u,a,s,t.opacity)}function Pe(t,n,r,i){return 1===arguments.length?Ue(t):new Be(t,n,r,null==i?1:i)}function Be(t,n,r,i){this.h=+t,this.s=+n,this.l=+r,this.opacity=+i}function Ye(t){return(t=(t||0)%360)<0?t+360:t}function ze(t){return Math.max(0,Math.min(1,t||0))}function Ve(t,n,r){return 255*(t<60?n+(r-n)*t/60:t<180?r:t<240?n+(r-n)*(240-t)/60:n)}fe(le,Te,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ke,formatHex:ke,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Ue(this).formatHsl()},formatRgb:xe,toString:xe}),fe(Ce,Re,he(le,{brighter:function(t){return t=null==t?ve:Math.pow(ve,t),new Ce(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?de:Math.pow(de,t),new Ce(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},clamp:function(){return new Ce(We(this.r),We(this.g),We(this.b),He(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:De,formatHex:De,formatHex8:function(){return"#"+je(this.r)+je(this.g)+je(this.b)+je(255*(isNaN(this.opacity)?1:this.opacity))},formatRgb:Fe,toString:Fe})),fe(Be,Pe,he(le,{brighter:function(t){return t=null==t?ve:Math.pow(ve,t),new Be(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?de:Math.pow(de,t),new Be(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*n,e=2*r-i;return new Ce(Ve(t>=240?t-240:t+120,e,i),Ve(t,e,i),Ve(t<120?t+240:t-120,e,i),this.opacity)},clamp:function(){return new Be(Ye(this.h),ze(this.s),ze(this.l),He(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=He(this.opacity);return(1===t?"hsl(":"hsla(")+Ye(this.h)+", "+100*ze(this.s)+"%, "+100*ze(this.l)+"%"+(1===t?")":", "+t+")")}}));var Ge=Math.PI/180,qe=180/Math.PI,$e=.96422,Ze=.82521,Xe=4/29,Ke=6/29,Je=3*Ke*Ke;function Qe(t){if(t instanceof no)return new no(t.l,t.a,t.b,t.opacity);if(t instanceof so)return co(t);t instanceof Ce||(t=Ie(t));var n,r,i=oo(t.r),e=oo(t.g),o=oo(t.b),u=ro((.2225045*i+.7168786*e+.0606169*o)/1);return i===e&&e===o?n=r=u:(n=ro((.4360747*i+.3850649*e+.1430804*o)/$e),r=ro((.0139322*i+.0971045*e+.7141733*o)/Ze)),new no(116*u-16,500*(n-u),200*(u-r),t.opacity)}function to(t,n,r,i){return 1===arguments.length?Qe(t):new no(t,n,r,null==i?1:i)}function no(t,n,r,i){this.l=+t,this.a=+n,this.b=+r,this.opacity=+i}function ro(t){return t>.008856451679035631?Math.pow(t,1/3):t/Je+Xe}function io(t){return t>Ke?t*t*t:Je*(t-Xe)}function eo(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function oo(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function uo(t){if(t instanceof so)return new so(t.h,t.c,t.l,t.opacity);if(t instanceof no||(t=Qe(t)),0===t.a&&0===t.b)return new so(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*qe;return new so(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ao(t,n,r,i){return 1===arguments.length?uo(t):new so(t,n,r,null==i?1:i)}function so(t,n,r,i){this.h=+t,this.c=+n,this.l=+r,this.opacity=+i}function co(t){if(isNaN(t.h))return new no(t.l,0,0,t.opacity);var n=t.h*Ge;return new no(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}fe(no,to,he(le,{brighter:function(t){return new no(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new no(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;return new Ce(eo(3.1338561*(n=$e*io(n))-1.6168667*(t=1*io(t))-.4906146*(r=Ze*io(r))),eo(-.9787684*n+1.9161415*t+.033454*r),eo(.0719453*n-.2289914*t+1.4052427*r),this.opacity)}})),fe(so,ao,he(le,{brighter:function(t){return new so(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new so(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return co(this).rgb()}}));var fo=-.14861,ho=1.78277,lo=-.29227,vo=-.90649,po=1.97294,bo=po*vo,mo=po*ho,yo=ho*lo-vo*fo;function wo(t){if(t instanceof Mo)return new Mo(t.h,t.s,t.l,t.opacity);t instanceof Ce||(t=Ie(t));var n=t.g/255,r=t.b/255,i=(yo*r+bo*(t.r/255)-mo*n)/(yo+bo-mo),e=r-i,o=(po*(n-i)-lo*e)/vo,u=Math.sqrt(o*o+e*e)/(po*i*(1-i)),a=u?Math.atan2(o,e)*qe-120:NaN;return new Mo(a<0?a+360:a,u,i,t.opacity)}function go(t,n,r,i){return 1===arguments.length?wo(t):new Mo(t,n,r,null==i?1:i)}function Mo(t,n,r,i){this.h=+t,this.s=+n,this.l=+r,this.opacity=+i}function Lo(t){return function(){return t}}function Ao(t){return 1==(t=+t)?No:function(n,r){return r-n?function(t,n,r){return t=Math.pow(t,r),n=Math.pow(n,r)-t,r=1/r,function(i){return Math.pow(t+i*n,r)}}(n,r,t):Lo(isNaN(n)?r:n)}}function No(t,n){var r=n-t;return r?function(t,n){return function(r){return t+r*n}}(t,r):Lo(isNaN(t)?n:t)}fe(Mo,go,he(le,{brighter:function(t){return t=null==t?ve:Math.pow(ve,t),new Mo(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?de:Math.pow(de,t),new Mo(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Ge,n=+this.l,r=isNaN(this.s)?0:this.s*n*(1-n),i=Math.cos(t),e=Math.sin(t);return new Ce(255*(n+r*(fo*i+ho*e)),255*(n+r*(lo*i+vo*e)),255*(n+r*(po*i)),this.opacity)}}));var Eo=function t(n){var r=Ao(n);function i(t,n){var i=r((t=Re(t)).r,(n=Re(n)).r),e=r(t.g,n.g),o=r(t.b,n.b),u=No(t.opacity,n.opacity);return function(n){return t.r=i(n),t.g=e(n),t.b=o(n),t.opacity=u(n),t+""}}return i.gamma=t,i}(1);function ko(t,n){n||(n=[]);var r,i=t?Math.min(n.length,t.length):0,e=n.slice();return function(o){for(r=0;r<i;++r)e[r]=t[r]*(1-o)+n[r]*o;return e}}function xo(t,n){var r,i=n?n.length:0,e=t?Math.min(i,t.length):0,o=new Array(e),u=new Array(i);for(r=0;r<e;++r)o[r]=Do(t[r],n[r]);for(;r<i;++r)u[r]=n[r];return function(t){for(r=0;r<e;++r)u[r]=o[r](t);return u}}function To(t,n){var r=new Date;return t=+t,n=+n,function(i){return r.setTime(t*(1-i)+n*i),r}}function So(t,n){return t=+t,n=+n,function(r){return t*(1-r)+n*r}}function Oo(t,n){var r,i={},e={};for(r in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)r in t?i[r]=Do(t[r],n[r]):e[r]=n[r];return function(t){for(r in i)e[r]=i[r](t);return e}}var Io=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ro=new RegExp(Io.source,"g");function Co(t,n){var r,i,e,o=Io.lastIndex=Ro.lastIndex=0,u=-1,a=[],s=[];for(t+="",n+="";(r=Io.exec(t))&&(i=Ro.exec(n));)(e=i.index)>o&&(e=n.slice(o,e),a[u]?a[u]+=e:a[++u]=e),(r=r[0])===(i=i[0])?a[u]?a[u]+=i:a[++u]=i:(a[++u]=null,s.push({i:u,x:So(r,i)})),o=Ro.lastIndex;return o<n.length&&(e=n.slice(o),a[u]?a[u]+=e:a[++u]=e),a.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var r,i=0;i<n;++i)a[(r=s[i]).i]=r.x(t);return a.join("")})}function Do(t,n){var r,i=typeof n;return null==n||"boolean"===i?Lo(n):("number"===i?So:"string"===i?(r=Te(n))?(n=r,Eo):Co:n instanceof Te?Eo:n instanceof Date?To:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(n)?ko:Array.isArray(n)?xo:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Oo:So)(t,n)}function Fo(t,n){return t=+t,n=+n,function(r){return Math.round(t*(1-r)+n*r)}}var Ho,Wo,jo,_o,Uo=180/Math.PI,Po={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Bo(t,n,r,i,e,o){var u,a,s;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(s=t*r+n*i)&&(r-=t*s,i-=n*s),(a=Math.sqrt(r*r+i*i))&&(r/=a,i/=a,s/=a),t*i<n*r&&(t=-t,n=-n,s=-s,u=-u),{translateX:e,translateY:o,rotate:Math.atan2(n,t)*Uo,skewX:Math.atan(s)*Uo,scaleX:u,scaleY:a}}function Yo(t,n,r,i){function e(t){return t.length?t.pop()+" ":""}return function(o,u){var a=[],s=[];return o=t(o),u=t(u),function(t,i,e,o,u,a){if(t!==e||i!==o){var s=u.push("translate(",null,n,null,r);a.push({i:s-4,x:So(t,e)},{i:s-2,x:So(i,o)})}else(e||o)&&u.push("translate("+e+n+o+r)}(o.translateX,o.translateY,u.translateX,u.translateY,a,s),function(t,n,r,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:r.push(e(r)+"rotate(",null,i)-2,x:So(t,n)})):n&&r.push(e(r)+"rotate("+n+i)}(o.rotate,u.rotate,a,s),function(t,n,r,o){t!==n?o.push({i:r.push(e(r)+"skewX(",null,i)-2,x:So(t,n)}):n&&r.push(e(r)+"skewX("+n+i)}(o.skewX,u.skewX,a,s),function(t,n,r,i,o,u){if(t!==r||n!==i){var a=o.push(e(o)+"scale(",null,",",null,")");u.push({i:a-4,x:So(t,r)},{i:a-2,x:So(n,i)})}else 1===r&&1===i||o.push(e(o)+"scale("+r+","+i+")")}(o.scaleX,o.scaleY,u.scaleX,u.scaleY,a,s),o=u=null,function(t){for(var n,r=-1,i=s.length;++r<i;)a[(n=s[r]).i]=n.x(t);return a.join("")}}}var zo=Yo((function(t){return"none"===t?Po:(Ho||(Ho=document.createElement("DIV"),Wo=document.documentElement,jo=document.defaultView),Ho.style.transform=t,t=jo.getComputedStyle(Wo.appendChild(Ho),null).getPropertyValue("transform"),Wo.removeChild(Ho),Bo(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),Vo=Yo((function(t){return null==t?Po:(_o||(_o=document.createElementNS("http://www.w3.org/2000/svg","g")),_o.setAttribute("transform",t),(t=_o.transform.baseVal.consolidate())?Bo((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Po)}),", ",")",")"),Go=Math.SQRT2;function qo(t){return((t=Math.exp(t))+1/t)/2}function $o(t,n){var r,i,e=t[0],o=t[1],u=t[2],a=n[2],s=n[0]-e,c=n[1]-o,f=s*s+c*c;if(f<1e-12)i=Math.log(a/u)/Go,r=function(t){return[e+t*s,o+t*c,u*Math.exp(Go*t*i)]};else{var h=Math.sqrt(f),l=(a*a-u*u+4*f)/(2*u*2*h),d=(a*a-u*u-4*f)/(2*a*2*h),v=Math.log(Math.sqrt(l*l+1)-l),p=Math.log(Math.sqrt(d*d+1)-d);i=(p-v)/Go,r=function(t){var n=t*i,r=qo(v),a=u/(2*h)*(r*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(Go*n+v)-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[e+a*s,o+a*c,u*r/qo(Go*n+v)]}}return r.duration=1e3*i,r}function Zo(t){return+t}var Xo=[0,1];function Ko(t){return t}function Jo(t,n){return(n-=t=+t)?function(r){return(r-t)/n}:function(t){return function(){return t}}(isNaN(n)?NaN:.5)}function Qo(t){var n,r=t[0],i=t[t.length-1];return r>i&&(n=r,r=i,i=n),function(t){return Math.max(r,Math.min(i,t))}}function tu(t,n,r){var i=t[0],e=t[1],o=n[0],u=n[1];return e<i?(i=Jo(e,i),o=r(u,o)):(i=Jo(i,e),o=r(o,u)),function(t){return o(i(t))}}function nu(t,n,r){var i=Math.min(t.length,n.length)-1,e=new Array(i),o=new Array(i),u=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<i;)e[u]=Jo(t[u],t[u+1]),o[u]=r(n[u],n[u+1]);return function(n){var r=Vi(t,n,1,i)-1;return o[r](e[r](n))}}function ru(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function iu(){var t,n,r,i,e,o,u=Xo,a=Xo,s=Do,c=Ko;function f(){return i=Math.min(u.length,a.length)>2?nu:tu,e=o=null,h}function h(n){return isNaN(n=+n)?r:(e||(e=i(u.map(t),a,s)))(t(c(n)))}return h.invert=function(r){return c(n((o||(o=i(a,u.map(t),So)))(r)))},h.domain=function(t){return arguments.length?(u=ue.call(t,Zo),c===Ko||(c=Qo(u)),f()):u.slice()},h.range=function(t){return arguments.length?(a=ae.call(t),f()):a.slice()},h.rangeRound=function(t){return a=ae.call(t),s=Fo,f()},h.clamp=function(t){return arguments.length?(c=t?Qo(u):Ko,h):c!==Ko},h.interpolate=function(t){return arguments.length?(s=t,f()):s},h.unknown=function(t){return arguments.length?(r=t,h):r},function(r,i){return t=r,n=i,f()}}function eu(t,n){return iu()(t,n)}function ou(t,n){if((r=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var r,i=t.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+t.slice(r+1)]}function uu(t){return(t=ou(Math.abs(t)))?t[1]:NaN}var au,su=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cu(t){if(!(n=su.exec(t)))throw new Error("invalid format: "+t);var n;return new fu({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function fu(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function hu(t,n){var r=ou(t,n);if(!r)return t+"";var i=r[0],e=r[1];return e<0?"0."+new Array(-e).join("0")+i:i.length>e+1?i.slice(0,e+1)+"."+i.slice(e+1):i+new Array(e-i.length+2).join("0")}cu.prototype=fu.prototype,fu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var lu={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return hu(100*t,n)},r:hu,s:function(t,n){var r=ou(t,n);if(!r)return t+"";var i=r[0],e=r[1],o=e-(au=3*Math.max(-8,Math.min(8,Math.floor(e/3))))+1,u=i.length;return o===u?i:o>u?i+new Array(o-u+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+ou(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function du(t){return t}var vu,pu,bu,mu=Array.prototype.map,yu=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function wu(t){var n,r,i=void 0===t.grouping||void 0===t.thousands?du:(n=mu.call(t.grouping,Number),r=t.thousands+"",function(t,i){for(var e=t.length,o=[],u=0,a=n[0],s=0;e>0&&a>0&&(s+a+1>i&&(a=Math.max(1,i-s)),o.push(t.substring(e-=a,e+a)),!((s+=a+1)>i));)a=n[u=(u+1)%n.length];return o.reverse().join(r)}),e=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",u=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?du:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(mu.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",f=void 0===t.nan?"NaN":t.nan+"";function h(t){var n=(t=cu(t)).fill,r=t.align,h=t.sign,l=t.symbol,d=t.zero,v=t.width,p=t.comma,b=t.precision,m=t.trim,y=t.type;"n"===y?(p=!0,y="g"):lu[y]||(void 0===b&&(b=12),m=!0,y="g"),(d||"0"===n&&"="===r)&&(d=!0,n="0",r="=");var w="$"===l?e:"#"===l&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",g="$"===l?o:/[%p]/.test(y)?s:"",M=lu[y],L=/[defgprs%]/.test(y);function A(t){var e,o,s,l=w,A=g;if("c"===y)A=M(t)+A,t="";else{var N=(t=+t)<0||1/t<0;if(t=isNaN(t)?f:M(Math.abs(t),b),m&&(t=function(t){t:for(var n,r=t.length,i=1,e=-1;i<r;++i)switch(t[i]){case".":e=n=i;break;case"0":0===e&&(e=i),n=i;break;default:if(!+t[i])break t;e>0&&(e=0)}return e>0?t.slice(0,e)+t.slice(n+1):t}(t)),N&&0==+t&&"+"!==h&&(N=!1),l=(N?"("===h?h:c:"-"===h||"("===h?"":h)+l,A=("s"===y?yu[8+au/3]:"")+A+(N&&"("===h?")":""),L)for(e=-1,o=t.length;++e<o;)if(48>(s=t.charCodeAt(e))||s>57){A=(46===s?u+t.slice(e+1):t.slice(e))+A,t=t.slice(0,e);break}}p&&!d&&(t=i(t,1/0));var E=l.length+t.length+A.length,k=E<v?new Array(v-E+1).join(n):"";switch(p&&d&&(t=i(k+t,k.length?v-A.length:1/0),k=""),r){case"<":t=l+t+A+k;break;case"=":t=l+k+t+A;break;case"^":t=k.slice(0,E=k.length>>1)+l+t+A+k.slice(E);break;default:t=k+l+t+A}return a(t)}return b=void 0===b?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),A.toString=function(){return t+""},A}return{format:h,formatPrefix:function(t,n){var r=h(((t=cu(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(uu(n)/3))),e=Math.pow(10,-i),o=yu[8+i/3];return function(t){return r(e*t)+o}}}}function gu(t,n,r,i){var e,o=function(t,n,r){var i=Math.abs(n-t)/Math.max(0,r),e=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/e;return o>=qi?e*=10:o>=$i?e*=5:o>=Zi&&(e*=2),n<t?-e:e}(t,n,r);switch((i=cu(null==i?",f":i)).type){case"s":var u=Math.max(Math.abs(t),Math.abs(n));return null!=i.precision||isNaN(e=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(uu(n)/3)))-uu(Math.abs(t)))}(o,u))||(i.precision=e),bu(i,u);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(e=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,uu(n)-uu(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(i.precision=e-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(e=function(t){return Math.max(0,-uu(Math.abs(t)))}(o))||(i.precision=e-2*("%"===i.type))}return pu(i)}function Mu(t){var n=t.domain;return t.ticks=function(t){var r=n();return function(t,n,r){var i,e,o,u,a=-1;if(r=+r,(t=+t)==(n=+n)&&r>0)return[t];if((i=n<t)&&(e=t,t=n,n=e),0===(u=Xi(t,n,r))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),n=Math.floor(n/u),o=new Array(e=Math.ceil(n-t+1));++a<e;)o[a]=(t+a)*u;else for(t=Math.floor(t*u),n=Math.ceil(n*u),o=new Array(e=Math.ceil(t-n+1));++a<e;)o[a]=(t-a)/u;return i&&o.reverse(),o}(r[0],r[r.length-1],null==t?10:t)},t.tickFormat=function(t,r){var i=n();return gu(i[0],i[i.length-1],null==t?10:t,r)},t.nice=function(r){null==r&&(r=10);var i,e=n(),o=0,u=e.length-1,a=e[o],s=e[u];return s<a&&(i=a,a=s,s=i,i=o,o=u,u=i),(i=Xi(a,s,r))>0?i=Xi(a=Math.floor(a/i)*i,s=Math.ceil(s/i)*i,r):i<0&&(i=Xi(a=Math.ceil(a*i)/i,s=Math.floor(s*i)/i,r)),i>0?(e[o]=Math.floor(a/i)*i,e[u]=Math.ceil(s/i)*i,n(e)):i<0&&(e[o]=Math.ceil(a*i)/i,e[u]=Math.floor(s*i)/i,n(e)),t},t}function Lu(){var t=eu(Ko,Ko);return t.copy=function(){return ru(t,Lu())},ne.apply(t,arguments),Mu(t)}function Au(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function Nu(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Eu(t){return t<0?-t*t:t*t}function ku(t){var n=t(Ko,Ko),r=1;function i(){return 1===r?t(Ko,Ko):.5===r?t(Nu,Eu):t(Au(r),Au(1/r))}return n.exponent=function(t){return arguments.length?(r=+t,i()):r},Mu(n)}function xu(){var t=ku(iu());return t.copy=function(){return ru(t,xu()).exponent(t.exponent())},ne.apply(t,arguments),t}function Tu(){var t,n=0,r=1,i=1,e=[.5],o=[0,1];function u(n){return n<=n?o[Vi(e,n,0,i)]:t}function a(){var t=-1;for(e=new Array(i);++t<i;)e[t]=((t+1)*r-(t-i)*n)/(i+1);return u}return u.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],a()):[n,r]},u.range=function(t){return arguments.length?(i=(o=ae.call(t)).length-1,a()):o.slice()},u.invertExtent=function(t){var u=o.indexOf(t);return u<0?[NaN,NaN]:u<1?[n,e[0]]:u>=i?[e[i-1],r]:[e[u-1],e[u]]},u.unknown=function(n){return arguments.length?(t=n,u):u},u.thresholds=function(){return e.slice()},u.copy=function(){return Tu().domain([n,r]).range(o).unknown(t)},ne.apply(Mu(u),arguments)}!function(t){vu=wu(t),pu=vu.format,bu=vu.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var Su=Math.PI,Ou=2*Su,Iu=1e-6,Ru=Ou-Iu;function Cu(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Du(){return new Cu}function Fu(t){return function(){return t}}Cu.prototype=Du.prototype={constructor:Cu,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,r,i){this._+="Q"+ +t+","+ +n+","+(this._x1=+r)+","+(this._y1=+i)},bezierCurveTo:function(t,n,r,i,e,o){this._+="C"+ +t+","+ +n+","+ +r+","+ +i+","+(this._x1=+e)+","+(this._y1=+o)},arcTo:function(t,n,r,i,e){var o=this._x1,u=this._y1,a=(r=+r)-(t=+t),s=(i=+i)-(n=+n),c=o-t,f=u-n,h=c*c+f*f;if((e=+e)<0)throw new Error("negative radius: "+e);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(h>Iu)if(Math.abs(f*a-s*c)>Iu&&e){var l=r-o,d=i-u,v=a*a+s*s,p=l*l+d*d,b=Math.sqrt(v),m=Math.sqrt(h),y=e*Math.tan((Su-Math.acos((v+h-p)/(2*b*m)))/2),w=y/m,g=y/b;Math.abs(w-1)>Iu&&(this._+="L"+(t+w*c)+","+(n+w*f)),this._+="A"+e+","+e+",0,0,"+ +(f*l>c*d)+","+(this._x1=t+g*a)+","+(this._y1=n+g*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n)},arc:function(t,n,r,i,e,o){t=+t,n=+n,o=!!o;var u=(r=+r)*Math.cos(i),a=r*Math.sin(i),s=t+u,c=n+a,f=1^o,h=o?i-e:e-i;if(r<0)throw new Error("negative radius: "+r);null===this._x1?this._+="M"+s+","+c:(Math.abs(this._x1-s)>Iu||Math.abs(this._y1-c)>Iu)&&(this._+="L"+s+","+c),r&&(h<0&&(h=h%Ou+Ou),h>Ru?this._+="A"+r+","+r+",0,1,"+f+","+(t-u)+","+(n-a)+"A"+r+","+r+",0,1,"+f+","+(this._x1=s)+","+(this._y1=c):h>Iu&&(this._+="A"+r+","+r+",0,"+ +(h>=Su)+","+f+","+(this._x1=t+r*Math.cos(e))+","+(this._y1=n+r*Math.sin(e))))},rect:function(t,n,r,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +r+"v"+ +i+"h"+-r+"Z"},toString:function(){return this._}};var Hu=Math.PI,Wu=2*Hu;function ju(t){return t[0]}function _u(t){return t[1]}var Uu=Array.prototype.slice;function Pu(t){return t.source}function Bu(t){return t.target}function Yu(t,n,r,i,e){t.moveTo(n,r),t.bezierCurveTo(n=(n+i)/2,r,n,e,i,e)}function zu(){return function(t){var n=Pu,r=Bu,i=ju,e=_u,o=null;function u(){var u,a=Uu.call(arguments),s=n.apply(this,a),c=r.apply(this,a);if(o||(o=u=Du()),t(o,+i.apply(this,(a[0]=s,a)),+e.apply(this,a),+i.apply(this,(a[0]=c,a)),+e.apply(this,a)),u)return o=null,u+""||null}return u.source=function(t){return arguments.length?(n=t,u):n},u.target=function(t){return arguments.length?(r=t,u):r},u.x=function(t){return arguments.length?(i="function"==typeof t?t:Fu(+t),u):i},u.y=function(t){return arguments.length?(e="function"==typeof t?t:Fu(+t),u):e},u.context=function(t){return arguments.length?(o=null==t?null:t,u):o},u}(Yu)}var Vu={draw:function(t,n){var r=Math.sqrt(n/Hu);t.moveTo(r,0),t.arc(0,0,r,0,Wu)}},Gu={draw:function(t,n){var r=Math.sqrt(n/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},qu=Math.sqrt(1/3),$u=2*qu,Zu={draw:function(t,n){var r=Math.sqrt(n/$u),i=r*qu;t.moveTo(0,-r),t.lineTo(i,0),t.lineTo(0,r),t.lineTo(-i,0),t.closePath()}},Xu=Math.sin(Hu/10)/Math.sin(7*Hu/10),Ku=Math.sin(Wu/10)*Xu,Ju=-Math.cos(Wu/10)*Xu,Qu={draw:function(t,n){var r=Math.sqrt(.8908130915292852*n),i=Ku*r,e=Ju*r;t.moveTo(0,-r),t.lineTo(i,e);for(var o=1;o<5;++o){var u=Wu*o/5,a=Math.cos(u),s=Math.sin(u);t.lineTo(s*r,-a*r),t.lineTo(a*i-s*e,s*i+a*e)}t.closePath()}},ta={draw:function(t,n){var r=Math.sqrt(n),i=-r/2;t.rect(i,i,r,r)}},na=Math.sqrt(3),ra={draw:function(t,n){var r=-Math.sqrt(n/(3*na));t.moveTo(0,2*r),t.lineTo(-na*r,-r),t.lineTo(na*r,-r),t.closePath()}};function ia(t){return t<0?-1:1}function ea(t,n,r){var i=t._x1-t._x0,e=n-t._x1,o=(t._y1-t._y0)/(i||e<0&&-0),u=(r-t._y1)/(e||i<0&&-0),a=(o*e+u*i)/(i+e);return(ia(o)+ia(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(a))||0}function oa(t,n){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-n)/2:n}function ua(t,n,r){var i=t._x0,e=t._x1,o=t._y1,u=(e-i)/3;t._context.bezierCurveTo(i+u,t._y0+u*n,e-u,o-u*r,e,o)}function aa(t){this._context=t}function sa(t,n,r,i){var e=r?1:1.1,o=document.createElement("canvas").getContext("2d");return o.font=n+"px "+(i||"OpenSans"),o.measureText(t).width*e}aa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ua(this,this._t0,oa(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var r=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,ua(this,oa(this,r=ea(this,t,n)),r);break;default:ua(this,this._t0,r=ea(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=r}}},Object.create(aa.prototype).point=function(t,n){aa.prototype.point.call(this,n,t)};var ca=function(t){for(var n=t.width,r=t.fontSize,i=t.noPadding,e=t.wholeWords,o=t.text.split(/\s+/).reverse(),u=[],a=0,s=o.pop();s;){var c=u[a];c||(u.push([]),c=u[a]),c.push(s);var f=sa(c.join(" "),r);if(1===c.length&&f>n){if(e)s=o.pop();else{var h=fa(s,n,r,i);c.pop(),c.push(h[0]+(h[1]?"-":"")),s=h[1]?h[1]:o.pop()}u[a]=c.join(" "),a++}else f>n?(c.pop(),u[a]=c.join(" "),a++):(s=o.pop())||(u[a]=c.join(" "))}return u},fa=function(t,n,r,i){if(t.length<=1)return[t,""];for(var e=t.length-1,o=t.substring(0,e),u=t.substring(e);sa(o+"-",r,i)>n&&e>1;)e--,o=t.substring(0,e),u=t.substring(e);return[o,u]},ha={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},la=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/];var da=Math.PI/180,va=Math.PI/2,pa=2*Math.PI,ba={},ma={},ya=[].join;function wa(t){var n=ya.call(t);if(ma[n])return ma[n];var r=t[0],i=t[1],e=t[2],o=t[3],u=t[4],a=t[5],s=t[6],c=t[7],f=c*u,h=-s*a,l=s*u,d=c*a,v=Math.cos(e),p=Math.sin(e),b=Math.cos(o),m=Math.sin(o),y=.5*(o-e),w=Math.sin(.5*y),g=8/3*w*w/Math.sin(y),M=r+v-g*p,L=i+p+g*v,A=r+b,N=i+m,E=A+g*m,k=N-g*b;return ma[n]=[f*M+h*L,l*M+d*L,f*E+h*k,l*E+d*k,f*A+h*N,l*A+d*N]}var ga=["l",0,0,0,0,0,0,0];function Ma(t,n,r){var i=ga[0]=t[0];if("a"===i||"A"===i)ga[1]=n*t[1],ga[2]=r*t[2],ga[3]=t[3],ga[4]=t[4],ga[5]=t[5],ga[6]=n*t[6],ga[7]=r*t[7];else if("h"===i||"H"===i)ga[1]=n*t[1];else if("v"===i||"V"===i)ga[1]=r*t[1];else for(var e=1,o=t.length;e<o;++e)ga[e]=(e%2==1?n:r)*t[e];return ga}function La(t,n,r,i){for(var e=function(t,n,r,i,e,o,u,a,s){var c=ya.call(arguments);if(ba[c])return ba[c];var f=u*da,h=Math.sin(f),l=Math.cos(f),d=l*(a-t)*.5+h*(s-n)*.5,v=l*(s-n)*.5-h*(a-t)*.5,p=d*d/((r=Math.abs(r))*r)+v*v/((i=Math.abs(i))*i);p>1&&(r*=p=Math.sqrt(p),i*=p);var b=l/r,m=h/r,y=-h/i,w=l/i,g=b*a+m*s,M=y*a+w*s,L=b*t+m*n,A=y*t+w*n,N=1/((L-g)*(L-g)+(A-M)*(A-M))-.25;N<0&&(N=0);var E=Math.sqrt(N);o==e&&(E=-E);var k=.5*(g+L)-E*(A-M),x=.5*(M+A)+E*(L-g),T=Math.atan2(M-x,g-k),S=Math.atan2(A-x,L-k)-T;S<0&&1===o?S+=pa:S>0&&0===o&&(S-=pa);for(var O=Math.ceil(Math.abs(S/(va+.001))),I=[],R=0;R<O;++R)I[R]=[k,x,T+R*S/O,T+(R+1)*S/O,r,i,h,l];return ba[c]=I}(i[5],i[6],i[0],i[1],i[3],i[4],i[2],n,r),o=0;o<e.length;++o){var u=wa(e[o]);t.bezierCurveTo(u[0],u[1],u[2],u[3],u[4],u[5])}}var Aa=31,Na=new Uint32Array(33),Ea=new Uint32Array(33);Ea[0]=0,Na[0]=~Ea[0];for(var ka=1;ka<=32;ka++)Ea[ka]=Ea[ka-1]<<1|1,Na[ka]=~Ea[ka];function xa(t,n,r){t[n]|=r}function Ta(t,n,r){t[n]&=r}var Sa=function(){function t(t,n,r){this.pixelRatio=Math.sqrt(t*n/1e6),this.pixelRatio<1&&(this.pixelRatio=1),this.padding=r,this.width=~~((t+2*r+this.pixelRatio)/this.pixelRatio),this.height=~~((n+2*r+this.pixelRatio)/this.pixelRatio),this.array=new Uint32Array(~~((this.width*this.height+32)/32))}return t.prototype.getPixelRatio=function(){return this.pixelRatio},t.prototype.scalePixel=function(t){return~~((t+this.padding)/this.pixelRatio)},t.prototype.markScaled=function(t,n){var r=n*this.width+t;xa(this.array,r>>>5,1<<(r&Aa))},t.prototype.mark=function(t,n){this.markScaled(this.scalePixel(t),this.scalePixel(n))},t.prototype.unmarkScaled=function(t,n){var r=n*this.width+t;Ta(this.array,r>>>5,~(1<<(r&Aa)))},t.prototype.unmark=function(t,n){this.unmarkScaled(this.scalePixel(t),this.scalePixel(n))},t.prototype.getScaled=function(t,n){var r=n*this.width+t;return this.array[r>>>5]&1<<(r&Aa)},t.prototype.get=function(t,n){return this.getScaled(this.scalePixel(t),this.scalePixel(n))},t.prototype.markInRangeScaled=function(t,n,r,i){for(var e,o,u,a;n<=i;n++)if((u=(e=n*this.width+t)>>>5)==(a=(o=n*this.width+r)>>>5))xa(this.array,u,Na[e&Aa]&Ea[1+(o&Aa)]);else{xa(this.array,u,Na[e&Aa]),xa(this.array,a,Ea[1+(o&Aa)]);for(var s=u+1;s<a;s++)xa(this.array,s,4294967295)}},t.prototype.markInRange=function(t,n,r,i){return this.markInRangeScaled(this.scalePixel(t),this.scalePixel(n),this.scalePixel(r),this.scalePixel(i))},t.prototype.unmarkInRangeScaled=function(t,n,r,i){for(var e,o,u,a;n<=i;n++)if((u=(e=n*this.width+t)>>>5)==(a=(o=n*this.width+r)>>>5))Ta(this.array,u,Ea[e&Aa]|Na[1+(o&Aa)]);else{Ta(this.array,u,Ea[e&Aa]),Ta(this.array,a,Na[1+(o&Aa)]);for(var s=u+1;s<a;s++)Ta(this.array,s,0)}},t.prototype.unmarkInRange=function(t,n,r,i){return this.unmarkInRangeScaled(this.scalePixel(t),this.scalePixel(n),this.scalePixel(r),this.scalePixel(i))},t.prototype.getInRangeScaled=function(t,n,r,i){for(var e,o,u,a;n<=i;n++)if((u=(e=n*this.width+t)>>>5)==(a=(o=n*this.width+r)>>>5)){if(this.array[u]&Na[e&Aa]&Ea[1+(o&Aa)])return!0}else{if(this.array[u]&Na[e&Aa])return!0;if(this.array[a]&Ea[1+(o&Aa)])return!0;for(var s=u+1;s<a;s++)if(this.array[s])return!0}return!1},t.prototype.getInRange=function(t,n,r,i){return this.getInRangeScaled(this.scalePixel(t),this.scalePixel(n),this.scalePixel(r),this.scalePixel(i))},t.prototype.searchOutOfBound=function(t,n,r,i){return t<0||n<0||i>=this.height||r>=this.width},t}(),Oa=4278190080,Ia=268435456;function Ra(t,n,r,i,e,o,u){var a=n[0],s=n[1],c=t.length;if(e.length)return function(t,n,r,i,e,o){var u,a,s,c=new Sa(n,r,o),f=(i||e)&&new Sa(n,r,o),h=t.getImageData(0,0,n,r),l=new Uint32Array(h.data.buffer);if(e)for(a=0;a<r;a++)for(u=0;u<n;u++)(s=l[a*n+u]&Oa)&&s^Ia&&f.mark(u,a);else for(a=0;a<r;a++)for(u=0;u<n;u++)(s=l[a*n+u]&Oa)&&(c.mark(u,a),i&&s^Ia&&f.mark(u,a));return[c,f]}(Da(e,a,s,o||false),a,s,o,false,u);var f=new Sa(a,s,u);if(i)for(var h=0;h<c;h++){var l=t[h];f.mark(l.markBound[0],l.markBound[3])}return[f,void 0]}function Ca(t,n,r,i,e,o,u){var a=r[0],s=r[1],c=n.length;if(o.length)return function(t,n,r,i,e,o){var u,a,s,c=t.getImageData(0,0,r,i),f=new Uint32Array(c.data.buffer);if(o)for(a=0;a<i;a++)for(u=0;u<r;u++)(s=f[a*r+u]&Oa)&&s^Ia&&n[1].mark(u,a);else for(a=0;a<i;a++)for(u=0;u<r;u++)(s=f[a*r+u]&Oa)&&(n[0].mark(u,a),e&&s^Ia&&n[1].mark(u,a));return n}(Da(o,a,s,u||false),t,a,s,u,false);if(e)for(var f=0;f<c;f++){var h=n[f];t[0].mark(h.markBound[0],h.markBound[3])}return t}function Da(t,n,r,i){var e,o=t.length,u=document.createElement("canvas"),a=u.getContext("2d");u.setAttribute("width",n),u.setAttribute("height",r);for(var s=0;s<o;s++)(e=t[s]).length&&("group"!==e[0].nodeName?Fa(a,e,i):Ha(a,e,i));return a}function Fa(t,n,r){var i,e=n.length;if(r){i=new Array(e);for(var o=0;o<e;o++)i[o]=Wa(n[o])}else i=n;i.forEach((function(n){return function(t,n){var r=+n["data-translate-x"]?+n["data-translate-x"]:0,i=+n["data-translate-y"]?+n["data-translate-y"]:0,e="true"===n["data-use-dx"]&&+n.dx?+n.dx:0,o="true"===n["data-use-dy"]&&+n.dy?+n.dy:0;if(t.beginPath(),"rect"===n.nodeName)t.rect(+n["data-x"]+r,+n["data-y"]+i,+n["data-width"],+n["data-height"]),t.stroke(),n["data-fill"]&&"true"===n["data-fill"]&&t.fill();else if("text"===n.nodeName)t.rect(+n["data-x"]+r-(n["text-anchor"]&&n["text-anchor"]&&"start"!==n["text-anchor"]?"middle"===n["text-anchor"]?n["data-width"]/2:n["data-width"]:0)+e,+n["data-y"]+i+0+o,+n["data-width"],+n["data-height"]),t.stroke(),n["data-fill"]&&"true"===n["data-fill"]&&t.fill();else if("circle"===n.nodeName)t.arc(+n["data-cx"]+r,+n["data-cy"]+i,+n["data-r"],0,2*Math.PI),t.stroke(),n["data-fill"]&&"true"===n["data-fill"]&&t.fill();else if("line"===n.nodeName)t.moveTo(+n["data-x1"]+r,+n["data-y1"]+i),t.lineTo(+n["data-x2"]+r,+n["data-y2"]+i),t.stroke();else if("path"===n.nodeName){var u=function(t){var n,r,i,e,o,u,a,s,c,f,h=[],l=t.slice().replace(la[0],"###$1").split(la[1]).slice(1);for(a=0,c=l.length;a<c;++a){for(r=(n=l[a]).slice(1).trim().replace(la[2],"$1###$2").replace(la[3],"$1###$2").split(la[4]),i=[o=n.charAt(0)],s=0,f=r.length;s<f;++s)(e=+r[s])===e&&i.push(e);if(u=ha[o.toLowerCase()],i.length-1>u){var d=i.length;for(h.push([o].concat(i.slice(s=1,s+=u))),o="M"===o?"L":"m"===o?"l":o;s<d;s+=u)h.push([o].concat(i.slice(s,s+u)))}else h.push(i)}return h}(n["data-d"]),a=+n["data-r"]||1;(function(t,n,r,i,e,o){var u,a,s,c,f,h=null,l=0,d=0,v=0,p=0;null==r&&(r=0),null==i&&(i=0),null==e&&(e=1),null==o&&(o=e),t.beginPath&&t.beginPath();for(var b=0,m=n.length;b<m;++b){switch(u=n[b],1===e&&1===o||(u=Ma(u,e,o)),u[0]){case"l":t.lineTo((l+=u[1])+r,(d+=u[2])+i);break;case"L":t.lineTo((l=u[1])+r,(d=u[2])+i);break;case"h":t.lineTo((l+=u[1])+r,d+i);break;case"H":t.lineTo((l=u[1])+r,d+i);break;case"v":t.lineTo(l+r,(d+=u[1])+i);break;case"V":t.lineTo(l+r,(d=u[1])+i);break;case"m":t.moveTo((l+=u[1])+r,(d+=u[2])+i);break;case"M":t.moveTo((l=u[1])+r,(d=u[2])+i);break;case"c":t.bezierCurveTo(l+u[1]+r,d+u[2]+i,(v=l+u[3])+r,(p=d+u[4])+i,(a=l+u[5])+r,(s=d+u[6])+i),l=a,d=s;break;case"C":t.bezierCurveTo(u[1]+r,u[2]+i,(v=u[3])+r,(p=u[4])+i,(l=u[5])+r,(d=u[6])+i);break;case"s":t.bezierCurveTo((v=2*l-v)+r,(p=2*d-p)+i,l+u[1]+r,d+u[2]+i,(a=l+u[3])+r,(s=d+u[4])+i),v=l+u[1],p=d+u[2],l=a,d=s;break;case"S":t.bezierCurveTo((v=2*l-v)+r,(p=2*d-p)+i,u[1]+r,u[2]+i,(a=u[3])+r,(s=u[4])+i),l=a,d=s,v=u[1],p=u[2];break;case"q":t.quadraticCurveTo((v=l+u[1])+r,(p=d+u[2])+i,(a=l+u[3])+r,(s=d+u[4])+i),l=a,d=s;break;case"Q":t.quadraticCurveTo(u[1]+r,u[2]+i,(a=u[3])+r,(s=u[4])+i),l=a,d=s,v=u[1],p=u[2];break;case"t":a=l+u[1],s=d+u[2],null===h[0].match(/[QqTt]/)?(v=l,p=d):"t"===h[0]?(v=2*l-c,p=2*d-f):"q"===h[0]&&(v=2*l-v,p=2*d-p),c=v,f=p,t.quadraticCurveTo(v+r,p+i,a+r,s+i),v=(l=a)+u[1],p=(d=s)+u[2];break;case"T":t.quadraticCurveTo((v=2*l-v)+r,(p=2*d-p)+i,(a=u[1])+r,(s=u[2])+i),l=a,d=s;break;case"a":La(t,l+r,d+i,[u[1],u[2],u[3],u[4],u[5],u[6]+l+r,u[7]+d+i]),l+=u[6],d+=u[7];break;case"A":La(t,l+r,d+i,[u[1],u[2],u[3],u[4],u[5],u[6]+r,u[7]+i]),l=u[6],d=u[7];break;case"z":case"Z":t.closePath()}h=u}})(t,u,(+n["data-x"]||0)+r,(+n["data-y"]||0)+i,a,a),t.stroke(),n["data-fill"]&&"true"===n["data-fill"]&&t.fill()}t.closePath()}(t,n)}))}function Ha(t,n,r){for(var i,e=n.length,o=0;o<e;o++){i=n[o].items;for(var u=0;u<i.length;u++){var a=i[u];"group"!==a.marktype?Fa(t,a.items,r):Ha(t,a.items,r)}}}function Wa(t){var n={};for(var r in t)n[r]=t[r];return n.stroke&&(n.strokeOpacity=1),n.fill&&(n.fillOpacity=.0625,n.stroke="#000",n.strokeOpacity=1,n.strokeWidth=2),n}function ja(t,n,r,i){return t.font=r+"px "+i,t.measureText(n).width}function _a(t,n,r,i,e){return!e||e.getInRangeScaled(t,i,r,i)||e.getInRangeScaled(t,n,r,i-1)}var Ua=.707106781186548,Pa=["right","center","left"],Ba=["bottom","middle","top"],Ya=function(){function t(t,n,r,i){this.bm0=t[0],this.bm1=t[1],this.width=n[0],this.height=n[1],this.anchors=r,this.offsets=i}return t.prototype.place=function(t){var n=t.markBound;if(n[2]<0||n[5]<0||n[0]>this.width||n[3]>this.height)return!1;for(var r,i,e,o,u,a,s,c,f,h,l,d,v,p,b,m,y=function(t,n){if("undefined"!=typeof document&&document.createElement){var r=document.createElement("canvas");if(r&&r.getContext)return r.width=t,r.height=n,r}return null}().getContext("2d"),w=this.offsets.length,g=t.textHeight,M=t.markBound,L=t.text,A=t.font,N=t.textWidth,E=0;E<w;E++){if(r=(3&this.anchors[E])-1,i=(this.anchors[E]>>>2&3)-1,e=this.bm1&&(0===r&&0===i||this.offsets[E]<0),a=M[1+r]+this.offsets[E]*r*(o=r&&i?Ua:1),d=(l=M[4+i]+(u=this.offsets[E]<0?-1:1)*g*i/2+this.offsets[E]*i*o)+g/2,b=this.bm0.scalePixel(h=l-g/2),m=this.bm0.scalePixel(d),v=this.bm0.scalePixel(a),!N){if(!za(v,v,b,m,this.bm0,this.bm1,a,a,h,d,M,e))continue;N=ja(y,L,g,A)}if(f=(c=a+u*N*r/2)+N/2,v=this.bm0.scalePixel(s=c-N/2),p=this.bm0.scalePixel(f),t.x=r?r*u<0?f:s:c,t.y=i?i*u<0?d:h:l,t.align=Pa[r*u+1],t.baseline=Ba[i*u+1],za(v,p,b,m,this.bm0,this.bm1,s,f,h,d,M,e))return this.bm0.markInRangeScaled(v,b,p,m),!0}return!1},t.prototype.unplace=function(t){for(var n,r,i,e,o,u,a,s,c,f,h,l,d,v=this.offsets.length,p=t.textHeight,b=t.markBound,m=t.textWidth,y=0;y<v;y++)r=(this.anchors[y]>>>2&3)-1,o=b[1+(n=(3&this.anchors[y])-1)]+this.offsets[y]*n*(i=n&&r?Ua:1),c=(s=b[4+r]+(e=this.offsets[y]<0?-1:1)*p*r/2+this.offsets[y]*r*i)+p/2,l=this.bm0.scalePixel(s-p/2),d=this.bm0.scalePixel(c),this.bm0.scalePixel(o),a=(u=o+e*m*n/2)+m/2,f=this.bm0.scalePixel(u-m/2),h=this.bm0.scalePixel(a),this.bm0.unmarkInRangeScaled(f,l,h,d+3);return!0},t}();function za(t,n,r,i,e,o,u,a,s,c,f,h){return!(e.searchOutOfBound(t,r,n,i)||(h?_a(t,r,n,i,o)||!function(t,n,r,i,e){return e[0]<=t&&r<=e[2]&&e[3]<=n&&i<=e[5]}(u,s,a,c,f):_a(t,r,n,i,e)))}"IE"===Et()&&null==Element.prototype.getAttributeNames&&(Element.prototype.getAttributeNames=function(){for(var t=this.attributes,n=t.length,r=new Array(n),i=0;i<n;i++)r[i]=t[i].name;return r});var Va={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},Ga=function(t){var n=t.labelSelection,r=t.avoidMarks,i=t.offsets,e=t.accessors,o=t.size,u=t.boundsScope,a=t.bitmaps,s=t.hideOnly,c=t.removeOnly,f=t.suppressMarkDraw,h=t.validPositions,l=[],d=[],v={};if(!o||2!==o.length)throw Error("Size of chart should be specified as an array of width and height");r&&r.length&&r.forEach((function(t){var n=[];t.each((function(t,r,i){var o={};o.node=i[r],o.nodeName=i[r].nodeName,o.datum=t&&t.data&&t.data.data?t.data.data:t&&t.data?t.data:t||{},i[r].getAttributeNames().forEach((function(t){o[t]=vt(i[r]).attr(t)})),o.boundsScope=u,o.bounds=qa(o);var a=e.map((function(t){return o.datum[t]||"Not Found"}));v[a.join("-")]=o.bounds,o.key=a.join("-"),n.push(o)})),d.push(n)})),n&&n.each((function(t,n,r){var i={},o=r[n],a=getComputedStyle(o),f=parseFloat(a.fontSize),h=a.fontFamily;i.node=r[n],i.i=n,i.nodeName=o.nodeName,i.fontSize=f,i.font=a.fontFamily,i.text=o.textContent,i.sort=!1,i.originalOpacity=1,i.datum=t&&t.data&&t.data.data?t.data.data:t&&t.data?t.data:t||{},o.getAttributeNames().forEach((function(t){i[t]=vt(o).attr(t)})),i.textWidth="rect"===o.nodeName?+i.width:sa(o.textContent,f,!0,h),i.textHeight="rect"===o.nodeName?+i.height:Math.max(f-1,1);var d=e.map((function(t){return i.datum[t]||"Not Found"}));i.key=d.join("-"),i.boundsScope=u;var p=i["data-x"],b=i["data-y"];c&&i.x&&i.y&&"true"!==i["keep-data-y"]&&(i["data-x"]=i.x,i["data-y"]=i.y),i.markBound=v[d.join("-")]&&!s?v[d.join("-")]:qa(i),c&&(i["data-x"]=p,i["data-y"]=b),l.push(i)}));!a||2!==a.length||c||f?c||f||(a=Ra(l,o,0,false,d,!1,1)):Ca(a,l,o,0,false,d,!1);var p={right:"end",center:"middle",left:"start"},b=h.map((function(t){return Va[t]})),m=new Ya(a,o,b,i),y={};return c?l.forEach((function(t,n){var r="Not Found"===t.key?n:t.i+"-"+t.key;"true"!==t["data-label-hidden"]&&m.unplace(t),y[r]={"do-nothing":!0}})):(l.forEach((function(t,n){y["Not Found"===t.key?n:t.i+"-"+t.key]="true"===t["data-hidden"]||0==+t.opacity?{"do-nothing":!0}:!t["data-hidden"]&&m.place(t)?{visibility:null,x:t.x,y:t.y,translateX:+t["data-translate-x"]?+t["data-translate-x"]:0,translateY:+t["data-translate-y"]?+t["data-translate-y"]:0,translateHeight:t["data-no-text-anchor"]?0:"top"===t.baseline?+t.textHeight:"middle"===t.baseline?+t.textHeight/3:0,"text-anchor":t["data-no-text-anchor"]?null:p[t.align],"data-align":t.align,"data-baseline":t.baseline,"data-label-moved":!0,"data-label-hidden":!1,textHeight:t.textHeight}:{visibility:"hidden",x:t.x,y:t.y,translateX:+t["data-translate-x"]?+t["data-translate-x"]:0,translateY:+t["data-translate-y"]?+t["data-translate-y"]:0,translateHeight:t["data-no-text-anchor"]?0:"top"===t.baseline?+t.textHeight:"middle"===t.baseline?+t.textHeight/3:0,"text-anchor":t["data-no-text-anchor"]?null:p[t.align],"data-align":t.align,"data-baseline":t.baseline,textHeight:t.textHeight,"data-label-moved":!0,"data-label-hidden":!0}})),n.style("visibility",(function(t,n,r){var i=t&&t.data&&t.data.data?t.data.data:t&&t.data?t.data:t||{},o=e.map((function(t){return i[t]||"Not Found"})),u="Not Found"===o.join("-")?y[n]:y[n+"-"+o.join("-")];return e&&e.length&&u&&u["do-nothing"]?vt(r[n]).style("visibility"):(vt(r[n]).attr("data-label-hidden",e&&e.length&&u&&u["data-label-hidden"]).attr("data-label-moved",e&&e.length&&u&&u["data-label-moved"]).attr("data-align",u["data-align"]).attr("data-baseline",u["data-baseline"]).attr("dx","true"!==vt(r[n]).attr("data-use-dx")?null:vt(r[n]).attr("dx")).attr("dy","true"!==vt(r[n]).attr("data-use-dy")?null:vt(r[n]).attr("dy")).attr("data-use-dx",null).attr("data-use-dy",null),e&&e.length&&u&&(null===u.visibility||!u.visibility)?null:"hidden")})),s||n.attr("x",(function(t,n,r){var i=t&&t.data&&t.data.data?t.data.data:t&&t.data?t.data:t||{},o=e.map((function(t){return i[t]||"Not Found"})),u="Not Found"===o.join("-")?y[n]:y[n+"-"+o.join("-")];return e&&e.length&&u&&u.x?u.x-u.translateX:vt(r[n]).attr("data-x")})).attr("y",(function(t,n,r){var i=t&&t.data&&t.data.data?t.data.data:t&&t.data?t.data:t||{},o=e.map((function(t){return i[t]||"Not Found"})),u="Not Found"===o.join("-")?y[n]:y[n+"-"+o.join("-")];return e&&e.length&&u&&u.y?u.y-u.translateY+(e&&e.length&&u&&u.translateHeight):vt(r[n]).attr("data-y")})).attr("text-anchor",(function(t,n,r){var i=t&&t.data&&t.data.data?t.data.data:t&&t.data?t.data:t||{},o=e.map((function(t){return i[t]||"Not Found"})),u="Not Found"===o.join("-")?y[n]:y[n+"-"+o.join("-")];return e&&e.length&&u&&u["text-anchor"]?u["text-anchor"]:vt(r[n]).attr("text-anchor")}))),a},qa=function(t){var n=+t["data-translate-x"]?+t["data-translate-x"]:0,r=+t["data-translate-y"]?+t["data-translate-y"]:0;switch(t.nodeName){case"text":var i=(t.textWidth?+t.textWidth:+t["data-width"])||0,e=(t.textHeight?+t.textHeight:+t["data-height"])||0,o=+t.fontSize||e,u=t["data-text-anchor"]?t["data-text-anchor"]&&"start"!==t["data-text-anchor"]?"middle"===t["data-text-anchor"]?i/2:i:0:t["text-anchor"]&&t["text-anchor"]&&"start"!==t["text-anchor"]?"middle"===t["text-anchor"]?i/2:i:0,a="true"!==t["data-use-dx"]?0:+t.dx?+t.dx:t.dx&&t.dx.indexOf("em")>=0?+t.dx.replace("em","")*o:0,s="true"!==t["data-use-dy"]?0:+t.dy?+t.dy:t.dy&&t.dy.indexOf("em")>=0?+t.dy.replace("em","")*o:0;switch(t.boundsScope){case"centroid":return[+t["data-x"]+a+n-u+i/2,+t["data-x"]+a+n-u+i/2,+t["data-x"]+a+n-u+i/2,+t["data-y"]+s+r+e/2,+t["data-y"]+s+r+e/2,+t["data-y"]+s+r+e/2];case"top":return[+t["data-x"]+a+n-u,+t["data-x"]+a+n-u+i/2,+t["data-x"]+a+n-u+i,+t["data-y"]+s+r,+t["data-y"]+s+r,+t["data-y"]+s+r];case"middle":return[+t["data-x"]+a+n-u,+t["data-x"]+a+n-u+i/2,+t["data-x"]+a+n-u+i,+t["data-y"]+s+r+e/2,+t["data-y"]+s+r+e/2,+t["data-y"]+s+r+e/2];case"bottom":return[+t["data-x"]+a+n-u,+t["data-x"]+a+n-u+i/2,+t["data-x"]+a+n-u+i,+t["data-y"]+s+r+e,+t["data-y"]+s+r+e,+t["data-y"]+s+r+e];case"center":return[+t["data-x"]+a+n-u+i/2,+t["data-x"]+a+n-u+i/2,+t["data-x"]+a+n-u+i/2,+t["data-y"]+s+r,+t["data-y"]+s+r+e/2,+t["data-y"]+s+r+e];case"right":return[+t["data-x"]+a+n-u+i,+t["data-x"]+a+n-u+i,+t["data-x"]+a+n-u+i,+t["data-y"]+s+r,+t["data-y"]+s+r+e/2,+t["data-y"]+s+r+e];case"left":return[+t["data-x"]+a+n-u,+t["data-x"]+a+n-u,+t["data-x"]+a+n-u,+t["data-y"]+s+r,+t["data-y"]+s+r+e/2,+t["data-y"]+s+r+e];default:return[+t["data-x"]+a+n-u,+t["data-x"]+a+n-u+i/2,+t["data-x"]+a+n-u+i,+t["data-y"]+s+r-e,+t["data-y"]+s+r-e/2,+t["data-y"]+s+r]}case"circle":return[+t["data-cx"]+n-+t["data-r"],+t["data-cx"]+n,+t["data-cx"]+n+ +t["data-r"],+t["data-cy"]+r-+t["data-r"],+t["data-cy"]+r,+t["data-cy"]+r+ +t["data-r"]];case"rect":switch(t.boundsScope){case"annotation":return[+t["data-x"]+n-+t["data-width"]/2,+t["data-x"]+n,+t["data-x"]+n+ +t["data-width"]/2,+t["data-y"]+r-+t["data-height"]/2,+t["data-y"]+r,+t["data-y"]+r+ +t["data-height"]/2];case"top":return[+t["data-x"]+n,+t["data-x"]+n+ +t["data-width"]/2,+t["data-x"]+n+ +t["data-width"],+t["data-y"]+r,+t["data-y"]+r,+t["data-y"]+r];case"middle":return[+t["data-x"]+n+ +t["data-width"]/2,+t["data-x"]+n+ +t["data-width"]/2,+t["data-x"]+n+ +t["data-width"]/2,+t["data-y"]+r+ +t["data-height"]/2,+t["data-y"]+r+ +t["data-height"]/2,+t["data-y"]+r+ +t["data-height"]/2];case"bottom":return[+t["data-x"]+n,+t["data-x"]+n+ +t["data-width"]/2,+t["data-x"]+n+ +t["data-width"],+t["data-y"]+r+ +t["data-height"]-6,+t["data-y"]+r+ +t["data-height"]-6,+t["data-y"]+r+ +t["data-height"]-6];case"right":return[+t["data-x"]+n+ +t["data-width"],+t["data-x"]+n+ +t["data-width"],+t["data-x"]+n+ +t["data-width"],+t["data-y"]+r,+t["data-y"]+r+ +t["data-height"]/2,+t["data-y"]+r+ +t["data-height"]];case"left":return[+t["data-x"]+n,+t["data-x"]+n,+t["data-x"]+n,+t["data-y"]+r,+t["data-y"]+r+ +t["data-height"]/2,+t["data-y"]+r+ +t["data-height"]];default:return[+t["data-x"]+n,+t["data-x"]+n+ +t["data-width"]/2,+t["data-x"]+n+ +t["data-width"],+t["data-y"]+r,+t["data-y"]+r+ +t["data-height"]/2,+t["data-y"]+r+ +t["data-height"]]}case"path":return+t["data-fake-x"]?[+t["data-fake-x"]+n-(+t["data-r"]||0),+t["data-fake-x"]+n,+t["data-fake-x"]+n+(+t["data-r"]||0),+t["data-fake-y"]+r-(+t["data-r"]||0),+t["data-fake-y"]+r,+t["data-fake-y"]+r+(+t["data-r"]||0)]:+t["data-centerX1"]?[+t["data-centerX1"]+n,+t["data-centerX1"]+(+t["data-centerX2"]-+t["data-centerX1"])/2+n,+t["data-centerX2"]+n,+t["data-centerY1"]+r,+t["data-centerY1"]+(+t["data-centerY2"]-+t["data-centerY1"])/2+r,+t["data-centerY2"]+r]:[+t["data-x"]+n-(+t["data-r"]||0),+t["data-x"]+n,+t["data-x"]+n+(+t["data-r"]||0),+t["data-y"]+r-(+t["data-r"]||0),+t["data-y"]+r,+t["data-y"]+r+(+t["data-r"]||0)];default:return[+t["data-x"]+n,+t["data-x"]+n+ +t["data-width"]/2,+t["data-x"]+n+ +t["data-width"],+t["data-y"]+r,+t["data-y"]+r+ +t["data-height"]/2,+t["data-y"]+r+ +t["data-height"]]}};function $a(t,n,r,i){var e=i?t.getSum():1;return r?Ct(t[n]/e,"normalized"===r?"0[.][0]%":r):t[n]/e}var Za={value:function(){}};function Xa(){for(var t,n=0,r=arguments.length,i={};n<r;++n){if(!(t=arguments[n]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new Ka(i)}function Ka(t){this._=t}function Ja(t,n){return t.trim().split(/^|\s+/).map((function(t){var r="",i=t.indexOf(".");if(i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}}))}function Qa(t,n){for(var r,i=0,e=t.length;i<e;++i)if((r=t[i]).name===n)return r.value}function ts(t,n,r){for(var i=0,e=t.length;i<e;++i)if(t[i].name===n){t[i]=Za,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=r&&t.push({name:n,value:r}),t}Ka.prototype=Xa.prototype={constructor:Ka,on:function(t,n){var r,i=this._,e=Ja(t+"",i),o=-1,u=e.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(r=(t=e[o]).type)i[r]=ts(i[r],t.name,n);else if(null==n)for(r in i)i[r]=ts(i[r],t.name,null);return this}for(;++o<u;)if((r=(t=e[o]).type)&&(r=Qa(i[r],t.name)))return r},copy:function(){var t={},n=this._;for(var r in n)t[r]=n[r].slice();return new Ka(t)},call:function(t,n){if((r=arguments.length-2)>0)for(var r,i,e=new Array(r),o=0;o<r;++o)e[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,r=(i=this._[t]).length;o<r;++o)i[o].value.apply(n,e)},apply:function(t,n,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],e=0,o=i.length;e<o;++e)i[e].value.apply(n,r)}};var ns,rs,is=0,es=0,os=0,us=0,as=0,ss=0,cs="object"==typeof performance&&performance.now?performance:Date,fs="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function hs(){return as||(fs(ls),as=cs.now()+ss)}function ls(){as=0}function ds(){this._call=this._time=this._next=null}function vs(t,n,r){var i=new ds;return i.restart(t,n,r),i}function ps(){as=(us=cs.now())+ss,is=es=0;try{!function(){hs(),++is;for(var t,n=ns;n;)(t=as-n._time)>=0&&n._call.call(null,t),n=n._next;--is}()}finally{is=0,function(){for(var t,n,r=ns,i=1/0;r;)r._call?(i>r._time&&(i=r._time),t=r,r=r._next):(n=r._next,r._next=null,r=t?t._next=n:ns=n);rs=t,ms(i)}(),as=0}}function bs(){var t=cs.now(),n=t-us;n>1e3&&(ss-=n,us=t)}function ms(t){is||(es&&(es=clearTimeout(es)),t-as>24?(t<1/0&&(es=setTimeout(ps,t-cs.now()-ss)),os&&(os=clearInterval(os))):(os||(us=cs.now(),os=setInterval(bs,1e3)),is=1,fs(ps)))}function ys(t,n,r){var i=new ds;return i.restart((function(r){i.stop(),t(r+n)}),n=null==n?0:+n,r),i}ds.prototype=vs.prototype={constructor:ds,restart:function(t,n,r){if("function"!=typeof t)throw new TypeError("callback is not a function");r=(null==r?hs():+r)+(null==n?0:+n),this._next||rs===this||(rs?rs._next=this:ns=this,rs=this),this._call=t,this._time=r,ms()},stop:function(){this._call&&(this._call=null,this._time=1/0,ms())}};var ws=Xa("start","end","interrupt"),gs=[];function Ms(t,n,r,i,e,o){var u=t.__transition;if(u){if(r in u)return}else t.__transition={};!function(t,n,r){var i,e=t.__transition;function o(t){r.state=1,r.timer.restart(u,r.delay,r.time),r.delay<=t&&u(t-r.delay)}function u(o){var c,f,h,l;if(1!==r.state)return s();for(c in e)if((l=e[c]).name===r.name){if(3===l.state)return ys(u);4===l.state?(l.state=6,l.timer.stop(),l.on.call("interrupt",t,t.__data__,l.index,l.group),delete e[c]):+c<n&&(l.state=6,l.timer.stop(),delete e[c])}if(ys((function(){3===r.state&&(r.state=4,r.timer.restart(a,r.delay,r.time),a(o))})),r.state=2,r.on.call("start",t,t.__data__,r.index,r.group),2===r.state){for(r.state=3,i=new Array(h=r.tween.length),c=0,f=-1;c<h;++c)(l=r.tween[c].value.call(t,t.__data__,r.index,r.group))&&(i[++f]=l);i.length=f+1}}function a(n){for(var e=n<r.duration?r.ease.call(null,n/r.duration):(r.timer.restart(s),r.state=5,1),o=-1,u=i.length;++o<u;)i[o].call(null,e);5===r.state&&(r.on.call("end",t,t.__data__,r.index,r.group),s())}function s(){for(var i in r.state=6,r.timer.stop(),delete e[n],e)return;delete t.__transition}e[n]=r,r.timer=vs(o,0,r.time)}(t,r,{name:n,index:i,group:e,on:ws,tween:gs,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Ls(t,n){var r=Ns(t,n);if(r.state>0)throw new Error("too late; already scheduled");return r}function As(t,n){var r=Ns(t,n);if(r.state>2)throw new Error("too late; already started");return r}function Ns(t,n){var r=t.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function Es(t,n){var r,i;return function(){var e=As(this,t),o=e.tween;if(o!==r)for(var u=0,a=(i=r=o).length;u<a;++u)if(i[u].name===n){(i=i.slice()).splice(u,1);break}e.tween=i}}function ks(t,n,r){var i,e;if("function"!=typeof r)throw new Error;return function(){var o=As(this,t),u=o.tween;if(u!==i){e=(i=u).slice();for(var a={name:n,value:r},s=0,c=e.length;s<c;++s)if(e[s].name===n){e[s]=a;break}s===c&&e.push(a)}o.tween=e}}function xs(t,n,r){var i=t._id;return t.each((function(){var t=As(this,i);(t.value||(t.value={}))[n]=r.apply(this,arguments)})),function(t){return Ns(t,i).value[n]}}function Ts(t,n){var r;return("number"==typeof n?So:n instanceof Te?Eo:(r=Te(n))?(n=r,Eo):Co)(t,n)}function Ss(t){return function(){this.removeAttribute(t)}}function Os(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Is(t,n,r){var i,e;return function(){var o=this.getAttribute(t);return o===r?null:o===i?e:e=n(i=o,r)}}function Rs(t,n,r){var i,e;return function(){var o=this.getAttributeNS(t.space,t.local);return o===r?null:o===i?e:e=n(i=o,r)}}function Cs(t,n,r){var i,e,o;return function(){var u,a=r(this);if(null!=a)return(u=this.getAttribute(t))===a?null:u===i&&a===e?o:o=n(i=u,e=a);this.removeAttribute(t)}}function Ds(t,n,r){var i,e,o;return function(){var u,a=r(this);if(null!=a)return(u=this.getAttributeNS(t.space,t.local))===a?null:u===i&&a===e?o:o=n(i=u,e=a);this.removeAttributeNS(t.space,t.local)}}function Fs(t,n){function r(){var r=this,i=n.apply(r,arguments);return i&&function(n){r.setAttributeNS(t.space,t.local,i(n))}}return r._value=n,r}function Hs(t,n){function r(){var r=this,i=n.apply(r,arguments);return i&&function(n){r.setAttribute(t,i(n))}}return r._value=n,r}function Ws(t,n){return function(){Ls(this,t).delay=+n.apply(this,arguments)}}function js(t,n){return n=+n,function(){Ls(this,t).delay=n}}function _s(t,n){return function(){As(this,t).duration=+n.apply(this,arguments)}}function Us(t,n){return n=+n,function(){As(this,t).duration=n}}function Ps(t,n){if("function"!=typeof n)throw new Error;return function(){As(this,t).ease=n}}function Bs(t,n,r){var i,e,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?Ls:As;return function(){var u=o(this,t),a=u.on;a!==i&&(e=(i=a).copy()).on(n,r),u.on=e}}var Ys=dt.prototype.constructor;function zs(t,n,r){function i(){var i=this,e=n.apply(i,arguments);return e&&function(n){i.style.setProperty(t,e(n),r)}}return i._value=n,i}var Vs=0;function Gs(t,n,r,i){this._groups=t,this._parents=n,this._name=r,this._id=i}function qs(t){return dt().transition(t)}function $s(){return++Vs}var Zs=dt.prototype;function Xs(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function Ks(t){return 1-Math.sqrt(1-t*t)}Gs.prototype=qs.prototype={constructor:Gs,select:function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=h(t));for(var i=this._groups,e=i.length,o=new Array(e),u=0;u<e;++u)for(var a,s,c=i[u],f=c.length,l=o[u]=new Array(f),d=0;d<f;++d)(a=c[d])&&(s=t.call(a,a.__data__,d,c))&&("__data__"in a&&(s.__data__=a.__data__),l[d]=s,Ms(l[d],n,r,d,l,Ns(a,r)));return new Gs(o,this._parents,n,r)},selectAll:function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=d(t));for(var i=this._groups,e=i.length,o=[],u=[],a=0;a<e;++a)for(var s,c=i[a],f=c.length,h=0;h<f;++h)if(s=c[h]){for(var l,v=t.call(s,s.__data__,h,c),p=Ns(s,r),b=0,m=v.length;b<m;++b)(l=v[b])&&Ms(l,n,r,b,v,p);o.push(v),u.push(s)}return new Gs(o,u,n,r)},filter:function(t){"function"!=typeof t&&(t=v(t));for(var n=this._groups,r=n.length,i=new Array(r),e=0;e<r;++e)for(var o,u=n[e],a=u.length,s=i[e]=[],c=0;c<a;++c)(o=u[c])&&t.call(o,o.__data__,c,u)&&s.push(o);return new Gs(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,r=t._groups,i=n.length,e=Math.min(i,r.length),o=new Array(i),u=0;u<e;++u)for(var a,s=n[u],c=r[u],f=s.length,h=o[u]=new Array(f),l=0;l<f;++l)(a=s[l]||c[l])&&(h[l]=a);for(;u<i;++u)o[u]=n[u];return new Gs(o,this._parents,this._name,this._id)},selection:function(){return new Ys(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,r=$s(),i=this._groups,e=i.length,o=0;o<e;++o)for(var u,a=i[o],s=a.length,c=0;c<s;++c)if(u=a[c]){var f=Ns(u,n);Ms(u,t,r,c,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Gs(i,this._parents,t,r)},call:Zs.call,nodes:Zs.nodes,node:Zs.node,size:Zs.size,empty:Zs.empty,each:Zs.each,on:function(t,n){var r=this._id;return arguments.length<2?Ns(this.node(),r).on.on(t):this.each(Bs(r,t,n))},attr:function(t,n){var r=u(t),i="transform"===r?Vo:Ts;return this.attrTween(t,"function"==typeof n?(r.local?Ds:Cs)(r,i,xs(this,"attr."+t,n)):null==n?(r.local?Os:Ss)(r):(r.local?Rs:Is)(r,i,n+""))},attrTween:function(t,n){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;var i=u(t);return this.tween(r,(i.local?Fs:Hs)(i,n))},style:function(t,n,r){var i="transform"==(t+="")?zo:Ts;return null==n?this.styleTween(t,function(t,n){var r,i,e;return function(){var o=O(this,t),u=(this.style.removeProperty(t),O(this,t));return o===u?null:o===r&&u===i?e:e=n(r=o,i=u)}}(t,i)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof n?function(t,n,r){var i,e,o;return function(){var u=O(this,t),a=r(this);return null==a&&(this.style.removeProperty(t),a=O(this,t)),u===a?null:u===i&&a===e?o:o=n(i=u,e=a)}}(t,i,xs(this,"style."+t,n)):function(t,n,r){var i,e;return function(){var o=O(this,t);return o===r?null:o===i?e:e=n(i=o,r)}}(t,i,n+""),r)},styleTween:function(t,n,r){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;return this.tween(i,zs(t,n,null==r?"":r))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(xs(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var r=this._id;if(t+="",arguments.length<2){for(var i,e=Ns(this.node(),r).tween,o=0,u=e.length;o<u;++o)if((i=e[o]).name===t)return i.value;return null}return this.each((null==n?Es:ks)(r,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Ws:js)(n,t)):Ns(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?_s:Us)(n,t)):Ns(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(Ps(n,t)):Ns(this.node(),n).ease}};var Js={time:null,delay:0,duration:250,ease:Xs};function Qs(t,n){for(var r;!(r=t.__transition)||!(r=r[n]);)if(!(t=t.parentNode))return Js.time=hs(),Js;return r}dt.prototype.interrupt=function(t){return this.each((function(){!function(t,n){var r,i,e,o=t.__transition,u=!0;if(o){for(e in n=null==n?null:n+"",o)(r=o[e]).name===n?(i=r.state>2&&r.state<5,r.state=6,r.timer.stop(),i&&r.on.call("interrupt",t,t.__data__,r.index,r.group),delete o[e]):u=!1;u&&delete t.__transition}}(this,t)}))},dt.prototype.transition=function(t){var n,r;t instanceof Gs?(n=t._id,t=t._name):(n=$s(),(r=Js).time=hs(),t=null==t?null:t+"");for(var i=this._groups,e=i.length,o=0;o<e;++o)for(var u,a=i[o],s=a.length,c=0;c<s;++c)(u=a[c])&&Ms(u,t,n,c,a,r||Qs(u,n));return new Gs(i,this._parents,t,n)};var tc=function(t){var n=t.root,r=t.data,i=t.event,e=t.isToShow,o=t.tooltipLabel,u=t.dataKeyNames,a=t.xAxis,s=t.yAxis,c=t.dataLabel,f=t.layout,h=t.ordinalAccessor,l=t.valueAccessor,d=t.xAccessor,v=t.yAccessor,p=t.groupAccessor,b=t.sizeConfig,m=t.diffLabelDetails,y=t.normalized,w=t.chartType;n&&(e?function(){var t=[i.pageX,i.pageY],e=function(t){var n=t.data,r=t.tooltipLabel,i=t.dataKeyNames,e=t.xAxis,o=t.yAxis,u=t.dataLabel,a=t.layout,s=t.ordinalAccessor,c=t.valueAccessor,f=t.xAccessor,h=t.yAccessor,l=t.groupAccessor,d=t.sizeConfig,v=t.diffLabelDetails,p=t.normalized,b=t.chartType;if(r&&r.labelAccessor.length>0){var m="";return r.labelAccessor.map((function(t,e){m+=(r.labelTitle&&""!==r.labelTitle[e]?r.labelTitle[e]+": ":i&&i[t]?i[t]+": ":"")+"<b>"+(r.format&&r.format[e]?n[t]instanceof Date?Tr({date:n[t],format:r.format[e],offsetTimezone:!0}):p&&"normalized"===r.format[e]?$a(n,t,u.format,t===c):isNaN(parseFloat(n[t]))?n[t]:Ct(n[t],r.format[e]):n[t])+" </b><br/>"})),m.replace(",",""),m}var y="",w=e&&o&&f||s,g=e&&o&&h||c,M=d?d.sizeAccessor:"",L=i&&i[w]?i[w]:e&&o?"horizontal"===a?o.label:e.label:w,A=i&&i[g]?i[g]:e&&o?"horizontal"===a?e.label:o.label:g,N=i&&i[M]?i[M]:M;return"bar"===b?y="\n      <b>"+(l&&n[l]?n[l]+"<br/>":"")+" </b>\n      "+Bi(L)+": <b>"+n[s]+" </b><br/> \n        "+Bi(A)+":\n        <b>"+Ct(n[c],u.format)+"</b>":"pie"===b?y="\n        "+Bi(L)+": <b>"+n[s]+" </b><br/> \n        "+(p?Bi(A)+" (%): <b>"+$a(n,c,"0[.][0]%",p)+"</b><br/>":"")+"\n        "+Bi(A)+": \n        <b>"+Ct(n[c],"normalized"===u.format?"0[.][0]a":u.format)+"</b>\n      ":"scatter"===b?y="\n        <b>"+(l&&n[l]?n[l]+"<br/>":"")+" </b>\n        "+Bi(L)+": \n        <b>"+Ct(n[f],e.format||"")+" </b><br/>\n        "+Bi(A)+": \n        <b>"+Ct(n[h],o.format||"")+"</b>\n        "+(d&&d.sizeAccessor?"<br/>"+Bi(N)+":":"")+" \n        "+(d&&d.sizeAccessor?"<b>"+Ct(n[d.sizeAccessor],d.format||u.format||"")+"</b>":""):"line"===b||"parallel"===b?y="\n        <b>"+(l&&n[l]?n[l]+"<br/>":"")+"</b>\n        "+Bi(L)+": \n        <b>"+(n[s]instanceof Date?Tr({date:n[s],format:e.format,offsetTimezone:!0}):n[s])+" </b><br/>\n        "+Bi(A)+": \n        <b>"+Ct(n[c],u.format||"")+"</b>":"stacked"===b||"clustered"===b?y="\n        <b>"+n[l]+"<br/></b>\n        "+Bi(L)+": \n        <b>"+n[s]+" </b><br/> \n        "+(p?Bi(A)+" (%): <b>"+$a(n,c,"0[.][0]%",p)+"</b><br/>":"")+"\n        "+Bi(A)+": \n        <b>"+Ct(n[c],"normalized"===u.format?"0[.][0]a":u.format)+"</b>\n      ":"heat-map"===b?y="\n        "+Bi(L)+": \n        <b>"+(n[f]instanceof Date?Tr({date:n[f],format:e.format,offsetTimezone:!0}):n[f])+" </b><br/>\n        "+Bi(A)+": \n        <b>"+(n[h]instanceof Date?Tr({date:n[h],format:o.format,offsetTimezone:!0}):n[h])+" </b><br/>\n        "+Bi(i&&i[c]?i[c]:c)+":\n        <b>"+Ct(n[c],u.format||"")+"</b>":"circle-packing"===b?y="\n        <b>"+Bi(n[s])+" </b><br/>\n        "+Bi(i&&i[l]?i[l]:l)+": <b>"+n[l]+" </b><br/>\n        "+Bi(i&&i[c]?i[c]:c)+":\n        <b>"+Ct(n[c],u.format||"")+"</b>":"world-map"===b?y="\n        <b>"+(l&&n[l]?n[l]+"<br/>":"")+" </b>\n        <b>"+n[f]+" ("+n[h]+") </b><br/>\n          "+(i&&i[c]?i[c]:c)+": \n          <b>"+Ct(n[c],u.format||"")+"</b>":"dumbbell"===b?y=n&&n.key&&n.values?"<b>\n          "+(n.values[0][s]instanceof Date?Tr({date:n.values[0][s],format:e.format,offsetTimezone:!0}):n.values[0][s])+" </b><br/>Difference: <b>"+(u.format?Ct(n[v.calculation],u.format):n[v.calculation])+" <br/></b>"+n.values[0][l]+": <b>"+(u.format?Ct(n.values[0][c],u.format):n.values[0][c])+" </b><br/>"+n.values[1][l]+": <b>"+(u.format?Ct(n.values[1][c],u.format):n.values[1][c])+"</b>\n        ":"<b>\n        "+(n[s]instanceof Date?Tr({date:n[s],format:e.format,offsetTimezone:!0}):n[s])+" </b><br/>"+n[l]+": <b>"+(u.format?Ct(n[c],u.format):n[c])+"</b>\n        ":"alluvial-diagram"===b&&(y="\n      <b>"+(l&&n[l]?n[l]+"<br/>":"")+" </b>\n      <b>"+Bi(n[f])+"</b> to <b>"+Bi(n[h])+" </b><br/>\n      "+Bi(i&&i[c]?i[c]:c)+":\n      <b>"+(u&&u.format?Ct(n[c],u.format):n[c])+"</b>"),y}({data:r,tooltipLabel:o,dataKeyNames:u,xAxis:a,yAxis:s,dataLabel:c,layout:f,ordinalAccessor:h,valueAccessor:l,xAccessor:d,yAccessor:v,groupAccessor:p,sizeConfig:b,diffLabelDetails:m,normalized:y,chartType:w}),g=n.node().parentElement.getBoundingClientRect();n.style("left","0px").style("top","0px"),n.select("p").html(e);var M=n.node().getBoundingClientRect(),L=(document.body.scrollLeft||0)+(document.documentElement.scrollLeft||0),A=(document.body.scrollTop||0)+(document.documentElement.scrollTop||0);n.style("left",t[0]-M.left-L-(g.width/2-(t[0]-M.left-L)<0?M.width:0)+"px").style("top",t[1]-M.top-M.height-A+"px").transition(qs().duration(200)).style("opacity",1)}():n.transition(qs().duration(500)).style("opacity",0),Fi(n.node()),function(t){t?window.addEventListener("keydown",Pi,!0):window.removeEventListener("keydown",Pi,!0)}(e))},nc={pri_grey:"#5C5C5C",sec_blue:"#003ea9",sec_orange:"#ef8400",sec_yellow:"#ffd700",comp_blue:"#2bb4da",comp_green:"#00a25e",supp_pink:"#ae48b4",supp_purple:"#7f48b4",supp_green:"#649f4a",supp_red:"#a50026",base_grey:"#D7D7DE",light_text:"#ffffff",grey_text:"#565656",dark_text:"#222222",oss_blue:"#0051dc",oss_light_blue:"#7FA8ED",oss_dark_grey:"#363636",oss_light_grey:"#D7D7D7",categorical_blue:"#226092",categorical_light_blue:"#7c99b1",categorical_blue_text:"#164d79",categorical_purple:"#796aaf",categorical_light_purple:"#cacae7",categorical_purple_text:"#66589b",categorical_olive:"#829e46",categorical_light_olive:"#abb798",categorical_olive_text:"#498329",categorical_grey:"#7a6763",categorical_light_grey:"#a19491",categorical_grey_text:"#6e5a55",categorical_rose:"#c18174",categorical_light_rose:"#e7c0b8",categorical_rose_text:"#954737",categorical_brown:"#43312d",categorical_light_brown:"#624c48",categorical_brown_text:"#43312d"};function rc(t){return Pe(nc[t]||t).darker(1.5).hex()}function ic(t){var n=nc[t]||t,r=Lu().domain([0,.45]).range([4,2]);return Pe(n).brighter(r(Pe(n).l)).hex()}var ec=[[7],[7],[2,6],[0,3,6],[0,2,4,6],[0,1,3,5,7],[1,2,3,4,5,6],[0,1,2,3,4,5,6],[0,1,2,3,4,5,6,7]],oc=[[0],[0],[0,9],[0,4,9],[0,3,6,9],[0,2,4,6,9],[0,2,4,5,7,9],[0,1,2,4,7,8,9],[0,1,2,3,6,7,8,9],[0,1,2,3,4,6,7,8,9],[0,1,2,3,4,5,6,7,8,9]],uc=[[0],[0],[0,1],[0,1,2],[0,1,2,3],[0,1,2,3,4],[0,1,2,3,4,5],[0,1,2,3,4,5,6],[0,1,2,3,4,5,6,7],[0,1,2,3,4,5,6,7,8],[0,1,2,3,4,5,6,7,8,9]];function ac(t){var n=[];return n.push(cc(t)),hc(fc(t),1)>=3&&n.push(t),n}function sc(t,n,r){var i=fc(t),e=Pe(t),o=!1,u=!1;if("darken"===n)for(e.l-=.01;hc(fc(e.hex()),i)<r&&!u;)e.l-=.01,o&&(u=!0),e.l<0&&(e.l=0,o=!0);else for(e.l+=.01;hc(fc(e.hex()),i)<r&&!u;)e.l+=.01,o&&(u=!0),e.l>1&&(e.l=1,o=!0);return u?"":e.hex()}function cc(t){var n=fc(t),r=hc(n,1),i=Pe(t);if(r<3)for(i.l-=.01;i.l>0&&hc(fc(i.hex()),n)<3&&i.l;)i.l-=.01,i.l<0&&(i.l=0);else for(i.l+=.01;hc(fc(i.hex()),n)<3&&1!==i.l;)i.l+=.01,i.l>1&&(i.l=1);return i.hex()}function fc(t){function n(t){return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}var r=Re(t);return.2126*n(r.r/255)+.7152*n(r.g/255)+.0722*n(r.b/255)}function hc(t,n){return t>=n?(t+.05)/(n+.05):(n+.05)/(t+.05)}function lc(t){return nc[t]||t}function dc(t,n,r){if(r)n.apply(this,arguments);else{var i=0;t.each((function(){++i})).on("end",(function(){--i||n.apply(this,arguments)}))}}var vc={categorical:[[0],[0],[0,1],[0,1,2],[0,1,2,3],[0,1,2,3,4],[0,1,2,3,4,5]],sequential:[[0],[0],[0,8],[0,4,8],[1,3,5,7],[0,2,4,6,8],[1,2,3,4,5,6],[1,2,3,4,5,6,7],[0,1,2,3,4,5,6,7],[0,1,2,3,4,5,6,7,8]],diverging_center:[,[5],,[0,5,10],,[1,3,5,7,9],,[2,3,4,5,6,7,8],,[1,2,3,4,5,6,7,8,9],,[0,1,2,3,4,5,6,7,8,9,10]],diverging_split:[,,[1,8],,[0,3,6,9],,[0,2,4,5,7,9],,[0,1,2,3,6,7,8,9],,[0,1,2,3,4,5,6,7,8,9]]};function pc(t){var n=t.id,r=t.fillColor,i=t.textureColor;return{categorical:[{attributes:{width:12,height:12,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"12",height:"12",fill:""+r}},{name:"path",attributes:{d:"M 0,0 l 12,12 M -3,9 l 6,6 M 9,-3 l 6,6","stroke-width":"1","shape-rendering":"auto",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:12,height:12,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"12",height:"12",fill:""+r}},{name:"circle",attributes:{cx:"6",cy:"6",r:"1",fill:""+i,stroke:"#343434","stroke-width":"0"}},{name:"circle",attributes:{cx:"0",cy:"0",r:"1",fill:""+i,stroke:"#343434","stroke-width":"0"}},{name:"circle",attributes:{cx:"0",cy:"12",r:"1",fill:""+i,stroke:"#343434","stroke-width":"0"}},{name:"circle",attributes:{cx:"12",cy:"0",r:"1",fill:""+i,stroke:"#343434","stroke-width":"0"}},{name:"circle",attributes:{cx:"12",cy:"12",r:"1",fill:""+i,stroke:"#343434","stroke-width":"0"}}]},{attributes:{width:24,height:24,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"24",height:"24",fill:""+r}},{name:"path",attributes:{d:"M 0,0 l 24,24 M -6,18 l 12,12 M 18,-6 l 12,12","stroke-width":"1","shape-rendering":"auto",stroke:""+i,"stroke-linecap":"square"}},{name:"path",attributes:{d:"M 0,24 l 24,-24 M -6,6 l 12,-12 M 18,30 l 12,-12","stroke-width":"1","shape-rendering":"auto",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:12,height:12,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"12",height:"12",fill:""+r}},{name:"path",attributes:{d:"M 4.5,4.5l3,3M4.5,7.5l3,-3",fill:"transparent",stroke:""+i,"stroke-width":"1","stroke-linecap":"square","shape-rendering":"auto"}}]},{attributes:{width:10,height:10,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"10",height:"10",fill:""+r}},{name:"path",attributes:{d:"M 5, 0 l 0, 10","stroke-width":"1","shape-rendering":"auto",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:12,height:12,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"12",height:"12",fill:""+r}},{name:"circle",attributes:{cx:"6",cy:"6",r:"1.5",fill:"none",stroke:""+i,"stroke-width":"1"}},{name:"circle",attributes:{cx:"2",cy:"10",r:"1.5",fill:"none",stroke:""+i,"stroke-width":"1"}},{name:"circle",attributes:{cx:"10",cy:"2",r:"1.5",fill:"none",stroke:""+i,"stroke-width":"1"}}]}],sequential:[{attributes:{width:10,height:10,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"10",height:"10",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 0 L 10 0M 0 10 L 10 10","stroke-width":"1",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:52.40843064167849,height:10.187166949552141,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"52.40843064167849",height:"10.187166949552141",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -52.40843064167849 10.187166949552141 L 52.40843064167849 -10.187166949552141M -52.40843064167849 20.374333899104283 L 104.81686128335699 -10.187166949552141M 0 20.374333899104283 L 104.81686128335699 0","stroke-width":"2",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:26.694671625540145,height:10.785347426775834,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"26.694671625540145",height:"10.785347426775834",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -26.694671625540145 10.785347426775834 L 26.694671625540145 -10.785347426775834M -26.694671625540145 21.570694853551668 L 53.38934325108029 -10.785347426775834M 0 21.570694853551668 L 53.38934325108029 0","stroke-width":"3",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:17.882916499714003,height:12.062179485039053,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"17.882916499714003",height:"12.062179485039053",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -17.882916499714003 12.062179485039053 L 17.882916499714003 -12.062179485039053M -17.882916499714003 24.124358970078106 L 35.76583299942801 -12.062179485039053M 0 24.124358970078106 L 35.76583299942801 0","stroke-width":"4",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:14.142135623730951,height:14.14213562373095,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"14.142135623730951",height:"14.14213562373095",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -14.142135623730951 14.14213562373095 L 14.142135623730951 -14.14213562373095M -14.142135623730951 28.2842712474619 L 28.284271247461902 -14.14213562373095M 0 28.2842712474619 L 28.284271247461902 0","stroke-width":"5",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:12.062179485039053,height:17.882916499714003,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"12.062179485039053",height:"17.882916499714003",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -12.062179485039053 17.882916499714003 L 12.062179485039053 -17.882916499714003M -12.062179485039053 35.76583299942801 L 24.124358970078106 -17.882916499714003M 0 35.76583299942801 L 24.124358970078106 0","stroke-width":"6",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:10.863603774052963,height:25.593046652474495,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"10.863603774052963",height:"25.593046652474495",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -10.863603774052963 25.593046652474495 L 10.863603774052963 -25.593046652474495M -10.863603774052963 51.18609330494899 L 21.727207548105927 -25.593046652474495M 0 51.18609330494899 L 21.727207548105927 0","stroke-width":"7",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:10.187166949552141,height:52.40843064167844,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"10.187166949552141",height:"52.40843064167844",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -10.187166949552141 52.40843064167844 L 10.187166949552141 -52.40843064167844M -10.187166949552141 104.81686128335689 L 20.374333899104283 -52.40843064167844M 0 104.81686128335689 L 20.374333899104283 0","stroke-width":"8",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:10,height:10,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"10",height:"10",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 0 L 0 10M 10 0 L 10 10","stroke-width":"9",stroke:""+i,"stroke-linecap":"square"}}]}],diverging_split:[{attributes:{width:10.35276180410083,height:38.63703305156273,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"10.35276180410083",height:"38.63703305156273",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -38.63703305156273 L 20.70552360820166 38.63703305156273M -10.35276180410083 -38.63703305156273 L 10.35276180410083 38.63703305156273M -10.35276180410083 0 L 10.35276180410083 77.27406610312546","stroke-width":"9",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:11.547005383792516,height:20.000000000000004,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"11.547005383792516",height:"20.000000000000004",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -20.000000000000004 L 23.094010767585033 20.000000000000004M -11.547005383792516 -20.000000000000004 L 11.547005383792516 20.000000000000004M -11.547005383792516 0 L 11.547005383792516 40.00000000000001","stroke-width":"7",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:14.142135623730951,height:14.142135623730951,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"14.142135623730951",height:"14.142135623730951",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -14.142135623730951 L 28.284271247461902 14.142135623730951M -14.142135623730951 -14.142135623730951 L 14.142135623730951 14.142135623730951M -14.142135623730951 0 L 14.142135623730951 28.284271247461902","stroke-width":"5",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:20.000000000000004,height:11.547005383792516,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"20.000000000000004",height:"11.547005383792516",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -11.547005383792516 L 40.00000000000001 11.547005383792516M -20.000000000000004 -11.547005383792516 L 20.000000000000004 11.547005383792516M -20.000000000000004 0 L 20.000000000000004 23.094010767585033","stroke-width":"3",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:38.63703305156273,height:10.35276180410083,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"38.63703305156273",height:"10.35276180410083",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -10.35276180410083 L 77.27406610312546 10.35276180410083M -38.63703305156273 -10.35276180410083 L 38.63703305156273 10.35276180410083M -38.63703305156273 0 L 38.63703305156273 20.70552360820166","stroke-width":"1",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:38.63703305156273,height:10.35276180410083,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"38.63703305156273",height:"10.35276180410083",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -38.63703305156273 10.35276180410083 L 38.63703305156273 -10.35276180410083M -38.63703305156273 20.70552360820166 L 77.27406610312546 -10.35276180410083M 0 20.70552360820166 L 77.27406610312546 0","stroke-width":"1",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:20.000000000000004,height:11.547005383792515,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"20.000000000000004",height:"11.547005383792515",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -20.000000000000004 11.547005383792515 L 20.000000000000004 -11.547005383792515M -20.000000000000004 23.09401076758503 L 40.00000000000001 -11.547005383792515M 0 23.09401076758503 L 40.00000000000001 0","stroke-width":"3",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:14.142135623730951,height:14.14213562373095,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"14.142135623730951",height:"14.14213562373095",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -14.142135623730951 14.14213562373095 L 14.142135623730951 -14.14213562373095M -14.142135623730951 28.2842712474619 L 28.284271247461902 -14.14213562373095M 0 28.2842712474619 L 28.284271247461902 0","stroke-width":"5",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:11.547005383792516,height:20.000000000000004,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"11.547005383792516",height:"20.000000000000004",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -11.547005383792516 20.000000000000004 L 11.547005383792516 -20.000000000000004M -11.547005383792516 40.00000000000001 L 23.094010767585033 -20.000000000000004M 0 40.00000000000001 L 23.094010767585033 0","stroke-width":"7",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:10.35276180410083,height:38.637033051562696,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"10.35276180410083",height:"38.637033051562696",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -10.35276180410083 38.637033051562696 L 10.35276180410083 -38.637033051562696M -10.35276180410083 77.27406610312539 L 20.70552360820166 -38.637033051562696M 0 77.27406610312539 L 20.70552360820166 0","stroke-width":"9",stroke:""+i,"stroke-linecap":"square"}}]}],diverging_center:[{attributes:{width:12.423314164920995,height:46.36443966187528,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"12.423314164920995",height:"46.36443966187528",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -46.36443966187528 L 24.84662832984199 46.36443966187528M -12.423314164920995 -46.36443966187528 L 12.423314164920995 46.36443966187528M -12.423314164920995 0 L 12.423314164920995 92.72887932375056","stroke-width":"11",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:13.85640646055102,height:24.000000000000004,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"13.85640646055102",height:"24.000000000000004",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -24.000000000000004 L 27.71281292110204 24.000000000000004M -13.85640646055102 -24.000000000000004 L 13.85640646055102 24.000000000000004M -13.85640646055102 0 L 13.85640646055102 48.00000000000001","stroke-width":"9",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:16.970562748477143,height:16.970562748477143,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"16.970562748477143",height:"16.970562748477143",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -16.970562748477143 L 33.941125496954285 16.970562748477143M -16.970562748477143 -16.970562748477143 L 16.970562748477143 16.970562748477143M -16.970562748477143 0 L 16.970562748477143 33.941125496954285","stroke-width":"7",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:24.000000000000004,height:13.85640646055102,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"24.000000000000004",height:"13.85640646055102",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -13.85640646055102 L 48.00000000000001 13.85640646055102M -24.000000000000004 -13.85640646055102 L 24.000000000000004 13.85640646055102M -24.000000000000004 0 L 24.000000000000004 27.71281292110204","stroke-width":"5",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:46.36443966187528,height:12.423314164920995,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"46.36443966187528",height:"12.423314164920995",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -12.423314164920995 L 92.72887932375056 12.423314164920995M -46.36443966187528 -12.423314164920995 L 46.36443966187528 12.423314164920995M -46.36443966187528 0 L 46.36443966187528 24.84662832984199","stroke-width":"3",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:12,height:12,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"12",height:"12",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 0 L 12 0M 0 12 L 12 12","stroke-width":"1",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:46.36443966187528,height:12.423314164920995,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"46.36443966187528",height:"12.423314164920995",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -46.36443966187528 12.423314164920995 L 46.36443966187528 -12.423314164920995M -46.36443966187528 24.84662832984199 L 92.72887932375056 -12.423314164920995M 0 24.84662832984199 L 92.72887932375056 0","stroke-width":"3",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:24.000000000000004,height:13.856406460551018,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"24.000000000000004",height:"13.856406460551018",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -24.000000000000004 13.856406460551018 L 24.000000000000004 -13.856406460551018M -24.000000000000004 27.712812921102035 L 48.00000000000001 -13.856406460551018M 0 27.712812921102035 L 48.00000000000001 0","stroke-width":"5",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:16.970562748477143,height:16.97056274847714,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"16.970562748477143",height:"16.97056274847714",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -16.970562748477143 16.97056274847714 L 16.970562748477143 -16.97056274847714M -16.970562748477143 33.94112549695428 L 33.941125496954285 -16.97056274847714M 0 33.94112549695428 L 33.941125496954285 0","stroke-width":"7",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:13.85640646055102,height:24.000000000000004,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"13.85640646055102",height:"24.000000000000004",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -13.85640646055102 24.000000000000004 L 13.85640646055102 -24.000000000000004M -13.85640646055102 48.00000000000001 L 27.71281292110204 -24.000000000000004M 0 48.00000000000001 L 27.71281292110204 0","stroke-width":"9",stroke:""+i,"stroke-linecap":"square"}}]},{attributes:{width:12.423314164920995,height:46.36443966187523,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"12.423314164920995",height:"46.36443966187523",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -12.423314164920995 46.36443966187523 L 12.423314164920995 -46.36443966187523M -12.423314164920995 92.72887932375046 L 24.84662832984199 -46.36443966187523M 0 92.72887932375046 L 24.84662832984199 0","stroke-width":"11",stroke:""+i,"stroke-linecap":"square"}}]}]}[t.scheme][t.index]}var bc=function(t,n,r,i){var e=r[0],o=r[r.length-1],u="categorical"!==i&&i?"sequential"===i?"sequential":r.length%2?"diverging_center":"diverging_split":"categorical";if("categorical"===u)o=cc(t),e=t;else if("sequential"!==u)if(u.includes("center")){var a=(r.length-1)/2-1,s=a+1+1;n<=a?(o=r[0],e=r[a]):n>=s?(o=r[r.length-1],e=r[s]):(o=cc(t),e=t)}else{var c=r.length/2;n<c?(o=r[0],e=r[c-1]):(o=r[r.length-1],e=r[c])}return{fillColor:e,textureColor:o,textureScheme:u}},mc=function(t){var n=t.root,r=t.id,i=t.color,e=t.strokeSizeOverride,o="#"===i[0]?i.substr(1):i,u=((e||"")+"").replace(".","p"),a="VCL-t-s-f-"+o+u,s=a+r+u,c=vt(n).select("."+a);if(c.size())c.attr("id",s);else{var f=vt(n).select("defs");f.size()||(f=vt(n).append("defs")),(c=f.append("filter").attr("id",s).attr("class",a)).append("feMorphology").attr("in","SourceAlpha").attr("result","dilatedText").attr("operator","dilate").attr("radius",e||1.5),c.append("feFlood").attr("flood-color",i||"#ffffff").attr("flood-opacity",1).attr("result","whiteTextFlood"),c.append("feComposite").attr("in","whiteTextFlood").attr("in2","dilatedText").attr("operator","in").attr("result","textOutline");var h=c.append("feMerge");h.append("feMergeNode").attr("in","textOutline"),e||(h.append("feMergeNode").attr("in","textOutline"),h.append("feMergeNode").attr("in","textOutline")),h.append("feMergeNode").attr("in","SourceGraphic")}return ji(s)},yc=function(t){var n=t.id,r=t.state,i=t.fillColor,e=t.strokeWidth,o=t.forceStrokeColor,u=t.includeOuterStroke,a=t.strokeOnHover,s=t.alwaysShowStroke,c=t.stacked,f=vt(t.root).select("defs"),h=ac(i),l="hover"===r&&!a||1!==h.length&&"click"!==r?i:h[0],d=i,v=h[1]||"",p=u?"#ffffff":"",b="VCL-filter-"+("#"===l[0]?l.substring(1):l)+"-"+r+"-"+n;f.select("#"+b).size()&&f.select("#"+b).remove();var m=f.append("filter").attr("id",b).attr("class","VCL-accessibility-stroke-filter"),y=wc("hover"!==r&&o?o:l,d,l!==i||"hover"===r||s?e:0,p,v,c?.5:0);y.forEach((function(t){m.append("feMorphology").attr("in","SourceAlpha").attr("operator",t.operator).attr("radius",t.radius).attr("result",t.result?t.result+"-morph":"morph-"+t.operator+"-"+t.radius),t.color&&m.append("feFlood").attr("flood-color",t.color).attr("result",t.result+"-color"),m.append("feComposite").attr("in",t.result?t.result+"-color":"SourceGraphic").attr("in2",t.result?t.result+"-morph":"morph-"+t.operator+"-"+t.radius).attr("operator","in").attr("result",t.result?t.result+"-stroke":"fill")}));var w=m.append("feMerge");return y.forEach((function(t){w.append("feMergeNode").attr("in",t.result?t.result+"-stroke":"fill")})),ji(b)},wc=function(t,n,r,i,e,o){var u=[],a=Et(),s="IE"!==a&&"Edge"!==a?0:1,c="Safari"!==a?s:.1;return i&&u.push({color:i,result:"outside",operator:o?"erode":"dilate",radius:o?0:1}),e&&(c++,u.push({color:e,result:"edge",operator:"erode",radius:s+o})),u.push({color:t,result:"primary",operator:"erode",radius:c+o}),u.push({color:n,result:"clean",operator:"erode",radius:c+r+o}),u.push({operator:"erode",radius:c+r+1+o}),u},gc=function(t,n){t.attr("class",n+"-highlight "+n+"-hover").attr("focusable",!1).attr("aria-label",null).attr("aria-hidden",!0).attr("role",null).style("pointer-events","none").attr("tabindex",null).attr("mix-blend-mode",null).style("mix-blend-mode",null)},Mc=function(t,n,r,i,e){t.style("stroke-linecap","butt").style("outline-offset","0px").style("outline-color","none").style("outline-width","0px").attr("fill","none").style("fill","none").style("stroke-opacity",1).attr("marker-start",null).attr("marker-end",null).attr("filter",null).attr("stroke-dasharray",e?"8 6":null).attr("clip-path",r).style("stroke-width",(function(t,r,e){var o=vt(e[r]).attr("transform")?vt(e[r]).attr("transform").indexOf("scale"):-1,u=1;if(o>-1){var a=vt(e[r]).attr("transform").substring(o+6),s=a.indexOf(",")<a.indexOf(")")&&-1!==a.indexOf(",")?a.indexOf(","):a.indexOf(")");u=+a.substring(0,s)}return((i?2:0)+2*n)/u+"px"}))},Lc=function(t,n){return t+"-"+((n instanceof Date?n.getTime():n)+"").replace(/\W/g,"-")};function Ac(t,n,r,i,e,o){var u=0===n?0:r,a=Ec(t,e,o),s=Nc(t,i,o);return s||a?u=n:i&&!s||0!==e.length&&!a||(u=n),u}function Nc(t,n,r){var i=t&&t.data&&t.data.data?t.data.data:t&&t.data?t.data:t||{},e=0;return n&&r.map((function(t){n[t]instanceof Date&&i[t]instanceof Date?n[t].getTime()===i[t].getTime()&&e++:n[t]===i[t]&&e++})),r&&r.length&&e===r.length}function Ec(t,n,r){var i=!1,e=t&&t.data&&t.data.data?t.data.data:t&&t.data?t.data:t||{};if(n&&n.length)for(var o=function(t){var o=0;if(r.map((function(r){n[t][r]instanceof Date&&e[r]instanceof Date?n[t][r].getTime()===e[r].getTime()&&o++:n[t][r]===e[r]&&o++})),o===r.length)return i=!0,"break"},u=0;u<n.length&&"break"!==o(u);u++);return r&&r.length&&i}var kc,xc,Tc=[],Sc=null,Oc=750,Ic=1,Rc=null,Cc=6,Dc=6,Fc=3,Hc=0,Wc=0,jc=0,_c=1,Uc="x",Pc=qc,Bc=1e-6;function Yc(t){var n=null==Sc?kc.ticks?kc.ticks.apply(kc,Tc):kc.domain():Sc,r=null==Rc?kc.tickFormat?kc.tickFormat.apply(kc,Tc):Gc:Rc,i=Math.max(Cc,0)+Fc,e=kc.range(),o=+e[0]+.5,u=+e[e.length-1]+.5,a=(kc.bandwidth?Xc:Zc)(kc.copy()),s=t.selection?t.selection():t,c=s.selectAll(".domain").data([null]),f=s.selectAll(".tick").data(n,kc).order(),h=f.exit(),l=f.enter().append("g").attr("class","tick").attr("data-testid","axis-tick"),d=f.select("line"),v=f.select("text");c=c.merge(c.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),s.selectAll(".domain").attr("class",xc?"domain hidden":"domain"),f=f.merge(l),d=d.merge(l.append("line").attr("data-testid","axis-tick-line").attr("stroke","currentColor").attr(Uc+"2",_c*Cc)),kc.formattedTicks||(kc.formattedTicks=[]),v=v.merge(l.append("text").attr("data-testid","axis-tick-text").attr("fill","currentColor").attr(Uc,_c*i).attr("dy",1===Ic?"0em":3===Ic?"0.71em":"0.32em")).text((function(t,n){return r(t,n)&&kc.formattedTicks.push(r(t,n)),r(t,n)})),jc>0&&v.call(zc),t!==s&&Oc&&(c=c.transition(t).duration(Oc).ease(Ks),f=f.transition(t).duration(Oc).ease(Ks),d=d.transition(t).duration(Oc).ease(Ks),v=v.transition(t).duration(Oc).ease(Ks),h=h.transition(t).attr("opacity",Bc).attr("transform",(function(t){return isFinite(t=a(t))?Pc(t):this.getAttribute("transform")})),l.attr("opacity",Bc).attr("transform",(function(t){var n=this.parentNode.__axis;return Pc(n&&isFinite(n=n(t))?n:a(t))}))),h.remove(),c.attr("d",4===Ic||2===Ic?Dc?"M"+_c*Dc+","+o+"H0.5V"+u+"H"+_c*Dc:"M0.5,"+o+"V"+u:Dc?"M"+o+","+_c*Dc+"V0.5H"+u+"V"+_c*Dc:"M"+o+",0.5H"+u),f.attr("opacity",1).attr("transform",(function(t){return Pc(a(t))})),d.attr(Uc+"2",_c*Cc),v.attr(Uc,_c*i),s.filter(Kc).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===Ic?"start":4===Ic?"end":"middle"),s.each((function(){this.__axis=a}))}function zc(t){t.each((function(){var t=vt(this),n=ca({text:t.text(),width:jc,fontSize:12,noPadding:!1,wholeWords:!1}),r=Wc,i=0,e=t.attr("y"),o=parseFloat(t.attr("dy"));t.text(null),n.forEach((function(n){t.append("tspan").attr("data-testid","axis-tick-text-tspan").attr("x",Hc).attr("y",e).attr("dy",i*r+o+"em").text(n),i++}))}))}function Vc(){_c=1===Ic||4===Ic?-1:1,Uc=4===Ic||2===Ic?"x":"y",Pc=1===Ic||3===Ic?qc:$c}function Gc(t){return t}function qc(t){return"translate("+(t+.5)+",0)"}function $c(t){return"translate(0,"+(t+.5)+")"}function Zc(t){return function(n){return+t(n)}}function Xc(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(r){return+t(r)+n}}function Kc(){return!this.__axis}var Jc=Array.prototype.slice;function Qc(t){return t}var tf=1e-6;function nf(t){return"translate("+(t+.5)+",0)"}function rf(t){return"translate(0,"+(t+.5)+")"}function ef(t){return function(n){return+t(n)}}function of(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(r){return+t(r)+n}}function uf(){return!this.__axis}function af(t,n){var r=[],i=null,e=null,o=6,u=6,a=3,s=1===t||4===t?-1:1,c=4===t||2===t?"x":"y",f=1===t||3===t?nf:rf;function h(h){var l=null==i?n.ticks?n.ticks.apply(n,r):n.domain():i,d=null==e?n.tickFormat?n.tickFormat.apply(n,r):Qc:e,v=Math.max(o,0)+a,p=n.range(),b=+p[0]+.5,m=+p[p.length-1]+.5,y=(n.bandwidth?of:ef)(n.copy()),w=h.selection?h.selection():h,g=w.selectAll(".domain").data([null]),M=w.selectAll(".tick").data(l,n).order(),L=M.exit(),A=M.enter().append("g").attr("class","tick"),N=M.select("line"),E=M.select("text");g=g.merge(g.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(A),N=N.merge(A.append("line").attr("stroke","currentColor").attr(c+"2",s*o)),E=E.merge(A.append("text").attr("fill","currentColor").attr(c,s*v).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==w&&(g=g.transition(h),M=M.transition(h),N=N.transition(h),E=E.transition(h),L=L.transition(h).attr("opacity",tf).attr("transform",(function(t){return isFinite(t=y(t))?f(t):this.getAttribute("transform")})),A.attr("opacity",tf).attr("transform",(function(t){var n=this.parentNode.__axis;return f(n&&isFinite(n=n(t))?n:y(t))}))),L.remove(),g.attr("d",4===t||2==t?u?"M"+s*u+","+b+"H0.5V"+m+"H"+s*u:"M0.5,"+b+"V"+m:u?"M"+b+","+s*u+"V0.5H"+m+"V"+s*u:"M"+b+",0.5H"+m),M.attr("opacity",1).attr("transform",(function(t){return f(y(t))})),N.attr(c+"2",s*o),E.attr(c,s*v).text(d),w.filter(uf).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),w.each((function(){this.__axis=y}))}return h.scale=function(t){return arguments.length?(n=t,h):n},h.ticks=function(){return r=Jc.call(arguments),h},h.tickArguments=function(t){return arguments.length?(r=null==t?[]:Jc.call(t),h):r.slice()},h.tickValues=function(t){return arguments.length?(i=null==t?null:Jc.call(t),h):i&&i.slice()},h.tickFormat=function(t){return arguments.length?(e=t,h):e},h.tickSize=function(t){return arguments.length?(o=u=+t,h):o},h.tickSizeInner=function(t){return arguments.length?(o=+t,h):o},h.tickSizeOuter=function(t){return arguments.length?(u=+t,h):u},h.tickPadding=function(t){return arguments.length?(a=+t,h):a},h}function sf(t){return af(4,t)}var cf={cross:{general:"M-1.0606601238250732,-0.3535534143447876L-0.919238805770874,-0.3535534143447876L-0.7778174877166748,-0.3535534143447876L-0.6363961100578308,-0.3535534143447876L-0.4949747920036316,-0.3535534143447876L-0.3535534739494324,-0.3535534143447876L-0.3535533845424652,-0.4949747323989868L-0.3535533845424652,-0.636396050453186L-0.3535534143447876,-0.7778173685073853L-0.3535534143447876,-0.9192386865615845L-0.3535534143447876,-1.0606600046157837L-0.21213221549987793,-1.0606601238250732L-0.07071077823638916,-1.0606601238250732L0.07071053981781006,-1.0606601238250732L0.21213185787200928,-1.0606601238250732L0.3535531759262085,-1.0606601238250732L0.35355344414711,-0.9192389249801636L0.35355344414711,-0.7778176069259644L0.3535534143447876,-0.6363962888717651L0.3535534143447876,-0.4949749708175659L0.3535534143447876,-0.3535536527633667L0.49497461318969727,-0.3535534143447876L0.6363959312438965,-0.3535534143447876L0.7778174877166748,-0.3535534143447876L0.919238805770874,-0.3535534143447876L1.0606601238250732,-0.3535534143447876L1.0606601238250732,-0.21213233470916748L1.0606601238250732,-0.07071101665496826L1.0606601238250732,0.07071030139923096L1.0606601238250732,0.21213161945343018L1.0606601238250732,0.3535529375076294L0.9192391633987427,0.35355332493782043L0.7778178453445435,0.3535533547401428L0.6363965272903442,0.3535533845424652L0.494975209236145,0.3535533845424652L0.3535538911819458,0.3535534143447876L0.35355344414711,0.49497437477111816L0.35355344414711,0.6363956928253174L0.3535534143447876,0.7778170108795166L0.3535534143447876,0.9192383289337158L0.3535534143447876,1.060659646987915L0.21213233470916748,1.0606600046157837L0.07071101665496826,1.0606600046157837L-0.07071030139923096,1.0606601238250732L-0.21213161945343018,1.0606601238250732L-0.3535529375076294,1.0606601238250732L-0.3535533845424652,0.9192386865615845L-0.3535533845424652,0.7778173685073853L-0.3535534143447876,0.636396050453186L-0.3535534143447876,0.4949747323989868L-0.3535534143447876,0.3535534143447876L-0.49497485160827637,0.35355332493782043L-0.6363961696624756,0.3535533547401428L-0.7778174877166748,0.3535533845424652L-0.919238805770874,0.3535533845424652L-1.0606601238250732,0.3535534143447876L-1.0606601238250732,0.21213185787200928L-1.0606601238250732,0.07071053981781006L-1.0606601238250732,-0.07071077823638916L-1.0606601238250732,-0.21213209629058838Z",base:"M-1.0606601717798214,-0.3535533905932738L-0.3535533905932738,-0.3535533905932738L-0.3535533905932738,-1.0606601717798214L0.3535533905932738,-1.0606601717798214L0.3535533905932738,-0.3535533905932738L1.0606601717798214,-0.3535533905932738L1.0606601717798214,0.3535533905932738L0.3535533905932738,0.3535533905932738L0.3535533905932738,1.0606601717798214L-0.3535533905932738,1.0606601717798214L-0.3535533905932738,0.3535533905932738L-1.0606601717798214,0.3535533905932738Z"},circle:{general:"M1,0L0.9952487945556641,0.10496900230646133L0.9802308678627014,0.20940586924552917L0.9531400799751282,0.31073155999183655L0.9148818850517273,0.4079720079898834L0.8663365244865417,0.5002545714378357L0.8094649910926819,0.5883480906486511L0.743568480014801,0.6698152422904968L0.6695123314857483,0.7439088225364685L0.5881620049476624,0.8099220395088196L0.5004010796546936,0.867180347442627L0.4069012701511383,0.9140697717666626L0.30910128355026245,0.9513185620307922L0.2079721838235855,0.9784069061279297L0.10456041246652603,0.9948219656944275L9.057112038135529e-8,1L-0.10454819351434708,0.994599461555481L-0.20796485245227814,0.9783451557159424L-0.30910056829452515,0.9513131976127625L-0.40682557225227356,0.9137774109840393L-0.5000651478767395,0.8661796450614929L-0.5878113508224487,0.8090839982032776L-0.6691301465034485,0.7431550621986389L-0.7431550025939941,0.6691302061080933L-0.8090841770172119,0.5878111720085144L-0.8661795258522034,0.5000653266906738L-0.9137775301933289,0.4068255126476288L-0.9513131976127625,0.30910077691078186L-0.9783450961112976,0.20796531438827515L-0.994599461555481,0.10454835742712021L-1,1.5099580252808664e-7L-0.9952487945556641,-0.1049688383936882L-0.9802308082580566,-0.2094057947397232L-0.953140139579773,-0.3107314109802246L-0.9148820638656616,-0.4079718291759491L-0.8663367629051208,-0.5002543926239014L-0.8094651103019714,-0.5883479714393616L-0.7435685396194458,-0.6698151230812073L-0.6695123314857483,-0.7439088225364685L-0.5881620645523071,-0.8099220395088196L-0.5004012584686279,-0.867180347442627L-0.4069012701511383,-0.9140697717666626L-0.30910128355026245,-0.9513185620307922L-0.20797239243984222,-0.9784069061279297L-0.10456059128046036,-0.9948219656944275L-3.026798367500305e-9,-1L0.10454817116260529,-0.994599461555481L0.2079651653766632,-0.9783450961112976L0.30910080671310425,-0.9513131380081177L0.4068260192871094,-0.913777232170105L0.5000655055046082,-0.8661794066429138L0.587811291217804,-0.8090839982032776L0.6691306233406067,-0.7431545853614807L0.7431554198265076,-0.6691297292709351L0.8090841770172119,-0.5878111124038696L0.866179883480072,-0.5000647306442261L0.9137775301933289,-0.4068252444267273L0.9513131976127625,-0.309100478887558L0.9783451557159424,-0.20796477794647217L0.9945995211601257,-0.10454780608415604Z",base:"M1,0A1,1,0,1,1,-1,0A1,1,0,1,1,1,0"},square:{general:"M-0.9219544529914856,-0.9219544529914856L-0.799027144908905,-0.9219544529914856L-0.676099956035614,-0.9219544529914856L-0.5531726479530334,-0.9219544529914856L-0.4302453398704529,-0.9219544529914856L-0.30731815099716187,-0.9219544529914856L-0.18439096212387085,-0.9219544529914856L-0.06146365404129028,-0.9219544529914856L0.06146365404129028,-0.9219544529914856L0.1843908429145813,-0.9219544529914856L0.30731815099716187,-0.9219544529914856L0.43024545907974243,-0.9219544529914856L0.5531726479530334,-0.9219544529914856L0.676099956035614,-0.9219544529914856L0.799027144908905,-0.9219544529914856L0.9219544529914856,-0.9219544529914856L0.9219545125961304,-0.799027144908905L0.9219545125961304,-0.676099956035614L0.9219545125961304,-0.553172767162323L0.9219545125961304,-0.4302453398704529L0.9219545125961304,-0.30731815099716187L0.9219545125961304,-0.18439096212387085L0.9219545125961304,-0.06146353483200073L0.9219545125961304,0.06146365404129028L0.9219545125961304,0.1843908429145813L0.9219544529914856,0.3073182702064514L0.9219544529914856,0.43024545907974243L0.9219544529914856,0.5531726479530334L0.9219544529914856,0.6760998368263245L0.9219544529914856,0.7990272641181946L0.9219544529914856,0.9219544529914856L0.7990273833274841,0.9219542145729065L0.676099956035614,0.9219542145729065L0.553172767162323,0.9219542145729065L0.430245578289032,0.9219542741775513L0.30731838941574097,0.9219542741775513L0.18439120054244995,0.9219542741775513L0.06146353483200073,0.921954333782196L-0.06146365404129028,0.921954333782196L-0.1843908429145813,0.921954333782196L-0.3073180317878723,0.921954333782196L-0.43024522066116333,0.9219543933868408L-0.5531724095344543,0.9219543933868408L-0.6760995984077454,0.9219543933868408L-0.7990272641181946,0.9219544529914856L-0.9219544529914856,0.9219544529914856L-0.9219543933868408,0.799027144908905L-0.9219543933868408,0.676099956035614L-0.9219543933868408,0.553172767162323L-0.9219543933868408,0.430245578289032L-0.9219543933868408,0.30731791257858276L-0.9219543933868408,0.18439072370529175L-0.9219543933868408,0.06146353483200073L-0.9219543933868408,-0.06146365404129028L-0.9219543933868408,-0.1843908429145813L-0.9219544529914856,-0.3073180317878723L-0.9219544529914856,-0.43024522066116333L-0.9219544529914856,-0.5531728863716125L-0.9219544529914856,-0.6761000752449036L-0.9219544529914856,-0.7990272641181946Z",base:"M-0.9219544457292888,-0.9219544457292888h1.8439088914585775v1.8439088914585775h-1.8439088914585775Z"},star:{general:"M0,-1.462173581123352L0.05471307039260864,-1.2937841415405273L0.1094261109828949,-1.125394582748413L0.16413918137550354,-0.9570050239562988L0.21885225176811218,-0.7886155843734741L0.2735653221607208,-0.6202260255813599L0.32827839255332947,-0.4518364667892456L0.505333662033081,-0.4518364667892456L0.6823887825012207,-0.4518364667892456L0.8594440221786499,-0.4518364667892456L1.036499261856079,-0.4518364667892456L1.2135545015335083,-0.4518364667892456L1.3906097412109375,-0.4518364667892456L1.2473692893981934,-0.34776610136032104L1.104128360748291,-0.24369558691978455L0.9608877897262573,-0.13962522149085999L0.8176472187042236,-0.03555482625961304L0.6744064092636108,0.06851568818092346L0.5311657786369324,0.17258606851100922L0.5858786702156067,0.34097564220428467L0.6405917406082153,0.5093650817871094L0.6953047513961792,0.6777544617652893L0.7500178813934326,0.8461441397666931L0.8047309517860413,1.014533519744873L0.8594440817832947,1.1829231977462769L0.7162032723426819,1.078852653503418L0.5729628205299377,0.9747823476791382L0.42972204089164734,0.8707118630409241L0.28648123145103455,0.76664137840271L0.1432408094406128,0.6625710725784302L1.1102230246251565e-16,0.5585005879402161L-0.1432408094406128,0.6625711917877197L-0.28648126125335693,0.76664137840271L-0.42972204089164734,0.8707119226455688L-0.5729628801345825,0.9747824668884277L-0.7162032723426819,1.078852653503418L-0.8594440817832947,1.1829231977462769L-0.8047309517860413,1.014533519744873L-0.7500178217887878,0.846143901348114L-0.695304811000824,0.6777547001838684L-0.6405916810035706,0.5093650817871094L-0.5858786106109619,0.34097540378570557L-0.531165599822998,0.17258620262145996L-0.674406111240387,0.0685158371925354L-0.8176469206809998,-0.0355546772480011L-0.9608873128890991,-0.1396249234676361L-1.104128122329712,-0.2436954379081726L-1.2473689317703247,-0.3477659523487091L-1.3906097412109375,-0.4518364667892456L-1.2135542631149292,-0.4518364667892456L-1.0364998579025269,-0.4518364667892456L-0.8594444990158081,-0.4518364667892456L-0.6823891401290894,-0.4518364667892456L-0.5053337812423706,-0.4518364667892456L-0.32827839255332947,-0.4518364667892456L-0.27356526255607605,-0.6202262043952942L-0.21885214745998383,-0.788615882396698L-0.16413933038711548,-0.9570046067237854L-0.10942622274160385,-1.1253942251205444L-0.054713111370801926,-1.2937839031219482Z",base:"M0,-1.4621735258409942L0.3282784098583098,-0.4518364682100035L1.3906096597053377,-0.4518364682100036L0.5311656249235138,0.17258617349950994L0.859444034781824,1.1829232311305005L1.1102230246251565e-16,0.5585005894209871L-0.8594440347818236,1.1829232311305007L-0.5311656249235137,0.17258617349951003L-1.390609659705338,-0.4518364682100033L-0.3282784098583099,-0.4518364682100034Z"},triangle:{general:"M0,-1.3306167125701904L0.05761754512786865,-1.2308205366134644L0.1152348518371582,-1.1310244798660278L0.17285221815109253,-1.0312281847000122L0.23046964406967163,-0.9314318895339966L0.28808706998825073,-0.8316354751586914L0.34570443630218506,-0.7318392992019653L0.4033218026161194,-0.6320431232452393L0.4609392285346985,-0.5322468280792236L0.5185565948486328,-0.432450532913208L0.5761740207672119,-0.33265429735183716L0.6337913870811462,-0.2328580617904663L0.6914087533950806,-0.13306176662445068L0.7490261793136597,-0.033265531063079834L0.8066436052322388,0.06653076410293579L0.8642609119415283,0.16632699966430664L0.9218782782554626,0.2661232054233551L0.9794957041740417,0.3659195303916931L1.037113070487976,0.4657157063484192L1.0947304964065552,0.5655120611190796L1.1523479223251343,0.6653083562850952L1.0371133089065552,0.6653079986572266L0.921878457069397,0.6653080582618713L0.8066436052322388,0.6653080582618713L0.6914087533950806,0.6653080582618713L0.5761741399765015,0.6653081178665161L0.46093928813934326,0.6653081178665161L0.34570443630218506,0.6653081178665161L0.23046958446502686,0.6653081178665161L0.11523497104644775,0.6653081774711609L1.1920928955078125e-7,0.6653081774711609L-0.11523473262786865,0.6653081774711609L-0.23046934604644775,0.6653082370758057L-0.34570419788360596,0.6653082370758057L-0.46093904972076416,0.6653082370758057L-0.5761736631393433,0.6653082966804504L-0.6914085149765015,0.6653082966804504L-0.8066433668136597,0.6653082966804504L-0.9218782186508179,0.6653082966804504L-1.037113070487976,0.6653083562850952L-1.1523479223251343,0.6653083562850952L-1.094730257987976,0.5655120611190796L-1.037113070487976,0.4657161235809326L-0.9794957041740417,0.365919828414917L-0.9218782782554626,0.26612353324890137L-0.8642608523368835,0.1663271188735962L-0.8066434264183044,0.06653082370758057L-0.7490260004997253,-0.03326547145843506L-0.6914085745811462,-0.13306176662445068L-0.6337913870811462,-0.23285770416259766L-0.5761739611625671,-0.3326539993286133L-0.518556535243988,-0.4324502944946289L-0.4609391391277313,-0.5322465896606445L-0.4033217132091522,-0.6320429444313049L-0.3457042872905731,-0.7318392395973206L-0.288086861371994,-0.831635594367981L-0.2304694503545761,-0.9314318895339966L-0.1728522628545761,-1.0312278270721436L-0.1152348443865776,-1.1310241222381592L-0.0576174221932888,-1.2308204174041748Z",base:"M0,-1.330616708716245L1.1523478724483067,0.6653083543581225L-1.1523478724483067,0.6653083543581225Z"},diamond:{general:"M0,-1.4416868686676025L0.05549061298370361,-1.3455744981765747L0.11098116636276245,-1.2494620084762573L0.1664717197418213,-1.15334951877594L0.22196227312088013,-1.057237148284912L0.27745282649993896,-0.96112459897995L0.3329433500766754,-0.8650121688842773L0.38843390345573425,-0.76889967918396L0.4439244568347931,-0.6727872490882874L0.49941501021385193,-0.57667475938797L0.5549055337905884,-0.480562299489975L0.6103960871696472,-0.38444983959198L0.665886640548706,-0.288337379693985L0.7213771939277649,-0.19222491979599L0.7768677473068237,-0.096112459897995L0.8323583006858826,0L0.7768678665161133,0.09611248970031738L0.7213772535324097,0.19222497940063477L0.6658867001533508,0.2883373498916626L0.6103960871696472,0.38444995880126953L0.5549055933952332,0.48056232929229736L0.4994150996208191,0.5766746401786804L0.4439244866371155,0.6727872490882874L0.38843387365341187,0.7688997983932495L0.3329433500766754,0.8650121092796326L0.27745285630226135,0.9611244797706604L0.22196224331855774,1.0572370290756226L0.16647161543369293,1.1533496379852295L0.11098112165927887,1.2494620084762573L0.05549062043428421,1.3455742597579956L0,1.4416868686676025L-0.05549055337905884,1.345574140548706L-0.11098110675811768,1.2494617700576782L-0.16647160053253174,1.15334951877594L-0.22196221351623535,1.057236909866333L-0.27745282649993896,0.9611243605613708L-0.332943320274353,0.865011990070343L-0.3884338140487671,0.7688996195793152L-0.44392454624176025,0.6727868914604187L-0.4994150698184967,0.5766745209693909L-0.5549055337905884,0.4805621802806854L-0.6103960275650024,0.3844498097896576L-0.6658865809440613,0.28833746910095215L-0.7213773131370544,0.19222471117973328L-0.7768678069114685,0.09611235558986664L-0.8323583006858826,0L-0.7768675684928894,-0.09611260890960693L-0.7213770747184753,-0.19222497940063477L-0.6658865809440613,-0.2883373498916626L-0.6103960871696472,-0.38444972038269043L-0.5549055933952332,-0.4805620312690735L-0.4994148910045624,-0.5766748189926147L-0.4439243972301483,-0.6727871894836426L-0.38843390345573425,-0.7688995003700256L-0.3329431712627411,-0.8650122880935669L-0.277452677488327,-0.9611246585845947L-0.22196219861507416,-1.0572370290756226L-0.1664717048406601,-1.1533493995666504L-0.11098121851682663,-1.2494617700576782L-0.055490490049123764,-1.3455744981765747Z",base:"M0,-1.4416868484808527L0.8323582900575635,0L0,1.4416868484808527L-0.8323582900575635,0Z"}},ff=function(t){var n=t.root,r=t.interactionKeys,i=t.groupAccessor,e=t.hoverHighlight,o=t.clickHighlight,u=t.hoverStyle,a=t.clickStyle,s=t.hoverOpacity,c=n.attr("data-type");"gradient"!==c&&n.selectAll(".legend").each((function(t,n,f){var h=vt(f[n].firstElementChild),l=vt(f[n]).select("text"),d=t.values?t.values[0]:t,v=i&&1===r.length&&r[0]===i,p=Nc(d,e,r)&&v,b=Ec(d,o,r)&&v,m=h.attr("data-fill"),y=h.attr("data-stroke"),w="";if(m){var g=a?lc(a.color):"",M=u?lc(u.color):"",L=b?g||m:p&&M?M:m;h.attr("fill",L),h.style("fill",L);var A=h.attr("stroke"),N=h.attr("data-base-color"),E="scatter"!==c?[cc(g||N||m)]:ac(g||N||m),k="scatter"!==c?[cc(M||N||m)]:ac(M||N||m);w=b?E[1]||E[0]:p?k[1]||k[0]:A?y:cc(m)}else y&&(g=a&&a.color?ac(lc(a.color)):[y],M=u&&u.color?ac(lc(u.color)):[y],w=b?g[1]||g[0]:p?M[1]||M[0]:y);h.attr("stroke",w),h.style("stroke",w);var x=parseFloat(h.attr("data-stroke-width"))||("none"===y?0:1),T=x<1?x:1,S="line"!==c?1:2,O="scatter"!==c?1:4;h.attr("stroke-width",(b?a&&a.strokeWidth&&T?parseFloat(a.strokeWidth+"")*S/T:x:p&&u&&u.strokeWidth&&T?parseFloat(u.strokeWidth+"")*S/T:x)/O),h.style("stroke-width",h.attr("stroke-width")),h.attr("stroke-dasharray",!p||b||"scatter"===c||"line"===c?"line"!==c?"none":h.attr("stroke-dasharray"):"8 6"),h.style("stroke-dasharray",h.attr("stroke-dasharray"));var I=Ac(t,1,s,e,o||[],r);h.attr("opacity",I),l.attr("opacity",I?1:0)}))},hf=[{dependency:"visa-chart-components",github_link:"https://github.com/visa/visa-chart-components",license:{type:"MIT",update_date:"11/15/2020",link:"https://github.com/visa/visa-chart-components/blob/master/LICENSE.md",text:'\n        Copyright (c) Visa, Inc.\n\n        Permission is hereby granted, free of charge, to any person obtaining a copy\n        of this software and associated documentation files (the "Software"), to deal\n        in the Software without restriction, including without limitation the rights\n        to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n        copies of the Software, and to permit persons to whom the Software is\n        furnished to do so, subject to the following conditions:\n        \n        The above copyright notice and this permission notice shall be included in\n        all copies or substantial portions of the Software.\n        \n        THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n        IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n        FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n        AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n        LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n        OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n        THE SOFTWARE.\n      '}},{dependency:"node-uuid",github_link:"https://github.com/kelektiv/node-uuid",license:{type:"MIT",update_date:"10/15/2019",link:"https://github.com/kelektiv/node-uuid/blob/master/LICENSE.md",text:'\n        The MIT License (MIT)\n \n        Copyright (c) 2010-2016 Robert Kieffer and other contributors\n        \n        Permission is hereby granted, free of charge, to any person obtaining a copy\n        of this software and associated documentation files (the "Software"), to deal\n        in the Software without restriction, including without limitation the rights\n        to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n        copies of the Software, and to permit persons to whom the Software is\n        furnished to do so, subject to the following conditions:\n        \n        The above copyright notice and this permission notice shall be included in all\n        copies or substantial portions of the Software.\n        \n        THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n        IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n        FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n        AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n        LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n        OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n        SOFTWARE.\n      '}},{dependency:"turf.js",github_link:"https://github.com/Turfjs/turf",license:{type:"MIT",update_date:"8/8/2019",link:"https://github.com/Turfjs/turf/blob/master/LICENSE",text:'\n                The MIT License (MIT)\n\n                Copyright (c) 2019 Morgan Herlocker\n                \n                Permission is hereby granted, free of charge, to any person obtaining a copy of\n                this software and associated documentation files (the "Software"), to deal in\n                the Software without restriction, including without limitation the rights to\n                use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n                the Software, and to permit persons to whom the Software is furnished to do so,\n                subject to the following conditions:\n                \n                The above copyright notice and this permission notice shall be included in all\n                copies or substantial portions of the Software.\n                \n                THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n                IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n                FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n                COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n                IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n                CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n            '}},{dependency:"mapbox-gl-draw",github_link:"https://github.com/mapbox/mapbox-gl-draw",license:{type:"ISC",update_date:"8/8/2019",link:"https://github.com/mapbox/mapbox-gl-draw/blob/master/LICENSE",text:'\n                Copyright (c) Mapbox\n\n                All rights reserved.\n                \n                Permission to use, copy, modify, and/or distribute this software for any\n                purpose with or without fee is hereby granted, provided that the above\n                copyright notice and this permission notice appear in all copies.\n                \n                THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n                REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n                AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n                INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n                LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE\n                OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n                PERFORMANCE OF THIS SOFTWARE.\n            '}},{dependency:"mapbox-gl-js",github_link:"https://github.com/mapbox/mapbox-gl-js",license:{type:"BSD",update_date:"8/8/2019",link:"https://github.com/mapbox/mapbox-gl-js/blob/master/LICENSE.txt",text:'\n                Copyright (c) 2016, Mapbox\n\n                All rights reserved.\n                \n                Redistribution and use in source and binary forms, with or without modification,\n                are permitted provided that the following conditions are met:\n                \n                    * Redistributions of source code must retain the above copyright notice,\n                    this list of conditions and the following disclaimer.\n                    * Redistributions in binary form must reproduce the above copyright notice,\n                    this list of conditions and the following disclaimer in the documentation\n                    and/or other materials provided with the distribution.\n                    * Neither the name of Mapbox GL JS nor the names of its contributors\n                    may be used to endorse or promote products derived from this software\n                    without specific prior written permission.\n                \n                THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n                "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n                LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n                A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR\n                CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n                EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n                PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n                PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n                LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n                NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n                SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n                \n                -------------------------------------------------------------------------------\n                \n                Contains Hershey Simplex Font: http://paulbourke.net/dataformats/hershey/\n                \n                -------------------------------------------------------------------------------\n                \n                Contains code from glfx.js\n                \n                Copyright (C) 2011 by Evan Wallace\n                \n                Permission is hereby granted, free of charge, to any person obtaining a copy\n                of this software and associated documentation files (the "Software"), to deal\n                in the Software without restriction, including without limitation the rights\n                to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n                copies of the Software, and to permit persons to whom the Software is\n                furnished to do so, subject to the following conditions:\n                \n                The above copyright notice and this permission notice shall be included in\n                all copies or substantial portions of the Software.\n                \n                THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n                IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n                FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n                AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n                LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n                OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n                THE SOFTWARE.\n                \n                --------------------------------------------------------------------------------\n                \n                Contains a portion of d3-color https://github.com/d3/d3-color\n                \n                Copyright 2010-2016 Mike Bostock\n                All rights reserved.\n                \n                Redistribution and use in source and binary forms, with or without modification,\n                are permitted provided that the following conditions are met:\n                \n                * Redistributions of source code must retain the above copyright notice, this\n                list of conditions and the following disclaimer.\n                \n                * Redistributions in binary form must reproduce the above copyright notice,\n                this list of conditions and the following disclaimer in the documentation\n                and/or other materials provided with the distribution.\n                \n                * Neither the name of the author nor the names of contributors may be used to\n                endorse or promote products derived from this software without specific prior\n                written permission.\n                \n                THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND\n                ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n                WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n                DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n                ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n                (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n                LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n                ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n                (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n                SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n            '}},{dependency:"numeral.js",github_link:"https://github.com/adamwdraper/Numeral-js",license:{type:"MIT",update_date:"8/8/2019",link:"https://github.com/adamwdraper/Numeral-js/blob/master/LICENSE",text:'\n                The MIT License (MIT)\n\n                Copyright (c) 2016 Adam Draper\n\n                Permission is hereby granted, free of charge, to any person\n                obtaining a copy of this software and associated documentation\n                files (the "Software"), to deal in the Software without\n                restriction, including without limitation the rights to use,\n                copy, modify, merge, publish, distribute, sublicense, and/or sell\n                copies of the Software, and to permit persons to whom the\n                Software is furnished to do so, subject to the following\n                conditions:\n                \n                The above copyright notice and this permission notice shall be\n                included in all copies or substantial portions of the Software.\n                \n                THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n                EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n                OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n                NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n                HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n                WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n                FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n                OTHER DEALINGS IN THE SOFTWARE.\n            '}},{dependency:"stencil.js",github_link:"https://github.com/ionic-team/stencil",license:{type:"MIT",update_date:"8/8/2019",link:"https://github.com/ionic-team/stencil/blob/master/LICENSE",text:'\n                The MIT License (MIT)\n\n                Copyright (c) 2018-present Drifty Co.\n                \n                Permission is hereby granted, free of charge, to any person obtaining a copy\n                of this software and associated documentation files (the "Software"), to deal\n                in the Software without restriction, including without limitation the rights\n                to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n                copies of the Software, and to permit persons to whom the Software is\n                furnished to do so, subject to the following conditions:\n                \n                The above copyright notice and this permission notice shall be included in\n                all copies or substantial portions of the Software.\n                \n                THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n                IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n                FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n                AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n                LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n                OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n                THE SOFTWARE.\n            '}},{dependency:"topojson.js",github_link:"https://github.com/topojson/topojson",license:{type:"BSD 3-Clause",update_date:"8/8/2019",link:"https://github.com/topojson/topojson/blob/master/LICENSE.md",text:'\n                Copyright (c) 2012-2016, Michael Bostock All rights reserved.\n\n                Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n                \n                Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n                \n                Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n                \n                The name Michael Bostock may not be used to endorse or promote products derived from this software without specific prior written permission.\n                \n                THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL MICHAEL BOSTOCK BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n            '}},{dependency:"d3.js",github_link:"https://github.com/d3/d3",license:{type:"BSD 3-Clause",update_date:"8/8/2019",link:"https://github.com/d3/d3/blob/master/LICENSE",text:'\n                Copyright 2010-2017 Mike Bostock\n                All rights reserved.\n        \n                Redistribution and use in source and binary forms, with or without modification,\n                are permitted provided that the following conditions are met:\n        \n                * Redistributions of source code must retain the above copyright notice, this\n                list of conditions and the following disclaimer.\n        \n                * Redistributions in binary form must reproduce the above copyright notice,\n                this list of conditions and the following disclaimer in the documentation\n                and/or other materials provided with the distribution.\n        \n                * Neither the name of the author nor the names of contributors may be used to\n                endorse or promote products derived from this software without specific prior\n                written permission.\n        \n                THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND\n                ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n                WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n                DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n                ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n                (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n                LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n                ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n                (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n                SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n            '}},{dependency:"d3-annotation.js",github_link:"https://github.com/susielu/d3-annotation",license:{type:"Apache-2.0",update_date:"8/8/2019",link:"https://raw.githubusercontent.com/susielu/d3-annotation/master/LICENSE",text:'\n                            Apache License\n                            Version 2.0, January 2004\n                        http://www.apache.org/licenses/\n\n                TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n                1. Definitions.\n\n                "License" shall mean the terms and conditions for use, reproduction,\n                and distribution as defined by Sections 1 through 9 of this document.\n\n                "Licensor" shall mean the copyright owner or entity authorized by\n                the copyright owner that is granting the License.\n\n                "Legal Entity" shall mean the union of the acting entity and all\n                other entities that control, are controlled by, or are under common\n                control with that entity. For the purposes of this definition,\n                "control" means (i) the power, direct or indirect, to cause the\n                direction or management of such entity, whether by contract or\n                otherwise, or (ii) ownership of fifty percent (50%) or more of the\n                outstanding shares, or (iii) beneficial ownership of such entity.\n\n                "You" (or "Your") shall mean an individual or Legal Entity\n                exercising permissions granted by this License.\n\n                "Source" form shall mean the preferred form for making modifications,\n                including but not limited to software source code, documentation\n                source, and configuration files.\n\n                "Object" form shall mean any form resulting from mechanical\n                transformation or translation of a Source form, including but\n                not limited to compiled object code, generated documentation,\n                and conversions to other media types.\n\n                "Work" shall mean the work of authorship, whether in Source or\n                Object form, made available under the License, as indicated by a\n                copyright notice that is included in or attached to the work\n                (an example is provided in the Appendix below).\n\n                "Derivative Works" shall mean any work, whether in Source or Object\n                form, that is based on (or derived from) the Work and for which the\n                editorial revisions, annotations, elaborations, or other modifications\n                represent, as a whole, an original work of authorship. For the purposes\n                of this License, Derivative Works shall not include works that remain\n                separable from, or merely link (or bind by name) to the interfaces of,\n                the Work and Derivative Works thereof.\n\n                "Contribution" shall mean any work of authorship, including\n                the original version of the Work and any modifications or additions\n                to that Work or Derivative Works thereof, that is intentionally\n                submitted to Licensor for inclusion in the Work by the copyright owner\n                or by an individual or Legal Entity authorized to submit on behalf of\n                the copyright owner. For the purposes of this definition, "submitted"\n                means any form of electronic, verbal, or written communication sent\n                to the Licensor or its representatives, including but not limited to\n                communication on electronic mailing lists, source code control systems,\n                and issue tracking systems that are managed by, or on behalf of, the\n                Licensor for the purpose of discussing and improving the Work, but\n                excluding communication that is conspicuously marked or otherwise\n                designated in writing by the copyright owner as "Not a Contribution."\n\n                "Contributor" shall mean Licensor and any individual or Legal Entity\n                on behalf of whom a Contribution has been received by Licensor and\n                subsequently incorporated within the Work.\n\n                2. Grant of Copyright License. Subject to the terms and conditions of\n                this License, each Contributor hereby grants to You a perpetual,\n                worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n                copyright license to reproduce, prepare Derivative Works of,\n                publicly display, publicly perform, sublicense, and distribute the\n                Work and such Derivative Works in Source or Object form.\n\n                3. Grant of Patent License. Subject to the terms and conditions of\n                this License, each Contributor hereby grants to You a perpetual,\n                worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n                (except as stated in this section) patent license to make, have made,\n                use, offer to sell, sell, import, and otherwise transfer the Work,\n                where such license applies only to those patent claims licensable\n                by such Contributor that are necessarily infringed by their\n                Contribution(s) alone or by combination of their Contribution(s)\n                with the Work to which such Contribution(s) was submitted. If You\n                institute patent litigation against any entity (including a\n                cross-claim or counterclaim in a lawsuit) alleging that the Work\n                or a Contribution incorporated within the Work constitutes direct\n                or contributory patent infringement, then any patent licenses\n                granted to You under this License for that Work shall terminate\n                as of the date such litigation is filed.\n\n                4. Redistribution. You may reproduce and distribute copies of the\n                Work or Derivative Works thereof in any medium, with or without\n                modifications, and in Source or Object form, provided that You\n                meet the following conditions:\n\n                (a) You must give any other recipients of the Work or\n                Derivative Works a copy of this License; and\n\n                (b) You must cause any modified files to carry prominent notices\n                stating that You changed the files; and\n\n                (c) You must retain, in the Source form of any Derivative Works\n                that You distribute, all copyright, patent, trademark, and\n                attribution notices from the Source form of the Work,\n                excluding those notices that do not pertain to any part of\n                the Derivative Works; and\n\n                (d) If the Work includes a "NOTICE" text file as part of its\n                distribution, then any Derivative Works that You distribute must\n                include a readable copy of the attribution notices contained\n                within such NOTICE file, excluding those notices that do not\n                pertain to any part of the Derivative Works, in at least one\n                of the following places: within a NOTICE text file distributed\n                as part of the Derivative Works; within the Source form or\n                documentation, if provided along with the Derivative Works; or,\n                within a display generated by the Derivative Works, if and\n                wherever such third-party notices normally appear. The contents\n                of the NOTICE file are for informational purposes only and\n                do not modify the License. You may add Your own attribution\n                notices within Derivative Works that You distribute, alongside\n                or as an addendum to the NOTICE text from the Work, provided\n                that such additional attribution notices cannot be construed\n                as modifying the License.\n\n                You may add Your own copyright statement to Your modifications and\n                may provide additional or different license terms and conditions\n                for use, reproduction, or distribution of Your modifications, or\n                for any such Derivative Works as a whole, provided Your use,\n                reproduction, and distribution of the Work otherwise complies with\n                the conditions stated in this License.\n\n                5. Submission of Contributions. Unless You explicitly state otherwise,\n                any Contribution intentionally submitted for inclusion in the Work\n                by You to the Licensor shall be under the terms and conditions of\n                this License, without any additional terms or conditions.\n                Notwithstanding the above, nothing herein shall supersede or modify\n                the terms of any separate license agreement you may have executed\n                with Licensor regarding such Contributions.\n\n                6. Trademarks. This License does not grant permission to use the trade\n                names, trademarks, service marks, or product names of the Licensor,\n                except as required for reasonable and customary use in describing the\n                origin of the Work and reproducing the content of the NOTICE file.\n\n                7. Disclaimer of Warranty. Unless required by applicable law or\n                agreed to in writing, Licensor provides the Work (and each\n                Contributor provides its Contributions) on an "AS IS" BASIS,\n                WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n                implied, including, without limitation, any warranties or conditions\n                of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n                PARTICULAR PURPOSE. You are solely responsible for determining the\n                appropriateness of using or redistributing the Work and assume any\n                risks associated with Your exercise of permissions under this License.\n\n                8. Limitation of Liability. In no event and under no legal theory,\n                whether in tort (including negligence), contract, or otherwise,\n                unless required by applicable law (such as deliberate and grossly\n                negligent acts) or agreed to in writing, shall any Contributor be\n                liable to You for damages, including any direct, indirect, special,\n                incidental, or consequential damages of any character arising as a\n                result of this License or out of the use or inability to use the\n                Work (including but not limited to damages for loss of goodwill,\n                work stoppage, computer failure or malfunction, or any and all\n                other commercial damages or losses), even if such Contributor\n                has been advised of the possibility of such damages.\n\n                9. Accepting Warranty or Additional Liability. While redistributing\n                the Work or Derivative Works thereof, You may choose to offer,\n                and charge a fee for, acceptance of support, warranty, indemnity,\n                or other liability obligations and/or rights consistent with this\n                License. However, in accepting such obligations, You may act only\n                on Your own behalf and on Your sole responsibility, not on behalf\n                of any other Contributor, and only if You agree to indemnify,\n                defend, and hold each Contributor harmless for any liability\n                incurred by, or claims asserted against, such Contributor by reason\n                of your accepting any such warranty or additional liability.\n\n                END OF TERMS AND CONDITIONS\n\n\n                APPENDIX: How to apply the Apache License to your work.\n\n                To apply the Apache License to your work, attach the following\n                boilerplate notice, with the fields enclosed by brackets "[]"\n                replaced with your own identifying information. (Don\'t include\n                the brackets!)  The text should be enclosed in the appropriate\n                comment syntax for the file format. We also recommend that a\n                file or class name and description of purpose be included on the\n                same "printed page" as the copyright notice for easier\n                identification within third-party archives.\n\n                Copyright (c) 2017, Susie Lu\n\n                Licensed under the Apache License, Version 2.0 (the "License");\n                you may not use this file except in compliance with the License.\n                You may obtain a copy of the License at\n\n                http://www.apache.org/licenses/LICENSE-2.0\n\n                Unless required by applicable law or agreed to in writing, software\n                distributed under the License is distributed on an "AS IS" BASIS,\n                WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n                See the License for the specific language governing permissions and\n                limitations under the License.\n            '}},{dependency:"ua-parser-js",github_link:"https://github.com/faisalman/ua-parser-js",license:{type:"MIT",update_date:"12/16/2020",link:"https://github.com/faisalman/ua-parser-js/blob/master/license.md",text:'\n        MIT License\n\n        Copyright (c) 2012-2019 Faisal Salman <<f@faisalman.com>>\n        \n        Permission is hereby granted, free of charge, to any person obtaining a copy\n        of this software and associated documentation files (the "Software"), to deal\n        in the Software without restriction, including without limitation the rights\n        to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n        copies of the Software, and to permit persons to whom the Software is\n        furnished to do so, subject to the following conditions:\n        \n        The above copyright notice and this permission notice shall be included in all\n        copies or substantial portions of the Software.\n        \n        THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n        IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n        FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n        AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n        LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n        OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n        SOFTWARE.\n      '}},{dependency:"yup",github_link:"https://github.com/jquense/yup",license:{type:"MIT",update_date:"12/16/2020",link:"https://github.com/jquense/yup/blob/master/LICENSE.md",text:'\n        The MIT License (MIT)\n\n        Copyright (c) 2014 Jason Quense\n        \n        Permission is hereby granted, free of charge, to any person obtaining a copy\n        of this software and associated documentation files (the "Software"), to deal\n        in the Software without restriction, including without limitation the rights\n        to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n        copies of the Software, and to permit persons to whom the Software is\n        furnished to do so, subject to the following conditions:\n        \n        The above copyright notice and this permission notice shall be included in all\n        copies or substantial portions of the Software.\n        \n        THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n        IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n        FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n        AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n        LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n        OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n        SOFTWARE.\n      '}},{dependency:"htmlwidgets",github_link:"https://github.com/ramnathv/htmlwidgets",license:{type:"MIT",update_date:"3/11/2021",link:"https://github.com/ramnathv/htmlwidgets/blob/master/LICENSE",text:'\n        MIT License\n\n        Copyright (c) 2016, Ramnath Vaidyanathan, Joe Cheng, JJ Allaire, Yihui Xie, and Kenton Russell\n\n        Permission is hereby granted, free of charge, to any person obtaining a copy\n        of this software and associated documentation files (the "Software"), to deal\n        in the Software without restriction, including without limitation the rights\n        to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n        copies of the Software, and to permit persons to whom the Software is\n        furnished to do so, subject to the following conditions:\n        \n        The above copyright notice and this permission notice shall be included in all\n        copies or substantial portions of the Software.\n        \n        THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n        IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n        FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n        AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n        LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n        OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n        SOFTWARE.\n      '}},{dependency:"vega-label and vega-canvas",github_link:"https://github.com/vega/vega-label",license:{type:"BSD-3-Clause",update_date:"7/8/2021",link:"https://github.com/vega/vega-label/blob/master/LICENSE",text:'\n        Copyright (c) 2016, University of Washington Interactive Data Lab\n        All rights reserved.\n        \n        Redistribution and use in source and binary forms, with or without\n        modification, are permitted provided that the following conditions are met:\n        \n        1. Redistributions of source code must retain the above copyright notice, this\n          list of conditions and the following disclaimer.\n        \n        2. Redistributions in binary form must reproduce the above copyright notice,\n          this list of conditions and the following disclaimer in the documentation\n          and/or other materials provided with the distribution.\n        \n        3. Neither the name of the copyright holder nor the names of its contributors\n          may be used to endorse or promote products derived from this software\n          without specific prior written permission.\n        \n        THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"\n        AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n        IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n        DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE\n        FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n        DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n        SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n        CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n        OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n        OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n      '}}];function lf(){return hf}var df={"vcl-access-title":"","vcl-access-subtitle":"","vcl-access-long-description":"","vcl-access-context":"","vcl-access-executive-summary":"","vcl-access-purpose":"","vcl-access-statistics":"","vcl-access-layout":"","vcl-access-xAxis":"","vcl-access-yAxis":"","vcl-access-notes":"","vcl-access-annotation":"","vcl-access-annotation-title":"","vcl-access-annotation-description":"",headings:""},vf=function(t,n){if("p"===t||"P"===t||!t)return"p";if("span"===t||"SPAN"===t)return"span";if("div"===t||"DIV"===t)return"div";var r=n||0,i="string"!=typeof t||t.length<=1?t:t[1];return+i+r<7&&r<3?"h"+(+i+r):"p"},pf=function(t,n,r,i,e,o){var u=t.select("."+i).text(n||df[i]),a=t.select("."+(o||i)+"-heading");e?(a.size()||(a=t.insert(u.node().dataset.level,"."+(o||i)).attr("class","screen-reader-info "+(o||i)+"-heading")),a.text(r)):a.remove()};function bf(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function mf(t){return 1===t.length&&(t=function(t){return function(n,r){return bf(t(n),r)}}(t)),{left:function(n,r,i,e){for(null==i&&(i=0),null==e&&(e=n.length);i<e;){var o=i+e>>>1;t(n[o],r)<0?i=o+1:e=o}return i},right:function(n,r,i,e){for(null==i&&(i=0),null==e&&(e=n.length);i<e;){var o=i+e>>>1;t(n[o],r)>0?e=o:i=o+1}return i}}}var yf=mf(bf),wf=yf.right,gf=yf.left;function Mf(t,n){return[t,n]}function Lf(t){return null===t?NaN:+t}function Af(t,n){var r,i,e=t.length,o=0,u=-1,a=0,s=0;if(null==n)for(;++u<e;)isNaN(r=Lf(t[u]))||(s+=(i=r-a)*(r-(a+=i/++o)));else for(;++u<e;)isNaN(r=Lf(n(t[u],u,t)))||(s+=(i=r-a)*(r-(a+=i/++o)));if(o>1)return s/(o-1)}function Nf(t,n){var r=Af(t,n);return r?Math.sqrt(r):r}function Ef(t,n){var r,i,e,o=t.length,u=-1;if(null==n){for(;++u<o;)if(null!=(r=t[u])&&r>=r)for(i=e=r;++u<o;)null!=(r=t[u])&&(i>r&&(i=r),e<r&&(e=r))}else for(;++u<o;)if(null!=(r=n(t[u],u,t))&&r>=r)for(i=e=r;++u<o;)null!=(r=n(t[u],u,t))&&(i>r&&(i=r),e<r&&(e=r));return[i,e]}var kf=Array.prototype,xf=kf.slice,Tf=kf.map;function Sf(t){return function(){return t}}function Of(t){return t}function If(t,n,r){t=+t,n=+n,r=(e=arguments.length)<2?(n=t,t=0,1):e<3?1:+r;for(var i=-1,e=0|Math.max(0,Math.ceil((n-t)/r)),o=new Array(e);++i<e;)o[i]=t+i*r;return o}var Rf=Math.sqrt(50),Cf=Math.sqrt(10),Df=Math.sqrt(2);function Ff(t,n,r){var i=(n-t)/Math.max(0,r),e=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,e);return e>=0?(o>=Rf?10:o>=Cf?5:o>=Df?2:1)*Math.pow(10,e):-Math.pow(10,-e)/(o>=Rf?10:o>=Cf?5:o>=Df?2:1)}function Hf(t,n,r){var i=Math.abs(n-t)/Math.max(0,r),e=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/e;return o>=Rf?e*=10:o>=Cf?e*=5:o>=Df&&(e*=2),n<t?-e:e}function Wf(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function jf(t,n,r){if(null==r&&(r=Lf),i=t.length){if((n=+n)<=0||i<2)return+r(t[0],0,t);if(n>=1)return+r(t[i-1],i-1,t);var i,e=(i-1)*n,o=Math.floor(e),u=+r(t[o],o,t);return u+(+r(t[o+1],o+1,t)-u)*(e-o)}}function _f(t,n){var r,i,e=t.length,o=-1;if(null==n){for(;++o<e;)if(null!=(r=t[o])&&r>=r)for(i=r;++o<e;)null!=(r=t[o])&&i>r&&(i=r)}else for(;++o<e;)if(null!=(r=n(t[o],o,t))&&r>=r)for(i=r;++o<e;)null!=(r=n(t[o],o,t))&&i>r&&(i=r);return i}function Uf(t){if(!(e=t.length))return[];for(var n=-1,r=_f(t,Pf),i=new Array(r);++n<r;)for(var e,o=-1,u=i[n]=new Array(e);++o<e;)u[o]=t[o][n];return i}function Pf(t){return t.length}var Bf=Array.prototype.slice;function Yf(t){return t}var zf=1e-6;function Vf(t){return"translate("+(t+.5)+",0)"}function Gf(t){return"translate(0,"+(t+.5)+")"}function qf(t){return function(n){return+t(n)}}function $f(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(r){return+t(r)+n}}function Zf(){return!this.__axis}function Xf(t,n){var r=[],i=null,e=null,o=6,u=6,a=3,s=1===t||4===t?-1:1,c=4===t||2===t?"x":"y",f=1===t||3===t?Vf:Gf;function h(h){var l=null==i?n.ticks?n.ticks.apply(n,r):n.domain():i,d=null==e?n.tickFormat?n.tickFormat.apply(n,r):Yf:e,v=Math.max(o,0)+a,p=n.range(),b=+p[0]+.5,m=+p[p.length-1]+.5,y=(n.bandwidth?$f:qf)(n.copy()),w=h.selection?h.selection():h,g=w.selectAll(".domain").data([null]),M=w.selectAll(".tick").data(l,n).order(),L=M.exit(),A=M.enter().append("g").attr("class","tick"),N=M.select("line"),E=M.select("text");g=g.merge(g.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),M=M.merge(A),N=N.merge(A.append("line").attr("stroke","#000").attr(c+"2",s*o)),E=E.merge(A.append("text").attr("fill","#000").attr(c,s*v).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==w&&(g=g.transition(h),M=M.transition(h),N=N.transition(h),E=E.transition(h),L=L.transition(h).attr("opacity",zf).attr("transform",(function(t){return isFinite(t=y(t))?f(t):this.getAttribute("transform")})),A.attr("opacity",zf).attr("transform",(function(t){var n=this.parentNode.__axis;return f(n&&isFinite(n=n(t))?n:y(t))}))),L.remove(),g.attr("d",4===t||2==t?"M"+s*u+","+b+"H0.5V"+m+"H"+s*u:"M"+b+","+s*u+"V0.5H"+m+"V"+s*u),M.attr("opacity",1).attr("transform",(function(t){return f(y(t))})),N.attr(c+"2",s*o),E.attr(c,s*v).text(d),w.filter(Zf).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),w.each((function(){this.__axis=y}))}return h.scale=function(t){return arguments.length?(n=t,h):n},h.ticks=function(){return r=Bf.call(arguments),h},h.tickArguments=function(t){return arguments.length?(r=null==t?[]:Bf.call(t),h):r.slice()},h.tickValues=function(t){return arguments.length?(i=null==t?null:Bf.call(t),h):i&&i.slice()},h.tickFormat=function(t){return arguments.length?(e=t,h):e},h.tickSize=function(t){return arguments.length?(o=u=+t,h):o},h.tickSizeInner=function(t){return arguments.length?(o=+t,h):o},h.tickSizeOuter=function(t){return arguments.length?(u=+t,h):u},h.tickPadding=function(t){return arguments.length?(a=+t,h):a},h}function Kf(){nt.preventDefault(),nt.stopImmediatePropagation()}function Jf(t){var n=t.document.documentElement,r=vt(t).on("dragstart.drag",Kf,!0);"onselectstart"in n?r.on("selectstart.drag",Kf,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Qf(t,n){var r=t.document.documentElement,i=vt(t).on("dragstart.drag",null);n&&(i.on("click.drag",Kf,!0),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}var th=Xa("start","end","cancel","interrupt"),nh=[];function rh(t,n,r,i,e,o){var u=t.__transition;if(u){if(r in u)return}else t.__transition={};!function(t,n,r){var i,e=t.__transition;function o(t){r.state=1,r.timer.restart(u,r.delay,r.time),r.delay<=t&&u(t-r.delay)}function u(o){var c,f,h,l;if(1!==r.state)return s();for(c in e)if((l=e[c]).name===r.name){if(3===l.state)return ys(u);4===l.state?(l.state=6,l.timer.stop(),l.on.call("interrupt",t,t.__data__,l.index,l.group),delete e[c]):+c<n&&(l.state=6,l.timer.stop(),l.on.call("cancel",t,t.__data__,l.index,l.group),delete e[c])}if(ys((function(){3===r.state&&(r.state=4,r.timer.restart(a,r.delay,r.time),a(o))})),r.state=2,r.on.call("start",t,t.__data__,r.index,r.group),2===r.state){for(r.state=3,i=new Array(h=r.tween.length),c=0,f=-1;c<h;++c)(l=r.tween[c].value.call(t,t.__data__,r.index,r.group))&&(i[++f]=l);i.length=f+1}}function a(n){for(var e=n<r.duration?r.ease.call(null,n/r.duration):(r.timer.restart(s),r.state=5,1),o=-1,u=i.length;++o<u;)i[o].call(t,e);5===r.state&&(r.on.call("end",t,t.__data__,r.index,r.group),s())}function s(){for(var i in r.state=6,r.timer.stop(),delete e[n],e)return;delete t.__transition}e[n]=r,r.timer=vs(o,0,r.time)}(t,r,{name:n,index:i,group:e,on:th,tween:nh,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function ih(t,n){var r=oh(t,n);if(r.state>0)throw new Error("too late; already scheduled");return r}function eh(t,n){var r=oh(t,n);if(r.state>3)throw new Error("too late; already running");return r}function oh(t,n){var r=t.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function uh(t,n){var r,i,e,o=t.__transition,u=!0;if(o){for(e in n=null==n?null:n+"",o)(r=o[e]).name===n?(i=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete o[e]):u=!1;u&&delete t.__transition}}function ah(t,n){var r,i;return function(){var e=eh(this,t),o=e.tween;if(o!==r)for(var u=0,a=(i=r=o).length;u<a;++u)if(i[u].name===n){(i=i.slice()).splice(u,1);break}e.tween=i}}function sh(t,n,r){var i,e;if("function"!=typeof r)throw new Error;return function(){var o=eh(this,t),u=o.tween;if(u!==i){e=(i=u).slice();for(var a={name:n,value:r},s=0,c=e.length;s<c;++s)if(e[s].name===n){e[s]=a;break}s===c&&e.push(a)}o.tween=e}}function ch(t,n,r){var i=t._id;return t.each((function(){var t=eh(this,i);(t.value||(t.value={}))[n]=r.apply(this,arguments)})),function(t){return oh(t,i).value[n]}}function fh(t,n){var r;return("number"==typeof n?So:n instanceof Te?Eo:(r=Te(n))?(n=r,Eo):Co)(t,n)}function hh(t){return function(){this.removeAttribute(t)}}function lh(t){return function(){this.removeAttributeNS(t.space,t.local)}}function dh(t,n,r){var i,e,o=r+"";return function(){var u=this.getAttribute(t);return u===o?null:u===i?e:e=n(i=u,r)}}function vh(t,n,r){var i,e,o=r+"";return function(){var u=this.getAttributeNS(t.space,t.local);return u===o?null:u===i?e:e=n(i=u,r)}}function ph(t,n,r){var i,e,o;return function(){var u,a,s=r(this);if(null!=s)return(u=this.getAttribute(t))===(a=s+"")?null:u===i&&a===e?o:(e=a,o=n(i=u,s));this.removeAttribute(t)}}function bh(t,n,r){var i,e,o;return function(){var u,a,s=r(this);if(null!=s)return(u=this.getAttributeNS(t.space,t.local))===(a=s+"")?null:u===i&&a===e?o:(e=a,o=n(i=u,s));this.removeAttributeNS(t.space,t.local)}}function mh(t,n){return function(r){this.setAttribute(t,n.call(this,r))}}function yh(t,n){return function(r){this.setAttributeNS(t.space,t.local,n.call(this,r))}}function wh(t,n){var r,i;function e(){var e=n.apply(this,arguments);return e!==i&&(r=(i=e)&&yh(t,e)),r}return e._value=n,e}function gh(t,n){var r,i;function e(){var e=n.apply(this,arguments);return e!==i&&(r=(i=e)&&mh(t,e)),r}return e._value=n,e}function Mh(t,n){return function(){ih(this,t).delay=+n.apply(this,arguments)}}function Lh(t,n){return n=+n,function(){ih(this,t).delay=n}}function Ah(t,n){return function(){eh(this,t).duration=+n.apply(this,arguments)}}function Nh(t,n){return n=+n,function(){eh(this,t).duration=n}}function Eh(t,n){if("function"!=typeof n)throw new Error;return function(){eh(this,t).ease=n}}function kh(t,n,r){var i,e,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?ih:eh;return function(){var u=o(this,t),a=u.on;a!==i&&(e=(i=a).copy()).on(n,r),u.on=e}}var xh=dt.prototype.constructor;function Th(t){return function(){this.style.removeProperty(t)}}function Sh(t,n,r){return function(i){this.style.setProperty(t,n.call(this,i),r)}}function Oh(t,n,r){var i,e;function o(){var o=n.apply(this,arguments);return o!==e&&(i=(e=o)&&Sh(t,o,r)),i}return o._value=n,o}function Ih(t){return function(n){this.textContent=t.call(this,n)}}function Rh(t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Ih(i)),n}return i._value=t,i}var Ch=0;function Dh(t,n,r,i){this._groups=t,this._parents=n,this._name=r,this._id=i}function Fh(){return++Ch}var Hh=dt.prototype;Dh.prototype={constructor:Dh,select:function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=h(t));for(var i=this._groups,e=i.length,o=new Array(e),u=0;u<e;++u)for(var a,s,c=i[u],f=c.length,l=o[u]=new Array(f),d=0;d<f;++d)(a=c[d])&&(s=t.call(a,a.__data__,d,c))&&("__data__"in a&&(s.__data__=a.__data__),l[d]=s,rh(l[d],n,r,d,l,oh(a,r)));return new Dh(o,this._parents,n,r)},selectAll:function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=d(t));for(var i=this._groups,e=i.length,o=[],u=[],a=0;a<e;++a)for(var s,c=i[a],f=c.length,h=0;h<f;++h)if(s=c[h]){for(var l,v=t.call(s,s.__data__,h,c),p=oh(s,r),b=0,m=v.length;b<m;++b)(l=v[b])&&rh(l,n,r,b,v,p);o.push(v),u.push(s)}return new Dh(o,u,n,r)},filter:function(t){"function"!=typeof t&&(t=v(t));for(var n=this._groups,r=n.length,i=new Array(r),e=0;e<r;++e)for(var o,u=n[e],a=u.length,s=i[e]=[],c=0;c<a;++c)(o=u[c])&&t.call(o,o.__data__,c,u)&&s.push(o);return new Dh(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,r=t._groups,i=n.length,e=Math.min(i,r.length),o=new Array(i),u=0;u<e;++u)for(var a,s=n[u],c=r[u],f=s.length,h=o[u]=new Array(f),l=0;l<f;++l)(a=s[l]||c[l])&&(h[l]=a);for(;u<i;++u)o[u]=n[u];return new Dh(o,this._parents,this._name,this._id)},selection:function(){return new xh(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,r=Fh(),i=this._groups,e=i.length,o=0;o<e;++o)for(var u,a=i[o],s=a.length,c=0;c<s;++c)if(u=a[c]){var f=oh(u,n);rh(u,t,r,c,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Dh(i,this._parents,t,r)},call:Hh.call,nodes:Hh.nodes,node:Hh.node,size:Hh.size,empty:Hh.empty,each:Hh.each,on:function(t,n){var r=this._id;return arguments.length<2?oh(this.node(),r).on.on(t):this.each(kh(r,t,n))},attr:function(t,n){var r=u(t),i="transform"===r?Vo:fh;return this.attrTween(t,"function"==typeof n?(r.local?bh:ph)(r,i,ch(this,"attr."+t,n)):null==n?(r.local?lh:hh)(r):(r.local?vh:dh)(r,i,n))},attrTween:function(t,n){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;var i=u(t);return this.tween(r,(i.local?wh:gh)(i,n))},style:function(t,n,r){var i="transform"==(t+="")?zo:fh;return null==n?this.styleTween(t,function(t,n){var r,i,e;return function(){var o=O(this,t),u=(this.style.removeProperty(t),O(this,t));return o===u?null:o===r&&u===i?e:e=n(r=o,i=u)}}(t,i)).on("end.style."+t,Th(t)):"function"==typeof n?this.styleTween(t,function(t,n,r){var i,e,o;return function(){var u=O(this,t),a=r(this),s=a+"";return null==a&&(this.style.removeProperty(t),s=a=O(this,t)),u===s?null:u===i&&s===e?o:(e=s,o=n(i=u,a))}}(t,i,ch(this,"style."+t,n))).each(function(t,n){var r,i,e,o,u="style."+n,a="end."+u;return function(){var s=eh(this,t),c=s.on,f=null==s.value[u]?o||(o=Th(n)):void 0;c===r&&e===f||(i=(r=c).copy()).on(a,e=f),s.on=i}}(this._id,t)):this.styleTween(t,function(t,n,r){var i,e,o=r+"";return function(){var u=O(this,t);return u===o?null:u===i?e:e=n(i=u,r)}}(t,i,n),r).on("end.style."+t,null)},styleTween:function(t,n,r){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;return this.tween(i,Oh(t,n,null==r?"":r))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(ch(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,Rh(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var r=this._id;if(t+="",arguments.length<2){for(var i,e=oh(this.node(),r).tween,o=0,u=e.length;o<u;++o)if((i=e[o]).name===t)return i.value;return null}return this.each((null==n?ah:sh)(r,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Mh:Lh)(n,t)):oh(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Ah:Nh)(n,t)):oh(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(Eh(n,t)):oh(this.node(),n).ease},end:function(){var t,n,r=this,i=r._id,e=r.size();return new Promise((function(o,u){var a={value:u},s={value:function(){0==--e&&o()}};r.each((function(){var r=eh(this,i),e=r.on;e!==t&&((n=(t=e).copy())._.cancel.push(a),n._.interrupt.push(a),n._.end.push(s)),r.on=n}))}))}};var Wh={time:null,delay:0,duration:250,ease:Xs};function jh(t,n){for(var r;!(r=t.__transition)||!(r=r[n]);)if(!(t=t.parentNode))return Wh.time=hs(),Wh;return r}function _h(t){return function(){return t}}function Uh(t,n,r){this.target=t,this.type=n,this.selection=r}function Ph(){nt.stopImmediatePropagation()}function Bh(){nt.preventDefault(),nt.stopImmediatePropagation()}dt.prototype.interrupt=function(t){return this.each((function(){uh(this,t)}))},dt.prototype.transition=function(t){var n,r;t instanceof Dh?(n=t._id,t=t._name):(n=Fh(),(r=Wh).time=hs(),t=null==t?null:t+"");for(var i=this._groups,e=i.length,o=0;o<e;++o)for(var u,a=i[o],s=a.length,c=0;c<s;++c)(u=a[c])&&rh(u,t,n,c,a,r||jh(u,n));return new Dh(i,this._parents,t,n)};var Yh={name:"drag"},zh={name:"space"},Vh={name:"handle"},Gh={name:"center"},qh={name:"x",handles:["e","w"].map(nl),input:function(t,n){return t&&[[t[0],n[0][1]],[t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},$h={name:"y",handles:["n","s"].map(nl),input:function(t,n){return t&&[[n[0][0],t[0]],[n[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Zh={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(nl),input:function(t){return t},output:function(t){return t}},Xh={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Kh={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Jh={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Qh={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},tl={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function nl(t){return{type:t}}function rl(){return!nt.button}function il(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function el(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function ol(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function ul(t){var n,r=il,i=rl,e=Xa(u,"start","brush","end"),o=6;function u(n){var r=n.property("__brush",h).selectAll(".overlay").data([nl("overlay")]);r.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Xh.overlay).merge(r).each((function(){var t=el(this).extent;vt(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),n.selectAll(".selection").data([nl("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Xh.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=n.selectAll(".handle").data(t.handles,(function(t){return t.type}));i.exit().remove(),i.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return Xh[t.type]})),n.each(a).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",f)}function a(){var t=vt(this),n=el(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?n[1][0]-o/2:n[0][0]-o/2})).attr("y",(function(t){return"s"===t.type[0]?n[1][1]-o/2:n[0][1]-o/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+o:o})).attr("height",(function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+o:o}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function s(t,n){return t.__brush.emitter||new c(t,n)}function c(t,n){this.that=t,this.args=n,this.state=t.__brush,this.active=0}function f(){if(nt.touches){if(nt.changedTouches.length<nt.touches.length)return Bh()}else if(n)return;if(i.apply(this,arguments)){var r,e,o,u,c,f,h,l,d,v,p,b,m,y=this,w=nt.target.__data__.type,g="selection"===(nt.metaKey?w="overlay":w)?Yh:nt.altKey?Gh:Vh,M=t===$h?null:Qh[w],L=t===qh?null:tl[w],A=el(y),N=A.extent,E=A.selection,k=N[0][0],x=N[0][1],T=N[1][0],S=N[1][1],O=M&&L&&nt.shiftKey,I=mt(y),R=I,C=s(y,arguments).beforestart();"overlay"===w?A.selection=E=[[r=t===$h?k:I[0],o=t===qh?x:I[1]],[c=t===$h?T:r,h=t===qh?S:o]]:(r=E[0][0],o=E[0][1],c=E[1][0],h=E[1][1]),e=r,u=o,f=c,l=h;var D=vt(y).attr("pointer-events","none"),F=D.selectAll(".overlay").attr("cursor",Xh[w]);if(nt.touches)D.on("touchmove.brush",W,!0).on("touchend.brush touchcancel.brush",_,!0);else{var H=vt(nt.view).on("keydown.brush",U,!0).on("keyup.brush",P,!0).on("mousemove.brush",W,!0).on("mouseup.brush",_,!0);Jf(nt.view)}Ph(),uh(y),a.call(y),C.start()}function W(){var t=mt(y);!O||b||m||(Math.abs(t[0]-R[0])>Math.abs(t[1]-R[1])?m=!0:b=!0),R=t,p=!0,Bh(),j()}function j(){var t;switch(d=R[0]-I[0],v=R[1]-I[1],g){case zh:case Yh:M&&(d=Math.max(k-r,Math.min(T-c,d)),e=r+d,f=c+d),L&&(v=Math.max(x-o,Math.min(S-h,v)),u=o+v,l=h+v);break;case Vh:M<0?(d=Math.max(k-r,Math.min(T-r,d)),e=r+d,f=c):M>0&&(d=Math.max(k-c,Math.min(T-c,d)),e=r,f=c+d),L<0?(v=Math.max(x-o,Math.min(S-o,v)),u=o+v,l=h):L>0&&(v=Math.max(x-h,Math.min(S-h,v)),u=o,l=h+v);break;case Gh:M&&(e=Math.max(k,Math.min(T,r-d*M)),f=Math.max(k,Math.min(T,c+d*M))),L&&(u=Math.max(x,Math.min(S,o-v*L)),l=Math.max(x,Math.min(S,h+v*L)))}f<e&&(M*=-1,t=r,r=c,c=t,t=e,e=f,f=t,w in Kh&&F.attr("cursor",Xh[w=Kh[w]])),l<u&&(L*=-1,t=o,o=h,h=t,t=u,u=l,l=t,w in Jh&&F.attr("cursor",Xh[w=Jh[w]])),A.selection&&(E=A.selection),b&&(e=E[0][0],f=E[1][0]),m&&(u=E[0][1],l=E[1][1]),E[0][0]===e&&E[0][1]===u&&E[1][0]===f&&E[1][1]===l||(A.selection=[[e,u],[f,l]],a.call(y),C.brush())}function _(){if(Ph(),nt.touches){if(nt.touches.length)return;n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),D.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Qf(nt.view,p),H.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);D.attr("pointer-events","all"),F.attr("cursor",Xh.overlay),A.selection&&(E=A.selection),ol(E)&&(A.selection=null,a.call(y)),C.end()}function U(){switch(nt.keyCode){case 16:O=M&&L;break;case 18:g===Vh&&(M&&(c=f-d*M,r=e+d*M),L&&(h=l-v*L,o=u+v*L),g=Gh,j());break;case 32:g!==Vh&&g!==Gh||(M<0?c=f-d:M>0&&(r=e-d),L<0?h=l-v:L>0&&(o=u-v),g=zh,F.attr("cursor",Xh.selection),j());break;default:return}Bh()}function P(){switch(nt.keyCode){case 16:O&&(b=m=O=!1,j());break;case 18:g===Gh&&(M<0?c=f:M>0&&(r=e),L<0?h=l:L>0&&(o=u),g=Vh,j());break;case 32:g===zh&&(nt.altKey?(M&&(c=f-d*M,r=e+d*M),L&&(h=l-v*L,o=u+v*L),g=Gh):(M<0?c=f:M>0&&(r=e),L<0?h=l:L>0&&(o=u),g=Vh),F.attr("cursor",Xh[w]),j());break;default:return}Bh()}}function h(){var n=this.__brush||{selection:null};return n.extent=r.apply(this,arguments),n.dim=t,n}return u.move=function(n,r){n.selection?n.on("start.brush",(function(){s(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){s(this,arguments).end()})).tween("brush",(function(){var n=this,i=n.__brush,e=s(n,arguments),o=i.selection,u=t.input("function"==typeof r?r.apply(this,arguments):r,i.extent),c=Do(o,u);function f(t){i.selection=1===t&&ol(u)?null:c(t),a.call(n),e.brush()}return o&&u?f:f(1)})):n.each((function(){var n=this,i=arguments,e=n.__brush,o=t.input("function"==typeof r?r.apply(n,i):r,e.extent),u=s(n,i).beforestart();uh(n),e.selection=null==o||ol(o)?null:o,a.call(n),u.start().brush().end()}))},c.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(n){at(new Uh(u,n,t.output(this.state.selection)),e.apply,e,[n,this.that,this.args])}},u.extent=function(t){return arguments.length?(r="function"==typeof t?t:_h([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),u):r},u.filter=function(t){return arguments.length?(i="function"==typeof t?t:_h(!!t),u):i},u.handleSize=function(t){return arguments.length?(o=+t,u):o},u.on=function(){var t=e.on.apply(e,arguments);return t===e?u:t},u}var al=Math.cos,sl=Math.sin,cl=Math.PI,fl=cl/2,hl=2*cl,ll=Math.max;function dl(t){return function(n,r){return t(n.source.value+n.target.value,r.source.value+r.target.value)}}var vl=Array.prototype.slice;function pl(t){return function(){return t}}function bl(t){return t.source}function ml(t){return t.target}function yl(t){return t.radius}function wl(t){return t.startAngle}function gl(t){return t.endAngle}var Ml="$";function Ll(){}function Al(t,n){var r=new Ll;if(t instanceof Ll)t.each((function(t,n){r.set(n,t)}));else if(Array.isArray(t)){var i,e=-1,o=t.length;if(null==n)for(;++e<o;)r.set(e,t[e]);else for(;++e<o;)r.set(n(i=t[e],e,t),i)}else if(t)for(var u in t)r.set(u,t[u]);return r}function Nl(){return{}}function El(t,n,r){t[n]=r}function kl(){return Al()}function xl(t,n,r){t.set(n,r)}function Tl(){}Ll.prototype=Al.prototype={constructor:Ll,has:function(t){return Ml+t in this},get:function(t){return this[Ml+t]},set:function(t,n){return this[Ml+t]=n,this},remove:function(t){var n=Ml+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===Ml&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===Ml&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===Ml&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===Ml&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===Ml&&++t;return t},empty:function(){for(var t in this)if(t[0]===Ml)return!1;return!0},each:function(t){for(var n in this)n[0]===Ml&&t(this[n],n.slice(1),this)}};var Sl=Al.prototype;function Ol(t,n){var r=new Tl;if(t instanceof Tl)t.each((function(t){r.add(t)}));else if(t){var i=-1,e=t.length;if(null==n)for(;++i<e;)r.add(t[i]);else for(;++i<e;)r.add(n(t[i],i,t))}return r}Tl.prototype=Ol.prototype={constructor:Tl,has:Sl.has,add:function(t){return this[Ml+(t+="")]=t,this},remove:Sl.remove,clear:Sl.clear,values:Sl.keys,size:Sl.size,empty:Sl.empty,each:Sl.each};var Il={value:function(){}};function Rl(){for(var t,n=0,r=arguments.length,i={};n<r;++n){if(!(t=arguments[n]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new Cl(i)}function Cl(t){this._=t}function Dl(t,n){return t.trim().split(/^|\s+/).map((function(t){var r="",i=t.indexOf(".");if(i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}}))}function Fl(t,n){for(var r,i=0,e=t.length;i<e;++i)if((r=t[i]).name===n)return r.value}function Hl(t,n,r){for(var i=0,e=t.length;i<e;++i)if(t[i].name===n){t[i]=Il,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=r&&t.push({name:n,value:r}),t}Cl.prototype=Rl.prototype={constructor:Cl,on:function(t,n){var r,i=this._,e=Dl(t+"",i),o=-1,u=e.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(r=(t=e[o]).type)i[r]=Hl(i[r],t.name,n);else if(null==n)for(r in i)i[r]=Hl(i[r],t.name,null);return this}for(;++o<u;)if((r=(t=e[o]).type)&&(r=Fl(i[r],t.name)))return r},copy:function(){var t={},n=this._;for(var r in n)t[r]=n[r].slice();return new Cl(t)},call:function(t,n){if((r=arguments.length-2)>0)for(var r,i,e=new Array(r),o=0;o<r;++o)e[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,r=(i=this._[t]).length;o<r;++o)i[o].value.apply(n,e)},apply:function(t,n,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],e=0,o=i.length;e<o;++e)i[e].value.apply(n,r)}};var Wl={value:function(){}};function jl(){for(var t,n=0,r=arguments.length,i={};n<r;++n){if(!(t=arguments[n]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new _l(i)}function _l(t){this._=t}function Ul(t,n){return t.trim().split(/^|\s+/).map((function(t){var r="",i=t.indexOf(".");if(i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}}))}function Pl(t,n){for(var r,i=0,e=t.length;i<e;++i)if((r=t[i]).name===n)return r.value}function Bl(t,n,r){for(var i=0,e=t.length;i<e;++i)if(t[i].name===n){t[i]=Wl,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=r&&t.push({name:n,value:r}),t}_l.prototype=jl.prototype={constructor:_l,on:function(t,n){var r,i=this._,e=Ul(t+"",i),o=-1,u=e.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(r=(t=e[o]).type)i[r]=Bl(i[r],t.name,n);else if(null==n)for(r in i)i[r]=Bl(i[r],t.name,null);return this}for(;++o<u;)if((r=(t=e[o]).type)&&(r=Pl(i[r],t.name)))return r},copy:function(){var t={},n=this._;for(var r in n)t[r]=n[r].slice();return new _l(t)},call:function(t,n){if((r=arguments.length-2)>0)for(var r,i,e=new Array(r),o=0;o<r;++o)e[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,r=(i=this._[t]).length;o<r;++o)i[o].value.apply(n,e)},apply:function(t,n,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],e=0,o=i.length;e<o;++e)i[e].value.apply(n,r)}};var Yl="http://www.w3.org/1999/xhtml",zl={svg:"http://www.w3.org/2000/svg",xhtml:Yl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Vl(t){var n=t+="",r=n.indexOf(":");return r>=0&&"xmlns"!==(n=t.slice(0,r))&&(t=t.slice(r+1)),zl.hasOwnProperty(n)?{space:zl[n],local:t}:t}function Gl(t){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===Yl&&n.documentElement.namespaceURI===Yl?n.createElement(t):n.createElementNS(r,t)}}function ql(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function $l(t){var n=Vl(t);return(n.local?ql:Gl)(n)}function Zl(){}function Xl(t){return null==t?Zl:function(){return this.querySelector(t)}}function Kl(){return[]}function Jl(t){return new Array(t.length)}function Ql(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Ql.prototype={constructor:Ql,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function td(t,n,r,i,e,o){for(var u,a=0,s=n.length,c=o.length;a<c;++a)(u=n[a])?(u.__data__=o[a],i[a]=u):r[a]=new Ql(t,o[a]);for(;a<s;++a)(u=n[a])&&(e[a]=u)}function nd(t,n,r,i,e,o,u){var a,s,c,f={},h=n.length,l=o.length,d=new Array(h);for(a=0;a<h;++a)(s=n[a])&&(d[a]=c="$"+u.call(s,s.__data__,a,n),c in f?e[a]=s:f[c]=s);for(a=0;a<l;++a)(s=f[c="$"+u.call(t,o[a],a,o)])?(i[a]=s,s.__data__=o[a],f[c]=null):r[a]=new Ql(t,o[a]);for(a=0;a<h;++a)(s=n[a])&&f[d[a]]===s&&(e[a]=s)}function rd(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function id(t){return function(){this.removeAttribute(t)}}function ed(t){return function(){this.removeAttributeNS(t.space,t.local)}}function od(t,n){return function(){this.setAttribute(t,n)}}function ud(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function ad(t,n){return function(){var r=n.apply(this,arguments);null==r?this.removeAttribute(t):this.setAttribute(t,r)}}function sd(t,n){return function(){var r=n.apply(this,arguments);null==r?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function cd(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function fd(t){return function(){this.style.removeProperty(t)}}function hd(t,n,r){return function(){this.style.setProperty(t,n,r)}}function ld(t,n,r){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,r)}}function dd(t,n){return t.style.getPropertyValue(n)||cd(t).getComputedStyle(t,null).getPropertyValue(n)}function vd(t){return function(){delete this[t]}}function pd(t,n){return function(){this[t]=n}}function bd(t,n){return function(){var r=n.apply(this,arguments);null==r?delete this[t]:this[t]=r}}function md(t){return t.trim().split(/^|\s+/)}function yd(t){return t.classList||new wd(t)}function wd(t){this._node=t,this._names=md(t.getAttribute("class")||"")}function gd(t,n){for(var r=yd(t),i=-1,e=n.length;++i<e;)r.add(n[i])}function Md(t,n){for(var r=yd(t),i=-1,e=n.length;++i<e;)r.remove(n[i])}function Ld(t){return function(){gd(this,t)}}function Ad(t){return function(){Md(this,t)}}function Nd(t,n){return function(){(n.apply(this,arguments)?gd:Md)(this,t)}}function Ed(){this.textContent=""}function kd(t){return function(){this.textContent=t}}function xd(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Td(){this.innerHTML=""}function Sd(t){return function(){this.innerHTML=t}}function Od(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Id(){this.nextSibling&&this.parentNode.appendChild(this)}function Rd(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Cd(){return null}function Dd(){var t=this.parentNode;t&&t.removeChild(this)}function Fd(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Hd(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}wd.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Wd={},jd=null;function _d(t,n,r){return t=Ud(t,n,r),function(n){var r=n.relatedTarget;r&&(r===this||8&r.compareDocumentPosition(this))||t.call(this,n)}}function Ud(t,n,r){return function(i){var e=jd;jd=i;try{t.call(this,this.__data__,n,r)}finally{jd=e}}}function Pd(t){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}}))}function Bd(t){return function(){var n=this.__on;if(n){for(var r,i=0,e=-1,o=n.length;i<o;++i)r=n[i],t.type&&r.type!==t.type||r.name!==t.name?n[++e]=r:this.removeEventListener(r.type,r.listener,r.capture);++e?n.length=e:delete this.__on}}}function Yd(t,n,r){var i=Wd.hasOwnProperty(t.type)?_d:Ud;return function(e,o,u){var a,s=this.__on,c=i(n,o,u);if(s)for(var f=0,h=s.length;f<h;++f)if((a=s[f]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=r),void(a.value=n);this.addEventListener(t.type,c,r),a={type:t.type,name:t.name,value:n,listener:c,capture:r},s?s.push(a):this.__on=[a]}}function zd(t,n,r,i){var e=jd;t.sourceEvent=jd,jd=t;try{return n.apply(r,i)}finally{jd=e}}function Vd(t,n,r){var i=cd(t),e=i.CustomEvent;"function"==typeof e?e=new e(n,r):(e=i.document.createEvent("Event"),r?(e.initEvent(n,r.bubbles,r.cancelable),e.detail=r.detail):e.initEvent(n,!1,!1)),t.dispatchEvent(e)}function Gd(t,n){return function(){return Vd(this,t,n)}}function qd(t,n){return function(){return Vd(this,t,n.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Wd={mouseenter:"mouseover",mouseleave:"mouseout"}));var $d=[null];function Zd(t,n){this._groups=t,this._parents=n}function Xd(t){return"string"==typeof t?new Zd([[document.querySelector(t)]],[document.documentElement]):new Zd([[t]],$d)}function Kd(){for(var t,n=jd;t=n.sourceEvent;)n=t;return n}function Jd(t,n){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var e=t.getBoundingClientRect();return[n.clientX-e.left-t.clientLeft,n.clientY-e.top-t.clientTop]}function Qd(t){var n=Kd();return n.changedTouches&&(n=n.changedTouches[0]),Jd(t,n)}function tv(t,n,r){arguments.length<3&&(r=n,n=Kd().changedTouches);for(var i,e=0,o=n?n.length:0;e<o;++e)if((i=n[e]).identifier===r)return Jd(t,i);return null}function nv(){jd.stopImmediatePropagation()}function rv(){jd.preventDefault(),jd.stopImmediatePropagation()}function iv(t){var n=t.document.documentElement,r=Xd(t).on("dragstart.drag",rv,!0);"onselectstart"in n?r.on("selectstart.drag",rv,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function ev(t,n){var r=t.document.documentElement,i=Xd(t).on("dragstart.drag",null);n&&(i.on("click.drag",rv,!0),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}function ov(t){return function(){return t}}function uv(t,n,r,i,e,o,u,a,s,c){this.target=t,this.type=n,this.subject=r,this.identifier=i,this.active=e,this.x=o,this.y=u,this.dx=a,this.dy=s,this._=c}function av(){return!jd.button}function sv(){return this.parentNode}function cv(t){return null==t?{x:jd.x,y:jd.y}:t}function fv(){return"ontouchstart"in this}Zd.prototype={constructor:Zd,select:function(t){"function"!=typeof t&&(t=Xl(t));for(var n=this._groups,r=n.length,i=new Array(r),e=0;e<r;++e)for(var o,u,a=n[e],s=a.length,c=i[e]=new Array(s),f=0;f<s;++f)(o=a[f])&&(u=t.call(o,o.__data__,f,a))&&("__data__"in o&&(u.__data__=o.__data__),c[f]=u);return new Zd(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?Kl:function(){return this.querySelectorAll(t)}}(t));for(var n=this._groups,r=n.length,i=[],e=[],o=0;o<r;++o)for(var u,a=n[o],s=a.length,c=0;c<s;++c)(u=a[c])&&(i.push(t.call(u,u.__data__,c,a)),e.push(u));return new Zd(i,e)},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var n=this._groups,r=n.length,i=new Array(r),e=0;e<r;++e)for(var o,u=n[e],a=u.length,s=i[e]=[],c=0;c<a;++c)(o=u[c])&&t.call(o,o.__data__,c,u)&&s.push(o);return new Zd(i,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),c=-1,this.each((function(t){d[++c]=t})),d;var r=n?nd:td,i=this._parents,e=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=e.length,u=new Array(o),a=new Array(o),s=new Array(o),c=0;c<o;++c){var f=i[c],h=e[c],l=h.length,d=t.call(f,f&&f.__data__,c,i),v=d.length,p=a[c]=new Array(v),b=u[c]=new Array(v);r(f,h,p,b,s[c]=new Array(l),d,n);for(var m,y,w=0,g=0;w<v;++w)if(m=p[w]){for(w>=g&&(g=w+1);!(y=b[g])&&++g<v;);m._next=y||null}}return(u=new Zd(u,i))._enter=a,u._exit=s,u},enter:function(){return new Zd(this._enter||this._groups.map(Jl),this._parents)},exit:function(){return new Zd(this._exit||this._groups.map(Jl),this._parents)},join:function(t,n,r){var i=this.enter(),e=this,o=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=n&&(e=n(e)),null==r?o.remove():r(o),i&&e?i.merge(e).order():e},merge:function(t){for(var n=this._groups,r=t._groups,i=n.length,e=Math.min(i,r.length),o=new Array(i),u=0;u<e;++u)for(var a,s=n[u],c=r[u],f=s.length,h=o[u]=new Array(f),l=0;l<f;++l)(a=s[l]||c[l])&&(h[l]=a);for(;u<i;++u)o[u]=n[u];return new Zd(o,this._parents)},order:function(){for(var t=this._groups,n=-1,r=t.length;++n<r;)for(var i,e=t[n],o=e.length-1,u=e[o];--o>=0;)(i=e[o])&&(u&&4^i.compareDocumentPosition(u)&&u.parentNode.insertBefore(i,u),u=i);return this},sort:function(t){function n(n,r){return n&&r?t(n.__data__,r.__data__):!n-!r}t||(t=rd);for(var r=this._groups,i=r.length,e=new Array(i),o=0;o<i;++o){for(var u,a=r[o],s=a.length,c=e[o]=new Array(s),f=0;f<s;++f)(u=a[f])&&(c[f]=u);c.sort(n)}return new Zd(e,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],e=0,o=i.length;e<o;++e){var u=i[e];if(u)return u}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,r=0,i=n.length;r<i;++r)for(var e,o=n[r],u=0,a=o.length;u<a;++u)(e=o[u])&&t.call(e,e.__data__,u,o);return this},attr:function(t,n){var r=Vl(t);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((null==n?r.local?ed:id:"function"==typeof n?r.local?sd:ad:r.local?ud:od)(r,n))},style:function(t,n,r){return arguments.length>1?this.each((null==n?fd:"function"==typeof n?ld:hd)(t,n,null==r?"":r)):dd(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?vd:"function"==typeof n?bd:pd)(t,n)):this.node()[t]},classed:function(t,n){var r=md(t+"");if(arguments.length<2){for(var i=yd(this.node()),e=-1,o=r.length;++e<o;)if(!i.contains(r[e]))return!1;return!0}return this.each(("function"==typeof n?Nd:n?Ld:Ad)(r,n))},text:function(t){return arguments.length?this.each(null==t?Ed:("function"==typeof t?xd:kd)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Td:("function"==typeof t?Od:Sd)(t)):this.node().innerHTML},raise:function(){return this.each(Id)},lower:function(){return this.each(Rd)},append:function(t){var n="function"==typeof t?t:$l(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var r="function"==typeof t?t:$l(t),i=null==n?Cd:"function"==typeof n?n:Xl(n);return this.select((function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(Dd)},clone:function(t){return this.select(t?Hd:Fd)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,r){var i,e,o=Pd(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?Yd:Bd,null==r&&(r=!1),i=0;i<u;++i)this.each(a(o[i],n,r));return this}var a=this.node().__on;if(a)for(var s,c=0,f=a.length;c<f;++c)for(i=0,s=a[c];i<u;++i)if((e=o[i]).type===s.type&&e.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?qd:Gd)(t,n))}},uv.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var hv={},lv={};function dv(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+"]"})).join(",")+"}")}function vv(t){var n=new RegExp('["'+t+"\n\r]"),r=t.charCodeAt(0);function i(t,n){var i,e=[],o=t.length,u=0,a=0,s=o<=0,c=!1;function f(){if(s)return lv;if(c)return c=!1,hv;var n,i,e=u;if(34===t.charCodeAt(e)){for(;u++<o&&34!==t.charCodeAt(u)||34===t.charCodeAt(++u););return(n=u)>=o?s=!0:10===(i=t.charCodeAt(u++))?c=!0:13===i&&(c=!0,10===t.charCodeAt(u)&&++u),t.slice(e+1,n-1).replace(/""/g,'"')}for(;u<o;){if(10===(i=t.charCodeAt(n=u++)))c=!0;else if(13===i)c=!0,10===t.charCodeAt(u)&&++u;else if(i!==r)continue;return t.slice(e,n)}return s=!0,t.slice(e,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(i=f())!==lv;){for(var h=[];i!==hv&&i!==lv;)h.push(i),i=f();n&&null==(h=n(h,a++))||e.push(h)}return e}function e(n){return n.map(o).join(t)}function o(t){return null==t?"":n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var r,e,o=i(t,(function(t,i){if(r)return r(t,i-1);e=t,r=n?function(t,n){var r=dv(t);return function(i,e){return n(r(i),e,t)}}(t,n):dv(t)}));return o.columns=e||[],o},parseRows:i,format:function(n,r){return null==r&&(r=function(t){var n=Object.create(null),r=[];return t.forEach((function(t){for(var i in t)i in n||r.push(n[i]=i)})),r}(n)),[r.map(o).join(t)].concat(n.map((function(n){return r.map((function(t){return o(n[t])})).join(t)}))).join("\n")},formatRows:function(t){return t.map(e).join("\n")}}}var pv=vv(","),bv=pv.parse,mv=pv.parseRows,yv=pv.format,wv=pv.formatRows,gv=vv("\t"),Mv=gv.parse,Lv=gv.parseRows,Av=gv.format,Nv=gv.formatRows;function Ev(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function kv(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var xv=function t(n){function r(t){return Math.pow(t,n)}return n=+n,r.exponent=t,r}(3),Tv=function t(n){function r(t){return 1-Math.pow(1-t,n)}return n=+n,r.exponent=t,r}(3),Sv=function t(n){function r(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,r.exponent=t,r}(3),Ov=Math.PI,Iv=Ov/2;function Rv(t){return(1-Math.cos(Ov*t))/2}function Cv(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Dv(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Fv=4/11,Hv=7.5625;function Wv(t){return(t=+t)<Fv?Hv*t*t:t<.7272727272727273?Hv*(t-=.5454545454545454)*t+.75:t<.9090909090909091?Hv*(t-=.8181818181818182)*t+.9375:Hv*(t-=.9545454545454546)*t+.984375}var jv=1.70158,_v=function t(n){function r(t){return t*t*((n+1)*t-n)}return n=+n,r.overshoot=t,r}(jv),Uv=function t(n){function r(t){return--t*t*((n+1)*t+n)+1}return n=+n,r.overshoot=t,r}(jv),Pv=function t(n){function r(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,r.overshoot=t,r}(jv),Bv=2*Math.PI,Yv=function t(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=Bv);function e(t){return n*Math.pow(2,10*--t)*Math.sin((i-t)/r)}return e.amplitude=function(n){return t(n,r*Bv)},e.period=function(r){return t(n,r)},e}(1,.3),zv=function t(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=Bv);function e(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/r)}return e.amplitude=function(n){return t(n,r*Bv)},e.period=function(r){return t(n,r)},e}(1,.3),Vv=function t(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=Bv);function e(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((i-t)/r):2-n*Math.pow(2,-10*t)*Math.sin((i+t)/r))/2}return e.amplitude=function(n){return t(n,r*Bv)},e.period=function(r){return t(n,r)},e}(1,.3);function Gv(t){return function(){return t}}function qv(){return 1e-6*(Math.random()-.5)}function $v(t,n,r,i){if(isNaN(n)||isNaN(r))return t;var e,o,u,a,s,c,f,h,l,d=t._root,v={data:i},p=t._x0,b=t._y0,m=t._x1,y=t._y1;if(!d)return t._root=v,t;for(;d.length;)if((c=n>=(o=(p+m)/2))?p=o:m=o,(f=r>=(u=(b+y)/2))?b=u:y=u,e=d,!(d=d[h=f<<1|c]))return e[h]=v,t;if(a=+t._x.call(null,d.data),s=+t._y.call(null,d.data),n===a&&r===s)return v.next=d,e?e[h]=v:t._root=v,t;do{e=e?e[h]=new Array(4):t._root=new Array(4),(c=n>=(o=(p+m)/2))?p=o:m=o,(f=r>=(u=(b+y)/2))?b=u:y=u}while((h=f<<1|c)==(l=(s>=u)<<1|a>=o));return e[l]=d,e[h]=v,t}function Zv(t,n,r,i,e){this.node=t,this.x0=n,this.y0=r,this.x1=i,this.y1=e}function Xv(t){return t[0]}function Kv(t){return t[1]}function Jv(t,n,r){var i=new Qv(null==n?Xv:n,null==r?Kv:r,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function Qv(t,n,r,i,e,o){this._x=t,this._y=n,this._x0=r,this._y0=i,this._x1=e,this._y1=o,this._root=void 0}function tp(t){for(var n={data:t.data},r=n;t=t.next;)r=r.next={data:t.data};return n}var np=Jv.prototype=Qv.prototype;function rp(t){return t.x+t.vx}function ip(t){return t.y+t.vy}function ep(t){return t.index}function op(t,n){var r=t.get(n);if(!r)throw new Error("missing: "+n);return r}function up(t){return t.x}function ap(t){return t.y}np.copy=function(){var t,n,r=new Qv(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return r;if(!i.length)return r._root=tp(i),r;for(t=[{source:i,target:r._root=new Array(4)}];i=t.pop();)for(var e=0;e<4;++e)(n=i.source[e])&&(n.length?t.push({source:n,target:i.target[e]=new Array(4)}):i.target[e]=tp(n));return r},np.add=function(t){var n=+this._x.call(null,t),r=+this._y.call(null,t);return $v(this.cover(n,r),n,r,t)},np.addAll=function(t){var n,r,i,e,o=t.length,u=new Array(o),a=new Array(o),s=1/0,c=1/0,f=-1/0,h=-1/0;for(r=0;r<o;++r)isNaN(i=+this._x.call(null,n=t[r]))||isNaN(e=+this._y.call(null,n))||(u[r]=i,a[r]=e,i<s&&(s=i),i>f&&(f=i),e<c&&(c=e),e>h&&(h=e));if(s>f||c>h)return this;for(this.cover(s,c).cover(f,h),r=0;r<o;++r)$v(this,u[r],a[r],t[r]);return this},np.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var r=this._x0,i=this._y0,e=this._x1,o=this._y1;if(isNaN(r))e=(r=Math.floor(t))+1,o=(i=Math.floor(n))+1;else{for(var u,a,s=e-r,c=this._root;r>t||t>=e||i>n||n>=o;)switch(a=(n<i)<<1|t<r,(u=new Array(4))[a]=c,c=u,s*=2,a){case 0:e=r+s,o=i+s;break;case 1:r=e-s,o=i+s;break;case 2:e=r+s,i=o-s;break;case 3:r=e-s,i=o-s}this._root&&this._root.length&&(this._root=c)}return this._x0=r,this._y0=i,this._x1=e,this._y1=o,this},np.data=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},np.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},np.find=function(t,n,r){var i,e,o,u,a,s,c,f=this._x0,h=this._y0,l=this._x1,d=this._y1,v=[],p=this._root;for(p&&v.push(new Zv(p,f,h,l,d)),null==r?r=1/0:(f=t-r,h=n-r,l=t+r,d=n+r,r*=r);s=v.pop();)if(!(!(p=s.node)||(e=s.x0)>l||(o=s.y0)>d||(u=s.x1)<f||(a=s.y1)<h))if(p.length){var b=(e+u)/2,m=(o+a)/2;v.push(new Zv(p[3],b,m,u,a),new Zv(p[2],e,m,b,a),new Zv(p[1],b,o,u,m),new Zv(p[0],e,o,b,m)),(c=(n>=m)<<1|t>=b)&&(s=v[v.length-1],v[v.length-1]=v[v.length-1-c],v[v.length-1-c]=s)}else{var y=t-+this._x.call(null,p.data),w=n-+this._y.call(null,p.data),g=y*y+w*w;if(g<r){var M=Math.sqrt(r=g);f=t-M,h=n-M,l=t+M,d=n+M,i=p.data}}return i},np.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(u=+this._y.call(null,t)))return this;var n,r,i,e,o,u,a,s,c,f,h,l,d=this._root,v=this._x0,p=this._y0,b=this._x1,m=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(a=(v+b)/2))?v=a:b=a,(f=u>=(s=(p+m)/2))?p=s:m=s,n=d,!(d=d[h=f<<1|c]))return this;if(!d.length)break;(n[h+1&3]||n[h+2&3]||n[h+3&3])&&(r=n,l=h)}for(;d.data!==t;)if(i=d,!(d=d.next))return this;return(e=d.next)&&delete d.next,i?(e?i.next=e:delete i.next,this):n?(e?n[h]=e:delete n[h],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(r?r[l]=d:this._root=d),this):(this._root=e,this)},np.removeAll=function(t){for(var n=0,r=t.length;n<r;++n)this.remove(t[n]);return this},np.root=function(){return this._root},np.size=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},np.visit=function(t){var n,r,i,e,o,u,a=[],s=this._root;for(s&&a.push(new Zv(s,this._x0,this._y0,this._x1,this._y1));n=a.pop();)if(!t(s=n.node,i=n.x0,e=n.y0,o=n.x1,u=n.y1)&&s.length){var c=(i+o)/2,f=(e+u)/2;(r=s[3])&&a.push(new Zv(r,c,f,o,u)),(r=s[2])&&a.push(new Zv(r,i,f,c,u)),(r=s[1])&&a.push(new Zv(r,c,e,o,f)),(r=s[0])&&a.push(new Zv(r,i,e,c,f))}return this},np.visitAfter=function(t){var n,r=[],i=[];for(this._root&&r.push(new Zv(this._root,this._x0,this._y0,this._x1,this._y1));n=r.pop();){var e=n.node;if(e.length){var o,u=n.x0,a=n.y0,s=n.x1,c=n.y1,f=(u+s)/2,h=(a+c)/2;(o=e[0])&&r.push(new Zv(o,u,a,f,h)),(o=e[1])&&r.push(new Zv(o,f,a,s,h)),(o=e[2])&&r.push(new Zv(o,u,h,f,c)),(o=e[3])&&r.push(new Zv(o,f,h,s,c))}i.push(n)}for(;n=i.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},np.x=function(t){return arguments.length?(this._x=t,this):this._x},np.y=function(t){return arguments.length?(this._y=t,this):this._y};var sp,cp=Math.PI*(3-Math.sqrt(5));function fp(t,n){if((r=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var r,i=t.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+t.slice(r+1)]}function hp(t){return(t=fp(Math.abs(t)))?t[1]:NaN}function lp(t,n){var r=fp(t,n);if(!r)return t+"";var i=r[0],e=r[1];return e<0?"0."+new Array(-e).join("0")+i:i.length>e+1?i.slice(0,e+1)+"."+i.slice(e+1):i+new Array(e-i.length+2).join("0")}var dp={"":function(t,n){t:for(var r,i=(t=t.toPrecision(n)).length,e=1,o=-1;e<i;++e)switch(t[e]){case".":o=r=e;break;case"0":0===o&&(o=e),r=e;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(r+1):t},"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return lp(100*t,n)},r:lp,s:function(t,n){var r=fp(t,n);if(!r)return t+"";var i=r[0],e=r[1],o=e-(sp=3*Math.max(-8,Math.min(8,Math.floor(e/3))))+1,u=i.length;return o===u?i:o>u?i+new Array(o-u+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+fp(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},vp=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function pp(t){return new bp(t)}function bp(t){if(!(n=vp.exec(t)))throw new Error("invalid format: "+t);var n,r=n[1]||" ",i=n[2]||">",e=n[3]||"-",o=n[4]||"",u=!!n[5],a=n[6]&&+n[6],s=!!n[7],c=n[8]&&+n[8].slice(1),f=n[9]||"";"n"===f?(s=!0,f="g"):dp[f]||(f=""),(u||"0"===r&&"="===i)&&(u=!0,r="0",i="="),this.fill=r,this.align=i,this.sign=e,this.symbol=o,this.zero=u,this.width=a,this.comma=s,this.precision=c,this.type=f}function mp(t){return t}pp.prototype=bp.prototype,bp.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var yp,wp,gp,Mp=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Lp(t){var n,r,i=t.grouping&&t.thousands?(n=t.grouping,r=t.thousands,function(t,i){for(var e=t.length,o=[],u=0,a=n[0],s=0;e>0&&a>0&&(s+a+1>i&&(a=Math.max(1,i-s)),o.push(t.substring(e-=a,e+a)),!((s+=a+1)>i));)a=n[u=(u+1)%n.length];return o.reverse().join(r)}):mp,e=t.currency,o=t.decimal,u=t.numerals?function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(t.numerals):mp,a=t.percent||"%";function s(t){var n=(t=pp(t)).fill,r=t.align,s=t.sign,c=t.symbol,f=t.zero,h=t.width,l=t.comma,d=t.precision,v=t.type,p="$"===c?e[0]:"#"===c&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===c?e[1]:/[%p]/.test(v)?a:"",m=dp[v],y=!v||/[defgprs%]/.test(v);function w(t){var e,a,c,w=p,g=b;if("c"===v)g=m(t)+g,t="";else{var M=(t=+t)<0;if(t=m(Math.abs(t),d),M&&0==+t&&(M=!1),w=(M?"("===s?s:"-":"-"===s||"("===s?"":s)+w,g=("s"===v?Mp[8+sp/3]:"")+g+(M&&"("===s?")":""),y)for(e=-1,a=t.length;++e<a;)if(48>(c=t.charCodeAt(e))||c>57){g=(46===c?o+t.slice(e+1):t.slice(e))+g,t=t.slice(0,e);break}}l&&!f&&(t=i(t,1/0));var L=w.length+t.length+g.length,A=L<h?new Array(h-L+1).join(n):"";switch(l&&f&&(t=i(A+t,A.length?h-g.length:1/0),A=""),r){case"<":t=w+t+g+A;break;case"=":t=w+A+t+g;break;case"^":t=A.slice(0,L=A.length>>1)+w+t+g+A.slice(L);break;default:t=A+w+t+g}return u(t)}return d=null==d?v?6:12:/[gprs]/.test(v)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),w.toString=function(){return t+""},w}return{format:s,formatPrefix:function(t,n){var r=s(((t=pp(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(hp(n)/3))),e=Math.pow(10,-i),o=Mp[8+i/3];return function(t){return r(e*t)+o}}}}function Ap(t){return yp=Lp(t),wp=yp.format,gp=yp.formatPrefix,yp}function Np(){return new Ep}function Ep(){this.reset()}Ap({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),Ep.prototype={constructor:Ep,reset:function(){this.s=this.t=0},add:function(t){xp(kp,t,this.t),xp(this,kp.s,this.s),this.s?this.t+=kp.t:this.s=kp.t},valueOf:function(){return this.s}};var kp=new Ep;function xp(t,n,r){var i=t.s=n+r,e=i-n;t.t=n-(i-e)+(r-e)}var Tp=1e-6,Sp=Math.PI,Op=Sp/2,Ip=Sp/4,Rp=2*Sp,Cp=180/Sp,Dp=Sp/180,Fp=Math.abs,Hp=Math.atan,Wp=Math.atan2,jp=Math.cos,_p=Math.ceil,Up=Math.exp,Pp=Math.log,Bp=Math.pow,Yp=Math.sin,zp=Math.sign||function(t){return t>0?1:t<0?-1:0},Vp=Math.sqrt,Gp=Math.tan;function qp(t){return t>1?0:t<-1?Sp:Math.acos(t)}function $p(t){return t>1?Op:t<-1?-Op:Math.asin(t)}function Zp(t){return(t=Yp(t/2))*t}function Xp(){}function Kp(t,n){t&&Qp.hasOwnProperty(t.type)&&Qp[t.type](t,n)}var Jp={Feature:function(t,n){Kp(t.geometry,n)},FeatureCollection:function(t,n){for(var r=t.features,i=-1,e=r.length;++i<e;)Kp(r[i].geometry,n)}},Qp={Sphere:function(t,n){n.sphere()},Point:function(t,n){n.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,n){for(var r=t.coordinates,i=-1,e=r.length;++i<e;)n.point((t=r[i])[0],t[1],t[2])},LineString:function(t,n){tb(t.coordinates,n,0)},MultiLineString:function(t,n){for(var r=t.coordinates,i=-1,e=r.length;++i<e;)tb(r[i],n,0)},Polygon:function(t,n){nb(t.coordinates,n)},MultiPolygon:function(t,n){for(var r=t.coordinates,i=-1,e=r.length;++i<e;)nb(r[i],n)},GeometryCollection:function(t,n){for(var r=t.geometries,i=-1,e=r.length;++i<e;)Kp(r[i],n)}};function tb(t,n,r){var i,e=-1,o=t.length-r;for(n.lineStart();++e<o;)n.point((i=t[e])[0],i[1],i[2]);n.lineEnd()}function nb(t,n){var r=-1,i=t.length;for(n.polygonStart();++r<i;)tb(t[r],n,1);n.polygonEnd()}function rb(t,n){t&&Jp.hasOwnProperty(t.type)?Jp[t.type](t,n):Kp(t,n)}var ib,eb,ob,ub,ab,sb=Np(),cb=Np(),fb={point:Xp,lineStart:Xp,lineEnd:Xp,polygonStart:function(){sb.reset(),fb.lineStart=hb,fb.lineEnd=lb},polygonEnd:function(){var t=+sb;cb.add(t<0?Rp+t:t),this.lineStart=this.lineEnd=this.point=Xp},sphere:function(){cb.add(Rp)}};function hb(){fb.point=db}function lb(){vb(ib,eb)}function db(t,n){fb.point=vb,ib=t,eb=n,ob=t*=Dp,ub=jp(n=(n*=Dp)/2+Ip),ab=Yp(n)}function vb(t,n){var r=(t*=Dp)-ob,i=r>=0?1:-1,e=i*r,o=jp(n=(n*=Dp)/2+Ip),u=Yp(n),a=ab*u,s=ub*o+a*jp(e),c=a*i*Yp(e);sb.add(Wp(c,s)),ob=t,ub=o,ab=u}function pb(t){return[Wp(t[1],t[0]),$p(t[2])]}function bb(t){var n=t[0],r=t[1],i=jp(r);return[i*jp(n),i*Yp(n),Yp(r)]}function mb(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function yb(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function wb(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function gb(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Mb(t){var n=Vp(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var Lb,Ab,Nb,Eb,kb,xb,Tb,Sb,Ob,Ib,Rb,Cb,Db,Fb,Hb,Wb,jb,_b,Ub,Pb,Bb,Yb,zb,Vb,Gb,qb,$b=Np(),Zb={point:Xb,lineStart:Jb,lineEnd:Qb,polygonStart:function(){Zb.point=tm,Zb.lineStart=nm,Zb.lineEnd=rm,$b.reset(),fb.polygonStart()},polygonEnd:function(){fb.polygonEnd(),Zb.point=Xb,Zb.lineStart=Jb,Zb.lineEnd=Qb,sb<0?(Lb=-(Nb=180),Ab=-(Eb=90)):$b>Tp?Eb=90:$b<-1e-6&&(Ab=-90),Ib[0]=Lb,Ib[1]=Nb}};function Xb(t,n){Ob.push(Ib=[Lb=t,Nb=t]),n<Ab&&(Ab=n),n>Eb&&(Eb=n)}function Kb(t,n){var r=bb([t*Dp,n*Dp]);if(Sb){var i=yb(Sb,r),e=yb([i[1],-i[0],0],i);Mb(e),e=pb(e);var o,u=t-kb,a=u>0?1:-1,s=e[0]*Cp*a,c=Fp(u)>180;c^(a*kb<s&&s<a*t)?(o=e[1]*Cp)>Eb&&(Eb=o):c^(a*kb<(s=(s+360)%360-180)&&s<a*t)?(o=-e[1]*Cp)<Ab&&(Ab=o):(n<Ab&&(Ab=n),n>Eb&&(Eb=n)),c?t<kb?im(Lb,t)>im(Lb,Nb)&&(Nb=t):im(t,Nb)>im(Lb,Nb)&&(Lb=t):Nb>=Lb?(t<Lb&&(Lb=t),t>Nb&&(Nb=t)):t>kb?im(Lb,t)>im(Lb,Nb)&&(Nb=t):im(t,Nb)>im(Lb,Nb)&&(Lb=t)}else Ob.push(Ib=[Lb=t,Nb=t]);n<Ab&&(Ab=n),n>Eb&&(Eb=n),Sb=r,kb=t}function Jb(){Zb.point=Kb}function Qb(){Ib[0]=Lb,Ib[1]=Nb,Zb.point=Xb,Sb=null}function tm(t,n){if(Sb){var r=t-kb;$b.add(Fp(r)>180?r+(r>0?360:-360):r)}else xb=t,Tb=n;fb.point(t,n),Kb(t,n)}function nm(){fb.lineStart()}function rm(){tm(xb,Tb),fb.lineEnd(),Fp($b)>Tp&&(Lb=-(Nb=180)),Ib[0]=Lb,Ib[1]=Nb,Sb=null}function im(t,n){return(n-=t)<0?n+360:n}function em(t,n){return t[0]-n[0]}function om(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var um={sphere:Xp,point:am,lineStart:cm,lineEnd:lm,polygonStart:function(){um.lineStart=dm,um.lineEnd=vm},polygonEnd:function(){um.lineStart=cm,um.lineEnd=lm}};function am(t,n){t*=Dp;var r=jp(n*=Dp);sm(r*jp(t),r*Yp(t),Yp(n))}function sm(t,n,r){++Rb,Db+=(t-Db)/Rb,Fb+=(n-Fb)/Rb,Hb+=(r-Hb)/Rb}function cm(){um.point=fm}function fm(t,n){t*=Dp;var r=jp(n*=Dp);Vb=r*jp(t),Gb=r*Yp(t),qb=Yp(n),um.point=hm,sm(Vb,Gb,qb)}function hm(t,n){t*=Dp;var r=jp(n*=Dp),i=r*jp(t),e=r*Yp(t),o=Yp(n),u=Wp(Vp((u=Gb*o-qb*e)*u+(u=qb*i-Vb*o)*u+(u=Vb*e-Gb*i)*u),Vb*i+Gb*e+qb*o);Cb+=u,Wb+=u*(Vb+(Vb=i)),jb+=u*(Gb+(Gb=e)),_b+=u*(qb+(qb=o)),sm(Vb,Gb,qb)}function lm(){um.point=am}function dm(){um.point=pm}function vm(){bm(Yb,zb),um.point=am}function pm(t,n){Yb=t,zb=n,t*=Dp,n*=Dp,um.point=bm;var r=jp(n);Vb=r*jp(t),Gb=r*Yp(t),qb=Yp(n),sm(Vb,Gb,qb)}function bm(t,n){t*=Dp;var r=jp(n*=Dp),i=r*jp(t),e=r*Yp(t),o=Yp(n),u=Gb*o-qb*e,a=qb*i-Vb*o,s=Vb*e-Gb*i,c=Vp(u*u+a*a+s*s),f=$p(c),h=c&&-f/c;Ub+=h*u,Pb+=h*a,Bb+=h*s,Cb+=f,Wb+=f*(Vb+(Vb=i)),jb+=f*(Gb+(Gb=e)),_b+=f*(qb+(qb=o)),sm(Vb,Gb,qb)}function mm(t){return function(){return t}}function ym(t,n){function r(r,i){return r=t(r,i),n(r[0],r[1])}return t.invert&&n.invert&&(r.invert=function(r,i){return(r=n.invert(r,i))&&t.invert(r[0],r[1])}),r}function wm(t,n){return[t>Sp?t-Rp:t<-Sp?t+Rp:t,n]}function gm(t,n,r){return(t%=Rp)?n||r?ym(Lm(t),Am(n,r)):Lm(t):n||r?Am(n,r):wm}function Mm(t){return function(n,r){return[(n+=t)>Sp?n-Rp:n<-Sp?n+Rp:n,r]}}function Lm(t){var n=Mm(t);return n.invert=Mm(-t),n}function Am(t,n){var r=jp(t),i=Yp(t),e=jp(n),o=Yp(n);function u(t,n){var u=jp(n),a=jp(t)*u,s=Yp(t)*u,c=Yp(n),f=c*r+a*i;return[Wp(s*e-f*o,a*r-c*i),$p(f*e+s*o)]}return u.invert=function(t,n){var u=jp(n),a=jp(t)*u,s=Yp(t)*u,c=Yp(n),f=c*e-s*o;return[Wp(s*e+c*o,a*r+f*i),$p(f*r-a*i)]},u}function Nm(t){function n(n){return(n=t(n[0]*Dp,n[1]*Dp))[0]*=Cp,n[1]*=Cp,n}return t=gm(t[0]*Dp,t[1]*Dp,t.length>2?t[2]*Dp:0),n.invert=function(n){return(n=t.invert(n[0]*Dp,n[1]*Dp))[0]*=Cp,n[1]*=Cp,n},n}function Em(t,n,r,i,e,o){if(r){var u=jp(n),a=Yp(n),s=i*r;null==e?(e=n+i*Rp,o=n-s/2):(e=km(u,e),o=km(u,o),(i>0?e<o:e>o)&&(e+=i*Rp));for(var c,f=e;i>0?f>o:f<o;f-=s)c=pb([u,-a*jp(f),-a*Yp(f)]),t.point(c[0],c[1])}}function km(t,n){(n=bb(n))[0]-=t,Mb(n);var r=qp(-n[1]);return((-n[2]<0?-r:r)+Rp-Tp)%Rp}function xm(){var t,n=[];return{point:function(n,r){t.push([n,r])},lineStart:function(){n.push(t=[])},lineEnd:Xp,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var r=n;return n=[],t=null,r}}}function Tm(t,n){return Fp(t[0]-n[0])<Tp&&Fp(t[1]-n[1])<Tp}function Sm(t,n,r,i){this.x=t,this.z=n,this.o=r,this.e=i,this.v=!1,this.n=this.p=null}function Om(t,n,r,i,e){var o,u,a=[],s=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,r,i=t[0],u=t[n];if(Tm(i,u)){for(e.lineStart(),o=0;o<n;++o)e.point((i=t[o])[0],i[1]);e.lineEnd()}else a.push(r=new Sm(i,t,null,!0)),s.push(r.o=new Sm(i,null,r,!1)),a.push(r=new Sm(u,t,null,!1)),s.push(r.o=new Sm(u,null,r,!0))}})),a.length){for(s.sort(n),Im(a),Im(s),o=0,u=s.length;o<u;++o)s[o].e=r=!r;for(var c,f,h=a[0];;){for(var l=h,d=!0;l.v;)if((l=l.n)===h)return;c=l.z,e.lineStart();do{if(l.v=l.o.v=!0,l.e){if(d)for(o=0,u=c.length;o<u;++o)e.point((f=c[o])[0],f[1]);else i(l.x,l.n.x,1,e);l=l.n}else{if(d)for(o=(c=l.p.z).length-1;o>=0;--o)e.point((f=c[o])[0],f[1]);else i(l.x,l.p.x,-1,e);l=l.p}c=(l=l.o).z,d=!d}while(!l.v);e.lineEnd()}}}function Im(t){if(n=t.length){for(var n,r,i=0,e=t[0];++i<n;)e.n=r=t[i],r.p=e,e=r;e.n=r=t[0],r.p=e}}wm.invert=wm;var Rm=Np();function Cm(t,n){var r=n[0],i=n[1],e=[Yp(r),-jp(r),0],o=0,u=0;Rm.reset();for(var a=0,s=t.length;a<s;++a)if(f=(c=t[a]).length)for(var c,f,h=c[f-1],l=h[0],d=h[1]/2+Ip,v=Yp(d),p=jp(d),b=0;b<f;++b,l=y,v=g,p=M,h=m){var m=c[b],y=m[0],w=m[1]/2+Ip,g=Yp(w),M=jp(w),L=y-l,A=L>=0?1:-1,N=A*L,E=N>Sp,k=v*g;if(Rm.add(Wp(k*A*Yp(N),p*M+k*jp(N))),o+=E?L+A*Rp:L,E^l>=r^y>=r){var x=yb(bb(h),bb(m));Mb(x);var T=yb(e,x);Mb(T);var S=(E^L>=0?-1:1)*$p(T[2]);(i>S||i===S&&(x[0]||x[1]))&&(u+=E^L>=0?1:-1)}}return(o<-1e-6||o<Tp&&Rm<-1e-6)^1&u}function Dm(t,n,r,i){return function(e){var o,u,a,s=n(e),c=xm(),f=n(c),h=!1,l={point:d,lineStart:p,lineEnd:b,polygonStart:function(){l.point=m,l.lineStart=y,l.lineEnd=w,u=[],o=[]},polygonEnd:function(){l.point=d,l.lineStart=p,l.lineEnd=b,u=Ji(u);var t=Cm(o,i);u.length?(h||(e.polygonStart(),h=!0),Om(u,Hm,t,r,e)):t&&(h||(e.polygonStart(),h=!0),e.lineStart(),r(null,null,1,e),e.lineEnd()),h&&(e.polygonEnd(),h=!1),u=o=null},sphere:function(){e.polygonStart(),e.lineStart(),r(null,null,1,e),e.lineEnd(),e.polygonEnd()}};function d(n,r){t(n,r)&&e.point(n,r)}function v(t,n){s.point(t,n)}function p(){l.point=v,s.lineStart()}function b(){l.point=d,s.lineEnd()}function m(t,n){a.push([t,n]),f.point(t,n)}function y(){f.lineStart(),a=[]}function w(){m(a[0][0],a[0][1]),f.lineEnd();var t,n,r,i,s=f.clean(),l=c.result(),d=l.length;if(a.pop(),o.push(a),a=null,d)if(1&s){if((n=(r=l[0]).length-1)>0){for(h||(e.polygonStart(),h=!0),e.lineStart(),t=0;t<n;++t)e.point((i=r[t])[0],i[1]);e.lineEnd()}}else d>1&&2&s&&l.push(l.pop().concat(l.shift())),u.push(l.filter(Fm))}return l}}function Fm(t){return t.length>1}function Hm(t,n){return((t=t.x)[0]<0?t[1]-Op-Tp:Op-t[1])-((n=n.x)[0]<0?n[1]-Op-Tp:Op-n[1])}var Wm=Dm((function(){return!0}),(function(t){var n,r=NaN,i=NaN,e=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,u){var a=o>0?Sp:-Sp,s=Fp(o-r);Fp(s-Sp)<Tp?(t.point(r,i=(i+u)/2>0?Op:-Op),t.point(e,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(o,i),n=0):e!==a&&s>=Sp&&(Fp(r-e)<Tp&&(r-=e*Tp),Fp(o-a)<Tp&&(o-=a*Tp),i=function(t,n,r,i){var e,o,u=Yp(t-r);return Fp(u)>Tp?Hp((Yp(n)*(o=jp(i))*Yp(r)-Yp(i)*(e=jp(n))*Yp(t))/(e*o*u)):(n+i)/2}(r,i,o,u),t.point(e,i),t.lineEnd(),t.lineStart(),t.point(a,i),n=0),t.point(r=o,i=u),e=a},lineEnd:function(){t.lineEnd(),r=i=NaN},clean:function(){return 2-n}}}),(function(t,n,r,i){var e;if(null==t)i.point(-Sp,e=r*Op),i.point(0,e),i.point(Sp,e),i.point(Sp,0),i.point(Sp,-e),i.point(0,-e),i.point(-Sp,-e),i.point(-Sp,0),i.point(-Sp,e);else if(Fp(t[0]-n[0])>Tp){var o=t[0]<n[0]?Sp:-Sp;i.point(-o,e=r*o/2),i.point(0,e),i.point(o,e)}else i.point(n[0],n[1])}),[-Sp,-Op]);function jm(t){var n=jp(t),r=6*Dp,i=n>0,e=Fp(n)>Tp;function o(t,r){return jp(t)*jp(r)>n}function u(t,r,i){var e=[1,0,0],o=yb(bb(t),bb(r)),u=mb(o,o),a=o[0],s=u-a*a;if(!s)return!i&&t;var c=n*u/s,f=-n*a/s,h=yb(e,o),l=gb(e,c);wb(l,gb(o,f));var d=h,v=mb(l,d),p=mb(d,d),b=v*v-p*(mb(l,l)-1);if(!(b<0)){var m=Vp(b),y=gb(d,(-v-m)/p);if(wb(y,l),y=pb(y),!i)return y;var w,g=t[0],M=r[0],L=t[1],A=r[1];M<g&&(w=g,g=M,M=w);var N=M-g,E=Fp(N-Sp)<Tp;if(!E&&A<L&&(w=L,L=A,A=w),E||N<Tp?E?L+A>0^y[1]<(Fp(y[0]-g)<Tp?L:A):L<=y[1]&&y[1]<=A:N>Sp^(g<=y[0]&&y[0]<=M)){var k=gb(d,(-v+m)/p);return wb(k,l),[y,pb(k)]}}}function a(n,r){var e=i?t:Sp-t,o=0;return n<-e?o|=1:n>e&&(o|=2),r<-e?o|=4:r>e&&(o|=8),o}return Dm(o,(function(t){var n,r,s,c,f;return{lineStart:function(){c=s=!1,f=1},point:function(h,l){var d,v=[h,l],p=o(h,l),b=i?p?0:a(h,l):p?a(h+(h<0?Sp:-Sp),l):0;if(!n&&(c=s=p)&&t.lineStart(),p!==s&&(!(d=u(n,v))||Tm(n,d)||Tm(v,d))&&(v[0]+=Tp,v[1]+=Tp,p=o(v[0],v[1])),p!==s)f=0,p?(t.lineStart(),d=u(v,n),t.point(d[0],d[1])):(d=u(n,v),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(e&&n&&i^p){var m;b&r||!(m=u(v,n,!0))||(f=0,i?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!p||n&&Tm(n,v)||t.point(v[0],v[1]),n=v,s=p,r=b},lineEnd:function(){s&&t.lineEnd(),n=null},clean:function(){return f|(c&&s)<<1}}}),(function(n,i,e,o){Em(o,t,r,e,n,i)}),i?[0,-t]:[-Sp,t-Sp])}var _m=1e9,Um=-_m;function Pm(t,n,r,i){function e(e,o){return t<=e&&e<=r&&n<=o&&o<=i}function o(e,o,a,c){var f=0,h=0;if(null==e||(f=u(e,a))!==(h=u(o,a))||s(e,o)<0^a>0)do{c.point(0===f||3===f?t:r,f>1?i:n)}while((f=(f+a+4)%4)!==h);else c.point(o[0],o[1])}function u(i,e){return Fp(i[0]-t)<Tp?e>0?0:3:Fp(i[0]-r)<Tp?e>0?2:1:Fp(i[1]-n)<Tp?e>0?1:0:e>0?3:2}function a(t,n){return s(t.x,n.x)}function s(t,n){var r=u(t,1),i=u(n,1);return r!==i?r-i:0===r?n[1]-t[1]:1===r?t[0]-n[0]:2===r?t[1]-n[1]:n[0]-t[0]}return function(u){var s,c,f,h,l,d,v,p,b,m,y,w=u,g=xm(),M={point:L,lineStart:function(){M.point=A,c&&c.push(f=[]),m=!0,b=!1,v=p=NaN},lineEnd:function(){s&&(A(h,l),d&&b&&g.rejoin(),s.push(g.result())),M.point=L,b&&w.lineEnd()},polygonStart:function(){w=g,s=[],c=[],y=!0},polygonEnd:function(){var n=function(){for(var n=0,r=0,e=c.length;r<e;++r)for(var o,u,a=c[r],s=1,f=a.length,h=a[0],l=h[0],d=h[1];s<f;++s)o=l,u=d,l=(h=a[s])[0],d=h[1],u<=i?d>i&&(l-o)*(i-u)>(d-u)*(t-o)&&++n:d<=i&&(l-o)*(i-u)<(d-u)*(t-o)&&--n;return n}(),r=y&&n,e=(s=Ji(s)).length;(r||e)&&(u.polygonStart(),r&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),e&&Om(s,a,n,o,u),u.polygonEnd()),w=u,s=c=f=null}};function L(t,n){e(t,n)&&w.point(t,n)}function A(o,u){var a=e(o,u);if(c&&f.push([o,u]),m)h=o,l=u,d=a,m=!1,a&&(w.lineStart(),w.point(o,u));else if(a&&b)w.point(o,u);else{var s=[v=Math.max(Um,Math.min(_m,v)),p=Math.max(Um,Math.min(_m,p))],g=[o=Math.max(Um,Math.min(_m,o)),u=Math.max(Um,Math.min(_m,u))];!function(t,n,r,i,e,o){var u,a=t[0],s=t[1],c=0,f=1,h=n[0]-a,l=n[1]-s;if(u=r-a,h||!(u>0)){if(u/=h,h<0){if(u<c)return;u<f&&(f=u)}else if(h>0){if(u>f)return;u>c&&(c=u)}if(u=e-a,h||!(u<0)){if(u/=h,h<0){if(u>f)return;u>c&&(c=u)}else if(h>0){if(u<c)return;u<f&&(f=u)}if(u=i-s,l||!(u>0)){if(u/=l,l<0){if(u<c)return;u<f&&(f=u)}else if(l>0){if(u>f)return;u>c&&(c=u)}if(u=o-s,l||!(u<0)){if(u/=l,l<0){if(u>f)return;u>c&&(c=u)}else if(l>0){if(u<c)return;u<f&&(f=u)}return c>0&&(t[0]=a+c*h,t[1]=s+c*l),f<1&&(n[0]=a+f*h,n[1]=s+f*l),!0}}}}}(s,g,t,n,r,i)?a&&(w.lineStart(),w.point(o,u),y=!1):(b||(w.lineStart(),w.point(s[0],s[1])),w.point(g[0],g[1]),a||w.lineEnd(),y=!1)}v=o,p=u,b=a}return M}}var Bm,Ym,zm,Vm=Np(),Gm={sphere:Xp,point:Xp,lineStart:function(){Gm.point=$m,Gm.lineEnd=qm},lineEnd:Xp,polygonStart:Xp,polygonEnd:Xp};function qm(){Gm.point=Gm.lineEnd=Xp}function $m(t,n){Bm=t*=Dp,Ym=Yp(n*=Dp),zm=jp(n),Gm.point=Zm}function Zm(t,n){t*=Dp;var r=Yp(n*=Dp),i=jp(n),e=Fp(t-Bm),o=jp(e),u=i*Yp(e),a=zm*r-Ym*i*o,s=Ym*r+zm*i*o;Vm.add(Wp(Vp(u*u+a*a),s)),Bm=t,Ym=r,zm=i}function Xm(t){return Vm.reset(),rb(t,Gm),+Vm}var Km=[null,null],Jm={type:"LineString",coordinates:Km};function Qm(t,n){return Km[0]=t,Km[1]=n,Xm(Jm)}var ty={Feature:function(t,n){return ry(t.geometry,n)},FeatureCollection:function(t,n){for(var r=t.features,i=-1,e=r.length;++i<e;)if(ry(r[i].geometry,n))return!0;return!1}},ny={Sphere:function(){return!0},Point:function(t,n){return iy(t.coordinates,n)},MultiPoint:function(t,n){for(var r=t.coordinates,i=-1,e=r.length;++i<e;)if(iy(r[i],n))return!0;return!1},LineString:function(t,n){return ey(t.coordinates,n)},MultiLineString:function(t,n){for(var r=t.coordinates,i=-1,e=r.length;++i<e;)if(ey(r[i],n))return!0;return!1},Polygon:function(t,n){return oy(t.coordinates,n)},MultiPolygon:function(t,n){for(var r=t.coordinates,i=-1,e=r.length;++i<e;)if(oy(r[i],n))return!0;return!1},GeometryCollection:function(t,n){for(var r=t.geometries,i=-1,e=r.length;++i<e;)if(ry(r[i],n))return!0;return!1}};function ry(t,n){return!(!t||!ny.hasOwnProperty(t.type))&&ny[t.type](t,n)}function iy(t,n){return 0===Qm(t,n)}function ey(t,n){var r=Qm(t[0],t[1]);return Qm(t[0],n)+Qm(n,t[1])<=r+Tp}function oy(t,n){return!!Cm(t.map(uy),ay(n))}function uy(t){return(t=t.map(ay)).pop(),t}function ay(t){return[t[0]*Dp,t[1]*Dp]}function sy(t,n,r){var i=Gi(t,n-Tp,r).concat(n);return function(t){return i.map((function(n){return[t,n]}))}}function cy(t,n,r){var i=Gi(t,n-Tp,r).concat(n);return function(t){return i.map((function(n){return[n,t]}))}}function fy(){var t,n,r,i,e,o,u,a,s,c,f,h,l=10,d=l,v=90,p=360,b=2.5;function m(){return{type:"MultiLineString",coordinates:y()}}function y(){return Gi(_p(i/v)*v,r,v).map(f).concat(Gi(_p(a/p)*p,u,p).map(h)).concat(Gi(_p(n/l)*l,t,l).filter((function(t){return Fp(t%v)>Tp})).map(s)).concat(Gi(_p(o/d)*d,e,d).filter((function(t){return Fp(t%p)>Tp})).map(c))}return m.lines=function(){return y().map((function(t){return{type:"LineString",coordinates:t}}))},m.outline=function(){return{type:"Polygon",coordinates:[f(i).concat(h(u).slice(1),f(r).reverse().slice(1),h(a).reverse().slice(1))]}},m.extent=function(t){return arguments.length?m.extentMajor(t).extentMinor(t):m.extentMinor()},m.extentMajor=function(t){return arguments.length?(a=+t[0][1],u=+t[1][1],(i=+t[0][0])>(r=+t[1][0])&&(t=i,i=r,r=t),a>u&&(t=a,a=u,u=t),m.precision(b)):[[i,a],[r,u]]},m.extentMinor=function(r){return arguments.length?(o=+r[0][1],e=+r[1][1],(n=+r[0][0])>(t=+r[1][0])&&(r=n,n=t,t=r),o>e&&(r=o,o=e,e=r),m.precision(b)):[[n,o],[t,e]]},m.step=function(t){return arguments.length?m.stepMajor(t).stepMinor(t):m.stepMinor()},m.stepMajor=function(t){return arguments.length?(v=+t[0],p=+t[1],m):[v,p]},m.stepMinor=function(t){return arguments.length?(l=+t[0],d=+t[1],m):[l,d]},m.precision=function(l){return arguments.length?(b=+l,s=sy(o,e,90),c=cy(n,t,b),f=sy(a,u,90),h=cy(i,r,b),m):b},m.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function hy(t){return t}var ly,dy,vy,py,by=Np(),my=Np(),yy={point:Xp,lineStart:Xp,lineEnd:Xp,polygonStart:function(){yy.lineStart=wy,yy.lineEnd=Ly},polygonEnd:function(){yy.lineStart=yy.lineEnd=yy.point=Xp,by.add(Fp(my)),my.reset()},result:function(){var t=by/2;return by.reset(),t}};function wy(){yy.point=gy}function gy(t,n){yy.point=My,ly=vy=t,dy=py=n}function My(t,n){my.add(py*t-vy*n),vy=t,py=n}function Ly(){My(ly,dy)}var Ay=1/0,Ny=Ay,Ey=-Ay,ky=Ey,xy={point:function(t,n){t<Ay&&(Ay=t),t>Ey&&(Ey=t),n<Ny&&(Ny=n),n>ky&&(ky=n)},lineStart:Xp,lineEnd:Xp,polygonStart:Xp,polygonEnd:Xp,result:function(){var t=[[Ay,Ny],[Ey,ky]];return Ey=ky=-(Ny=Ay=1/0),t}};var Ty,Sy,Oy,Iy,Ry=0,Cy=0,Dy=0,Fy=0,Hy=0,Wy=0,jy=0,_y=0,Uy=0,Py={point:By,lineStart:Yy,lineEnd:Gy,polygonStart:function(){Py.lineStart=qy,Py.lineEnd=$y},polygonEnd:function(){Py.point=By,Py.lineStart=Yy,Py.lineEnd=Gy},result:function(){var t=Uy?[jy/Uy,_y/Uy]:Wy?[Fy/Wy,Hy/Wy]:Dy?[Ry/Dy,Cy/Dy]:[NaN,NaN];return Ry=Cy=Dy=Fy=Hy=Wy=jy=_y=Uy=0,t}};function By(t,n){Ry+=t,Cy+=n,++Dy}function Yy(){Py.point=zy}function zy(t,n){Py.point=Vy,By(Oy=t,Iy=n)}function Vy(t,n){var r=t-Oy,i=n-Iy,e=Vp(r*r+i*i);Fy+=e*(Oy+t)/2,Hy+=e*(Iy+n)/2,Wy+=e,By(Oy=t,Iy=n)}function Gy(){Py.point=By}function qy(){Py.point=Zy}function $y(){Xy(Ty,Sy)}function Zy(t,n){Py.point=Xy,By(Ty=Oy=t,Sy=Iy=n)}function Xy(t,n){var r=t-Oy,i=n-Iy,e=Vp(r*r+i*i);Fy+=e*(Oy+t)/2,Hy+=e*(Iy+n)/2,Wy+=e,jy+=(e=Iy*t-Oy*n)*(Oy+t),_y+=e*(Iy+n),Uy+=3*e,By(Oy=t,Iy=n)}function Ky(t){this._context=t}Ky.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Rp)}},result:Xp};var Jy,Qy,tw,nw,rw,iw=Np(),ew={point:Xp,lineStart:function(){ew.point=ow},lineEnd:function(){Jy&&uw(Qy,tw),ew.point=Xp},polygonStart:function(){Jy=!0},polygonEnd:function(){Jy=null},result:function(){var t=+iw;return iw.reset(),t}};function ow(t,n){ew.point=uw,Qy=nw=t,tw=rw=n}function uw(t,n){iw.add(Vp((nw-=t)*nw+(rw-=n)*rw)),nw=t,rw=n}function aw(){this._string=[]}function sw(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function cw(t){return function(n){var r=new fw;for(var i in t)r[i]=t[i];return r.stream=n,r}}function fw(){}function hw(t,n,r){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),rb(r,t.stream(xy)),n(xy.result()),null!=i&&t.clipExtent(i),t}function lw(t,n,r){return hw(t,(function(r){var i=n[1][0]-n[0][0],e=n[1][1]-n[0][1],o=Math.min(i/(r[1][0]-r[0][0]),e/(r[1][1]-r[0][1])),u=+n[0][0]+(i-o*(r[1][0]+r[0][0]))/2,a=+n[0][1]+(e-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([u,a])}),r)}function dw(t,n,r){return lw(t,[[0,0],n],r)}function vw(t,n,r){return hw(t,(function(r){var i=+n,e=i/(r[1][0]-r[0][0]),o=(i-e*(r[1][0]+r[0][0]))/2,u=-e*r[0][1];t.scale(150*e).translate([o,u])}),r)}function pw(t,n,r){return hw(t,(function(r){var i=+n,e=i/(r[1][1]-r[0][1]),o=-e*r[0][0],u=(i-e*(r[1][1]+r[0][1]))/2;t.scale(150*e).translate([o,u])}),r)}aw.prototype={_radius:4.5,_circle:sw(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=sw(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},fw.prototype={constructor:fw,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var bw=jp(30*Dp);function mw(t,n){return+n?function(t,n){function r(i,e,o,u,a,s,c,f,h,l,d,v,p,b){var m=c-i,y=f-e,w=m*m+y*y;if(w>4*n&&p--){var g=u+l,M=a+d,L=s+v,A=Vp(g*g+M*M+L*L),N=$p(L/=A),E=Fp(Fp(L)-1)<Tp||Fp(o-h)<Tp?(o+h)/2:Wp(M,g),k=t(E,N),x=k[0],T=k[1],S=x-i,O=T-e,I=y*S-m*O;(I*I/w>n||Fp((m*S+y*O)/w-.5)>.3||u*l+a*d+s*v<bw)&&(r(i,e,o,u,a,s,x,T,E,g/=A,M/=A,L,p,b),b.point(x,T),r(x,T,E,g,M,L,c,f,h,l,d,v,p,b))}}return function(n){var i,e,o,u,a,s,c,f,h,l,d,v,p={point:b,lineStart:m,lineEnd:w,polygonStart:function(){n.polygonStart(),p.lineStart=g},polygonEnd:function(){n.polygonEnd(),p.lineStart=m}};function b(r,i){r=t(r,i),n.point(r[0],r[1])}function m(){f=NaN,p.point=y,n.lineStart()}function y(i,e){var o=bb([i,e]),u=t(i,e);r(f,h,c,l,d,v,f=u[0],h=u[1],c=i,l=o[0],d=o[1],v=o[2],16,n),n.point(f,h)}function w(){p.point=b,n.lineEnd()}function g(){m(),p.point=M,p.lineEnd=L}function M(t,n){y(i=t,n),e=f,o=h,u=l,a=d,s=v,p.point=y}function L(){r(f,h,c,l,d,v,e,o,i,u,a,s,16,n),p.lineEnd=w,w()}return p}}(t,n):function(t){return cw({point:function(n,r){n=t(n,r),this.stream.point(n[0],n[1])}})}(t)}var yw=cw({point:function(t,n){this.stream.point(t*Dp,n*Dp)}});function ww(t){return gw((function(){return t}))()}function gw(t){var n,r,i,e,o,u,a,s,c,f,h=150,l=480,d=250,v=0,p=0,b=0,m=0,y=0,w=null,g=Wm,M=null,L=hy,A=.5,N=mw(x,A);function E(t){return[(t=o(t[0]*Dp,t[1]*Dp))[0]*h+r,i-t[1]*h]}function k(t){return(t=o.invert((t[0]-r)/h,(i-t[1])/h))&&[t[0]*Cp,t[1]*Cp]}function x(t,e){return[(t=n(t,e))[0]*h+r,i-t[1]*h]}function T(){o=ym(e=gm(b,m,y),n);var t=n(v,p);return r=l-t[0]*h,i=d+t[1]*h,S()}function S(){return c=f=null,E}return E.stream=function(t){return c&&f===t?c:c=yw(function(t){return cw({point:function(n,r){var i=t(n,r);return this.stream.point(i[0],i[1])}})}(e)(g(N(L(f=t)))))},E.preclip=function(t){return arguments.length?(g=t,w=void 0,S()):g},E.postclip=function(t){return arguments.length?(L=t,M=u=a=s=null,S()):L},E.clipAngle=function(t){return arguments.length?(g=+t?jm(w=t*Dp):(w=null,Wm),S()):w*Cp},E.clipExtent=function(t){return arguments.length?(L=null==t?(M=u=a=s=null,hy):Pm(M=+t[0][0],u=+t[0][1],a=+t[1][0],s=+t[1][1]),S()):null==M?null:[[M,u],[a,s]]},E.scale=function(t){return arguments.length?(h=+t,T()):h},E.translate=function(t){return arguments.length?(l=+t[0],d=+t[1],T()):[l,d]},E.center=function(t){return arguments.length?(v=t[0]%360*Dp,p=t[1]%360*Dp,T()):[v*Cp,p*Cp]},E.rotate=function(t){return arguments.length?(b=t[0]%360*Dp,m=t[1]%360*Dp,y=t.length>2?t[2]%360*Dp:0,T()):[b*Cp,m*Cp,y*Cp]},E.precision=function(t){return arguments.length?(N=mw(x,A=t*t),S()):Vp(A)},E.fitExtent=function(t,n){return lw(E,t,n)},E.fitSize=function(t,n){return dw(E,t,n)},E.fitWidth=function(t,n){return vw(E,t,n)},E.fitHeight=function(t,n){return pw(E,t,n)},function(){return n=t.apply(this,arguments),E.invert=n.invert&&k,T()}}function Mw(t){var n=0,r=Sp/3,i=gw(t),e=i(n,r);return e.parallels=function(t){return arguments.length?i(n=t[0]*Dp,r=t[1]*Dp):[n*Cp,r*Cp]},e}function Lw(t,n){var r=Yp(t),i=(r+Yp(n))/2;if(Fp(i)<Tp)return function(t){var n=jp(t);function r(t,r){return[t*n,Yp(r)/n]}return r.invert=function(t,r){return[t/n,$p(r*n)]},r}(t);var e=1+r*(2*i-r),o=Vp(e)/i;function u(t,n){var r=Vp(e-2*i*Yp(n))/i;return[r*Yp(t*=i),o-r*jp(t)]}return u.invert=function(t,n){var r=o-n;return[Wp(t,Fp(r))/i*zp(r),$p((e-(t*t+r*r)*i*i)/(2*i))]},u}function Aw(){return Mw(Lw).scale(155.424).center([0,33.6442])}function Nw(){return Aw().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Ew(t){return function(n,r){var i=jp(n),e=jp(r),o=t(i*e);return[o*e*Yp(n),o*Yp(r)]}}function kw(t){return function(n,r){var i=Vp(n*n+r*r),e=t(i),o=Yp(e),u=jp(e);return[Wp(n*o,i*u),$p(i&&r*o/i)]}}var xw=Ew((function(t){return Vp(2/(1+t))}));xw.invert=kw((function(t){return 2*$p(t/2)}));var Tw=Ew((function(t){return(t=qp(t))&&t/Yp(t)}));function Sw(t,n){return[t,Pp(Gp((Op+n)/2))]}function Ow(t){var n,r,i,e=ww(t),o=e.center,u=e.scale,a=e.translate,s=e.clipExtent,c=null;function f(){var o=Sp*u(),a=e(Nm(e.rotate()).invert([0,0]));return s(null==c?[[a[0]-o,a[1]-o],[a[0]+o,a[1]+o]]:t===Sw?[[Math.max(a[0]-o,c),n],[Math.min(a[0]+o,r),i]]:[[c,Math.max(a[1]-o,n)],[r,Math.min(a[1]+o,i)]])}return e.scale=function(t){return arguments.length?(u(t),f()):u()},e.translate=function(t){return arguments.length?(a(t),f()):a()},e.center=function(t){return arguments.length?(o(t),f()):o()},e.clipExtent=function(t){return arguments.length?(null==t?c=n=r=i=null:(c=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),f()):null==c?null:[[c,n],[r,i]]},f()}function Iw(t){return Gp((Op+t)/2)}function Rw(t,n){var r=jp(t),i=t===n?Yp(t):Pp(r/jp(n))/Pp(Iw(n)/Iw(t)),e=r*Bp(Iw(t),i)/i;if(!i)return Sw;function o(t,n){e>0?n<-Op+Tp&&(n=-Op+Tp):n>Op-Tp&&(n=Op-Tp);var r=e/Bp(Iw(n),i);return[r*Yp(i*t),e-r*jp(i*t)]}return o.invert=function(t,n){var r=e-n,o=zp(i)*Vp(t*t+r*r);return[Wp(t,Fp(r))/i*zp(r),2*Hp(Bp(e/o,1/i))-Op]},o}function Cw(t,n){return[t,n]}function Dw(t,n){var r=jp(t),i=t===n?Yp(t):(r-jp(n))/(n-t),e=r/i+t;if(Fp(i)<Tp)return Cw;function o(t,n){var r=e-n,o=i*t;return[r*Yp(o),e-r*jp(o)]}return o.invert=function(t,n){var r=e-n;return[Wp(t,Fp(r))/i*zp(r),e-zp(i)*Vp(t*t+r*r)]},o}function Fw(t,n){var r=jp(n),i=jp(t)*r;return[r*Yp(t)/i,Yp(n)/i]}function Hw(t,n,r,i){return 1===t&&1===n&&0===r&&0===i?hy:cw({point:function(e,o){this.stream.point(e*t+r,o*n+i)}})}function Ww(t,n){var r=n*n,i=r*r;return[t*(.8707-.131979*r+i*(i*(.003971*r-.001529*i)-.013791)),n*(1.007226+r*(.015085+i*(.028874*r-.044475-.005916*i)))]}function jw(t,n){return[jp(n)*Yp(t),Yp(n)]}function _w(t,n){var r=jp(n),i=1+jp(t)*r;return[r*Yp(t)/i,Yp(n)/i]}function Uw(t,n){return[Pp(Gp((Op+n)/2)),-t]}function Pw(t,n){return t.parent===n.parent?1:2}function Bw(t,n){return t+n.x}function Yw(t,n){return Math.max(t,n.y)}function zw(t){var n=0,r=t.children,i=r&&r.length;if(i)for(;--i>=0;)n+=r[i].value;else n=1;t.value=n}function Vw(t,n){var r,i,e,o,u,a=new Zw(t),s=+t.value&&(a.value=t.value),c=[a];for(null==n&&(n=Gw);r=c.pop();)if(s&&(r.value=+r.data.value),(e=n(r.data))&&(u=e.length))for(r.children=new Array(u),o=u-1;o>=0;--o)c.push(i=r.children[o]=new Zw(e[o])),i.parent=r,i.depth=r.depth+1;return a.eachBefore($w)}function Gw(t){return t.children}function qw(t){t.data=t.data.data}function $w(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function Zw(t){this.data=t,this.depth=this.height=0,this.parent=null}Tw.invert=kw((function(t){return t})),Sw.invert=function(t,n){return[t,2*Hp(Up(n))-Op]},Cw.invert=Cw,Fw.invert=kw(Hp),Ww.invert=function(t,n){var r,i=n,e=25;do{var o=i*i,u=o*o;i-=r=(i*(1.007226+o*(.015085+u*(.028874*o-.044475-.005916*u)))-n)/(1.007226+o*(.045255+u*(.259866*o-.311325-.005916*11*u)))}while(Fp(r)>Tp&&--e>0);return[t/(.8707+(o=i*i)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),i]},jw.invert=kw($p),_w.invert=kw((function(t){return 2*Hp(t)})),Uw.invert=function(t,n){return[-n,2*Hp(Up(t))-Op]},Zw.prototype=Vw.prototype={constructor:Zw,count:function(){return this.eachAfter(zw)},each:function(t){var n,r,i,e,o=this,u=[o];do{for(n=u.reverse(),u=[];o=n.pop();)if(t(o),r=o.children)for(i=0,e=r.length;i<e;++i)u.push(r[i])}while(u.length);return this},eachAfter:function(t){for(var n,r,i,e=this,o=[e],u=[];e=o.pop();)if(u.push(e),n=e.children)for(r=0,i=n.length;r<i;++r)o.push(n[r]);for(;e=u.pop();)t(e);return this},eachBefore:function(t){for(var n,r,i=this,e=[i];i=e.pop();)if(t(i),n=i.children)for(r=n.length-1;r>=0;--r)e.push(n[r]);return this},sum:function(t){return this.eachAfter((function(n){for(var r=+t(n.data)||0,i=n.children,e=i&&i.length;--e>=0;)r+=i[e].value;n.value=r}))},sort:function(t){return this.eachBefore((function(n){n.children&&n.children.sort(t)}))},path:function(t){for(var n=this,r=function(t,n){if(t===n)return t;var r=t.ancestors(),i=n.ancestors(),e=null;for(t=r.pop(),n=i.pop();t===n;)e=t,t=r.pop(),n=i.pop();return e}(n,t),i=[n];n!==r;)i.push(n=n.parent);for(var e=i.length;t!==r;)i.splice(e,0,t),t=t.parent;return i},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){var t=[];return this.each((function(n){t.push(n)})),t},leaves:function(){var t=[];return this.eachBefore((function(n){n.children||t.push(n)})),t},links:function(){var t=this,n=[];return t.each((function(r){r!==t&&n.push({source:r.parent,target:r})})),n},copy:function(){return Vw(this).eachBefore(qw)}};var Xw=Array.prototype.slice;function Kw(t){for(var n,r,i=0,e=(t=function(t){for(var n,r,i=t.length;i;)r=Math.random()*i--|0,n=t[i],t[i]=t[r],t[r]=n;return t}(Xw.call(t))).length,o=[];i<e;)n=t[i],r&&tg(r,n)?++i:(r=rg(o=Jw(o,n)),i=0);return r}function Jw(t,n){var r,i;if(ng(n,t))return[n];for(r=0;r<t.length;++r)if(Qw(n,t[r])&&ng(ig(t[r],n),t))return[t[r],n];for(r=0;r<t.length-1;++r)for(i=r+1;i<t.length;++i)if(Qw(ig(t[r],t[i]),n)&&Qw(ig(t[r],n),t[i])&&Qw(ig(t[i],n),t[r])&&ng(eg(t[r],t[i],n),t))return[t[r],t[i],n];throw new Error}function Qw(t,n){var r=t.r-n.r,i=n.x-t.x,e=n.y-t.y;return r<0||r*r<i*i+e*e}function tg(t,n){var r=t.r-n.r+1e-6,i=n.x-t.x,e=n.y-t.y;return r>0&&r*r>i*i+e*e}function ng(t,n){for(var r=0;r<n.length;++r)if(!tg(t,n[r]))return!1;return!0}function rg(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return ig(t[0],t[1]);case 3:return eg(t[0],t[1],t[2])}}function ig(t,n){var r=t.x,i=t.y,e=t.r,o=n.x,u=n.y,a=n.r,s=o-r,c=u-i,f=a-e,h=Math.sqrt(s*s+c*c);return{x:(r+o+s/h*f)/2,y:(i+u+c/h*f)/2,r:(h+e+a)/2}}function eg(t,n,r){var i=t.x,e=t.y,o=t.r,u=n.x,a=n.y,s=n.r,c=r.x,f=r.y,h=r.r,l=i-u,d=i-c,v=e-a,p=e-f,b=s-o,m=h-o,y=i*i+e*e-o*o,w=y-u*u-a*a+s*s,g=y-c*c-f*f+h*h,M=d*v-l*p,L=(v*g-p*w)/(2*M)-i,A=(p*b-v*m)/M,N=(d*w-l*g)/(2*M)-e,E=(l*m-d*b)/M,k=A*A+E*E-1,x=2*(o+L*A+N*E),T=L*L+N*N-o*o,S=-(k?(x+Math.sqrt(x*x-4*k*T))/(2*k):T/x);return{x:i+L+A*S,y:e+N+E*S,r:S}}function og(t,n,r){var i=t.x,e=t.y,o=n.r+r.r,u=t.r+r.r,a=n.x-i,s=n.y-e,c=a*a+s*s;if(c){var f=.5+((u*=u)-(o*=o))/(2*c),h=Math.sqrt(Math.max(0,2*o*(u+c)-(u-=c)*u-o*o))/(2*c);r.x=i+f*a+h*s,r.y=e+f*s-h*a}else r.x=i+u,r.y=e}function ug(t,n){var r=n.x-t.x,i=n.y-t.y,e=t.r+n.r;return e*e-1e-6>r*r+i*i}function ag(t){var n=t._,r=t.next._,i=n.r+r.r,e=(n.x*r.r+r.x*n.r)/i,o=(n.y*r.r+r.y*n.r)/i;return e*e+o*o}function sg(t){this._=t,this.next=null,this.previous=null}function cg(t){if(!(e=t.length))return 0;var n,r,i,e,o,u,a,s,c,f,h;if((n=t[0]).x=0,n.y=0,!(e>1))return n.r;if(n.x=-(r=t[1]).r,r.x=n.r,r.y=0,!(e>2))return n.r+r.r;og(r,n,i=t[2]),n=new sg(n),r=new sg(r),i=new sg(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;t:for(a=3;a<e;++a){og(n._,r._,i=t[a]),i=new sg(i),s=r.next,c=n.previous,f=r._.r,h=n._.r;do{if(f<=h){if(ug(s._,i._)){n.next=r=s,r.previous=n,--a;continue t}f+=s._.r,s=s.next}else{if(ug(c._,i._)){(n=c).next=r,r.previous=n,--a;continue t}h+=c._.r,c=c.previous}}while(s!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=ag(n);(i=i.next)!==r;)(u=ag(i))<o&&(n=i,o=u);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=Kw(n),a=0;a<e;++a)(n=t[a]).x-=i.x,n.y-=i.y;return i.r}function fg(t){return null==t?null:hg(t)}function hg(t){if("function"!=typeof t)throw new Error;return t}function lg(){return 0}function dg(t){return function(){return t}}function vg(t){return Math.sqrt(t.value)}function pg(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function bg(t,n){return function(r){if(i=r.children){var i,e,o,u=i.length,a=t(r)*n||0;if(a)for(e=0;e<u;++e)i[e].r+=a;if(o=cg(i),a)for(e=0;e<u;++e)i[e].r-=a;r.r=o+a}}}function mg(t){return function(n){var r=n.parent;n.r*=t,r&&(n.x=r.x+t*n.x,n.y=r.y+t*n.y)}}function yg(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function wg(t,n,r,i,e){for(var o,u=t.children,a=-1,s=u.length,c=t.value&&(i-n)/t.value;++a<s;)(o=u[a]).y0=r,o.y1=e,o.x0=n,o.x1=n+=o.value*c}var gg={depth:-1},Mg={};function Lg(t){return t.id}function Ag(t){return t.parentId}function Ng(t,n){return t.parent===n.parent?1:2}function Eg(t){var n=t.children;return n?n[0]:t.t}function kg(t){var n=t.children;return n?n[n.length-1]:t.t}function xg(t,n,r){var i=r/(n.i-t.i);n.c-=i,n.s+=r,t.c+=i,n.z+=r,n.m+=r}function Tg(t,n,r){return t.a.parent===n.parent?t.a:r}function Sg(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function Og(t,n,r,i,e){for(var o,u=t.children,a=-1,s=u.length,c=t.value&&(e-r)/t.value;++a<s;)(o=u[a]).x0=n,o.x1=i,o.y0=r,o.y1=r+=o.value*c}Sg.prototype=Object.create(Zw.prototype);var Ig=(1+Math.sqrt(5))/2;function Rg(t,n,r,i,e,o){for(var u,a,s,c,f,h,l,d,v,p,b,m=[],y=n.children,w=0,g=0,M=y.length,L=n.value;w<M;){s=e-r,c=o-i;do{f=y[g++].value}while(!f&&g<M);for(h=l=f,b=f*f*(p=Math.max(c/s,s/c)/(L*t)),v=Math.max(l/b,b/h);g<M;++g){if(f+=a=y[g].value,a<h&&(h=a),a>l&&(l=a),b=f*f*p,(d=Math.max(l/b,b/h))>v){f-=a;break}v=d}m.push(u={value:f,dice:s<c,children:y.slice(w,g)}),u.dice?wg(u,r,i,e,L?i+=c*f/L:o):Og(u,r,i,L?r+=s*f/L:e,o),L-=f,w=g}return m}var Cg=function t(n){function r(t,r,i,e,o){Rg(n,t,r,i,e,o)}return r.ratio=function(n){return t((n=+n)>1?n:1)},r}(Ig);var Dg=function t(n){function r(t,r,i,e,o){if((u=t._squarify)&&u.ratio===n)for(var u,a,s,c,f,h=-1,l=u.length,d=t.value;++h<l;){for(s=(a=u[h]).children,c=a.value=0,f=s.length;c<f;++c)a.value+=s[c].value;a.dice?wg(a,r,i,e,i+=(o-i)*a.value/d):Og(a,r,i,r+=(e-r)*a.value/d,o),d-=a.value}else t._squarify=u=Rg(n,t,r,i,e,o),u.ratio=n}return r.ratio=function(n){return t((n=+n)>1?n:1)},r}(Ig);function Fg(t,n,r,i,e){var o=t*t,u=o*t;return((1-3*t+3*o-u)*n+(4-6*o+3*u)*r+(1+3*t+3*o-3*u)*i+u*e)/6}function Hg(t){var n=t.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,n-1):Math.floor(r*n),e=t[i],o=t[i+1];return Fg((r-i/n)*n,i>0?t[i-1]:2*e-o,e,o,i<n-1?t[i+2]:2*o-e)}}function Wg(t){var n=t.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*n);return Fg((r-i/n)*n,t[(i+n-1)%n],t[i%n],t[(i+1)%n],t[(i+2)%n])}}function jg(t){return function(){return t}}function _g(t,n){return function(r){return t+r*n}}function Ug(t,n){var r=n-t;return r?_g(t,r>180||r<-180?r-360*Math.round(r/360):r):jg(isNaN(t)?n:t)}function Pg(t){return 1==(t=+t)?Bg:function(n,r){return r-n?function(t,n,r){return t=Math.pow(t,r),n=Math.pow(n,r)-t,r=1/r,function(i){return Math.pow(t+i*n,r)}}(n,r,t):jg(isNaN(n)?r:n)}}function Bg(t,n){var r=n-t;return r?_g(t,r):jg(isNaN(t)?n:t)}var Yg=function t(n){var r=Pg(n);function i(t,n){var i=r((t=Re(t)).r,(n=Re(n)).r),e=r(t.g,n.g),o=r(t.b,n.b),u=Bg(t.opacity,n.opacity);return function(n){return t.r=i(n),t.g=e(n),t.b=o(n),t.opacity=u(n),t+""}}return i.gamma=t,i}(1);function zg(t){return function(n){var r,i,e=n.length,o=new Array(e),u=new Array(e),a=new Array(e);for(r=0;r<e;++r)i=Re(n[r]),o[r]=i.r||0,u[r]=i.g||0,a[r]=i.b||0;return o=t(o),u=t(u),a=t(a),i.opacity=1,function(t){return i.r=o(t),i.g=u(t),i.b=a(t),i+""}}}var Vg=zg(Hg),Gg=zg(Wg);function qg(t,n){var r,i=n?n.length:0,e=t?Math.min(i,t.length):0,o=new Array(e),u=new Array(i);for(r=0;r<e;++r)o[r]=tM(t[r],n[r]);for(;r<i;++r)u[r]=n[r];return function(t){for(r=0;r<e;++r)u[r]=o[r](t);return u}}function $g(t,n){var r=new Date;return n-=t=+t,function(i){return r.setTime(t+n*i),r}}function Zg(t,n){return n-=t=+t,function(r){return t+n*r}}function Xg(t,n){var r,i={},e={};for(r in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)r in t?i[r]=tM(t[r],n[r]):e[r]=n[r];return function(t){for(r in i)e[r]=i[r](t);return e}}var Kg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jg=new RegExp(Kg.source,"g");function Qg(t,n){var r,i,e,o=Kg.lastIndex=Jg.lastIndex=0,u=-1,a=[],s=[];for(t+="",n+="";(r=Kg.exec(t))&&(i=Jg.exec(n));)(e=i.index)>o&&(e=n.slice(o,e),a[u]?a[u]+=e:a[++u]=e),(r=r[0])===(i=i[0])?a[u]?a[u]+=i:a[++u]=i:(a[++u]=null,s.push({i:u,x:Zg(r,i)})),o=Jg.lastIndex;return o<n.length&&(e=n.slice(o),a[u]?a[u]+=e:a[++u]=e),a.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var r,i=0;i<n;++i)a[(r=s[i]).i]=r.x(t);return a.join("")})}function tM(t,n){var r,i=typeof n;return null==n||"boolean"===i?jg(n):("number"===i?Zg:"string"===i?(r=Te(n))?(n=r,Yg):Qg:n instanceof Te?Yg:n instanceof Date?$g:Array.isArray(n)?qg:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Xg:Zg)(t,n)}var nM,rM,iM,eM,oM=180/Math.PI,uM={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function aM(t,n,r,i,e,o){var u,a,s;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(s=t*r+n*i)&&(r-=t*s,i-=n*s),(a=Math.sqrt(r*r+i*i))&&(r/=a,i/=a,s/=a),t*i<n*r&&(t=-t,n=-n,s=-s,u=-u),{translateX:e,translateY:o,rotate:Math.atan2(n,t)*oM,skewX:Math.atan(s)*oM,scaleX:u,scaleY:a}}function sM(t,n,r,i){function e(t){return t.length?t.pop()+" ":""}return function(o,u){var a=[],s=[];return o=t(o),u=t(u),function(t,i,e,o,u,a){if(t!==e||i!==o){var s=u.push("translate(",null,n,null,r);a.push({i:s-4,x:Zg(t,e)},{i:s-2,x:Zg(i,o)})}else(e||o)&&u.push("translate("+e+n+o+r)}(o.translateX,o.translateY,u.translateX,u.translateY,a,s),function(t,n,r,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:r.push(e(r)+"rotate(",null,i)-2,x:Zg(t,n)})):n&&r.push(e(r)+"rotate("+n+i)}(o.rotate,u.rotate,a,s),function(t,n,r,o){t!==n?o.push({i:r.push(e(r)+"skewX(",null,i)-2,x:Zg(t,n)}):n&&r.push(e(r)+"skewX("+n+i)}(o.skewX,u.skewX,a,s),function(t,n,r,i,o,u){if(t!==r||n!==i){var a=o.push(e(o)+"scale(",null,",",null,")");u.push({i:a-4,x:Zg(t,r)},{i:a-2,x:Zg(n,i)})}else 1===r&&1===i||o.push(e(o)+"scale("+r+","+i+")")}(o.scaleX,o.scaleY,u.scaleX,u.scaleY,a,s),o=u=null,function(t){for(var n,r=-1,i=s.length;++r<i;)a[(n=s[r]).i]=n.x(t);return a.join("")}}}var cM=sM((function(t){return"none"===t?uM:(nM||(nM=document.createElement("DIV"),rM=document.documentElement,iM=document.defaultView),nM.style.transform=t,t=iM.getComputedStyle(rM.appendChild(nM),null).getPropertyValue("transform"),rM.removeChild(nM),aM(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),fM=sM((function(t){return null==t?uM:(eM||(eM=document.createElementNS("http://www.w3.org/2000/svg","g")),eM.setAttribute("transform",t),(t=eM.transform.baseVal.consolidate())?aM((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):uM)}),", ",")",")"),hM=Math.SQRT2;function lM(t){return((t=Math.exp(t))+1/t)/2}function dM(t){return function(n,r){var i=t((n=Pe(n)).h,(r=Pe(r)).h),e=Bg(n.s,r.s),o=Bg(n.l,r.l),u=Bg(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=e(t),n.l=o(t),n.opacity=u(t),n+""}}}var vM=dM(Ug),pM=dM(Bg);function bM(t){return function(n,r){var i=t((n=ao(n)).h,(r=ao(r)).h),e=Bg(n.c,r.c),o=Bg(n.l,r.l),u=Bg(n.opacity,r.opacity);return function(t){return n.h=i(t),n.c=e(t),n.l=o(t),n.opacity=u(t),n+""}}}var mM=bM(Ug),yM=bM(Bg);function wM(t){return function n(r){function i(n,i){var e=t((n=go(n)).h,(i=go(i)).h),o=Bg(n.s,i.s),u=Bg(n.l,i.l),a=Bg(n.opacity,i.opacity);return function(t){return n.h=e(t),n.s=o(t),n.l=u(Math.pow(t,r)),n.opacity=a(t),n+""}}return r=+r,i.gamma=n,i}(1)}var gM=wM(Ug),MM=wM(Bg);var LM=Math.PI,AM=2*LM,NM=1e-6,EM=AM-NM;function kM(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function xM(){return new kM}function TM(t,n,r){return(n[0]-t[0])*(r[1]-t[1])-(n[1]-t[1])*(r[0]-t[0])}function SM(t,n){return t[0]-n[0]||t[1]-n[1]}function OM(t){for(var n=t.length,r=[0,1],i=2,e=2;e<n;++e){for(;i>1&&TM(t[r[i-2]],t[r[i-1]],t[e])<=0;)--i;r[i++]=e}return r.slice(0,i)}function IM(t,n,r,i){if(isNaN(n)||isNaN(r))return t;var e,o,u,a,s,c,f,h,l,d=t._root,v={data:i},p=t._x0,b=t._y0,m=t._x1,y=t._y1;if(!d)return t._root=v,t;for(;d.length;)if((c=n>=(o=(p+m)/2))?p=o:m=o,(f=r>=(u=(b+y)/2))?b=u:y=u,e=d,!(d=d[h=f<<1|c]))return e[h]=v,t;if(a=+t._x.call(null,d.data),s=+t._y.call(null,d.data),n===a&&r===s)return v.next=d,e?e[h]=v:t._root=v,t;do{e=e?e[h]=new Array(4):t._root=new Array(4),(c=n>=(o=(p+m)/2))?p=o:m=o,(f=r>=(u=(b+y)/2))?b=u:y=u}while((h=f<<1|c)==(l=(s>=u)<<1|a>=o));return e[l]=d,e[h]=v,t}function RM(t,n,r,i,e){this.node=t,this.x0=n,this.y0=r,this.x1=i,this.y1=e}function CM(t){return t[0]}function DM(t){return t[1]}function FM(t,n,r){var i=new HM(null==n?CM:n,null==r?DM:r,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function HM(t,n,r,i,e,o){this._x=t,this._y=n,this._x0=r,this._y0=i,this._x1=e,this._y1=o,this._root=void 0}function WM(t){for(var n={data:t.data},r=n;t=t.next;)r=r.next={data:t.data};return n}kM.prototype=xM.prototype={constructor:kM,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,r,i){this._+="Q"+ +t+","+ +n+","+(this._x1=+r)+","+(this._y1=+i)},bezierCurveTo:function(t,n,r,i,e,o){this._+="C"+ +t+","+ +n+","+ +r+","+ +i+","+(this._x1=+e)+","+(this._y1=+o)},arcTo:function(t,n,r,i,e){var o=this._x1,u=this._y1,a=(r=+r)-(t=+t),s=(i=+i)-(n=+n),c=o-t,f=u-n,h=c*c+f*f;if((e=+e)<0)throw new Error("negative radius: "+e);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(h>NM)if(Math.abs(f*a-s*c)>NM&&e){var l=r-o,d=i-u,v=a*a+s*s,p=l*l+d*d,b=Math.sqrt(v),m=Math.sqrt(h),y=e*Math.tan((LM-Math.acos((v+h-p)/(2*b*m)))/2),w=y/m,g=y/b;Math.abs(w-1)>NM&&(this._+="L"+(t+w*c)+","+(n+w*f)),this._+="A"+e+","+e+",0,0,"+ +(f*l>c*d)+","+(this._x1=t+g*a)+","+(this._y1=n+g*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n)},arc:function(t,n,r,i,e,o){t=+t,n=+n;var u=(r=+r)*Math.cos(i),a=r*Math.sin(i),s=t+u,c=n+a,f=1^o,h=o?i-e:e-i;if(r<0)throw new Error("negative radius: "+r);null===this._x1?this._+="M"+s+","+c:(Math.abs(this._x1-s)>NM||Math.abs(this._y1-c)>NM)&&(this._+="L"+s+","+c),r&&(h<0&&(h=h%AM+AM),h>EM?this._+="A"+r+","+r+",0,1,"+f+","+(t-u)+","+(n-a)+"A"+r+","+r+",0,1,"+f+","+(this._x1=s)+","+(this._y1=c):h>NM&&(this._+="A"+r+","+r+",0,"+ +(h>=LM)+","+f+","+(this._x1=t+r*Math.cos(e))+","+(this._y1=n+r*Math.sin(e))))},rect:function(t,n,r,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +r+"v"+ +i+"h"+-r+"Z"},toString:function(){return this._}};var jM=FM.prototype=HM.prototype;jM.copy=function(){var t,n,r=new HM(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return r;if(!i.length)return r._root=WM(i),r;for(t=[{source:i,target:r._root=new Array(4)}];i=t.pop();)for(var e=0;e<4;++e)(n=i.source[e])&&(n.length?t.push({source:n,target:i.target[e]=new Array(4)}):i.target[e]=WM(n));return r},jM.add=function(t){var n=+this._x.call(null,t),r=+this._y.call(null,t);return IM(this.cover(n,r),n,r,t)},jM.addAll=function(t){var n,r,i,e,o=t.length,u=new Array(o),a=new Array(o),s=1/0,c=1/0,f=-1/0,h=-1/0;for(r=0;r<o;++r)isNaN(i=+this._x.call(null,n=t[r]))||isNaN(e=+this._y.call(null,n))||(u[r]=i,a[r]=e,i<s&&(s=i),i>f&&(f=i),e<c&&(c=e),e>h&&(h=e));for(f<s&&(s=this._x0,f=this._x1),h<c&&(c=this._y0,h=this._y1),this.cover(s,c).cover(f,h),r=0;r<o;++r)IM(this,u[r],a[r],t[r]);return this},jM.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var r=this._x0,i=this._y0,e=this._x1,o=this._y1;if(isNaN(r))e=(r=Math.floor(t))+1,o=(i=Math.floor(n))+1;else{if(!(r>t||t>e||i>n||n>o))return this;var u,a,s=e-r,c=this._root;switch(a=(n<(i+o)/2)<<1|t<(r+e)/2){case 0:do{(u=new Array(4))[a]=c,c=u}while(o=i+(s*=2),t>(e=r+s)||n>o);break;case 1:do{(u=new Array(4))[a]=c,c=u}while(o=i+(s*=2),(r=e-s)>t||n>o);break;case 2:do{(u=new Array(4))[a]=c,c=u}while(i=o-(s*=2),t>(e=r+s)||i>n);break;case 3:do{(u=new Array(4))[a]=c,c=u}while(i=o-(s*=2),(r=e-s)>t||i>n)}this._root&&this._root.length&&(this._root=c)}return this._x0=r,this._y0=i,this._x1=e,this._y1=o,this},jM.data=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},jM.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},jM.find=function(t,n,r){var i,e,o,u,a,s,c,f=this._x0,h=this._y0,l=this._x1,d=this._y1,v=[],p=this._root;for(p&&v.push(new RM(p,f,h,l,d)),null==r?r=1/0:(f=t-r,h=n-r,l=t+r,d=n+r,r*=r);s=v.pop();)if(!(!(p=s.node)||(e=s.x0)>l||(o=s.y0)>d||(u=s.x1)<f||(a=s.y1)<h))if(p.length){var b=(e+u)/2,m=(o+a)/2;v.push(new RM(p[3],b,m,u,a),new RM(p[2],e,m,b,a),new RM(p[1],b,o,u,m),new RM(p[0],e,o,b,m)),(c=(n>=m)<<1|t>=b)&&(s=v[v.length-1],v[v.length-1]=v[v.length-1-c],v[v.length-1-c]=s)}else{var y=t-+this._x.call(null,p.data),w=n-+this._y.call(null,p.data),g=y*y+w*w;if(g<r){var M=Math.sqrt(r=g);f=t-M,h=n-M,l=t+M,d=n+M,i=p.data}}return i},jM.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(u=+this._y.call(null,t)))return this;var n,r,i,e,o,u,a,s,c,f,h,l,d=this._root,v=this._x0,p=this._y0,b=this._x1,m=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(a=(v+b)/2))?v=a:b=a,(f=u>=(s=(p+m)/2))?p=s:m=s,n=d,!(d=d[h=f<<1|c]))return this;if(!d.length)break;(n[h+1&3]||n[h+2&3]||n[h+3&3])&&(r=n,l=h)}for(;d.data!==t;)if(i=d,!(d=d.next))return this;return(e=d.next)&&delete d.next,i?(e?i.next=e:delete i.next,this):n?(e?n[h]=e:delete n[h],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(r?r[l]=d:this._root=d),this):(this._root=e,this)},jM.removeAll=function(t){for(var n=0,r=t.length;n<r;++n)this.remove(t[n]);return this},jM.root=function(){return this._root},jM.size=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},jM.visit=function(t){var n,r,i,e,o,u,a=[],s=this._root;for(s&&a.push(new RM(s,this._x0,this._y0,this._x1,this._y1));n=a.pop();)if(!t(s=n.node,i=n.x0,e=n.y0,o=n.x1,u=n.y1)&&s.length){var c=(i+o)/2,f=(e+u)/2;(r=s[3])&&a.push(new RM(r,c,f,o,u)),(r=s[2])&&a.push(new RM(r,i,f,c,u)),(r=s[1])&&a.push(new RM(r,c,e,o,f)),(r=s[0])&&a.push(new RM(r,i,e,c,f))}return this},jM.visitAfter=function(t){var n,r=[],i=[];for(this._root&&r.push(new RM(this._root,this._x0,this._y0,this._x1,this._y1));n=r.pop();){var e=n.node;if(e.length){var o,u=n.x0,a=n.y0,s=n.x1,c=n.y1,f=(u+s)/2,h=(a+c)/2;(o=e[0])&&r.push(new RM(o,u,a,f,h)),(o=e[1])&&r.push(new RM(o,f,a,s,h)),(o=e[2])&&r.push(new RM(o,u,h,f,c)),(o=e[3])&&r.push(new RM(o,f,h,s,c))}i.push(n)}for(;n=i.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},jM.x=function(t){return arguments.length?(this._x=t,this):this._x},jM.y=function(t){return arguments.length?(this._y=t,this):this._y};var _M=[].slice,UM={};function PM(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function BM(t){if(!t._start)try{!function(t){for(;t._start=t._waiting&&t._active<t._size;){var n=t._ended+t._active,r=t._tasks[n],i=r.length-1,e=r[i];r[i]=YM(t,n),--t._waiting,++t._active,r=e.apply(null,r),t._tasks[n]&&(t._tasks[n]=r||UM)}}(t)}catch(n){if(t._tasks[t._ended+t._active-1])zM(t,n);else if(!t._data)throw n}}function YM(t,n){return function(r,i){t._tasks[n]&&(--t._active,++t._ended,t._tasks[n]=null,null==t._error&&(null!=r?zM(t,r):(t._data[n]=i,t._waiting?BM(t):VM(t))))}}function zM(t,n){var r,i=t._tasks.length;for(t._error=n,t._data=void 0,t._waiting=NaN;--i>=0;)if((r=t._tasks[i])&&(t._tasks[i]=null,r.abort))try{r.abort()}catch(n){}t._active=NaN,VM(t)}function VM(t){if(!t._active&&t._call){var n=t._data;t._data=void 0,t._call(t._error,n)}}function GM(t){if(null==t)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new PM(t)}function qM(){return Math.random()}PM.prototype=GM.prototype={constructor:PM,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var n=_M.call(arguments,1);return n.push(t),++this._waiting,this._tasks.push(n),BM(this),this},abort:function(){return null==this._error&&zM(this,new Error("abort")),this},await:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(n,r){t.apply(null,[n].concat(r))},VM(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,VM(this),this}};var $M=function t(n){function r(t,r){return t=null==t?0:+t,r=null==r?1:+r,1===arguments.length?(r=t,t=0):r-=t,function(){return n()*r+t}}return r.source=t,r}(qM),ZM=function t(n){function r(t,r){var i,e;return t=null==t?0:+t,r=null==r?1:+r,function(){var o;if(null!=i)o=i,i=null;else do{i=2*n()-1,o=2*n()-1,e=i*i+o*o}while(!e||e>1);return t+r*o*Math.sqrt(-2*Math.log(e)/e)}}return r.source=t,r}(qM),XM=function t(n){function r(){var t=ZM.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return r.source=t,r}(qM),KM=function t(n){function r(t){return function(){for(var r=0,i=0;i<t;++i)r+=n();return r}}return r.source=t,r}(qM),JM=function t(n){function r(t){var r=KM.source(n)(t);return function(){return r()/t}}return r.source=t,r}(qM),QM=function t(n){function r(t){return function(){return-Math.log(1-n())/t}}return r.source=t,r}(qM);function tL(t,n){var r,i,e,o,u=Xa("beforesend","progress","load","error"),a=ee(),s=new XMLHttpRequest,c=null,f=null,h=0;function l(t){var n,i=s.status;if(!i&&function(t){var n=t.responseType;return n&&"text"!==n?t.response:t.responseText}(s)||i>=200&&i<300||304===i){if(e)try{n=e.call(r,s)}catch(o){return void u.call("error",r,o)}else n=s;u.call("load",r,n)}else u.call("error",r,t)}if("undefined"!=typeof XDomainRequest&&!("withCredentials"in s)&&/^(http(s)?:)?\/\//.test(t)&&(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=s.ontimeout=l:s.onreadystatechange=function(t){s.readyState>3&&l(t)},s.onprogress=function(t){u.call("progress",r,t)},r={header:function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?a.get(t):(null==n?a.remove(t):a.set(t,n+""),r)},mimeType:function(t){return arguments.length?(i=null==t?null:t+"",r):i},responseType:function(t){return arguments.length?(o=t,r):o},timeout:function(t){return arguments.length?(h=+t,r):h},user:function(t){return arguments.length<1?c:(c=null==t?null:t+"",r)},password:function(t){return arguments.length<1?f:(f=null==t?null:t+"",r)},response:function(t){return e=t,r},get:function(t,n){return r.send("GET",t,n)},post:function(t,n){return r.send("POST",t,n)},send:function(n,e,l){return s.open(n,t,!0,c,f),null==i||a.has("accept")||a.set("accept",i+",*/*"),s.setRequestHeader&&a.each((function(t,n){s.setRequestHeader(n,t)})),null!=i&&s.overrideMimeType&&s.overrideMimeType(i),null!=o&&(s.responseType=o),h>0&&(s.timeout=h),null==l&&"function"==typeof e&&(l=e,e=null),null!=l&&1===l.length&&(l=function(t){return function(n,r){t(null==n?r:null)}}(l)),null!=l&&r.on("error",l).on("load",(function(t){l(null,t)})),u.call("beforesend",r,s),s.send(null==e?null:e),r},abort:function(){return s.abort(),r},on:function(){var t=u.on.apply(u,arguments);return t===u?r:t}},null!=n){if("function"!=typeof n)throw new Error("invalid callback: "+n);return r.get(n)}return r}function nL(t,n){return function(r,i){var e=tL(r).mimeType(t).response(n);if(null!=i){if("function"!=typeof i)throw new Error("invalid callback: "+i);return e.get(i)}return e}}var rL=nL("text/html",(function(t){return document.createRange().createContextualFragment(t.responseText)})),iL=nL("application/json",(function(t){return JSON.parse(t.responseText)})),eL=nL("text/plain",(function(t){return t.responseText})),oL=nL("application/xml",(function(t){var n=t.responseXML;if(!n)throw new Error("parse error");return n})),uL={},aL={};function sL(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function cL(t){var n=Object.create(null),r=[];return t.forEach((function(t){for(var i in t)i in n||r.push(n[i]=i)})),r}function fL(t,n){var r=t+"",i=r.length;return i<n?new Array(n-i+1).join(0)+r:r}function hL(t){var n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),e=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+fL(-t,6):t>9999?"+"+fL(t,6):fL(t,4)}(t.getUTCFullYear())+"-"+fL(t.getUTCMonth()+1,2)+"-"+fL(t.getUTCDate(),2)+(e?"T"+fL(n,2)+":"+fL(r,2)+":"+fL(i,2)+"."+fL(e,3)+"Z":i?"T"+fL(n,2)+":"+fL(r,2)+":"+fL(i,2)+"Z":r||n?"T"+fL(n,2)+":"+fL(r,2)+"Z":"")}function lL(t){var n=new RegExp('["'+t+"\n\r]"),r=t.charCodeAt(0);function i(t,n){var i,e=[],o=t.length,u=0,a=0,s=o<=0,c=!1;function f(){if(s)return aL;if(c)return c=!1,uL;var n,i,e=u;if(34===t.charCodeAt(e)){for(;u++<o&&34!==t.charCodeAt(u)||34===t.charCodeAt(++u););return(n=u)>=o?s=!0:10===(i=t.charCodeAt(u++))?c=!0:13===i&&(c=!0,10===t.charCodeAt(u)&&++u),t.slice(e+1,n-1).replace(/""/g,'"')}for(;u<o;){if(10===(i=t.charCodeAt(n=u++)))c=!0;else if(13===i)c=!0,10===t.charCodeAt(u)&&++u;else if(i!==r)continue;return t.slice(e,n)}return s=!0,t.slice(e,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(i=f())!==aL;){for(var h=[];i!==uL&&i!==aL;)h.push(i),i=f();n&&null==(h=n(h,a++))||e.push(h)}return e}function e(n,r){return n.map((function(n){return r.map((function(t){return u(n[t])})).join(t)}))}function o(n){return n.map(u).join(t)}function u(t){return null==t?"":t instanceof Date?hL(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var r,e,o=i(t,(function(t,i){if(r)return r(t,i-1);e=t,r=n?function(t,n){var r=sL(t);return function(i,e){return n(r(i),e,t)}}(t,n):sL(t)}));return o.columns=e||[],o},parseRows:i,format:function(n,r){return null==r&&(r=cL(n)),[r.map(u).join(t)].concat(e(n,r)).join("\n")},formatBody:function(t,n){return null==n&&(n=cL(t)),e(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:u}}var dL=lL(",").parse,vL=lL("\t").parse;function pL(t,n){return function(r,i,e){arguments.length<3&&(e=i,i=null);var o=tL(r).mimeType(t);return o.row=function(t){return arguments.length?o.response(bL(n,i=t)):i},o.row(i),e?o.get(e):o}}function bL(t,n){return function(r){return t(r.responseText,n)}}new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();var mL=pL("text/csv",dL),yL=pL("text/tab-separated-values",vL);function wL(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function gL(t){return 1===t.length&&(t=function(t){return function(n,r){return wL(t(n),r)}}(t)),{left:function(n,r,i,e){for(null==i&&(i=0),null==e&&(e=n.length);i<e;){var o=i+e>>>1;t(n[o],r)<0?i=o+1:e=o}return i},right:function(n,r,i,e){for(null==i&&(i=0),null==e&&(e=n.length);i<e;){var o=i+e>>>1;t(n[o],r)>0?e=o:i=o+1}return i}}}var ML=gL(wL).right;function LL(t){return null===t?NaN:+t}var AL=Math.sqrt(50),NL=Math.sqrt(10),EL=Math.sqrt(2);function kL(t,n,r){var i,e,o,u,a=-1;if(r=+r,(t=+t)==(n=+n)&&r>0)return[t];if((i=n<t)&&(e=t,t=n,n=e),0===(u=xL(t,n,r))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),n=Math.floor(n/u),o=new Array(e=Math.ceil(n-t+1));++a<e;)o[a]=(t+a)*u;else for(t=Math.floor(t*u),n=Math.ceil(n*u),o=new Array(e=Math.ceil(t-n+1));++a<e;)o[a]=(t-a)/u;return i&&o.reverse(),o}function xL(t,n,r){var i=(n-t)/Math.max(0,r),e=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,e);return e>=0?(o>=AL?10:o>=NL?5:o>=EL?2:1)*Math.pow(10,e):-Math.pow(10,-e)/(o>=AL?10:o>=NL?5:o>=EL?2:1)}function TL(t,n,r){var i=Math.abs(n-t)/Math.max(0,r),e=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/e;return o>=AL?e*=10:o>=NL?e*=5:o>=EL&&(e*=2),n<t?-e:e}function SL(t,n,r){if(null==r&&(r=LL),i=t.length){if((n=+n)<=0||i<2)return+r(t[0],0,t);if(n>=1)return+r(t[i-1],i-1,t);var i,e=(i-1)*n,o=Math.floor(e),u=+r(t[o],o,t);return u+(+r(t[o+1],o+1,t)-u)*(e-o)}}var OL="$";function IL(){}function RL(t,n){var r=new IL;if(t instanceof IL)t.each((function(t,n){r.set(n,t)}));else if(Array.isArray(t)){var i,e=-1,o=t.length;if(null==n)for(;++e<o;)r.set(e,t[e]);else for(;++e<o;)r.set(n(i=t[e],e,t),i)}else if(t)for(var u in t)r.set(u,t[u]);return r}IL.prototype=RL.prototype={constructor:IL,has:function(t){return OL+t in this},get:function(t){return this[OL+t]},set:function(t,n){return this[OL+t]=n,this},remove:function(t){var n=OL+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===OL&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===OL&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===OL&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===OL&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===OL&&++t;return t},empty:function(){for(var t in this)if(t[0]===OL)return!1;return!0},each:function(t){for(var n in this)n[0]===OL&&t(this[n],n.slice(1),this)}};var CL=Array.prototype,DL=CL.map,FL=CL.slice,HL={name:"implicit"};function WL(t){var n=RL(),r=[],i=HL;function e(e){var o=e+"",u=n.get(o);if(!u){if(i!==HL)return i;n.set(o,u=r.push(e))}return t[(u-1)%t.length]}return t=null==t?[]:FL.call(t),e.domain=function(t){if(!arguments.length)return r.slice();r=[],n=RL();for(var i,o,u=-1,a=t.length;++u<a;)n.has(o=(i=t[u])+"")||n.set(o,r.push(i));return e},e.range=function(n){return arguments.length?(t=FL.call(n),e):t.slice()},e.unknown=function(t){return arguments.length?(i=t,e):i},e.copy=function(){return WL().domain(r).range(t).unknown(i)},e}function jL(){var t,n,r=WL().unknown(void 0),i=r.domain,e=r.range,o=[0,1],u=!1,a=0,s=0,c=.5;function f(){var r=i().length,f=o[1]<o[0],h=o[f-0],l=o[1-f];t=(l-h)/Math.max(1,r-a+2*s),u&&(t=Math.floor(t)),h+=(l-h-t*(r-a))*c,n=t*(1-a),u&&(h=Math.round(h),n=Math.round(n));var d=function(t,n,r){t=+t,n=+n,r=(e=arguments.length)<2?(n=t,t=0,1):e<3?1:+r;for(var i=-1,e=0|Math.max(0,Math.ceil((n-t)/r)),o=new Array(e);++i<e;)o[i]=t+i*r;return o}(r).map((function(n){return h+t*n}));return e(f?d.reverse():d)}return delete r.unknown,r.domain=function(t){return arguments.length?(i(t),f()):i()},r.range=function(t){return arguments.length?(o=[+t[0],+t[1]],f()):o.slice()},r.rangeRound=function(t){return o=[+t[0],+t[1]],u=!0,f()},r.bandwidth=function(){return n},r.step=function(){return t},r.round=function(t){return arguments.length?(u=!!t,f()):u},r.padding=function(t){return arguments.length?(a=s=Math.max(0,Math.min(1,t)),f()):a},r.paddingInner=function(t){return arguments.length?(a=Math.max(0,Math.min(1,t)),f()):a},r.paddingOuter=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),f()):s},r.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),f()):c},r.copy=function(){return jL().domain(i()).range(o).round(u).paddingInner(a).paddingOuter(s).align(c)},f()}function _L(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return _L(n())},t}function UL(t){return function(){return t}}function PL(t,n){return function(r){return t+r*n}}function BL(t){return 1==(t=+t)?YL:function(n,r){return r-n?function(t,n,r){return t=Math.pow(t,r),n=Math.pow(n,r)-t,r=1/r,function(i){return Math.pow(t+i*n,r)}}(n,r,t):UL(isNaN(n)?r:n)}}function YL(t,n){var r=n-t;return r?PL(t,r):UL(isNaN(t)?n:t)}var zL=function t(n){var r=BL(n);function i(t,n){var i=r((t=Re(t)).r,(n=Re(n)).r),e=r(t.g,n.g),o=r(t.b,n.b),u=YL(t.opacity,n.opacity);return function(n){return t.r=i(n),t.g=e(n),t.b=o(n),t.opacity=u(n),t+""}}return i.gamma=t,i}(1);function VL(t,n){n||(n=[]);var r,i=t?Math.min(n.length,t.length):0,e=n.slice();return function(o){for(r=0;r<i;++r)e[r]=t[r]*(1-o)+n[r]*o;return e}}function GL(t,n){var r,i=n?n.length:0,e=t?Math.min(i,t.length):0,o=new Array(e),u=new Array(i);for(r=0;r<e;++r)o[r]=QL(t[r],n[r]);for(;r<i;++r)u[r]=n[r];return function(t){for(r=0;r<e;++r)u[r]=o[r](t);return u}}function qL(t,n){var r=new Date;return t=+t,n=+n,function(i){return r.setTime(t*(1-i)+n*i),r}}function $L(t,n){return t=+t,n=+n,function(r){return t*(1-r)+n*r}}function ZL(t,n){var r,i={},e={};for(r in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)r in t?i[r]=QL(t[r],n[r]):e[r]=n[r];return function(t){for(r in i)e[r]=i[r](t);return e}}var XL=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,KL=new RegExp(XL.source,"g");function JL(t,n){var r,i,e,o=XL.lastIndex=KL.lastIndex=0,u=-1,a=[],s=[];for(t+="",n+="";(r=XL.exec(t))&&(i=KL.exec(n));)(e=i.index)>o&&(e=n.slice(o,e),a[u]?a[u]+=e:a[++u]=e),(r=r[0])===(i=i[0])?a[u]?a[u]+=i:a[++u]=i:(a[++u]=null,s.push({i:u,x:$L(r,i)})),o=KL.lastIndex;return o<n.length&&(e=n.slice(o),a[u]?a[u]+=e:a[++u]=e),a.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var r,i=0;i<n;++i)a[(r=s[i]).i]=r.x(t);return a.join("")})}function QL(t,n){var r,i=typeof n;return null==n||"boolean"===i?UL(n):("number"===i?$L:"string"===i?(r=Te(n))?(n=r,zL):JL:n instanceof Te?zL:n instanceof Date?qL:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(n)?VL:Array.isArray(n)?GL:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?ZL:$L)(t,n)}function tA(t,n){return t=+t,n=+n,function(r){return Math.round(t*(1-r)+n*r)}}function nA(t){return function n(r){function i(n,i){var e=t((n=go(n)).h,(i=go(i)).h),o=YL(n.s,i.s),u=YL(n.l,i.l),a=YL(n.opacity,i.opacity);return function(t){return n.h=e(t),n.s=o(t),n.l=u(Math.pow(t,r)),n.opacity=a(t),n+""}}return r=+r,i.gamma=n,i}(1)}nA((function(t,n){var r=n-t;return r?PL(t,r>180||r<-180?r-360*Math.round(r/360):r):UL(isNaN(t)?n:t)}));var rA=nA(YL);function iA(t){return function(){return t}}function eA(t){return+t}var oA=[0,1];function uA(t,n){return(n-=t=+t)?function(r){return(r-t)/n}:iA(n)}function aA(t,n,r,i){var e=t[0],o=t[1],u=n[0],a=n[1];return o<e?(e=r(o,e),u=i(a,u)):(e=r(e,o),u=i(u,a)),function(t){return u(e(t))}}function sA(t,n,r,i){var e=Math.min(t.length,n.length)-1,o=new Array(e),u=new Array(e),a=-1;for(t[e]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<e;)o[a]=r(t[a],t[a+1]),u[a]=i(n[a],n[a+1]);return function(n){var r=ML(t,n,1,e)-1;return u[r](o[r](n))}}function cA(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function fA(t,n){var r,i,e,o=oA,u=oA,a=QL,s=!1;function c(){return r=Math.min(o.length,u.length)>2?sA:aA,i=e=null,f}function f(n){return(i||(i=r(o,u,s?function(t){return function(n,r){var i=t(n=+n,r=+r);return function(t){return t<=n?0:t>=r?1:i(t)}}}(t):t,a)))(+n)}return f.invert=function(t){return(e||(e=r(u,o,uA,s?function(t){return function(n,r){var i=t(n=+n,r=+r);return function(t){return t<=0?n:t>=1?r:i(t)}}}(n):n)))(+t)},f.domain=function(t){return arguments.length?(o=DL.call(t,eA),c()):o.slice()},f.range=function(t){return arguments.length?(u=FL.call(t),c()):u.slice()},f.rangeRound=function(t){return u=FL.call(t),a=tA,c()},f.clamp=function(t){return arguments.length?(s=!!t,c()):s},f.interpolate=function(t){return arguments.length?(a=t,c()):a},c()}function hA(t,n){if((r=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var r,i=t.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+t.slice(r+1)]}function lA(t){return(t=hA(Math.abs(t)))?t[1]:NaN}var dA,vA=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pA(t){if(!(n=vA.exec(t)))throw new Error("invalid format: "+t);var n;return new bA({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function bA(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function mA(t,n){var r=hA(t,n);if(!r)return t+"";var i=r[0],e=r[1];return e<0?"0."+new Array(-e).join("0")+i:i.length>e+1?i.slice(0,e+1)+"."+i.slice(e+1):i+new Array(e-i.length+2).join("0")}pA.prototype=bA.prototype,bA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var yA={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return mA(100*t,n)},r:mA,s:function(t,n){var r=hA(t,n);if(!r)return t+"";var i=r[0],e=r[1],o=e-(dA=3*Math.max(-8,Math.min(8,Math.floor(e/3))))+1,u=i.length;return o===u?i:o>u?i+new Array(o-u+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+hA(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function wA(t){return t}var gA,MA,LA,AA=Array.prototype.map,NA=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function EA(t){var n,r,i=void 0===t.grouping||void 0===t.thousands?wA:(n=AA.call(t.grouping,Number),r=t.thousands+"",function(t,i){for(var e=t.length,o=[],u=0,a=n[0],s=0;e>0&&a>0&&(s+a+1>i&&(a=Math.max(1,i-s)),o.push(t.substring(e-=a,e+a)),!((s+=a+1)>i));)a=n[u=(u+1)%n.length];return o.reverse().join(r)}),e=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",u=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?wA:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(AA.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",f=void 0===t.nan?"NaN":t.nan+"";function h(t){var n=(t=pA(t)).fill,r=t.align,h=t.sign,l=t.symbol,d=t.zero,v=t.width,p=t.comma,b=t.precision,m=t.trim,y=t.type;"n"===y?(p=!0,y="g"):yA[y]||(void 0===b&&(b=12),m=!0,y="g"),(d||"0"===n&&"="===r)&&(d=!0,n="0",r="=");var w="$"===l?e:"#"===l&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",g="$"===l?o:/[%p]/.test(y)?s:"",M=yA[y],L=/[defgprs%]/.test(y);function A(t){var e,o,s,l=w,A=g;if("c"===y)A=M(t)+A,t="";else{var N=(t=+t)<0||1/t<0;if(t=isNaN(t)?f:M(Math.abs(t),b),m&&(t=function(t){t:for(var n,r=t.length,i=1,e=-1;i<r;++i)switch(t[i]){case".":e=n=i;break;case"0":0===e&&(e=i),n=i;break;default:if(!+t[i])break t;e>0&&(e=0)}return e>0?t.slice(0,e)+t.slice(n+1):t}(t)),N&&0==+t&&"+"!==h&&(N=!1),l=(N?"("===h?h:c:"-"===h||"("===h?"":h)+l,A=("s"===y?NA[8+dA/3]:"")+A+(N&&"("===h?")":""),L)for(e=-1,o=t.length;++e<o;)if(48>(s=t.charCodeAt(e))||s>57){A=(46===s?u+t.slice(e+1):t.slice(e))+A,t=t.slice(0,e);break}}p&&!d&&(t=i(t,1/0));var E=l.length+t.length+A.length,k=E<v?new Array(v-E+1).join(n):"";switch(p&&d&&(t=i(k+t,k.length?v-A.length:1/0),k=""),r){case"<":t=l+t+A+k;break;case"=":t=l+k+t+A;break;case"^":t=k.slice(0,E=k.length>>1)+l+t+A+k.slice(E);break;default:t=k+l+t+A}return a(t)}return b=void 0===b?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),A.toString=function(){return t+""},A}return{format:h,formatPrefix:function(t,n){var r=h(((t=pA(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(lA(n)/3))),e=Math.pow(10,-i),o=NA[8+i/3];return function(t){return r(e*t)+o}}}}function kA(t,n,r){var i,e=t[0],o=t[t.length-1],u=TL(e,o,null==n?10:n);switch((r=pA(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(o));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(lA(n)/3)))-lA(Math.abs(t)))}(u,a))||(r.precision=i),LA(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,lA(n)-lA(t))+1}(u,Math.max(Math.abs(e),Math.abs(o))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-lA(Math.abs(t)))}(u))||(r.precision=i-2*("%"===r.type))}return MA(r)}function xA(t){var n=t.domain;return t.ticks=function(t){var r=n();return kL(r[0],r[r.length-1],null==t?10:t)},t.tickFormat=function(t,r){return kA(n(),t,r)},t.nice=function(r){null==r&&(r=10);var i,e=n(),o=0,u=e.length-1,a=e[o],s=e[u];return s<a&&(i=a,a=s,s=i,i=o,o=u,u=i),(i=xL(a,s,r))>0?i=xL(a=Math.floor(a/i)*i,s=Math.ceil(s/i)*i,r):i<0&&(i=xL(a=Math.ceil(a*i)/i,s=Math.floor(s*i)/i,r)),i>0?(e[o]=Math.floor(a/i)*i,e[u]=Math.ceil(s/i)*i,n(e)):i<0&&(e[o]=Math.ceil(a*i)/i,e[u]=Math.floor(s*i)/i,n(e)),t},t}function TA(){var t=fA(uA,$L);return t.copy=function(){return cA(t,TA())},xA(t)}function SA(t,n){var r,i=0,e=(t=t.slice()).length-1,o=t[i],u=t[e];return u<o&&(r=i,i=e,e=r,r=o,o=u,u=r),t[i]=n.floor(o),t[e]=n.ceil(u),t}function OA(t,n){return(n=Math.log(n/t))?function(r){return Math.log(r/t)/n}:iA(n)}function IA(t,n){return t<0?function(r){return-Math.pow(-n,r)*Math.pow(-t,1-r)}:function(r){return Math.pow(n,r)*Math.pow(t,1-r)}}function RA(t){return isFinite(t)?+("1e"+t):t<0?0:t}function CA(t){return 10===t?RA:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}function DA(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}function FA(t){return function(n){return-t(-n)}}function HA(t,n){return t<0?-Math.pow(-t,n):Math.pow(t,n)}function WA(){var t=1,n=fA((function(n,r){return(r=HA(r,t)-(n=HA(n,t)))?function(i){return(HA(i,t)-n)/r}:iA(r)}),(function(n,r){return r=HA(r,t)-(n=HA(n,t)),function(i){return HA(n+r*i,1/t)}})),r=n.domain;return n.exponent=function(n){return arguments.length?(t=+n,r(r())):t},n.copy=function(){return cA(n,WA().exponent(t))},xA(n)}!function(t){gA=EA(t),MA=gA.format,LA=gA.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var jA=new Date,_A=new Date;function UA(t,n,r,i){function e(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return e.floor=function(n){return t(n=new Date(+n)),n},e.ceil=function(r){return t(r=new Date(r-1)),n(r,1),t(r),r},e.round=function(t){var n=e(t),r=e.ceil(t);return t-n<r-t?n:r},e.offset=function(t,r){return n(t=new Date(+t),null==r?1:Math.floor(r)),t},e.range=function(r,i,o){var u,a=[];if(r=e.ceil(r),o=null==o?1:Math.floor(o),!(r<i&&o>0))return a;do{a.push(u=new Date(+r)),n(r,o),t(r)}while(u<r&&r<i);return a},e.filter=function(r){return UA((function(n){if(n>=n)for(;t(n),!r(n);)n.setTime(n-1)}),(function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;n(t,-1),!r(t););else for(;--i>=0;)for(;n(t,1),!r(t););}))},r&&(e.count=function(n,i){return jA.setTime(+n),_A.setTime(+i),t(jA),t(_A),Math.floor(r(jA,_A))},e.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?e.filter(i?function(n){return i(n)%t==0}:function(n){return e.count(0,n)%t==0}):e:null}),e}var PA=UA((function(){}),(function(t,n){t.setTime(+t+n)}),(function(t,n){return n-t}));PA.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?UA((function(n){n.setTime(Math.floor(n/t)*t)}),(function(n,r){n.setTime(+n+r*t)}),(function(n,r){return(r-n)/t})):PA:null};var BA=1e3,YA=6e4,zA=36e5,VA=864e5,GA=6048e5,qA=UA((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,n){t.setTime(+t+n*BA)}),(function(t,n){return(n-t)/BA}),(function(t){return t.getUTCSeconds()})),$A=UA((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*BA)}),(function(t,n){t.setTime(+t+n*YA)}),(function(t,n){return(n-t)/YA}),(function(t){return t.getMinutes()})),ZA=UA((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*BA-t.getMinutes()*YA)}),(function(t,n){t.setTime(+t+n*zA)}),(function(t,n){return(n-t)/zA}),(function(t){return t.getHours()})),XA=UA((function(t){t.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+n)}),(function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*YA)/VA}),(function(t){return t.getDate()-1}));function KA(t){return UA((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*YA)/GA}))}var JA=KA(0),QA=KA(1);KA(2),KA(3);var tN=KA(4);KA(5),KA(6);var nN=UA((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),rN=UA((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));rN.every=function(t){return isFinite(t=Math.floor(t))&&t>0?UA((function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,r){n.setFullYear(n.getFullYear()+r*t)})):null};var iN=UA((function(t){t.setUTCSeconds(0,0)}),(function(t,n){t.setTime(+t+n*YA)}),(function(t,n){return(n-t)/YA}),(function(t){return t.getUTCMinutes()})),eN=UA((function(t){t.setUTCMinutes(0,0,0)}),(function(t,n){t.setTime(+t+n*zA)}),(function(t,n){return(n-t)/zA}),(function(t){return t.getUTCHours()})),oN=UA((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/VA}),(function(t){return t.getUTCDate()-1}));function uN(t){return UA((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/GA}))}var aN=uN(0),sN=uN(1);uN(2),uN(3);var cN=uN(4);uN(5),uN(6);var fN=UA((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCMonth(t.getUTCMonth()+n)}),(function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),hN=UA((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));function lN(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function dN(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function vN(t,n,r){return{y:t,m:n,d:r,H:0,M:0,S:0,L:0}}hN.every=function(t){return isFinite(t=Math.floor(t))&&t>0?UA((function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,r){n.setUTCFullYear(n.getUTCFullYear()+r*t)})):null};var pN,bN,mN,yN,wN={"-":"",_:" ",0:"0"},gN=/^\s*\d+/,MN=/^%/,LN=/[\\^$*+?|[\]().{}]/g;function AN(t,n,r){var i=t<0?"-":"",e=(i?-t:t)+"",o=e.length;return i+(o<r?new Array(r-o+1).join(n)+e:e)}function NN(t){return t.replace(LN,"\\$&")}function EN(t){return new RegExp("^(?:"+t.map(NN).join("|")+")","i")}function kN(t){for(var n={},r=-1,i=t.length;++r<i;)n[t[r].toLowerCase()]=r;return n}function xN(t,n,r){var i=gN.exec(n.slice(r,r+1));return i?(t.w=+i[0],r+i[0].length):-1}function TN(t,n,r){var i=gN.exec(n.slice(r,r+1));return i?(t.u=+i[0],r+i[0].length):-1}function SN(t,n,r){var i=gN.exec(n.slice(r,r+2));return i?(t.U=+i[0],r+i[0].length):-1}function ON(t,n,r){var i=gN.exec(n.slice(r,r+2));return i?(t.V=+i[0],r+i[0].length):-1}function IN(t,n,r){var i=gN.exec(n.slice(r,r+2));return i?(t.W=+i[0],r+i[0].length):-1}function RN(t,n,r){var i=gN.exec(n.slice(r,r+4));return i?(t.y=+i[0],r+i[0].length):-1}function CN(t,n,r){var i=gN.exec(n.slice(r,r+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),r+i[0].length):-1}function DN(t,n,r){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(r,r+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),r+i[0].length):-1}function FN(t,n,r){var i=gN.exec(n.slice(r,r+1));return i?(t.q=3*i[0]-3,r+i[0].length):-1}function HN(t,n,r){var i=gN.exec(n.slice(r,r+2));return i?(t.m=i[0]-1,r+i[0].length):-1}function WN(t,n,r){var i=gN.exec(n.slice(r,r+2));return i?(t.d=+i[0],r+i[0].length):-1}function jN(t,n,r){var i=gN.exec(n.slice(r,r+3));return i?(t.m=0,t.d=+i[0],r+i[0].length):-1}function _N(t,n,r){var i=gN.exec(n.slice(r,r+2));return i?(t.H=+i[0],r+i[0].length):-1}function UN(t,n,r){var i=gN.exec(n.slice(r,r+2));return i?(t.M=+i[0],r+i[0].length):-1}function PN(t,n,r){var i=gN.exec(n.slice(r,r+2));return i?(t.S=+i[0],r+i[0].length):-1}function BN(t,n,r){var i=gN.exec(n.slice(r,r+3));return i?(t.L=+i[0],r+i[0].length):-1}function YN(t,n,r){var i=gN.exec(n.slice(r,r+6));return i?(t.L=Math.floor(i[0]/1e3),r+i[0].length):-1}function zN(t,n,r){var i=MN.exec(n.slice(r,r+1));return i?r+i[0].length:-1}function VN(t,n,r){var i=gN.exec(n.slice(r));return i?(t.Q=+i[0],r+i[0].length):-1}function GN(t,n,r){var i=gN.exec(n.slice(r));return i?(t.s=+i[0],r+i[0].length):-1}function qN(t,n){return AN(t.getDate(),n,2)}function $N(t,n){return AN(t.getHours(),n,2)}function ZN(t,n){return AN(t.getHours()%12||12,n,2)}function XN(t,n){return AN(1+XA.count(rN(t),t),n,3)}function KN(t,n){return AN(t.getMilliseconds(),n,3)}function JN(t,n){return KN(t,n)+"000"}function QN(t,n){return AN(t.getMonth()+1,n,2)}function tE(t,n){return AN(t.getMinutes(),n,2)}function nE(t,n){return AN(t.getSeconds(),n,2)}function rE(t){var n=t.getDay();return 0===n?7:n}function iE(t,n){return AN(JA.count(rN(t)-1,t),n,2)}function eE(t){var n=t.getDay();return n>=4||0===n?tN(t):tN.ceil(t)}function oE(t,n){return t=eE(t),AN(tN.count(rN(t),t)+(4===rN(t).getDay()),n,2)}function uE(t){return t.getDay()}function aE(t,n){return AN(QA.count(rN(t)-1,t),n,2)}function sE(t,n){return AN(t.getFullYear()%100,n,2)}function cE(t,n){return AN((t=eE(t)).getFullYear()%100,n,2)}function fE(t,n){return AN(t.getFullYear()%1e4,n,4)}function hE(t,n){var r=t.getDay();return AN((t=r>=4||0===r?tN(t):tN.ceil(t)).getFullYear()%1e4,n,4)}function lE(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+AN(n/60|0,"0",2)+AN(n%60,"0",2)}function dE(t,n){return AN(t.getUTCDate(),n,2)}function vE(t,n){return AN(t.getUTCHours(),n,2)}function pE(t,n){return AN(t.getUTCHours()%12||12,n,2)}function bE(t,n){return AN(1+oN.count(hN(t),t),n,3)}function mE(t,n){return AN(t.getUTCMilliseconds(),n,3)}function yE(t,n){return mE(t,n)+"000"}function wE(t,n){return AN(t.getUTCMonth()+1,n,2)}function gE(t,n){return AN(t.getUTCMinutes(),n,2)}function ME(t,n){return AN(t.getUTCSeconds(),n,2)}function LE(t){var n=t.getUTCDay();return 0===n?7:n}function AE(t,n){return AN(aN.count(hN(t)-1,t),n,2)}function NE(t){var n=t.getUTCDay();return n>=4||0===n?cN(t):cN.ceil(t)}function EE(t,n){return t=NE(t),AN(cN.count(hN(t),t)+(4===hN(t).getUTCDay()),n,2)}function kE(t){return t.getUTCDay()}function xE(t,n){return AN(sN.count(hN(t)-1,t),n,2)}function TE(t,n){return AN(t.getUTCFullYear()%100,n,2)}function SE(t,n){return AN((t=NE(t)).getUTCFullYear()%100,n,2)}function OE(t,n){return AN(t.getUTCFullYear()%1e4,n,4)}function IE(t,n){var r=t.getUTCDay();return AN((t=r>=4||0===r?cN(t):cN.ceil(t)).getUTCFullYear()%1e4,n,4)}function RE(){return"+0000"}function CE(){return"%"}function DE(t){return+t}function FE(t){return Math.floor(+t/1e3)}!function(t){pN=function(t){var n=t.dateTime,r=t.date,i=t.time,e=t.periods,o=t.days,u=t.shortDays,a=t.months,s=t.shortMonths,c=EN(e),f=kN(e),h=EN(o),l=kN(o),d=EN(u),v=kN(u),p=EN(a),b=kN(a),m=EN(s),y=kN(s),w={a:function(t){return u[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:qN,e:qN,f:JN,g:cE,G:hE,H:$N,I:ZN,j:XN,L:KN,m:QN,M:tE,p:function(t){return e[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:DE,s:FE,S:nE,u:rE,U:iE,V:oE,w:uE,W:aE,x:null,X:null,y:sE,Y:fE,Z:lE,"%":CE},g={a:function(t){return u[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:dE,e:dE,f:yE,g:SE,G:IE,H:vE,I:pE,j:bE,L:mE,m:wE,M:gE,p:function(t){return e[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:DE,s:FE,S:ME,u:LE,U:AE,V:EE,w:kE,W:xE,x:null,X:null,y:TE,Y:OE,Z:RE,"%":CE},M={a:function(t,n,r){var i=d.exec(n.slice(r));return i?(t.w=v[i[0].toLowerCase()],r+i[0].length):-1},A:function(t,n,r){var i=h.exec(n.slice(r));return i?(t.w=l[i[0].toLowerCase()],r+i[0].length):-1},b:function(t,n,r){var i=m.exec(n.slice(r));return i?(t.m=y[i[0].toLowerCase()],r+i[0].length):-1},B:function(t,n,r){var i=p.exec(n.slice(r));return i?(t.m=b[i[0].toLowerCase()],r+i[0].length):-1},c:function(t,r,i){return N(t,n,r,i)},d:WN,e:WN,f:YN,g:CN,G:RN,H:_N,I:_N,j:jN,L:BN,m:HN,M:UN,p:function(t,n,r){var i=c.exec(n.slice(r));return i?(t.p=f[i[0].toLowerCase()],r+i[0].length):-1},q:FN,Q:VN,s:GN,S:PN,u:TN,U:SN,V:ON,w:xN,W:IN,x:function(t,n,i){return N(t,r,n,i)},X:function(t,n,r){return N(t,i,n,r)},y:CN,Y:RN,Z:DN,"%":zN};function L(t,n){return function(r){var i,e,o,u=[],a=-1,s=0,c=t.length;for(r instanceof Date||(r=new Date(+r));++a<c;)37===t.charCodeAt(a)&&(u.push(t.slice(s,a)),null!=(e=wN[i=t.charAt(++a)])?i=t.charAt(++a):e="e"===i?" ":"0",(o=n[i])&&(i=o(r,e)),u.push(i),s=a+1);return u.push(t.slice(s,a)),u.join("")}}function A(t,n){return function(r){var i,e,o=vN(1900,void 0,1);if(N(o,t,r+="",0)!=r.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(n&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(e=(i=dN(vN(o.y,0,1))).getUTCDay(),i=e>4||0===e?sN.ceil(i):sN(i),i=oN.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7):(e=(i=lN(vN(o.y,0,1))).getDay(),i=e>4||0===e?QA.ceil(i):QA(i),i=XA.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),e="Z"in o?dN(vN(o.y,0,1)).getUTCDay():lN(vN(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(e+5)%7:o.w+7*o.U-(e+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,dN(o)):lN(o)}}function N(t,n,r,i){for(var e,o,u=0,a=n.length,s=r.length;u<a;){if(i>=s)return-1;if(37===(e=n.charCodeAt(u++))){if(e=n.charAt(u++),!(o=M[e in wN?n.charAt(u++):e])||(i=o(t,r,i))<0)return-1}else if(e!=r.charCodeAt(i++))return-1}return i}return w.x=L(r,w),w.X=L(i,w),w.c=L(n,w),g.x=L(r,g),g.X=L(i,g),g.c=L(n,g),{format:function(t){var n=L(t+="",w);return n.toString=function(){return t},n},parse:function(t){var n=A(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=L(t+="",g);return n.toString=function(){return t},n},utcParse:function(t){var n=A(t+="",!0);return n.toString=function(){return t},n}}}(t),bN=pN.format,mN=pN.utcFormat,yN=pN.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var HE="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString||mN(HE),+new Date("2000-01-01T00:00:00.000Z")||yN(HE);var WE=1e3,jE=6e4,_E=36e5,UE=864e5,PE=2592e6,BE=31536e6;function YE(t){return new Date(t)}function zE(t){return t instanceof Date?+t:+new Date(+t)}function VE(t,n,r,i,e,o,u,a,s){var c=fA(uA,$L),f=c.invert,h=c.domain,l=s(".%L"),d=s(":%S"),v=s("%I:%M"),p=s("%I %p"),b=s("%a %d"),m=s("%b %d"),y=s("%B"),w=s("%Y"),g=[[u,1,WE],[u,5,5e3],[u,15,15e3],[u,30,3e4],[o,1,jE],[o,5,3e5],[o,15,9e5],[o,30,18e5],[e,1,_E],[e,3,108e5],[e,6,216e5],[e,12,432e5],[i,1,UE],[i,2,1728e5],[r,1,6048e5],[n,1,PE],[n,3,7776e6],[t,1,BE]];function M(a){return(u(a)<a?l:o(a)<a?d:e(a)<a?v:i(a)<a?p:n(a)<a?r(a)<a?b:m:t(a)<a?y:w)(a)}function L(n,r,i,e){if(null==n&&(n=10),"number"==typeof n){var o=Math.abs(i-r)/n,u=gL((function(t){return t[2]})).right(g,o);u===g.length?(e=TL(r/BE,i/BE,n),n=t):u?(e=(u=g[o/g[u-1][2]<g[u][2]/o?u-1:u])[1],n=u[0]):(e=Math.max(TL(r,i,n),1),n=a)}return null==e?n:n.every(e)}return c.invert=function(t){return new Date(f(t))},c.domain=function(t){return arguments.length?h(DL.call(t,zE)):h().map(YE)},c.ticks=function(t,n){var r,i=h(),e=i[0],o=i[i.length-1],u=o<e;return u&&(r=e,e=o,o=r),r=(r=L(t,e,o,n))?r.range(e,o+1):[],u?r.reverse():r},c.tickFormat=function(t,n){return null==n?M:s(n)},c.nice=function(t,n){var r=h();return(t=L(t,r[0],r[r.length-1],n))?h(SA(r,t)):c},c.copy=function(){return cA(c,VE(t,n,r,i,e,o,u,a,s))},c}function GE(t){return t.match(/.{6}/g).map((function(t){return"#"+t}))}var qE=GE("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),$E=GE("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),ZE=GE("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),XE=GE("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),KE=rA(go(300,.5,0),go(-240,.5,1)),JE=rA(go(-100,.75,.35),go(80,1.5,.8)),QE=rA(go(260,.75,.35),go(80,1.5,.8)),tk=go();function nk(t){var n=t.length;return function(r){return t[Math.max(0,Math.min(n-1,Math.floor(r*n)))]}}var rk=nk(GE("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),ik=nk(GE("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),ek=nk(GE("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ok=nk(GE("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));var uk="http://www.w3.org/1999/xhtml",ak={svg:"http://www.w3.org/2000/svg",xhtml:uk,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function sk(t){var n=t+="",r=n.indexOf(":");return r>=0&&"xmlns"!==(n=t.slice(0,r))&&(t=t.slice(r+1)),ak.hasOwnProperty(n)?{space:ak[n],local:t}:t}function ck(t){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===uk&&n.documentElement.namespaceURI===uk?n.createElement(t):n.createElementNS(r,t)}}function fk(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function hk(t){var n=sk(t);return(n.local?fk:ck)(n)}function lk(){}function dk(t){return null==t?lk:function(){return this.querySelector(t)}}function vk(){return[]}function pk(t){return null==t?vk:function(){return this.querySelectorAll(t)}}var bk=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var mk=document.documentElement;if(!mk.matches){var yk=mk.webkitMatchesSelector||mk.msMatchesSelector||mk.mozMatchesSelector||mk.oMatchesSelector;bk=function(t){return function(){return yk.call(this,t)}}}}var wk=bk;function gk(t){return new Array(t.length)}function Mk(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Mk.prototype={constructor:Mk,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Lk(t,n,r,i,e,o){for(var u,a=0,s=n.length,c=o.length;a<c;++a)(u=n[a])?(u.__data__=o[a],i[a]=u):r[a]=new Mk(t,o[a]);for(;a<s;++a)(u=n[a])&&(e[a]=u)}function Ak(t,n,r,i,e,o,u){var a,s,c,f={},h=n.length,l=o.length,d=new Array(h);for(a=0;a<h;++a)(s=n[a])&&(d[a]=c="$"+u.call(s,s.__data__,a,n),c in f?e[a]=s:f[c]=s);for(a=0;a<l;++a)(s=f[c="$"+u.call(t,o[a],a,o)])?(i[a]=s,s.__data__=o[a],f[c]=null):r[a]=new Mk(t,o[a]);for(a=0;a<h;++a)(s=n[a])&&f[d[a]]===s&&(e[a]=s)}function Nk(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Ek(t){return function(){this.removeAttribute(t)}}function kk(t){return function(){this.removeAttributeNS(t.space,t.local)}}function xk(t,n){return function(){this.setAttribute(t,n)}}function Tk(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Sk(t,n){return function(){var r=n.apply(this,arguments);null==r?this.removeAttribute(t):this.setAttribute(t,r)}}function Ok(t,n){return function(){var r=n.apply(this,arguments);null==r?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function Ik(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Rk(t){return function(){this.style.removeProperty(t)}}function Ck(t,n,r){return function(){this.style.setProperty(t,n,r)}}function Dk(t,n,r){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,r)}}function Fk(t,n){return t.style.getPropertyValue(n)||Ik(t).getComputedStyle(t,null).getPropertyValue(n)}function Hk(t){return function(){delete this[t]}}function Wk(t,n){return function(){this[t]=n}}function jk(t,n){return function(){var r=n.apply(this,arguments);null==r?delete this[t]:this[t]=r}}function _k(t){return t.trim().split(/^|\s+/)}function Uk(t){return t.classList||new Pk(t)}function Pk(t){this._node=t,this._names=_k(t.getAttribute("class")||"")}function Bk(t,n){for(var r=Uk(t),i=-1,e=n.length;++i<e;)r.add(n[i])}function Yk(t,n){for(var r=Uk(t),i=-1,e=n.length;++i<e;)r.remove(n[i])}function zk(t){return function(){Bk(this,t)}}function Vk(t){return function(){Yk(this,t)}}function Gk(t,n){return function(){(n.apply(this,arguments)?Bk:Yk)(this,t)}}function qk(){this.textContent=""}function $k(t){return function(){this.textContent=t}}function Zk(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Xk(){this.innerHTML=""}function Kk(t){return function(){this.innerHTML=t}}function Jk(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Qk(){this.nextSibling&&this.parentNode.appendChild(this)}function tx(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function nx(){return null}function rx(){var t=this.parentNode;t&&t.removeChild(this)}function ix(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function ex(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}Pk.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ox={},ux=null;function ax(t,n,r){return t=sx(t,n,r),function(n){var r=n.relatedTarget;r&&(r===this||8&r.compareDocumentPosition(this))||t.call(this,n)}}function sx(t,n,r){return function(i){var e=ux;ux=i;try{t.call(this,this.__data__,n,r)}finally{ux=e}}}function cx(t){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}}))}function fx(t){return function(){var n=this.__on;if(n){for(var r,i=0,e=-1,o=n.length;i<o;++i)r=n[i],t.type&&r.type!==t.type||r.name!==t.name?n[++e]=r:this.removeEventListener(r.type,r.listener,r.capture);++e?n.length=e:delete this.__on}}}function hx(t,n,r){var i=ox.hasOwnProperty(t.type)?ax:sx;return function(e,o,u){var a,s=this.__on,c=i(n,o,u);if(s)for(var f=0,h=s.length;f<h;++f)if((a=s[f]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=r),void(a.value=n);this.addEventListener(t.type,c,r),a={type:t.type,name:t.name,value:n,listener:c,capture:r},s?s.push(a):this.__on=[a]}}function lx(t,n,r){var i=Ik(t),e=i.CustomEvent;"function"==typeof e?e=new e(n,r):(e=i.document.createEvent("Event"),r?(e.initEvent(n,r.bubbles,r.cancelable),e.detail=r.detail):e.initEvent(n,!1,!1)),t.dispatchEvent(e)}function dx(t,n){return function(){return lx(this,t,n)}}function vx(t,n){return function(){return lx(this,t,n.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ox={mouseenter:"mouseover",mouseleave:"mouseout"}));var px=[null];function bx(t,n){this._groups=t,this._parents=n}function mx(){return new bx([[document.documentElement]],px)}function yx(t){return"string"==typeof t?new bx([[document.querySelector(t)]],[document.documentElement]):new bx([[t]],px)}bx.prototype=mx.prototype={constructor:bx,select:function(t){"function"!=typeof t&&(t=dk(t));for(var n=this._groups,r=n.length,i=new Array(r),e=0;e<r;++e)for(var o,u,a=n[e],s=a.length,c=i[e]=new Array(s),f=0;f<s;++f)(o=a[f])&&(u=t.call(o,o.__data__,f,a))&&("__data__"in o&&(u.__data__=o.__data__),c[f]=u);return new bx(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=pk(t));for(var n=this._groups,r=n.length,i=[],e=[],o=0;o<r;++o)for(var u,a=n[o],s=a.length,c=0;c<s;++c)(u=a[c])&&(i.push(t.call(u,u.__data__,c,a)),e.push(u));return new bx(i,e)},filter:function(t){"function"!=typeof t&&(t=wk(t));for(var n=this._groups,r=n.length,i=new Array(r),e=0;e<r;++e)for(var o,u=n[e],a=u.length,s=i[e]=[],c=0;c<a;++c)(o=u[c])&&t.call(o,o.__data__,c,u)&&s.push(o);return new bx(i,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),c=-1,this.each((function(t){d[++c]=t})),d;var r=n?Ak:Lk,i=this._parents,e=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=e.length,u=new Array(o),a=new Array(o),s=new Array(o),c=0;c<o;++c){var f=i[c],h=e[c],l=h.length,d=t.call(f,f&&f.__data__,c,i),v=d.length,p=a[c]=new Array(v),b=u[c]=new Array(v);r(f,h,p,b,s[c]=new Array(l),d,n);for(var m,y,w=0,g=0;w<v;++w)if(m=p[w]){for(w>=g&&(g=w+1);!(y=b[g])&&++g<v;);m._next=y||null}}return(u=new bx(u,i))._enter=a,u._exit=s,u},enter:function(){return new bx(this._enter||this._groups.map(gk),this._parents)},exit:function(){return new bx(this._exit||this._groups.map(gk),this._parents)},merge:function(t){for(var n=this._groups,r=t._groups,i=n.length,e=Math.min(i,r.length),o=new Array(i),u=0;u<e;++u)for(var a,s=n[u],c=r[u],f=s.length,h=o[u]=new Array(f),l=0;l<f;++l)(a=s[l]||c[l])&&(h[l]=a);for(;u<i;++u)o[u]=n[u];return new bx(o,this._parents)},order:function(){for(var t=this._groups,n=-1,r=t.length;++n<r;)for(var i,e=t[n],o=e.length-1,u=e[o];--o>=0;)(i=e[o])&&(u&&u!==i.nextSibling&&u.parentNode.insertBefore(i,u),u=i);return this},sort:function(t){function n(n,r){return n&&r?t(n.__data__,r.__data__):!n-!r}t||(t=Nk);for(var r=this._groups,i=r.length,e=new Array(i),o=0;o<i;++o){for(var u,a=r[o],s=a.length,c=e[o]=new Array(s),f=0;f<s;++f)(u=a[f])&&(c[f]=u);c.sort(n)}return new bx(e,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],e=0,o=i.length;e<o;++e){var u=i[e];if(u)return u}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,r=0,i=n.length;r<i;++r)for(var e,o=n[r],u=0,a=o.length;u<a;++u)(e=o[u])&&t.call(e,e.__data__,u,o);return this},attr:function(t,n){var r=sk(t);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((null==n?r.local?kk:Ek:"function"==typeof n?r.local?Ok:Sk:r.local?Tk:xk)(r,n))},style:function(t,n,r){return arguments.length>1?this.each((null==n?Rk:"function"==typeof n?Dk:Ck)(t,n,null==r?"":r)):Fk(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?Hk:"function"==typeof n?jk:Wk)(t,n)):this.node()[t]},classed:function(t,n){var r=_k(t+"");if(arguments.length<2){for(var i=Uk(this.node()),e=-1,o=r.length;++e<o;)if(!i.contains(r[e]))return!1;return!0}return this.each(("function"==typeof n?Gk:n?zk:Vk)(r,n))},text:function(t){return arguments.length?this.each(null==t?qk:("function"==typeof t?Zk:$k)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Xk:("function"==typeof t?Jk:Kk)(t)):this.node().innerHTML},raise:function(){return this.each(Qk)},lower:function(){return this.each(tx)},append:function(t){var n="function"==typeof t?t:hk(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var r="function"==typeof t?t:hk(t),i=null==n?nx:"function"==typeof n?n:dk(n);return this.select((function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(rx)},clone:function(t){return this.select(t?ex:ix)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,r){var i,e,o=cx(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?hx:fx,null==r&&(r=!1),i=0;i<u;++i)this.each(a(o[i],n,r));return this}var a=this.node().__on;if(a)for(var s,c=0,f=a.length;c<f;++c)for(i=0,s=a[c];i<u;++i)if((e=o[i]).type===s.type&&e.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?vx:dx)(t,n))}};var wx=0;function gx(){return new Mx}function Mx(){this._="@"+(++wx).toString(36)}function Lx(){for(var t,n=ux;t=n.sourceEvent;)n=t;return n}function Ax(t,n){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var e=t.getBoundingClientRect();return[n.clientX-e.left-t.clientLeft,n.clientY-e.top-t.clientTop]}Mx.prototype=gx.prototype={constructor:Mx,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Nx=Math.PI,Ex=2*Nx,kx=1e-6,xx=Ex-kx;function Tx(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Sx(){return new Tx}function Ox(t){return function(){return t}}Tx.prototype=Sx.prototype={constructor:Tx,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,r,i){this._+="Q"+ +t+","+ +n+","+(this._x1=+r)+","+(this._y1=+i)},bezierCurveTo:function(t,n,r,i,e,o){this._+="C"+ +t+","+ +n+","+ +r+","+ +i+","+(this._x1=+e)+","+(this._y1=+o)},arcTo:function(t,n,r,i,e){var o=this._x1,u=this._y1,a=(r=+r)-(t=+t),s=(i=+i)-(n=+n),c=o-t,f=u-n,h=c*c+f*f;if((e=+e)<0)throw new Error("negative radius: "+e);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(h>kx)if(Math.abs(f*a-s*c)>kx&&e){var l=r-o,d=i-u,v=a*a+s*s,p=l*l+d*d,b=Math.sqrt(v),m=Math.sqrt(h),y=e*Math.tan((Nx-Math.acos((v+h-p)/(2*b*m)))/2),w=y/m,g=y/b;Math.abs(w-1)>kx&&(this._+="L"+(t+w*c)+","+(n+w*f)),this._+="A"+e+","+e+",0,0,"+ +(f*l>c*d)+","+(this._x1=t+g*a)+","+(this._y1=n+g*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n)},arc:function(t,n,r,i,e,o){t=+t,n=+n,o=!!o;var u=(r=+r)*Math.cos(i),a=r*Math.sin(i),s=t+u,c=n+a,f=1^o,h=o?i-e:e-i;if(r<0)throw new Error("negative radius: "+r);null===this._x1?this._+="M"+s+","+c:(Math.abs(this._x1-s)>kx||Math.abs(this._y1-c)>kx)&&(this._+="L"+s+","+c),r&&(h<0&&(h=h%Ex+Ex),h>xx?this._+="A"+r+","+r+",0,1,"+f+","+(t-u)+","+(n-a)+"A"+r+","+r+",0,1,"+f+","+(this._x1=s)+","+(this._y1=c):h>kx&&(this._+="A"+r+","+r+",0,"+ +(h>=Nx)+","+f+","+(this._x1=t+r*Math.cos(e))+","+(this._y1=n+r*Math.sin(e))))},rect:function(t,n,r,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +r+"v"+ +i+"h"+-r+"Z"},toString:function(){return this._}};var Ix=Math.abs,Rx=Math.atan2,Cx=Math.cos,Dx=Math.max,Fx=Math.min,Hx=Math.sin,Wx=Math.sqrt,jx=1e-12,_x=Math.PI,Ux=_x/2,Px=2*_x;function Bx(t){return t>1?0:t<-1?_x:Math.acos(t)}function Yx(t){return t>=1?Ux:t<=-1?-Ux:Math.asin(t)}function zx(t){return t.innerRadius}function Vx(t){return t.outerRadius}function Gx(t){return t.startAngle}function qx(t){return t.endAngle}function $x(t){return t&&t.padAngle}function Zx(t,n,r,i,e,o,u,a){var s=r-t,c=i-n,f=u-e,h=a-o,l=(f*(n-o)-h*(t-e))/(h*s-f*c);return[t+l*s,n+l*c]}function Xx(t,n,r,i,e,o,u){var a=t-r,s=n-i,c=(u?o:-o)/Wx(a*a+s*s),f=c*s,h=-c*a,l=t+f,d=n+h,v=r+f,p=i+h,b=(l+v)/2,m=(d+p)/2,y=v-l,w=p-d,g=y*y+w*w,M=e-o,L=l*p-v*d,A=(w<0?-1:1)*Wx(Dx(0,M*M*g-L*L)),N=(L*w-y*A)/g,E=(-L*y-w*A)/g,k=(L*w+y*A)/g,x=(-L*y+w*A)/g,T=N-b,S=E-m,O=k-b,I=x-m;return T*T+S*S>O*O+I*I&&(N=k,E=x),{cx:N,cy:E,x01:-f,y01:-h,x11:N*(e/M-1),y11:E*(e/M-1)}}function Kx(t){this._context=t}function Jx(t){return new Kx(t)}function Qx(t){return t[0]}function tT(t){return t[1]}function nT(){var t=Qx,n=tT,r=Ox(!0),i=null,e=Jx,o=null;function u(u){var a,s,c,f=u.length,h=!1;for(null==i&&(o=e(c=Sx())),a=0;a<=f;++a)!(a<f&&r(s=u[a],a,u))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(s,a,u),+n(s,a,u));if(c)return o=null,c+""||null}return u.x=function(n){return arguments.length?(t="function"==typeof n?n:Ox(+n),u):t},u.y=function(t){return arguments.length?(n="function"==typeof t?t:Ox(+t),u):n},u.defined=function(t){return arguments.length?(r="function"==typeof t?t:Ox(!!t),u):r},u.curve=function(t){return arguments.length?(e=t,null!=i&&(o=e(i)),u):e},u.context=function(t){return arguments.length?(null==t?i=o=null:o=e(i=t),u):i},u}function rT(){var t=Qx,n=null,r=Ox(0),i=tT,e=Ox(!0),o=null,u=Jx,a=null;function s(s){var c,f,h,l,d,v=s.length,p=!1,b=new Array(v),m=new Array(v);for(null==o&&(a=u(d=Sx())),c=0;c<=v;++c){if(!(c<v&&e(l=s[c],c,s))===p)if(p=!p)f=c,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),h=c-1;h>=f;--h)a.point(b[h],m[h]);a.lineEnd(),a.areaEnd()}p&&(b[c]=+t(l,c,s),m[c]=+r(l,c,s),a.point(n?+n(l,c,s):b[c],i?+i(l,c,s):m[c]))}if(d)return a=null,d+""||null}function c(){return nT().defined(e).curve(u).context(o)}return s.x=function(r){return arguments.length?(t="function"==typeof r?r:Ox(+r),n=null,s):t},s.x0=function(n){return arguments.length?(t="function"==typeof n?n:Ox(+n),s):t},s.x1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:Ox(+t),s):n},s.y=function(t){return arguments.length?(r="function"==typeof t?t:Ox(+t),i=null,s):r},s.y0=function(t){return arguments.length?(r="function"==typeof t?t:Ox(+t),s):r},s.y1=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:Ox(+t),s):i},s.lineX0=s.lineY0=function(){return c().x(t).y(r)},s.lineY1=function(){return c().x(t).y(i)},s.lineX1=function(){return c().x(n).y(r)},s.defined=function(t){return arguments.length?(e="function"==typeof t?t:Ox(!!t),s):e},s.curve=function(t){return arguments.length?(u=t,null!=o&&(a=u(o)),s):u},s.context=function(t){return arguments.length?(null==t?o=a=null:a=u(o=t),s):o},s}function iT(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function eT(t){return t}Kx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var oT=aT(Jx);function uT(t){this._curve=t}function aT(t){function n(n){return new uT(t(n))}return n._curve=t,n}function sT(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(aT(t)):n()._curve},t}function cT(){return sT(nT().curve(oT))}function fT(){var t=rT().curve(oT),n=t.curve,r=t.lineX0,i=t.lineX1,e=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return sT(r())},delete t.lineX0,t.lineEndAngle=function(){return sT(i())},delete t.lineX1,t.lineInnerRadius=function(){return sT(e())},delete t.lineY0,t.lineOuterRadius=function(){return sT(o())},delete t.lineY1,t.curve=function(t){return arguments.length?n(aT(t)):n()._curve},t}function hT(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}uT.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var lT=Array.prototype.slice;function dT(t){return t.source}function vT(t){return t.target}function pT(t){var n=dT,r=vT,i=Qx,e=tT,o=null;function u(){var u,a=lT.call(arguments),s=n.apply(this,a),c=r.apply(this,a);if(o||(o=u=Sx()),t(o,+i.apply(this,(a[0]=s,a)),+e.apply(this,a),+i.apply(this,(a[0]=c,a)),+e.apply(this,a)),u)return o=null,u+""||null}return u.source=function(t){return arguments.length?(n=t,u):n},u.target=function(t){return arguments.length?(r=t,u):r},u.x=function(t){return arguments.length?(i="function"==typeof t?t:Ox(+t),u):i},u.y=function(t){return arguments.length?(e="function"==typeof t?t:Ox(+t),u):e},u.context=function(t){return arguments.length?(o=null==t?null:t,u):o},u}function bT(t,n,r,i,e){t.moveTo(n,r),t.bezierCurveTo(n=(n+i)/2,r,n,e,i,e)}function mT(t,n,r,i,e){t.moveTo(n,r),t.bezierCurveTo(n,r=(r+e)/2,i,r,i,e)}function yT(t,n,r,i,e){var o=hT(n,r),u=hT(n,r=(r+e)/2),a=hT(i,r),s=hT(i,e);t.moveTo(o[0],o[1]),t.bezierCurveTo(u[0],u[1],a[0],a[1],s[0],s[1])}var wT={draw:function(t,n){var r=Math.sqrt(n/_x);t.moveTo(r,0),t.arc(0,0,r,0,Px)}},gT={draw:function(t,n){var r=Math.sqrt(n/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},MT=Math.sqrt(1/3),LT=2*MT,AT={draw:function(t,n){var r=Math.sqrt(n/LT),i=r*MT;t.moveTo(0,-r),t.lineTo(i,0),t.lineTo(0,r),t.lineTo(-i,0),t.closePath()}},NT=Math.sin(_x/10)/Math.sin(7*_x/10),ET=Math.sin(Px/10)*NT,kT=-Math.cos(Px/10)*NT,xT={draw:function(t,n){var r=Math.sqrt(.8908130915292852*n),i=ET*r,e=kT*r;t.moveTo(0,-r),t.lineTo(i,e);for(var o=1;o<5;++o){var u=Px*o/5,a=Math.cos(u),s=Math.sin(u);t.lineTo(s*r,-a*r),t.lineTo(a*i-s*e,s*i+a*e)}t.closePath()}},TT={draw:function(t,n){var r=Math.sqrt(n),i=-r/2;t.rect(i,i,r,r)}},ST=Math.sqrt(3),OT={draw:function(t,n){var r=-Math.sqrt(n/(3*ST));t.moveTo(0,2*r),t.lineTo(-ST*r,-r),t.lineTo(ST*r,-r),t.closePath()}},IT=-.5,RT=Math.sqrt(3)/2,CT=1/Math.sqrt(12),DT=3*(CT/2+1),FT={draw:function(t,n){var r=Math.sqrt(n/DT),i=r/2,e=r*CT,o=i,u=r*CT+r,a=-o,s=u;t.moveTo(i,e),t.lineTo(o,u),t.lineTo(a,s),t.lineTo(IT*i-RT*e,RT*i+IT*e),t.lineTo(IT*o-RT*u,RT*o+IT*u),t.lineTo(IT*a-RT*s,RT*a+IT*s),t.lineTo(IT*i+RT*e,IT*e-RT*i),t.lineTo(IT*o+RT*u,IT*u-RT*o),t.lineTo(IT*a+RT*s,IT*s-RT*a),t.closePath()}},HT=[wT,gT,AT,TT,xT,OT,FT];function WT(){}function jT(t,n,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+r)/6)}function _T(t){this._context=t}function UT(t){this._context=t}function PT(t){this._context=t}function BT(t,n){this._basis=new _T(t),this._beta=n}_T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jT(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jT(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},UT.prototype={areaStart:WT,areaEnd:WT,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:jT(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},PT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(r,i):this._context.moveTo(r,i);break;case 3:this._point=4;default:jT(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},BT.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,r=t.length-1;if(r>0)for(var i,e=t[0],o=n[0],u=t[r]-e,a=n[r]-o,s=-1;++s<=r;)this._basis.point(this._beta*t[s]+(1-this._beta)*(e+(i=s/r)*u),this._beta*n[s]+(1-this._beta)*(o+i*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var YT=function t(n){function r(t){return 1===n?new _T(t):new BT(t,n)}return r.beta=function(n){return t(+n)},r}(.85);function zT(t,n,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function VT(t,n){this._context=t,this._k=(1-n)/6}VT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:zT(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:zT(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var GT=function t(n){function r(t){return new VT(t,n)}return r.tension=function(n){return t(+n)},r}(0);function qT(t,n){this._context=t,this._k=(1-n)/6}qT.prototype={areaStart:WT,areaEnd:WT,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:zT(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var $T=function t(n){function r(t){return new qT(t,n)}return r.tension=function(n){return t(+n)},r}(0);function ZT(t,n){this._context=t,this._k=(1-n)/6}ZT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:zT(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var XT=function t(n){function r(t){return new ZT(t,n)}return r.tension=function(n){return t(+n)},r}(0);function KT(t,n,r){var i=t._x1,e=t._y1,o=t._x2,u=t._y2;if(t._l01_a>jx){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,e=(e*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>jx){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-n*t._l12_2a)/f,u=(u*c+t._y1*t._l23_2a-r*t._l12_2a)/f}t._context.bezierCurveTo(i,e,o,u,t._x2,t._y2)}function JT(t,n){this._context=t,this._alpha=n}JT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var r=this._x2-t,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:KT(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var QT=function t(n){function r(t){return n?new JT(t,n):new VT(t,0)}return r.alpha=function(n){return t(+n)},r}(.5);function tS(t,n){this._context=t,this._alpha=n}tS.prototype={areaStart:WT,areaEnd:WT,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var r=this._x2-t,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:KT(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var nS=function t(n){function r(t){return n?new tS(t,n):new qT(t,0)}return r.alpha=function(n){return t(+n)},r}(.5);function rS(t,n){this._context=t,this._alpha=n}rS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var r=this._x2-t,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:KT(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var iS=function t(n){function r(t){return n?new rS(t,n):new ZT(t,0)}return r.alpha=function(n){return t(+n)},r}(.5);function eS(t){this._context=t}function oS(t){return t<0?-1:1}function uS(t,n,r){var i=t._x1-t._x0,e=n-t._x1,o=(t._y1-t._y0)/(i||e<0&&-0),u=(r-t._y1)/(e||i<0&&-0),a=(o*e+u*i)/(i+e);return(oS(o)+oS(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(a))||0}function aS(t,n){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-n)/2:n}function sS(t,n,r){var i=t._x0,e=t._x1,o=t._y1,u=(e-i)/3;t._context.bezierCurveTo(i+u,t._y0+u*n,e-u,o-u*r,e,o)}function cS(t){this._context=t}function fS(t){this._context=new hS(t)}function hS(t){this._context=t}function lS(t){this._context=t}function dS(t){var n,r,i=t.length-1,e=new Array(i),o=new Array(i),u=new Array(i);for(e[0]=0,o[0]=2,u[0]=t[0]+2*t[1],n=1;n<i-1;++n)e[n]=1,o[n]=4,u[n]=4*t[n]+2*t[n+1];for(e[i-1]=2,o[i-1]=7,u[i-1]=8*t[i-1]+t[i],n=1;n<i;++n)o[n]-=r=e[n]/o[n-1],u[n]-=r*u[n-1];for(e[i-1]=u[i-1]/o[i-1],n=i-2;n>=0;--n)e[n]=(u[n]-e[n+1])/o[n];for(o[i-1]=(t[i]+e[i-1])/2,n=0;n<i-1;++n)o[n]=2*t[n+1]-e[n+1];return[e,o]}function vS(t,n){this._context=t,this._t=n}function pS(t,n){if((e=t.length)>1)for(var r,i,e,o=1,u=t[n[0]],a=u.length;o<e;++o)for(i=u,u=t[n[o]],r=0;r<a;++r)u[r][1]+=u[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function bS(t){for(var n=t.length,r=new Array(n);--n>=0;)r[n]=n;return r}function mS(t,n){return t[n]}function yS(t){var n=t.map(wS);return bS(t).sort((function(t,r){return n[t]-n[r]}))}function wS(t){for(var n,r=0,i=-1,e=t.length;++i<e;)(n=+t[i][1])&&(r+=n);return r}eS.prototype={areaStart:WT,areaEnd:WT,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},cS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:sS(this,this._t0,aS(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var r=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,sS(this,aS(this,r=uS(this,t,n)),r);break;default:sS(this,this._t0,r=uS(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=r}}},(fS.prototype=Object.create(cS.prototype)).point=function(t,n){cS.prototype.point.call(this,n,t)},hS.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,r,i,e,o){this._context.bezierCurveTo(n,t,i,r,o,e)}},lS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===r)this._context.lineTo(t[1],n[1]);else for(var i=dS(t),e=dS(n),o=0,u=1;u<r;++o,++u)this._context.bezierCurveTo(i[0][o],e[0][o],i[1][o],e[1][o],t[u],n[u]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},vS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,n)}}this._x=t,this._y=n}};var gS=new Date,MS=new Date;function LS(t,n,r,i){function e(n){return t(n=new Date(+n)),n}return e.floor=e,e.ceil=function(r){return t(r=new Date(r-1)),n(r,1),t(r),r},e.round=function(t){var n=e(t),r=e.ceil(t);return t-n<r-t?n:r},e.offset=function(t,r){return n(t=new Date(+t),null==r?1:Math.floor(r)),t},e.range=function(r,i,o){var u,a=[];if(r=e.ceil(r),o=null==o?1:Math.floor(o),!(r<i&&o>0))return a;do{a.push(u=new Date(+r)),n(r,o),t(r)}while(u<r&&r<i);return a},e.filter=function(r){return LS((function(n){if(n>=n)for(;t(n),!r(n);)n.setTime(n-1)}),(function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;n(t,-1),!r(t););else for(;--i>=0;)for(;n(t,1),!r(t););}))},r&&(e.count=function(n,i){return gS.setTime(+n),MS.setTime(+i),t(gS),t(MS),Math.floor(r(gS,MS))},e.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?e.filter(i?function(n){return i(n)%t==0}:function(n){return e.count(0,n)%t==0}):e:null}),e}var AS=LS((function(){}),(function(t,n){t.setTime(+t+n)}),(function(t,n){return n-t}));AS.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?LS((function(n){n.setTime(Math.floor(n/t)*t)}),(function(n,r){n.setTime(+n+r*t)}),(function(n,r){return(r-n)/t})):AS:null};var NS=AS.range,ES=1e3,kS=6e4,xS=36e5,TS=864e5,SS=6048e5,OS=LS((function(t){t.setTime(Math.floor(t/ES)*ES)}),(function(t,n){t.setTime(+t+n*ES)}),(function(t,n){return(n-t)/ES}),(function(t){return t.getUTCSeconds()})),IS=OS.range,RS=LS((function(t){t.setTime(Math.floor(t/kS)*kS)}),(function(t,n){t.setTime(+t+n*kS)}),(function(t,n){return(n-t)/kS}),(function(t){return t.getMinutes()})),CS=RS.range,DS=LS((function(t){var n=t.getTimezoneOffset()*kS%xS;n<0&&(n+=xS),t.setTime(Math.floor((+t-n)/xS)*xS+n)}),(function(t,n){t.setTime(+t+n*xS)}),(function(t,n){return(n-t)/xS}),(function(t){return t.getHours()})),FS=DS.range,HS=LS((function(t){t.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+n)}),(function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*kS)/TS}),(function(t){return t.getDate()-1})),WS=HS.range;function jS(t){return LS((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*kS)/SS}))}var _S=jS(0),US=jS(1),PS=jS(2),BS=jS(3),YS=jS(4),zS=jS(5),VS=jS(6),GS=_S.range,qS=US.range,$S=PS.range,ZS=BS.range,XS=YS.range,KS=zS.range,JS=VS.range,QS=LS((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),tO=QS.range,nO=LS((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));nO.every=function(t){return isFinite(t=Math.floor(t))&&t>0?LS((function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,r){n.setFullYear(n.getFullYear()+r*t)})):null};var rO=nO.range,iO=LS((function(t){t.setUTCSeconds(0,0)}),(function(t,n){t.setTime(+t+n*kS)}),(function(t,n){return(n-t)/kS}),(function(t){return t.getUTCMinutes()})),eO=iO.range,oO=LS((function(t){t.setUTCMinutes(0,0,0)}),(function(t,n){t.setTime(+t+n*xS)}),(function(t,n){return(n-t)/xS}),(function(t){return t.getUTCHours()})),uO=oO.range,aO=LS((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/TS}),(function(t){return t.getUTCDate()-1})),sO=aO.range;function cO(t){return LS((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/SS}))}var fO=cO(0),hO=cO(1),lO=cO(2),dO=cO(3),vO=cO(4),pO=cO(5),bO=cO(6),mO=fO.range,yO=hO.range,wO=lO.range,gO=dO.range,MO=vO.range,LO=pO.range,AO=bO.range,NO=LS((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCMonth(t.getUTCMonth()+n)}),(function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),EO=NO.range,kO=LS((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));kO.every=function(t){return isFinite(t=Math.floor(t))&&t>0?LS((function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,r){n.setUTCFullYear(n.getUTCFullYear()+r*t)})):null};var xO=kO.range,TO=new Date,SO=new Date;function OO(t,n,r,i){function e(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return e.floor=function(n){return t(n=new Date(+n)),n},e.ceil=function(r){return t(r=new Date(r-1)),n(r,1),t(r),r},e.round=function(t){var n=e(t),r=e.ceil(t);return t-n<r-t?n:r},e.offset=function(t,r){return n(t=new Date(+t),null==r?1:Math.floor(r)),t},e.range=function(r,i,o){var u,a=[];if(r=e.ceil(r),o=null==o?1:Math.floor(o),!(r<i&&o>0))return a;do{a.push(u=new Date(+r)),n(r,o),t(r)}while(u<r&&r<i);return a},e.filter=function(r){return OO((function(n){if(n>=n)for(;t(n),!r(n);)n.setTime(n-1)}),(function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;n(t,-1),!r(t););else for(;--i>=0;)for(;n(t,1),!r(t););}))},r&&(e.count=function(n,i){return TO.setTime(+n),SO.setTime(+i),t(TO),t(SO),Math.floor(r(TO,SO))},e.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?e.filter(i?function(n){return i(n)%t==0}:function(n){return e.count(0,n)%t==0}):e:null}),e}var IO=OO((function(){}),(function(t,n){t.setTime(+t+n)}),(function(t,n){return n-t}));IO.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?OO((function(n){n.setTime(Math.floor(n/t)*t)}),(function(n,r){n.setTime(+n+r*t)}),(function(n,r){return(r-n)/t})):IO:null};var RO=1e3,CO=6e4,DO=36e5,FO=864e5,HO=6048e5;OO((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,n){t.setTime(+t+n*RO)}),(function(t,n){return(n-t)/RO}),(function(t){return t.getUTCSeconds()})),OO((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*RO)}),(function(t,n){t.setTime(+t+n*CO)}),(function(t,n){return(n-t)/CO}),(function(t){return t.getMinutes()})),OO((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*RO-t.getMinutes()*CO)}),(function(t,n){t.setTime(+t+n*DO)}),(function(t,n){return(n-t)/DO}),(function(t){return t.getHours()}));var WO=OO((function(t){t.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+n)}),(function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*CO)/FO}),(function(t){return t.getDate()-1}));function jO(t){return OO((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*CO)/HO}))}var _O=jO(0),UO=jO(1);jO(2),jO(3);var PO=jO(4);jO(5),jO(6),OO((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}));var BO=OO((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));BO.every=function(t){return isFinite(t=Math.floor(t))&&t>0?OO((function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,r){n.setFullYear(n.getFullYear()+r*t)})):null},OO((function(t){t.setUTCSeconds(0,0)}),(function(t,n){t.setTime(+t+n*CO)}),(function(t,n){return(n-t)/CO}),(function(t){return t.getUTCMinutes()})),OO((function(t){t.setUTCMinutes(0,0,0)}),(function(t,n){t.setTime(+t+n*DO)}),(function(t,n){return(n-t)/DO}),(function(t){return t.getUTCHours()}));var YO=OO((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/FO}),(function(t){return t.getUTCDate()-1}));function zO(t){return OO((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/HO}))}var VO=zO(0),GO=zO(1);zO(2),zO(3);var qO=zO(4);zO(5),zO(6),OO((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCMonth(t.getUTCMonth()+n)}),(function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}));var $O=OO((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));function ZO(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function XO(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function KO(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function JO(t){var n=t.dateTime,r=t.date,i=t.time,e=t.periods,o=t.days,u=t.shortDays,a=t.months,s=t.shortMonths,c=fI(e),f=hI(e),h=fI(o),l=hI(o),d=fI(u),v=hI(u),p=fI(a),b=hI(a),m=fI(s),y=hI(s),w={a:function(t){return u[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:II,e:II,f:HI,H:RI,I:CI,j:DI,L:FI,m:WI,M:jI,p:function(t){return e[+(t.getHours()>=12)]},Q:lR,s:dR,S:_I,u:UI,U:PI,V:BI,w:YI,W:zI,x:null,X:null,y:VI,Y:GI,Z:qI,"%":hR},g={a:function(t){return u[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:$I,e:$I,f:QI,H:ZI,I:XI,j:KI,L:JI,m:tR,M:nR,p:function(t){return e[+(t.getUTCHours()>=12)]},Q:lR,s:dR,S:rR,u:iR,U:eR,V:oR,w:uR,W:aR,x:null,X:null,y:sR,Y:cR,Z:fR,"%":hR},M={a:function(t,n,r){var i=d.exec(n.slice(r));return i?(t.w=v[i[0].toLowerCase()],r+i[0].length):-1},A:function(t,n,r){var i=h.exec(n.slice(r));return i?(t.w=l[i[0].toLowerCase()],r+i[0].length):-1},b:function(t,n,r){var i=m.exec(n.slice(r));return i?(t.m=y[i[0].toLowerCase()],r+i[0].length):-1},B:function(t,n,r){var i=p.exec(n.slice(r));return i?(t.m=b[i[0].toLowerCase()],r+i[0].length):-1},c:function(t,r,i){return N(t,n,r,i)},d:MI,e:MI,f:xI,H:AI,I:AI,j:LI,L:kI,m:gI,M:NI,p:function(t,n,r){var i=c.exec(n.slice(r));return i?(t.p=f[i[0].toLowerCase()],r+i[0].length):-1},Q:SI,s:OI,S:EI,u:dI,U:vI,V:pI,w:lI,W:bI,x:function(t,n,i){return N(t,r,n,i)},X:function(t,n,r){return N(t,i,n,r)},y:yI,Y:mI,Z:wI,"%":TI};function L(t,n){return function(r){var i,e,o,u=[],a=-1,s=0,c=t.length;for(r instanceof Date||(r=new Date(+r));++a<c;)37===t.charCodeAt(a)&&(u.push(t.slice(s,a)),null!=(e=eI[i=t.charAt(++a)])?i=t.charAt(++a):e="e"===i?" ":"0",(o=n[i])&&(i=o(r,e)),u.push(i),s=a+1);return u.push(t.slice(s,a)),u.join("")}}function A(t,n){return function(r){var i,e,o=KO(1900);if(N(o,t,r+="",0)!=r.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(e=(i=XO(KO(o.y))).getUTCDay(),i=e>4||0===e?GO.ceil(i):GO(i),i=YO.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7):(e=(i=n(KO(o.y))).getDay(),i=e>4||0===e?UO.ceil(i):UO(i),i=WO.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),e="Z"in o?XO(KO(o.y)).getUTCDay():n(KO(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(e+5)%7:o.w+7*o.U-(e+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,XO(o)):n(o)}}function N(t,n,r,i){for(var e,o,u=0,a=n.length,s=r.length;u<a;){if(i>=s)return-1;if(37===(e=n.charCodeAt(u++))){if(e=n.charAt(u++),!(o=M[e in eI?n.charAt(u++):e])||(i=o(t,r,i))<0)return-1}else if(e!=r.charCodeAt(i++))return-1}return i}return w.x=L(r,w),w.X=L(i,w),w.c=L(n,w),g.x=L(r,g),g.X=L(i,g),g.c=L(n,g),{format:function(t){var n=L(t+="",w);return n.toString=function(){return t},n},parse:function(t){var n=A(t+="",ZO);return n.toString=function(){return t},n},utcFormat:function(t){var n=L(t+="",g);return n.toString=function(){return t},n},utcParse:function(t){var n=A(t,XO);return n.toString=function(){return t},n}}}$O.every=function(t){return isFinite(t=Math.floor(t))&&t>0?OO((function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,r){n.setUTCFullYear(n.getUTCFullYear()+r*t)})):null};var QO,tI,nI,rI,iI,eI={"-":"",_:" ",0:"0"},oI=/^\s*\d+/,uI=/^%/,aI=/[\\^$*+?|[\]().{}]/g;function sI(t,n,r){var i=t<0?"-":"",e=(i?-t:t)+"",o=e.length;return i+(o<r?new Array(r-o+1).join(n)+e:e)}function cI(t){return t.replace(aI,"\\$&")}function fI(t){return new RegExp("^(?:"+t.map(cI).join("|")+")","i")}function hI(t){for(var n={},r=-1,i=t.length;++r<i;)n[t[r].toLowerCase()]=r;return n}function lI(t,n,r){var i=oI.exec(n.slice(r,r+1));return i?(t.w=+i[0],r+i[0].length):-1}function dI(t,n,r){var i=oI.exec(n.slice(r,r+1));return i?(t.u=+i[0],r+i[0].length):-1}function vI(t,n,r){var i=oI.exec(n.slice(r,r+2));return i?(t.U=+i[0],r+i[0].length):-1}function pI(t,n,r){var i=oI.exec(n.slice(r,r+2));return i?(t.V=+i[0],r+i[0].length):-1}function bI(t,n,r){var i=oI.exec(n.slice(r,r+2));return i?(t.W=+i[0],r+i[0].length):-1}function mI(t,n,r){var i=oI.exec(n.slice(r,r+4));return i?(t.y=+i[0],r+i[0].length):-1}function yI(t,n,r){var i=oI.exec(n.slice(r,r+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),r+i[0].length):-1}function wI(t,n,r){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(r,r+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),r+i[0].length):-1}function gI(t,n,r){var i=oI.exec(n.slice(r,r+2));return i?(t.m=i[0]-1,r+i[0].length):-1}function MI(t,n,r){var i=oI.exec(n.slice(r,r+2));return i?(t.d=+i[0],r+i[0].length):-1}function LI(t,n,r){var i=oI.exec(n.slice(r,r+3));return i?(t.m=0,t.d=+i[0],r+i[0].length):-1}function AI(t,n,r){var i=oI.exec(n.slice(r,r+2));return i?(t.H=+i[0],r+i[0].length):-1}function NI(t,n,r){var i=oI.exec(n.slice(r,r+2));return i?(t.M=+i[0],r+i[0].length):-1}function EI(t,n,r){var i=oI.exec(n.slice(r,r+2));return i?(t.S=+i[0],r+i[0].length):-1}function kI(t,n,r){var i=oI.exec(n.slice(r,r+3));return i?(t.L=+i[0],r+i[0].length):-1}function xI(t,n,r){var i=oI.exec(n.slice(r,r+6));return i?(t.L=Math.floor(i[0]/1e3),r+i[0].length):-1}function TI(t,n,r){var i=uI.exec(n.slice(r,r+1));return i?r+i[0].length:-1}function SI(t,n,r){var i=oI.exec(n.slice(r));return i?(t.Q=+i[0],r+i[0].length):-1}function OI(t,n,r){var i=oI.exec(n.slice(r));return i?(t.Q=1e3*+i[0],r+i[0].length):-1}function II(t,n){return sI(t.getDate(),n,2)}function RI(t,n){return sI(t.getHours(),n,2)}function CI(t,n){return sI(t.getHours()%12||12,n,2)}function DI(t,n){return sI(1+WO.count(BO(t),t),n,3)}function FI(t,n){return sI(t.getMilliseconds(),n,3)}function HI(t,n){return FI(t,n)+"000"}function WI(t,n){return sI(t.getMonth()+1,n,2)}function jI(t,n){return sI(t.getMinutes(),n,2)}function _I(t,n){return sI(t.getSeconds(),n,2)}function UI(t){var n=t.getDay();return 0===n?7:n}function PI(t,n){return sI(_O.count(BO(t),t),n,2)}function BI(t,n){var r=t.getDay();return t=r>=4||0===r?PO(t):PO.ceil(t),sI(PO.count(BO(t),t)+(4===BO(t).getDay()),n,2)}function YI(t){return t.getDay()}function zI(t,n){return sI(UO.count(BO(t),t),n,2)}function VI(t,n){return sI(t.getFullYear()%100,n,2)}function GI(t,n){return sI(t.getFullYear()%1e4,n,4)}function qI(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+sI(n/60|0,"0",2)+sI(n%60,"0",2)}function $I(t,n){return sI(t.getUTCDate(),n,2)}function ZI(t,n){return sI(t.getUTCHours(),n,2)}function XI(t,n){return sI(t.getUTCHours()%12||12,n,2)}function KI(t,n){return sI(1+YO.count($O(t),t),n,3)}function JI(t,n){return sI(t.getUTCMilliseconds(),n,3)}function QI(t,n){return JI(t,n)+"000"}function tR(t,n){return sI(t.getUTCMonth()+1,n,2)}function nR(t,n){return sI(t.getUTCMinutes(),n,2)}function rR(t,n){return sI(t.getUTCSeconds(),n,2)}function iR(t){var n=t.getUTCDay();return 0===n?7:n}function eR(t,n){return sI(VO.count($O(t),t),n,2)}function oR(t,n){var r=t.getUTCDay();return t=r>=4||0===r?qO(t):qO.ceil(t),sI(qO.count($O(t),t)+(4===$O(t).getUTCDay()),n,2)}function uR(t){return t.getUTCDay()}function aR(t,n){return sI(GO.count($O(t),t),n,2)}function sR(t,n){return sI(t.getUTCFullYear()%100,n,2)}function cR(t,n){return sI(t.getUTCFullYear()%1e4,n,4)}function fR(){return"+0000"}function hR(){return"%"}function lR(t){return+t}function dR(t){return Math.floor(+t/1e3)}function vR(t){return QO=JO(t),tI=QO.format,nI=QO.parse,rI=QO.utcFormat,iI=QO.utcParse,QO}vR({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var pR="%Y-%m-%dT%H:%M:%S.%LZ";var bR=Date.prototype.toISOString?function(t){return t.toISOString()}:rI(pR);var mR,yR,wR=+new Date("2000-01-01T00:00:00.000Z")?function(t){var n=new Date(t);return isNaN(n)?null:n}:iI(pR),gR=0,MR=0,LR=0,AR=0,NR=0,ER=0,kR="object"==typeof performance&&performance.now?performance:Date,xR="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function TR(){return NR||(xR(SR),NR=kR.now()+ER)}function SR(){NR=0}function OR(){this._call=this._time=this._next=null}function IR(t,n,r){var i=new OR;return i.restart(t,n,r),i}function RR(){TR(),++gR;for(var t,n=mR;n;)(t=NR-n._time)>=0&&n._call.call(null,t),n=n._next;--gR}function CR(){NR=(AR=kR.now())+ER,gR=MR=0;try{RR()}finally{gR=0,function(){for(var t,n,r=mR,i=1/0;r;)r._call?(i>r._time&&(i=r._time),t=r,r=r._next):(n=r._next,r._next=null,r=t?t._next=n:mR=n);yR=t,FR(i)}(),NR=0}}function DR(){var t=kR.now(),n=t-AR;n>1e3&&(ER-=n,AR=t)}function FR(t){gR||(MR&&(MR=clearTimeout(MR)),t-NR>24?(t<1/0&&(MR=setTimeout(CR,t-kR.now()-ER)),LR&&(LR=clearInterval(LR))):(LR||(AR=kR.now(),LR=setInterval(DR,1e3)),gR=1,xR(CR)))}OR.prototype=IR.prototype={constructor:OR,restart:function(t,n,r){if("function"!=typeof t)throw new TypeError("callback is not a function");r=(null==r?TR():+r)+(null==n?0:+n),this._next||yR===this||(yR?yR._next=this:mR=this,yR=this),this._call=t,this._time=r,FR()},stop:function(){this._call&&(this._call=null,this._time=1/0,FR())}};var HR="http://www.w3.org/1999/xhtml",WR={svg:"http://www.w3.org/2000/svg",xhtml:HR,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function jR(t){var n=t+="",r=n.indexOf(":");return r>=0&&"xmlns"!==(n=t.slice(0,r))&&(t=t.slice(r+1)),WR.hasOwnProperty(n)?{space:WR[n],local:t}:t}function _R(t){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===HR&&n.documentElement.namespaceURI===HR?n.createElement(t):n.createElementNS(r,t)}}function UR(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function PR(t){var n=jR(t);return(n.local?UR:_R)(n)}function BR(){}function YR(t){return null==t?BR:function(){return this.querySelector(t)}}function zR(){return[]}function VR(t){return null==t?zR:function(){return this.querySelectorAll(t)}}function GR(t){return function(){return this.matches(t)}}function qR(t){return new Array(t.length)}function $R(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}$R.prototype={constructor:$R,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function ZR(t,n,r,i,e,o){for(var u,a=0,s=n.length,c=o.length;a<c;++a)(u=n[a])?(u.__data__=o[a],i[a]=u):r[a]=new $R(t,o[a]);for(;a<s;++a)(u=n[a])&&(e[a]=u)}function XR(t,n,r,i,e,o,u){var a,s,c,f={},h=n.length,l=o.length,d=new Array(h);for(a=0;a<h;++a)(s=n[a])&&(d[a]=c="$"+u.call(s,s.__data__,a,n),c in f?e[a]=s:f[c]=s);for(a=0;a<l;++a)(s=f[c="$"+u.call(t,o[a],a,o)])?(i[a]=s,s.__data__=o[a],f[c]=null):r[a]=new $R(t,o[a]);for(a=0;a<h;++a)(s=n[a])&&f[d[a]]===s&&(e[a]=s)}function KR(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function JR(t){return function(){this.removeAttribute(t)}}function QR(t){return function(){this.removeAttributeNS(t.space,t.local)}}function tC(t,n){return function(){this.setAttribute(t,n)}}function nC(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function rC(t,n){return function(){var r=n.apply(this,arguments);null==r?this.removeAttribute(t):this.setAttribute(t,r)}}function iC(t,n){return function(){var r=n.apply(this,arguments);null==r?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function eC(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function oC(t){return function(){this.style.removeProperty(t)}}function uC(t,n,r){return function(){this.style.setProperty(t,n,r)}}function aC(t,n,r){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,r)}}function sC(t,n){return t.style.getPropertyValue(n)||eC(t).getComputedStyle(t,null).getPropertyValue(n)}function cC(t){return function(){delete this[t]}}function fC(t,n){return function(){this[t]=n}}function hC(t,n){return function(){var r=n.apply(this,arguments);null==r?delete this[t]:this[t]=r}}function lC(t){return t.trim().split(/^|\s+/)}function dC(t){return t.classList||new vC(t)}function vC(t){this._node=t,this._names=lC(t.getAttribute("class")||"")}function pC(t,n){for(var r=dC(t),i=-1,e=n.length;++i<e;)r.add(n[i])}function bC(t,n){for(var r=dC(t),i=-1,e=n.length;++i<e;)r.remove(n[i])}function mC(t){return function(){pC(this,t)}}function yC(t){return function(){bC(this,t)}}function wC(t,n){return function(){(n.apply(this,arguments)?pC:bC)(this,t)}}function gC(){this.textContent=""}function MC(t){return function(){this.textContent=t}}function LC(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function AC(){this.innerHTML=""}function NC(t){return function(){this.innerHTML=t}}function EC(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function kC(){this.nextSibling&&this.parentNode.appendChild(this)}function xC(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function TC(){return null}function SC(){var t=this.parentNode;t&&t.removeChild(this)}function OC(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function IC(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}vC.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var RC={};function CC(t,n,r){return t=DC(t,n,r),function(n){var r=n.relatedTarget;r&&(r===this||8&r.compareDocumentPosition(this))||t.call(this,n)}}function DC(t,n,r){return function(){try{t.call(this,this.__data__,n,r)}finally{}}}function FC(t){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}}))}function HC(t){return function(){var n=this.__on;if(n){for(var r,i=0,e=-1,o=n.length;i<o;++i)r=n[i],t.type&&r.type!==t.type||r.name!==t.name?n[++e]=r:this.removeEventListener(r.type,r.listener,r.capture);++e?n.length=e:delete this.__on}}}function WC(t,n,r){var i=RC.hasOwnProperty(t.type)?CC:DC;return function(e,o,u){var a,s=this.__on,c=i(n,o,u);if(s)for(var f=0,h=s.length;f<h;++f)if((a=s[f]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=r),void(a.value=n);this.addEventListener(t.type,c,r),a={type:t.type,name:t.name,value:n,listener:c,capture:r},s?s.push(a):this.__on=[a]}}function jC(t,n,r){var i=eC(t),e=i.CustomEvent;"function"==typeof e?e=new e(n,r):(e=i.document.createEvent("Event"),r?(e.initEvent(n,r.bubbles,r.cancelable),e.detail=r.detail):e.initEvent(n,!1,!1)),t.dispatchEvent(e)}function _C(t,n){return function(){return jC(this,t,n)}}function UC(t,n){return function(){return jC(this,t,n.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(RC={mouseenter:"mouseover",mouseleave:"mouseout"}));var PC=[null];function BC(t,n){this._groups=t,this._parents=n}function YC(){return new BC([[document.documentElement]],PC)}BC.prototype=YC.prototype={constructor:BC,select:function(t){"function"!=typeof t&&(t=YR(t));for(var n=this._groups,r=n.length,i=new Array(r),e=0;e<r;++e)for(var o,u,a=n[e],s=a.length,c=i[e]=new Array(s),f=0;f<s;++f)(o=a[f])&&(u=t.call(o,o.__data__,f,a))&&("__data__"in o&&(u.__data__=o.__data__),c[f]=u);return new BC(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=VR(t));for(var n=this._groups,r=n.length,i=[],e=[],o=0;o<r;++o)for(var u,a=n[o],s=a.length,c=0;c<s;++c)(u=a[c])&&(i.push(t.call(u,u.__data__,c,a)),e.push(u));return new BC(i,e)},filter:function(t){"function"!=typeof t&&(t=GR(t));for(var n=this._groups,r=n.length,i=new Array(r),e=0;e<r;++e)for(var o,u=n[e],a=u.length,s=i[e]=[],c=0;c<a;++c)(o=u[c])&&t.call(o,o.__data__,c,u)&&s.push(o);return new BC(i,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),c=-1,this.each((function(t){d[++c]=t})),d;var r=n?XR:ZR,i=this._parents,e=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=e.length,u=new Array(o),a=new Array(o),s=new Array(o),c=0;c<o;++c){var f=i[c],h=e[c],l=h.length,d=t.call(f,f&&f.__data__,c,i),v=d.length,p=a[c]=new Array(v),b=u[c]=new Array(v);r(f,h,p,b,s[c]=new Array(l),d,n);for(var m,y,w=0,g=0;w<v;++w)if(m=p[w]){for(w>=g&&(g=w+1);!(y=b[g])&&++g<v;);m._next=y||null}}return(u=new BC(u,i))._enter=a,u._exit=s,u},enter:function(){return new BC(this._enter||this._groups.map(qR),this._parents)},exit:function(){return new BC(this._exit||this._groups.map(qR),this._parents)},join:function(t,n,r){var i=this.enter(),e=this,o=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=n&&(e=n(e)),null==r?o.remove():r(o),i&&e?i.merge(e).order():e},merge:function(t){for(var n=this._groups,r=t._groups,i=n.length,e=Math.min(i,r.length),o=new Array(i),u=0;u<e;++u)for(var a,s=n[u],c=r[u],f=s.length,h=o[u]=new Array(f),l=0;l<f;++l)(a=s[l]||c[l])&&(h[l]=a);for(;u<i;++u)o[u]=n[u];return new BC(o,this._parents)},order:function(){for(var t=this._groups,n=-1,r=t.length;++n<r;)for(var i,e=t[n],o=e.length-1,u=e[o];--o>=0;)(i=e[o])&&(u&&4^i.compareDocumentPosition(u)&&u.parentNode.insertBefore(i,u),u=i);return this},sort:function(t){function n(n,r){return n&&r?t(n.__data__,r.__data__):!n-!r}t||(t=KR);for(var r=this._groups,i=r.length,e=new Array(i),o=0;o<i;++o){for(var u,a=r[o],s=a.length,c=e[o]=new Array(s),f=0;f<s;++f)(u=a[f])&&(c[f]=u);c.sort(n)}return new BC(e,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],e=0,o=i.length;e<o;++e){var u=i[e];if(u)return u}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,r=0,i=n.length;r<i;++r)for(var e,o=n[r],u=0,a=o.length;u<a;++u)(e=o[u])&&t.call(e,e.__data__,u,o);return this},attr:function(t,n){var r=jR(t);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((null==n?r.local?QR:JR:"function"==typeof n?r.local?iC:rC:r.local?nC:tC)(r,n))},style:function(t,n,r){return arguments.length>1?this.each((null==n?oC:"function"==typeof n?aC:uC)(t,n,null==r?"":r)):sC(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?cC:"function"==typeof n?hC:fC)(t,n)):this.node()[t]},classed:function(t,n){var r=lC(t+"");if(arguments.length<2){for(var i=dC(this.node()),e=-1,o=r.length;++e<o;)if(!i.contains(r[e]))return!1;return!0}return this.each(("function"==typeof n?wC:n?mC:yC)(r,n))},text:function(t){return arguments.length?this.each(null==t?gC:("function"==typeof t?LC:MC)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?AC:("function"==typeof t?EC:NC)(t)):this.node().innerHTML},raise:function(){return this.each(kC)},lower:function(){return this.each(xC)},append:function(t){var n="function"==typeof t?t:PR(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var r="function"==typeof t?t:PR(t),i=null==n?TC:"function"==typeof n?n:YR(n);return this.select((function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(SC)},clone:function(t){return this.select(t?IC:OC)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,r){var i,e,o=FC(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?WC:HC,null==r&&(r=!1),i=0;i<u;++i)this.each(a(o[i],n,r));return this}var a=this.node().__on;if(a)for(var s,c=0,f=a.length;c<f;++c)for(i=0,s=a[c];i<u;++i)if((e=o[i]).type===s.type&&e.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?UC:_C)(t,n))}};var zC={value:function(){}};function VC(){for(var t,n=0,r=arguments.length,i={};n<r;++n){if(!(t=arguments[n]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new GC(i)}function GC(t){this._=t}function qC(t,n){return t.trim().split(/^|\s+/).map((function(t){var r="",i=t.indexOf(".");if(i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}}))}function $C(t,n){for(var r,i=0,e=t.length;i<e;++i)if((r=t[i]).name===n)return r.value}function ZC(t,n,r){for(var i=0,e=t.length;i<e;++i)if(t[i].name===n){t[i]=zC,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=r&&t.push({name:n,value:r}),t}GC.prototype=VC.prototype={constructor:GC,on:function(t,n){var r,i=this._,e=qC(t+"",i),o=-1,u=e.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(r=(t=e[o]).type)i[r]=ZC(i[r],t.name,n);else if(null==n)for(r in i)i[r]=ZC(i[r],t.name,null);return this}for(;++o<u;)if((r=(t=e[o]).type)&&(r=$C(i[r],t.name)))return r},copy:function(){var t={},n=this._;for(var r in n)t[r]=n[r].slice();return new GC(t)},call:function(t,n){if((r=arguments.length-2)>0)for(var r,i,e=new Array(r),o=0;o<r;++o)e[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,r=(i=this._[t]).length;o<r;++o)i[o].value.apply(n,e)},apply:function(t,n,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],e=0,o=i.length;e<o;++e)i[e].value.apply(n,r)}};var XC,KC,JC=0,QC=0,tD=0,nD=0,rD=0,iD=0,eD="object"==typeof performance&&performance.now?performance:Date,oD="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function uD(){return rD||(oD(aD),rD=eD.now()+iD)}function aD(){rD=0}function sD(){this._call=this._time=this._next=null}function cD(t,n,r){var i=new sD;return i.restart(t,n,r),i}function fD(){rD=(nD=eD.now())+iD,JC=QC=0;try{!function(){uD(),++JC;for(var t,n=XC;n;)(t=rD-n._time)>=0&&n._call.call(null,t),n=n._next;--JC}()}finally{JC=0,function(){for(var t,n,r=XC,i=1/0;r;)r._call?(i>r._time&&(i=r._time),t=r,r=r._next):(n=r._next,r._next=null,r=t?t._next=n:XC=n);KC=t,lD(i)}(),rD=0}}function hD(){var t=eD.now(),n=t-nD;n>1e3&&(iD-=n,nD=t)}function lD(t){JC||(QC&&(QC=clearTimeout(QC)),t-rD>24?(t<1/0&&(QC=setTimeout(fD,t-eD.now()-iD)),tD&&(tD=clearInterval(tD))):(tD||(nD=eD.now(),tD=setInterval(hD,1e3)),JC=1,oD(fD)))}function dD(t,n,r){var i=new sD;return i.restart((function(r){i.stop(),t(r+n)}),n=null==n?0:+n,r),i}sD.prototype=cD.prototype={constructor:sD,restart:function(t,n,r){if("function"!=typeof t)throw new TypeError("callback is not a function");r=(null==r?uD():+r)+(null==n?0:+n),this._next||KC===this||(KC?KC._next=this:XC=this,KC=this),this._call=t,this._time=r,lD()},stop:function(){this._call&&(this._call=null,this._time=1/0,lD())}};var vD=VC("start","end","interrupt"),pD=[];function bD(t,n,r,i,e,o){var u=t.__transition;if(u){if(r in u)return}else t.__transition={};!function(t,n,r){var i,e=t.__transition;function o(t){r.state=1,r.timer.restart(u,r.delay,r.time),r.delay<=t&&u(t-r.delay)}function u(o){var c,f,h,l;if(1!==r.state)return s();for(c in e)if((l=e[c]).name===r.name){if(3===l.state)return dD(u);4===l.state?(l.state=6,l.timer.stop(),l.on.call("interrupt",t,t.__data__,l.index,l.group),delete e[c]):+c<n&&(l.state=6,l.timer.stop(),delete e[c])}if(dD((function(){3===r.state&&(r.state=4,r.timer.restart(a,r.delay,r.time),a(o))})),r.state=2,r.on.call("start",t,t.__data__,r.index,r.group),2===r.state){for(r.state=3,i=new Array(h=r.tween.length),c=0,f=-1;c<h;++c)(l=r.tween[c].value.call(t,t.__data__,r.index,r.group))&&(i[++f]=l);i.length=f+1}}function a(n){for(var e=n<r.duration?r.ease.call(null,n/r.duration):(r.timer.restart(s),r.state=5,1),o=-1,u=i.length;++o<u;)i[o].call(null,e);5===r.state&&(r.on.call("end",t,t.__data__,r.index,r.group),s())}function s(){for(var i in r.state=6,r.timer.stop(),delete e[n],e)return;delete t.__transition}e[n]=r,r.timer=cD(o,0,r.time)}(t,r,{name:n,index:i,group:e,on:vD,tween:pD,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function mD(t,n){var r=wD(t,n);if(r.state>0)throw new Error("too late; already scheduled");return r}function yD(t,n){var r=wD(t,n);if(r.state>2)throw new Error("too late; already started");return r}function wD(t,n){var r=t.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function gD(t,n){var r,i,e,o=t.__transition,u=!0;if(o){for(e in n=null==n?null:n+"",o)(r=o[e]).name===n?(i=r.state>2&&r.state<5,r.state=6,r.timer.stop(),i&&r.on.call("interrupt",t,t.__data__,r.index,r.group),delete o[e]):u=!1;u&&delete t.__transition}}function MD(t){return function(){return t}}function LD(t){return 1==(t=+t)?AD:function(n,r){return r-n?function(t,n,r){return t=Math.pow(t,r),n=Math.pow(n,r)-t,r=1/r,function(i){return Math.pow(t+i*n,r)}}(n,r,t):MD(isNaN(n)?r:n)}}function AD(t,n){var r=n-t;return r?function(t,n){return function(r){return t+r*n}}(t,r):MD(isNaN(t)?n:t)}var ND=function t(n){var r=LD(n);function i(t,n){var i=r((t=Re(t)).r,(n=Re(n)).r),e=r(t.g,n.g),o=r(t.b,n.b),u=AD(t.opacity,n.opacity);return function(n){return t.r=i(n),t.g=e(n),t.b=o(n),t.opacity=u(n),t+""}}return i.gamma=t,i}(1);function ED(t,n){return t=+t,n=+n,function(r){return t*(1-r)+n*r}}var kD=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xD=new RegExp(kD.source,"g");function TD(t,n){var r,i,e,o=kD.lastIndex=xD.lastIndex=0,u=-1,a=[],s=[];for(t+="",n+="";(r=kD.exec(t))&&(i=xD.exec(n));)(e=i.index)>o&&(e=n.slice(o,e),a[u]?a[u]+=e:a[++u]=e),(r=r[0])===(i=i[0])?a[u]?a[u]+=i:a[++u]=i:(a[++u]=null,s.push({i:u,x:ED(r,i)})),o=xD.lastIndex;return o<n.length&&(e=n.slice(o),a[u]?a[u]+=e:a[++u]=e),a.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var r,i=0;i<n;++i)a[(r=s[i]).i]=r.x(t);return a.join("")})}var SD,OD,ID,RD,CD=180/Math.PI,DD={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function FD(t,n,r,i,e,o){var u,a,s;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(s=t*r+n*i)&&(r-=t*s,i-=n*s),(a=Math.sqrt(r*r+i*i))&&(r/=a,i/=a,s/=a),t*i<n*r&&(t=-t,n=-n,s=-s,u=-u),{translateX:e,translateY:o,rotate:Math.atan2(n,t)*CD,skewX:Math.atan(s)*CD,scaleX:u,scaleY:a}}function HD(t,n,r,i){function e(t){return t.length?t.pop()+" ":""}return function(o,u){var a=[],s=[];return o=t(o),u=t(u),function(t,i,e,o,u,a){if(t!==e||i!==o){var s=u.push("translate(",null,n,null,r);a.push({i:s-4,x:ED(t,e)},{i:s-2,x:ED(i,o)})}else(e||o)&&u.push("translate("+e+n+o+r)}(o.translateX,o.translateY,u.translateX,u.translateY,a,s),function(t,n,r,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:r.push(e(r)+"rotate(",null,i)-2,x:ED(t,n)})):n&&r.push(e(r)+"rotate("+n+i)}(o.rotate,u.rotate,a,s),function(t,n,r,o){t!==n?o.push({i:r.push(e(r)+"skewX(",null,i)-2,x:ED(t,n)}):n&&r.push(e(r)+"skewX("+n+i)}(o.skewX,u.skewX,a,s),function(t,n,r,i,o,u){if(t!==r||n!==i){var a=o.push(e(o)+"scale(",null,",",null,")");u.push({i:a-4,x:ED(t,r)},{i:a-2,x:ED(n,i)})}else 1===r&&1===i||o.push(e(o)+"scale("+r+","+i+")")}(o.scaleX,o.scaleY,u.scaleX,u.scaleY,a,s),o=u=null,function(t){for(var n,r=-1,i=s.length;++r<i;)a[(n=s[r]).i]=n.x(t);return a.join("")}}}var WD=HD((function(t){return"none"===t?DD:(SD||(SD=document.createElement("DIV"),OD=document.documentElement,ID=document.defaultView),SD.style.transform=t,t=ID.getComputedStyle(OD.appendChild(SD),null).getPropertyValue("transform"),OD.removeChild(SD),FD(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),jD=HD((function(t){return null==t?DD:(RD||(RD=document.createElementNS("http://www.w3.org/2000/svg","g")),RD.setAttribute("transform",t),(t=RD.transform.baseVal.consolidate())?FD((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):DD)}),", ",")",")");function _D(t,n){var r,i;return function(){var e=yD(this,t),o=e.tween;if(o!==r)for(var u=0,a=(i=r=o).length;u<a;++u)if(i[u].name===n){(i=i.slice()).splice(u,1);break}e.tween=i}}function UD(t,n,r){var i,e;if("function"!=typeof r)throw new Error;return function(){var o=yD(this,t),u=o.tween;if(u!==i){e=(i=u).slice();for(var a={name:n,value:r},s=0,c=e.length;s<c;++s)if(e[s].name===n){e[s]=a;break}s===c&&e.push(a)}o.tween=e}}function PD(t,n,r){var i=t._id;return t.each((function(){var t=yD(this,i);(t.value||(t.value={}))[n]=r.apply(this,arguments)})),function(t){return wD(t,i).value[n]}}function BD(t,n){var r;return("number"==typeof n?ED:n instanceof Te?ND:(r=Te(n))?(n=r,ND):TD)(t,n)}function YD(t){return function(){this.removeAttribute(t)}}function zD(t){return function(){this.removeAttributeNS(t.space,t.local)}}function VD(t,n,r){var i,e;return function(){var o=this.getAttribute(t);return o===r?null:o===i?e:e=n(i=o,r)}}function GD(t,n,r){var i,e;return function(){var o=this.getAttributeNS(t.space,t.local);return o===r?null:o===i?e:e=n(i=o,r)}}function qD(t,n,r){var i,e,o;return function(){var u,a=r(this);if(null!=a)return(u=this.getAttribute(t))===a?null:u===i&&a===e?o:o=n(i=u,e=a);this.removeAttribute(t)}}function $D(t,n,r){var i,e,o;return function(){var u,a=r(this);if(null!=a)return(u=this.getAttributeNS(t.space,t.local))===a?null:u===i&&a===e?o:o=n(i=u,e=a);this.removeAttributeNS(t.space,t.local)}}function ZD(t,n){function r(){var r=this,i=n.apply(r,arguments);return i&&function(n){r.setAttributeNS(t.space,t.local,i(n))}}return r._value=n,r}function XD(t,n){function r(){var r=this,i=n.apply(r,arguments);return i&&function(n){r.setAttribute(t,i(n))}}return r._value=n,r}function KD(t,n){return function(){mD(this,t).delay=+n.apply(this,arguments)}}function JD(t,n){return n=+n,function(){mD(this,t).delay=n}}function QD(t,n){return function(){yD(this,t).duration=+n.apply(this,arguments)}}function tF(t,n){return n=+n,function(){yD(this,t).duration=n}}function nF(t,n){if("function"!=typeof n)throw new Error;return function(){yD(this,t).ease=n}}function rF(t,n,r){var i,e,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?mD:yD;return function(){var u=o(this,t),a=u.on;a!==i&&(e=(i=a).copy()).on(n,r),u.on=e}}var iF=YC.prototype.constructor;function eF(t,n,r){function i(){var i=this,e=n.apply(i,arguments);return e&&function(n){i.style.setProperty(t,e(n),r)}}return i._value=n,i}var oF=0;function uF(t,n,r,i){this._groups=t,this._parents=n,this._name=r,this._id=i}function aF(t){return YC().transition(t)}function sF(){return++oF}var cF=YC.prototype;uF.prototype=aF.prototype={constructor:uF,select:function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=YR(t));for(var i=this._groups,e=i.length,o=new Array(e),u=0;u<e;++u)for(var a,s,c=i[u],f=c.length,h=o[u]=new Array(f),l=0;l<f;++l)(a=c[l])&&(s=t.call(a,a.__data__,l,c))&&("__data__"in a&&(s.__data__=a.__data__),h[l]=s,bD(h[l],n,r,l,h,wD(a,r)));return new uF(o,this._parents,n,r)},selectAll:function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=VR(t));for(var i=this._groups,e=i.length,o=[],u=[],a=0;a<e;++a)for(var s,c=i[a],f=c.length,h=0;h<f;++h)if(s=c[h]){for(var l,d=t.call(s,s.__data__,h,c),v=wD(s,r),p=0,b=d.length;p<b;++p)(l=d[p])&&bD(l,n,r,p,d,v);o.push(d),u.push(s)}return new uF(o,u,n,r)},filter:function(t){"function"!=typeof t&&(t=GR(t));for(var n=this._groups,r=n.length,i=new Array(r),e=0;e<r;++e)for(var o,u=n[e],a=u.length,s=i[e]=[],c=0;c<a;++c)(o=u[c])&&t.call(o,o.__data__,c,u)&&s.push(o);return new uF(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,r=t._groups,i=n.length,e=Math.min(i,r.length),o=new Array(i),u=0;u<e;++u)for(var a,s=n[u],c=r[u],f=s.length,h=o[u]=new Array(f),l=0;l<f;++l)(a=s[l]||c[l])&&(h[l]=a);for(;u<i;++u)o[u]=n[u];return new uF(o,this._parents,this._name,this._id)},selection:function(){return new iF(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,r=sF(),i=this._groups,e=i.length,o=0;o<e;++o)for(var u,a=i[o],s=a.length,c=0;c<s;++c)if(u=a[c]){var f=wD(u,n);bD(u,t,r,c,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new uF(i,this._parents,t,r)},call:cF.call,nodes:cF.nodes,node:cF.node,size:cF.size,empty:cF.empty,each:cF.each,on:function(t,n){var r=this._id;return arguments.length<2?wD(this.node(),r).on.on(t):this.each(rF(r,t,n))},attr:function(t,n){var r=jR(t),i="transform"===r?jD:BD;return this.attrTween(t,"function"==typeof n?(r.local?$D:qD)(r,i,PD(this,"attr."+t,n)):null==n?(r.local?zD:YD)(r):(r.local?GD:VD)(r,i,n+""))},attrTween:function(t,n){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;var i=jR(t);return this.tween(r,(i.local?ZD:XD)(i,n))},style:function(t,n,r){var i="transform"==(t+="")?WD:BD;return null==n?this.styleTween(t,function(t,n){var r,i,e;return function(){var o=sC(this,t),u=(this.style.removeProperty(t),sC(this,t));return o===u?null:o===r&&u===i?e:e=n(r=o,i=u)}}(t,i)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof n?function(t,n,r){var i,e,o;return function(){var u=sC(this,t),a=r(this);return null==a&&(this.style.removeProperty(t),a=sC(this,t)),u===a?null:u===i&&a===e?o:o=n(i=u,e=a)}}(t,i,PD(this,"style."+t,n)):function(t,n,r){var i,e;return function(){var o=sC(this,t);return o===r?null:o===i?e:e=n(i=o,r)}}(t,i,n+""),r)},styleTween:function(t,n,r){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;return this.tween(i,eF(t,n,null==r?"":r))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(PD(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var r=this._id;if(t+="",arguments.length<2){for(var i,e=wD(this.node(),r).tween,o=0,u=e.length;o<u;++o)if((i=e[o]).name===t)return i.value;return null}return this.each((null==n?_D:UD)(r,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?KD:JD)(n,t)):wD(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?QD:tF)(n,t)):wD(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(nF(n,t)):wD(this.node(),n).ease}};var fF={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function hF(t,n){for(var r;!(r=t.__transition)||!(r=r[n]);)if(!(t=t.parentNode))return fF.time=uD(),fF;return r}YC.prototype.interrupt=function(t){return this.each((function(){gD(this,t)}))},YC.prototype.transition=function(t){var n,r;t instanceof uF?(n=t._id,t=t._name):(n=sF(),(r=fF).time=uD(),t=null==t?null:t+"");for(var i=this._groups,e=i.length,o=0;o<e;++o)for(var u,a=i[o],s=a.length,c=0;c<s;++c)(u=a[c])&&bD(u,t,n,c,a,r||hF(u,n));return new uF(i,this._parents,t,n)};var lF=[null];function dF(t){return function(){return t}}function vF(t){return t[0]}function pF(t){return t[1]}function bF(){this._=null}function mF(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function yF(t,n){var r=n,i=n.R,e=r.U;e?e.L===r?e.L=i:e.R=i:t._=i,i.U=e,r.U=i,r.R=i.L,r.R&&(r.R.U=r),i.L=r}function wF(t,n){var r=n,i=n.L,e=r.U;e?e.L===r?e.L=i:e.R=i:t._=i,i.U=e,r.U=i,r.L=i.R,r.L&&(r.L.U=r),i.R=r}function gF(t){for(;t.L;)t=t.L;return t}function MF(t,n,r,i){var e=[null,null],o=VF.push(e)-1;return e.left=t,e.right=n,r&&AF(e,t,n,r),i&&AF(e,n,t,i),YF[t.index].halfedges.push(o),YF[n.index].halfedges.push(o),e}function LF(t,n,r){var i=[n,r];return i.left=t,i}function AF(t,n,r,i){t[0]||t[1]?t.left===r?t[1]=i:t[0]=i:(t[0]=i,t.left=n,t.right=r)}function NF(t,n,r,i,e){var o,u=t[0],a=t[1],s=u[0],c=u[1],f=0,h=1,l=a[0]-s,d=a[1]-c;if(o=n-s,l||!(o>0)){if(o/=l,l<0){if(o<f)return;o<h&&(h=o)}else if(l>0){if(o>h)return;o>f&&(f=o)}if(o=i-s,l||!(o<0)){if(o/=l,l<0){if(o>h)return;o>f&&(f=o)}else if(l>0){if(o<f)return;o<h&&(h=o)}if(o=r-c,d||!(o>0)){if(o/=d,d<0){if(o<f)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>f&&(f=o)}if(o=e-c,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>f&&(f=o)}else if(d>0){if(o<f)return;o<h&&(h=o)}return!(f>0||h<1)||(f>0&&(t[0]=[s+f*l,c+f*d]),h<1&&(t[1]=[s+h*l,c+h*d]),!0)}}}}}function EF(t,n,r,i,e){var o=t[1];if(o)return!0;var u,a,s=t[0],c=t.left,f=t.right,h=c[0],l=c[1],d=f[0],v=f[1],p=(h+d)/2;if(v===l){if(p<n||p>=i)return;if(h>d){if(s){if(s[1]>=e)return}else s=[p,r];o=[p,e]}else{if(s){if(s[1]<r)return}else s=[p,e];o=[p,r]}}else if(a=(l+v)/2-(u=(h-d)/(v-l))*p,u<-1||u>1)if(h>d){if(s){if(s[1]>=e)return}else s=[(r-a)/u,r];o=[(e-a)/u,e]}else{if(s){if(s[1]<r)return}else s=[(e-a)/u,e];o=[(r-a)/u,r]}else if(l<v){if(s){if(s[0]>=i)return}else s=[n,u*n+a];o=[i,u*i+a]}else{if(s){if(s[0]<n)return}else s=[i,u*i+a];o=[n,u*n+a]}return t[0]=s,t[1]=o,!0}function kF(t,n){var r=t.site,i=n.left,e=n.right;return r===e&&(e=i,i=r),e?Math.atan2(e[1]-i[1],e[0]-i[0]):(r===i?(i=n[1],e=n[0]):(i=n[0],e=n[1]),Math.atan2(i[0]-e[0],e[1]-i[1]))}function xF(t,n){return n[+(n.left!==t.site)]}function TF(t,n){return n[+(n.left===t.site)]}bF.prototype={constructor:bF,insert:function(t,n){var r,i,e;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;r=t}else this._?(t=gF(this._),n.P=null,n.N=t,t.P=t.L=n,r=t):(n.P=n.N=null,this._=n,r=null);for(n.L=n.R=null,n.U=r,n.C=!0,t=n;r&&r.C;)r===(i=r.U).L?(e=i.R)&&e.C?(r.C=e.C=!1,i.C=!0,t=i):(t===r.R&&(yF(this,r),r=(t=r).U),r.C=!1,i.C=!0,wF(this,i)):(e=i.L)&&e.C?(r.C=e.C=!1,i.C=!0,t=i):(t===r.L&&(wF(this,r),r=(t=r).U),r.C=!1,i.C=!0,yF(this,i)),r=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,r,i,e=t.U,o=t.L,u=t.R;if(r=o?u?gF(u):o:u,e?e.L===t?e.L=r:e.R=r:this._=r,o&&u?(i=r.C,r.C=t.C,r.L=o,o.U=r,r!==u?(e=r.U,r.U=t.U,e.L=t=r.R,r.R=u,u.U=r):(r.U=e,e=r,t=r.R)):(i=t.C,t=r),t&&(t.U=e),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===e.L){if((n=e.R).C&&(n.C=!1,e.C=!0,yF(this,e),n=e.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,wF(this,n),n=e.R),n.C=e.C,e.C=n.R.C=!1,yF(this,e),t=this._;break}}else if((n=e.L).C&&(n.C=!1,e.C=!0,wF(this,e),n=e.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,yF(this,n),n=e.L),n.C=e.C,e.C=n.L.C=!1,wF(this,e),t=this._;break}n.C=!0,t=e,e=e.U}while(!t.C);t&&(t.C=!1)}}};var SF,OF=[];function IF(){mF(this),this.x=this.y=this.arc=this.site=this.cy=null}function RF(t){var n=t.P,r=t.N;if(n&&r){var i=n.site,e=t.site,o=r.site;if(i!==o){var u=e[0],a=e[1],s=i[0]-u,c=i[1]-a,f=o[0]-u,h=o[1]-a,l=2*(s*h-c*f);if(!(l>=-qF)){var d=s*s+c*c,v=f*f+h*h,p=(h*d-c*v)/l,b=(s*v-f*d)/l,m=OF.pop()||new IF;m.arc=t,m.site=e,m.x=p+u,m.y=(m.cy=b+a)+Math.sqrt(p*p+b*b),t.circle=m;for(var y=null,w=zF._;w;)if(m.y<w.y||m.y===w.y&&m.x<=w.x){if(!w.L){y=w.P;break}w=w.L}else{if(!w.R){y=w;break}w=w.R}zF.insert(y,m),y||(SF=m)}}}}function CF(t){var n=t.circle;n&&(n.P||(SF=n.N),zF.remove(n),OF.push(n),mF(n),t.circle=null)}var DF=[];function FF(){mF(this),this.edge=this.site=this.circle=null}function HF(t){var n=DF.pop()||new FF;return n.site=t,n}function WF(t){CF(t),BF.remove(t),DF.push(t),mF(t)}function jF(t){var n=t.circle,r=n.x,i=n.cy,e=[r,i],o=t.P,u=t.N,a=[t];WF(t);for(var s=o;s.circle&&Math.abs(r-s.circle.x)<GF&&Math.abs(i-s.circle.cy)<GF;)o=s.P,a.unshift(s),WF(s),s=o;a.unshift(s),CF(s);for(var c=u;c.circle&&Math.abs(r-c.circle.x)<GF&&Math.abs(i-c.circle.cy)<GF;)u=c.N,a.push(c),WF(c),c=u;a.push(c),CF(c);var f,h=a.length;for(f=1;f<h;++f)AF((c=a[f]).edge,(s=a[f-1]).site,c.site,e);(c=a[h-1]).edge=MF((s=a[0]).site,c.site,null,e),RF(s),RF(c)}function _F(t){for(var n,r,i,e,o=t[0],u=t[1],a=BF._;a;)if((i=UF(a,u)-o)>GF)a=a.L;else{if(!((e=o-PF(a,u))>GF)){i>-GF?(n=a.P,r=a):e>-GF?(n=a,r=a.N):n=r=a;break}if(!a.R){n=a;break}a=a.R}!function(t){YF[t.index]={site:t,halfedges:[]}}(t);var s=HF(t);if(BF.insert(n,s),n||r){if(n===r)return CF(n),r=HF(n.site),BF.insert(s,r),s.edge=r.edge=MF(n.site,s.site),RF(n),void RF(r);if(r){CF(n),CF(r);var c=n.site,f=c[0],h=c[1],l=t[0]-f,d=t[1]-h,v=r.site,p=v[0]-f,b=v[1]-h,m=2*(l*b-d*p),y=l*l+d*d,w=p*p+b*b,g=[(b*y-d*w)/m+f,(l*w-p*y)/m+h];AF(r.edge,c,v,g),s.edge=MF(c,t,null,g),r.edge=MF(t,v,null,g),RF(n),RF(r)}else s.edge=MF(n.site,s.site)}}function UF(t,n){var r=t.site,i=r[0],e=r[1],o=e-n;if(!o)return i;var u=t.P;if(!u)return-1/0;var a=(r=u.site)[0],s=r[1],c=s-n;if(!c)return a;var f=a-i,h=1/o-1/c,l=f/c;return h?(-l+Math.sqrt(l*l-2*h*(f*f/(-2*c)-s+c/2+e-o/2)))/h+i:(i+a)/2}function PF(t,n){var r=t.N;if(r)return UF(r,n);var i=t.site;return i[1]===n?i[0]:1/0}var BF,YF,zF,VF,GF=1e-6,qF=1e-12;function $F(t,n,r){return(t[0]-r[0])*(n[1]-t[1])-(t[0]-n[0])*(r[1]-t[1])}function ZF(t,n){return n[1]-t[1]||n[0]-t[0]}function XF(t,n){var r,i,e,o=t.sort(ZF).pop();for(VF=[],YF=new Array(t.length),BF=new bF,zF=new bF;;)if(e=SF,o&&(!e||o[1]<e.y||o[1]===e.y&&o[0]<e.x))o[0]===r&&o[1]===i||(_F(o),r=o[0],i=o[1]),o=t.pop();else{if(!e)break;jF(e.arc)}if(function(){for(var t,n,r,i,e=0,o=YF.length;e<o;++e)if((t=YF[e])&&(i=(n=t.halfedges).length)){var u=new Array(i),a=new Array(i);for(r=0;r<i;++r)u[r]=r,a[r]=kF(t,VF[n[r]]);for(u.sort((function(t,n){return a[n]-a[t]})),r=0;r<i;++r)a[r]=n[u[r]];for(r=0;r<i;++r)n[r]=a[r]}}(),n){var u=+n[0][0],a=+n[0][1],s=+n[1][0],c=+n[1][1];(function(t,n,r,i){for(var e,o=VF.length;o--;)EF(e=VF[o],t,n,r,i)&&NF(e,t,n,r,i)&&(Math.abs(e[0][0]-e[1][0])>GF||Math.abs(e[0][1]-e[1][1])>GF)||delete VF[o]})(u,a,s,c),function(t,n,r,i){var e,o,u,a,s,c,f,h,l,d,v,p,b=YF.length,m=!0;for(e=0;e<b;++e)if(o=YF[e]){for(u=o.site,a=(s=o.halfedges).length;a--;)VF[s[a]]||s.splice(a,1);for(a=0,c=s.length;a<c;)v=(d=TF(o,VF[s[a]]))[0],p=d[1],h=(f=xF(o,VF[s[++a%c]]))[0],l=f[1],(Math.abs(v-h)>GF||Math.abs(p-l)>GF)&&(s.splice(a,0,VF.push(LF(u,d,Math.abs(v-t)<GF&&i-p>GF?[t,Math.abs(h-t)<GF?l:i]:Math.abs(p-i)<GF&&r-v>GF?[Math.abs(l-i)<GF?h:r,i]:Math.abs(v-r)<GF&&p-n>GF?[r,Math.abs(h-r)<GF?l:n]:Math.abs(p-n)<GF&&v-t>GF?[Math.abs(l-n)<GF?h:t,n]:null))-1),++c);c&&(m=!1)}if(m){var y,w,g,M=1/0;for(e=0,m=null;e<b;++e)(o=YF[e])&&(g=(y=(u=o.site)[0]-t)*y+(w=u[1]-n)*w)<M&&(M=g,m=o);if(m){var L=[t,n],A=[t,i],N=[r,i],E=[r,n];m.halfedges.push(VF.push(LF(u=m.site,L,A))-1,VF.push(LF(u,A,N))-1,VF.push(LF(u,N,E))-1,VF.push(LF(u,E,L))-1)}}for(e=0;e<b;++e)(o=YF[e])&&(o.halfedges.length||delete YF[e])}(u,a,s,c)}this.edges=VF,this.cells=YF,BF=zF=VF=YF=null}XF.prototype={constructor:XF,polygons:function(){var t=this.edges;return this.cells.map((function(n){var r=n.halfedges.map((function(r){return xF(n,t[r])}));return r.data=n.site.data,r}))},triangles:function(){var t=[],n=this.edges;return this.cells.forEach((function(r,i){if(o=(e=r.halfedges).length)for(var e,o,u,a=r.site,s=-1,c=n[e[o-1]],f=c.left===a?c.right:c.left;++s<o;)u=f,f=(c=n[e[s]]).left===a?c.right:c.left,u&&f&&i<u.index&&i<f.index&&$F(a,u,f)<0&&t.push([a.data,u.data,f.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,n,r){for(var i,e,o=this,u=o._found||0,a=o.cells.length;!(e=o.cells[u]);)if(++u>=a)return null;var s=t-e.site[0],c=n-e.site[1],f=s*s+c*c;do{e=o.cells[i=u],u=null,e.halfedges.forEach((function(r){var i=o.edges[r],a=i.left;if(a!==e.site&&a||(a=i.right)){var s=t-a[0],c=n-a[1],h=s*s+c*c;h<f&&(f=h,u=a.index)}}))}while(null!==u);return o._found=i,null==r||f<=r*r?e.site:null}};var KF=Xa("start","end","cancel","interrupt"),JF=[];function QF(t,n,r,i,e,o){var u=t.__transition;if(u){if(r in u)return}else t.__transition={};!function(t,n,r){var i,e=t.__transition;function o(t){r.state=1,r.timer.restart(u,r.delay,r.time),r.delay<=t&&u(t-r.delay)}function u(o){var c,f,h,l;if(1!==r.state)return s();for(c in e)if((l=e[c]).name===r.name){if(3===l.state)return ys(u);4===l.state?(l.state=6,l.timer.stop(),l.on.call("interrupt",t,t.__data__,l.index,l.group),delete e[c]):+c<n&&(l.state=6,l.timer.stop(),l.on.call("cancel",t,t.__data__,l.index,l.group),delete e[c])}if(ys((function(){3===r.state&&(r.state=4,r.timer.restart(a,r.delay,r.time),a(o))})),r.state=2,r.on.call("start",t,t.__data__,r.index,r.group),2===r.state){for(r.state=3,i=new Array(h=r.tween.length),c=0,f=-1;c<h;++c)(l=r.tween[c].value.call(t,t.__data__,r.index,r.group))&&(i[++f]=l);i.length=f+1}}function a(n){for(var e=n<r.duration?r.ease.call(null,n/r.duration):(r.timer.restart(s),r.state=5,1),o=-1,u=i.length;++o<u;)i[o].call(t,e);5===r.state&&(r.on.call("end",t,t.__data__,r.index,r.group),s())}function s(){for(var i in r.state=6,r.timer.stop(),delete e[n],e)return;delete t.__transition}e[n]=r,r.timer=vs(o,0,r.time)}(t,r,{name:n,index:i,group:e,on:KF,tween:JF,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function tH(t,n){var r=rH(t,n);if(r.state>0)throw new Error("too late; already scheduled");return r}function nH(t,n){var r=rH(t,n);if(r.state>3)throw new Error("too late; already running");return r}function rH(t,n){var r=t.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function iH(t,n){var r,i,e,o=t.__transition,u=!0;if(o){for(e in n=null==n?null:n+"",o)(r=o[e]).name===n?(i=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete o[e]):u=!1;u&&delete t.__transition}}function eH(t,n){var r,i;return function(){var e=nH(this,t),o=e.tween;if(o!==r)for(var u=0,a=(i=r=o).length;u<a;++u)if(i[u].name===n){(i=i.slice()).splice(u,1);break}e.tween=i}}function oH(t,n,r){var i,e;if("function"!=typeof r)throw new Error;return function(){var o=nH(this,t),u=o.tween;if(u!==i){e=(i=u).slice();for(var a={name:n,value:r},s=0,c=e.length;s<c;++s)if(e[s].name===n){e[s]=a;break}s===c&&e.push(a)}o.tween=e}}function uH(t,n,r){var i=t._id;return t.each((function(){var t=nH(this,i);(t.value||(t.value={}))[n]=r.apply(this,arguments)})),function(t){return rH(t,i).value[n]}}function aH(t,n){var r;return("number"==typeof n?So:n instanceof Te?Eo:(r=Te(n))?(n=r,Eo):Co)(t,n)}function sH(t){return function(){this.removeAttribute(t)}}function cH(t){return function(){this.removeAttributeNS(t.space,t.local)}}function fH(t,n,r){var i,e,o=r+"";return function(){var u=this.getAttribute(t);return u===o?null:u===i?e:e=n(i=u,r)}}function hH(t,n,r){var i,e,o=r+"";return function(){var u=this.getAttributeNS(t.space,t.local);return u===o?null:u===i?e:e=n(i=u,r)}}function lH(t,n,r){var i,e,o;return function(){var u,a,s=r(this);if(null!=s)return(u=this.getAttribute(t))===(a=s+"")?null:u===i&&a===e?o:(e=a,o=n(i=u,s));this.removeAttribute(t)}}function dH(t,n,r){var i,e,o;return function(){var u,a,s=r(this);if(null!=s)return(u=this.getAttributeNS(t.space,t.local))===(a=s+"")?null:u===i&&a===e?o:(e=a,o=n(i=u,s));this.removeAttributeNS(t.space,t.local)}}function vH(t,n){return function(r){this.setAttribute(t,n.call(this,r))}}function pH(t,n){return function(r){this.setAttributeNS(t.space,t.local,n.call(this,r))}}function bH(t,n){var r,i;function e(){var e=n.apply(this,arguments);return e!==i&&(r=(i=e)&&pH(t,e)),r}return e._value=n,e}function mH(t,n){var r,i;function e(){var e=n.apply(this,arguments);return e!==i&&(r=(i=e)&&vH(t,e)),r}return e._value=n,e}function yH(t,n){return function(){tH(this,t).delay=+n.apply(this,arguments)}}function wH(t,n){return n=+n,function(){tH(this,t).delay=n}}function gH(t,n){return function(){nH(this,t).duration=+n.apply(this,arguments)}}function MH(t,n){return n=+n,function(){nH(this,t).duration=n}}function LH(t,n){if("function"!=typeof n)throw new Error;return function(){nH(this,t).ease=n}}function AH(t,n,r){var i,e,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?tH:nH;return function(){var u=o(this,t),a=u.on;a!==i&&(e=(i=a).copy()).on(n,r),u.on=e}}var NH=dt.prototype.constructor;function EH(t){return function(){this.style.removeProperty(t)}}function kH(t,n,r){return function(i){this.style.setProperty(t,n.call(this,i),r)}}function xH(t,n,r){var i,e;function o(){var o=n.apply(this,arguments);return o!==e&&(i=(e=o)&&kH(t,o,r)),i}return o._value=n,o}function TH(t){return function(n){this.textContent=t.call(this,n)}}function SH(t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&TH(i)),n}return i._value=t,i}var OH=0;function IH(t,n,r,i){this._groups=t,this._parents=n,this._name=r,this._id=i}function RH(){return++OH}var CH=dt.prototype;IH.prototype={constructor:IH,select:function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=h(t));for(var i=this._groups,e=i.length,o=new Array(e),u=0;u<e;++u)for(var a,s,c=i[u],f=c.length,l=o[u]=new Array(f),d=0;d<f;++d)(a=c[d])&&(s=t.call(a,a.__data__,d,c))&&("__data__"in a&&(s.__data__=a.__data__),l[d]=s,QF(l[d],n,r,d,l,rH(a,r)));return new IH(o,this._parents,n,r)},selectAll:function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=d(t));for(var i=this._groups,e=i.length,o=[],u=[],a=0;a<e;++a)for(var s,c=i[a],f=c.length,h=0;h<f;++h)if(s=c[h]){for(var l,v=t.call(s,s.__data__,h,c),p=rH(s,r),b=0,m=v.length;b<m;++b)(l=v[b])&&QF(l,n,r,b,v,p);o.push(v),u.push(s)}return new IH(o,u,n,r)},filter:function(t){"function"!=typeof t&&(t=v(t));for(var n=this._groups,r=n.length,i=new Array(r),e=0;e<r;++e)for(var o,u=n[e],a=u.length,s=i[e]=[],c=0;c<a;++c)(o=u[c])&&t.call(o,o.__data__,c,u)&&s.push(o);return new IH(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,r=t._groups,i=n.length,e=Math.min(i,r.length),o=new Array(i),u=0;u<e;++u)for(var a,s=n[u],c=r[u],f=s.length,h=o[u]=new Array(f),l=0;l<f;++l)(a=s[l]||c[l])&&(h[l]=a);for(;u<i;++u)o[u]=n[u];return new IH(o,this._parents,this._name,this._id)},selection:function(){return new NH(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,r=RH(),i=this._groups,e=i.length,o=0;o<e;++o)for(var u,a=i[o],s=a.length,c=0;c<s;++c)if(u=a[c]){var f=rH(u,n);QF(u,t,r,c,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new IH(i,this._parents,t,r)},call:CH.call,nodes:CH.nodes,node:CH.node,size:CH.size,empty:CH.empty,each:CH.each,on:function(t,n){var r=this._id;return arguments.length<2?rH(this.node(),r).on.on(t):this.each(AH(r,t,n))},attr:function(t,n){var r=u(t),i="transform"===r?Vo:aH;return this.attrTween(t,"function"==typeof n?(r.local?dH:lH)(r,i,uH(this,"attr."+t,n)):null==n?(r.local?cH:sH)(r):(r.local?hH:fH)(r,i,n))},attrTween:function(t,n){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;var i=u(t);return this.tween(r,(i.local?bH:mH)(i,n))},style:function(t,n,r){var i="transform"==(t+="")?zo:aH;return null==n?this.styleTween(t,function(t,n){var r,i,e;return function(){var o=O(this,t),u=(this.style.removeProperty(t),O(this,t));return o===u?null:o===r&&u===i?e:e=n(r=o,i=u)}}(t,i)).on("end.style."+t,EH(t)):"function"==typeof n?this.styleTween(t,function(t,n,r){var i,e,o;return function(){var u=O(this,t),a=r(this),s=a+"";return null==a&&(this.style.removeProperty(t),s=a=O(this,t)),u===s?null:u===i&&s===e?o:(e=s,o=n(i=u,a))}}(t,i,uH(this,"style."+t,n))).each(function(t,n){var r,i,e,o,u="style."+n,a="end."+u;return function(){var s=nH(this,t),c=s.on,f=null==s.value[u]?o||(o=EH(n)):void 0;c===r&&e===f||(i=(r=c).copy()).on(a,e=f),s.on=i}}(this._id,t)):this.styleTween(t,function(t,n,r){var i,e,o=r+"";return function(){var u=O(this,t);return u===o?null:u===i?e:e=n(i=u,r)}}(t,i,n),r).on("end.style."+t,null)},styleTween:function(t,n,r){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;return this.tween(i,xH(t,n,null==r?"":r))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(uH(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,SH(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var r=this._id;if(t+="",arguments.length<2){for(var i,e=rH(this.node(),r).tween,o=0,u=e.length;o<u;++o)if((i=e[o]).name===t)return i.value;return null}return this.each((null==n?eH:oH)(r,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?yH:wH)(n,t)):rH(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?gH:MH)(n,t)):rH(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(LH(n,t)):rH(this.node(),n).ease},end:function(){var t,n,r=this,i=r._id,e=r.size();return new Promise((function(o,u){var a={value:u},s={value:function(){0==--e&&o()}};r.each((function(){var r=nH(this,i),e=r.on;e!==t&&((n=(t=e).copy())._.cancel.push(a),n._.interrupt.push(a),n._.end.push(s)),r.on=n}))}))}};var DH={time:null,delay:0,duration:250,ease:Xs};function FH(t,n){for(var r;!(r=t.__transition)||!(r=r[n]);)if(!(t=t.parentNode))return DH.time=hs(),DH;return r}function HH(t){return function(){return t}}function WH(t,n,r){this.target=t,this.type=n,this.transform=r}function jH(t,n,r){this.k=t,this.x=n,this.y=r}dt.prototype.interrupt=function(t){return this.each((function(){iH(this,t)}))},dt.prototype.transition=function(t){var n,r;t instanceof IH?(n=t._id,t=t._name):(n=RH(),(r=DH).time=hs(),t=null==t?null:t+"");for(var i=this._groups,e=i.length,o=0;o<e;++o)for(var u,a=i[o],s=a.length,c=0;c<s;++c)(u=a[c])&&QF(u,t,n,c,a,r||FH(u,n));return new IH(i,this._parents,t,n)},jH.prototype={constructor:jH,scale:function(t){return 1===t?this:new jH(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new jH(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var _H=new jH(1,0,0);function UH(t){return t.__zoom||_H}function PH(){nt.stopImmediatePropagation()}function BH(){nt.preventDefault(),nt.stopImmediatePropagation()}function YH(){return!nt.button}function zH(){var t,n,r=this;return r instanceof SVGElement?(t=(r=r.ownerSVGElement||r).width.baseVal.value,n=r.height.baseVal.value):(t=r.clientWidth,n=r.clientHeight),[[0,0],[t,n]]}function VH(){return this.__zoom||_H}function GH(){return-nt.deltaY*(nt.deltaMode?120:1)/500}function qH(){return"ontouchstart"in this}function $H(t,n,r){var i=t.invertX(n[0][0])-r[0][0],e=t.invertX(n[1][0])-r[1][0],o=t.invertY(n[0][1])-r[0][1],u=t.invertY(n[1][1])-r[1][1];return t.translate(e>i?(i+e)/2:Math.min(0,i)||Math.max(0,e),u>o?(o+u)/2:Math.min(0,o)||Math.max(0,u))}UH.prototype=jH.prototype;var ZH=Object.freeze({__proto__:null,version:"4.13.0",bisect:wf,bisectRight:wf,bisectLeft:gf,ascending:bf,bisector:mf,cross:function(t,n,r){var i,e,o,u,a=t.length,s=n.length,c=new Array(a*s);for(null==r&&(r=Mf),i=o=0;i<a;++i)for(u=t[i],e=0;e<s;++e,++o)c[o]=r(u,n[e]);return c},descending:function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},deviation:Nf,extent:Ef,histogram:function(){var t=Of,n=Ef,r=Wf;function i(i){var e,o,u=i.length,a=new Array(u);for(e=0;e<u;++e)a[e]=t(i[e],e,i);var s=n(a),c=s[0],f=s[1],h=r(a,c,f);Array.isArray(h)||(h=Hf(c,f,h),h=If(Math.ceil(c/h)*h,Math.floor(f/h)*h,h));for(var l=h.length;h[0]<=c;)h.shift(),--l;for(;h[l-1]>f;)h.pop(),--l;var d,v=new Array(l+1);for(e=0;e<=l;++e)(d=v[e]=[]).x0=e>0?h[e-1]:c,d.x1=e<l?h[e]:f;for(e=0;e<u;++e)c<=(o=a[e])&&o<=f&&v[wf(h,o,0,l)].push(i[e]);return v}return i.value=function(n){return arguments.length?(t="function"==typeof n?n:Sf(n),i):t},i.domain=function(t){return arguments.length?(n="function"==typeof t?t:Sf([t[0],t[1]]),i):n},i.thresholds=function(t){return arguments.length?(r="function"==typeof t?t:Array.isArray(t)?Sf(xf.call(t)):Sf(t),i):r},i},thresholdFreedmanDiaconis:function(t,n,r){return t=Tf.call(t,Lf).sort(bf),Math.ceil((r-n)/(2*(jf(t,.75)-jf(t,.25))*Math.pow(t.length,-1/3)))},thresholdScott:function(t,n,r){return Math.ceil((r-n)/(3.5*Nf(t)*Math.pow(t.length,-1/3)))},thresholdSturges:Wf,max:function(t,n){var r,i,e=t.length,o=-1;if(null==n){for(;++o<e;)if(null!=(r=t[o])&&r>=r)for(i=r;++o<e;)null!=(r=t[o])&&r>i&&(i=r)}else for(;++o<e;)if(null!=(r=n(t[o],o,t))&&r>=r)for(i=r;++o<e;)null!=(r=n(t[o],o,t))&&r>i&&(i=r);return i},mean:function(t,n){var r,i=t.length,e=i,o=-1,u=0;if(null==n)for(;++o<i;)isNaN(r=Lf(t[o]))?--e:u+=r;else for(;++o<i;)isNaN(r=Lf(n(t[o],o,t)))?--e:u+=r;if(e)return u/e},median:function(t,n){var r,i=t.length,e=-1,o=[];if(null==n)for(;++e<i;)isNaN(r=Lf(t[e]))||o.push(r);else for(;++e<i;)isNaN(r=Lf(n(t[e],e,t)))||o.push(r);return jf(o.sort(bf),.5)},merge:function(t){for(var n,r,i,e=t.length,o=-1,u=0;++o<e;)u+=t[o].length;for(r=new Array(u);--e>=0;)for(n=(i=t[e]).length;--n>=0;)r[--u]=i[n];return r},min:_f,pairs:function(t,n){null==n&&(n=Mf);for(var r=0,i=t.length-1,e=t[0],o=new Array(i<0?0:i);r<i;)o[r]=n(e,e=t[++r]);return o},permute:function(t,n){for(var r=n.length,i=new Array(r);r--;)i[r]=t[n[r]];return i},quantile:jf,range:If,scan:function(t,n){if(r=t.length){var r,i,e=0,o=0,u=t[o];for(null==n&&(n=bf);++e<r;)(n(i=t[e],u)<0||0!==n(u,u))&&(u=i,o=e);return 0===n(u,u)?o:void 0}},shuffle:function(t,n,r){for(var i,e,o=(null==r?t.length:r)-(n=null==n?0:+n);o;)e=Math.random()*o--|0,i=t[o+n],t[o+n]=t[e+n],t[e+n]=i;return t},sum:function(t,n){var r,i=t.length,e=-1,o=0;if(null==n)for(;++e<i;)(r=+t[e])&&(o+=r);else for(;++e<i;)(r=+n(t[e],e,t))&&(o+=r);return o},ticks:function(t,n,r){var i,e,o,u,a=-1;if(r=+r,(t=+t)==(n=+n)&&r>0)return[t];if((i=n<t)&&(e=t,t=n,n=e),0===(u=Ff(t,n,r))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),n=Math.floor(n/u),o=new Array(e=Math.ceil(n-t+1));++a<e;)o[a]=(t+a)*u;else for(t=Math.floor(t*u),n=Math.ceil(n*u),o=new Array(e=Math.ceil(t-n+1));++a<e;)o[a]=(t-a)/u;return i&&o.reverse(),o},tickIncrement:Ff,tickStep:Hf,transpose:Uf,variance:Af,zip:function(){return Uf(arguments)},axisTop:function(t){return Xf(1,t)},axisRight:function(t){return Xf(2,t)},axisBottom:function(t){return Xf(3,t)},axisLeft:function(t){return Xf(4,t)},brush:function(){return ul(Zh)},brushX:function(){return ul(qh)},brushY:function(){return ul($h)},brushSelection:function(t){var n=t.__brush;return n?n.dim.output(n.selection):null},chord:function(){var t=0,n=null,r=null,i=null;function e(e){var o,u,a,s,c,f,h=e.length,l=[],d=Gi(h),v=[],p=[],b=p.groups=new Array(h),m=new Array(h*h);for(o=0,c=-1;++c<h;){for(u=0,f=-1;++f<h;)u+=e[c][f];l.push(u),v.push(Gi(h)),o+=u}for(n&&d.sort((function(t,r){return n(l[t],l[r])})),r&&v.forEach((function(t,n){t.sort((function(t,i){return r(e[n][t],e[n][i])}))})),s=(o=ll(0,hl-t*h)/o)?t:hl/h,u=0,c=-1;++c<h;){for(a=u,f=-1;++f<h;){var y=d[c],w=v[y][f],g=e[y][w],M=u,L=u+=g*o;m[w*h+y]={index:y,subindex:w,startAngle:M,endAngle:L,value:g}}b[y]={index:y,startAngle:a,endAngle:u,value:l[y]},u+=s}for(c=-1;++c<h;)for(f=c-1;++f<h;){var A=m[f*h+c],N=m[c*h+f];(A.value||N.value)&&p.push(A.value<N.value?{source:N,target:A}:{source:A,target:N})}return i?p.sort(i):p}return e.padAngle=function(n){return arguments.length?(t=ll(0,n),e):t},e.sortGroups=function(t){return arguments.length?(n=t,e):n},e.sortSubgroups=function(t){return arguments.length?(r=t,e):r},e.sortChords=function(t){return arguments.length?(null==t?i=null:(i=dl(t))._=t,e):i&&i._},e},ribbon:function(){var t=bl,n=ml,r=yl,i=wl,e=gl,o=null;function u(){var u,a=vl.call(arguments),s=t.apply(this,a),c=n.apply(this,a),f=+r.apply(this,(a[0]=s,a)),h=i.apply(this,a)-fl,l=e.apply(this,a)-fl,d=f*al(h),v=f*sl(h),p=+r.apply(this,(a[0]=c,a)),b=i.apply(this,a)-fl,m=e.apply(this,a)-fl;if(o||(o=u=Du()),o.moveTo(d,v),o.arc(0,0,f,h,l),h===b&&l===m||(o.quadraticCurveTo(0,0,p*al(b),p*sl(b)),o.arc(0,0,p,b,m)),o.quadraticCurveTo(0,0,d,v),o.closePath(),u)return o=null,u+""||null}return u.radius=function(t){return arguments.length?(r="function"==typeof t?t:pl(+t),u):r},u.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:pl(+t),u):i},u.endAngle=function(t){return arguments.length?(e="function"==typeof t?t:pl(+t),u):e},u.source=function(n){return arguments.length?(t=n,u):t},u.target=function(t){return arguments.length?(n=t,u):n},u.context=function(t){return arguments.length?(o=null==t?null:t,u):o},u},nest:function(){var t,n,r,i=[],e=[];function o(r,e,u,a){if(e>=i.length)return null!=t&&r.sort(t),null!=n?n(r):r;for(var s,c,f,h=-1,l=r.length,d=i[e++],v=Al(),p=u();++h<l;)(f=v.get(s=d(c=r[h])+""))?f.push(c):v.set(s,[c]);return v.each((function(t,n){a(p,n,o(t,e,u,a))})),p}function u(t,r){if(++r>i.length)return t;var o,a=e[r-1];return null!=n&&r>=i.length?o=t.entries():(o=[],t.each((function(t,n){o.push({key:n,values:u(t,r)})}))),null!=a?o.sort((function(t,n){return a(t.key,n.key)})):o}return r={object:function(t){return o(t,0,Nl,El)},map:function(t){return o(t,0,kl,xl)},entries:function(t){return u(o(t,0,kl,xl),0)},key:function(t){return i.push(t),r},sortKeys:function(t){return e[i.length-1]=t,r},sortValues:function(n){return t=n,r},rollup:function(t){return n=t,r}}},set:Ol,map:Al,keys:function(t){var n=[];for(var r in t)n.push(r);return n},values:function(t){var n=[];for(var r in t)n.push(t[r]);return n},entries:function(t){var n=[];for(var r in t)n.push({key:r,value:t[r]});return n},color:Te,rgb:Re,hsl:Pe,lab:to,hcl:ao,lch:function(t,n,r,i){return 1===arguments.length?uo(t):new so(r,n,t,null==i?1:i)},gray:function(t,n){return new no(t,0,0,null==n?1:n)},cubehelix:go,dispatch:Rl,drag:function(){var t,n,r,i,e=av,o=sv,u=cv,a=fv,s={},c=jl("start","drag","end"),f=0,h=0;function l(t){t.on("mousedown.drag",d).filter(a).on("touchstart.drag",b).on("touchmove.drag",m).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!i&&e.apply(this,arguments)){var u=w("mouse",o.apply(this,arguments),Qd,this,arguments);u&&(Xd(jd.view).on("mousemove.drag",v,!0).on("mouseup.drag",p,!0),iv(jd.view),nv(),r=!1,t=jd.clientX,n=jd.clientY,u("start"))}}function v(){if(rv(),!r){var i=jd.clientX-t,e=jd.clientY-n;r=i*i+e*e>h}s.mouse("drag")}function p(){Xd(jd.view).on("mousemove.drag mouseup.drag",null),ev(jd.view,r),rv(),s.mouse("end")}function b(){if(e.apply(this,arguments)){var t,n,r=jd.changedTouches,i=o.apply(this,arguments),u=r.length;for(t=0;t<u;++t)(n=w(r[t].identifier,i,tv,this,arguments))&&(nv(),n("start"))}}function m(){var t,n,r=jd.changedTouches,i=r.length;for(t=0;t<i;++t)(n=s[r[t].identifier])&&(rv(),n("drag"))}function y(){var t,n,r=jd.changedTouches,e=r.length;for(i&&clearTimeout(i),i=setTimeout((function(){i=null}),500),t=0;t<e;++t)(n=s[r[t].identifier])&&(nv(),n("end"))}function w(t,n,r,i,e){var o,a,h,d=r(n,t),v=c.copy();if(zd(new uv(l,"beforestart",o,t,f,d[0],d[1],0,0,v),(function(){return null!=(jd.subject=o=u.apply(i,e))&&(a=o.x-d[0]||0,h=o.y-d[1]||0,!0)})))return function u(c){var p,b=d;switch(c){case"start":s[t]=u,p=f++;break;case"end":delete s[t],--f;case"drag":d=r(n,t),p=f}zd(new uv(l,c,o,t,p,d[0]+a,d[1]+h,d[0]-b[0],d[1]-b[1],v),v.apply,v,[c,i,e])}}return l.filter=function(t){return arguments.length?(e="function"==typeof t?t:ov(!!t),l):e},l.container=function(t){return arguments.length?(o="function"==typeof t?t:ov(t),l):o},l.subject=function(t){return arguments.length?(u="function"==typeof t?t:ov(t),l):u},l.touchable=function(t){return arguments.length?(a="function"==typeof t?t:ov(!!t),l):a},l.on=function(){var t=c.on.apply(c,arguments);return t===c?l:t},l.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,l):Math.sqrt(h)},l},dragDisable:iv,dragEnable:ev,dsvFormat:vv,csvParse:bv,csvParseRows:mv,csvFormat:yv,csvFormatRows:wv,tsvParse:Mv,tsvParseRows:Lv,tsvFormat:Av,tsvFormatRows:Nv,easeLinear:function(t){return+t},easeQuad:Ev,easeQuadIn:function(t){return t*t},easeQuadOut:function(t){return t*(2-t)},easeQuadInOut:Ev,easeCubic:kv,easeCubicIn:function(t){return t*t*t},easeCubicOut:function(t){return--t*t*t+1},easeCubicInOut:kv,easePoly:Sv,easePolyIn:xv,easePolyOut:Tv,easePolyInOut:Sv,easeSin:Rv,easeSinIn:function(t){return 1-Math.cos(t*Iv)},easeSinOut:function(t){return Math.sin(t*Iv)},easeSinInOut:Rv,easeExp:Cv,easeExpIn:function(t){return Math.pow(2,10*t-10)},easeExpOut:function(t){return 1-Math.pow(2,-10*t)},easeExpInOut:Cv,easeCircle:Dv,easeCircleIn:function(t){return 1-Math.sqrt(1-t*t)},easeCircleOut:function(t){return Math.sqrt(1- --t*t)},easeCircleInOut:Dv,easeBounce:Wv,easeBounceIn:function(t){return 1-Wv(1-t)},easeBounceOut:Wv,easeBounceInOut:function(t){return((t*=2)<=1?1-Wv(1-t):Wv(t-1)+1)/2},easeBack:Pv,easeBackIn:_v,easeBackOut:Uv,easeBackInOut:Pv,easeElastic:zv,easeElasticIn:Yv,easeElasticOut:zv,easeElasticInOut:Vv,forceCenter:function(t,n){var r;function i(){var i,e,o=r.length,u=0,a=0;for(i=0;i<o;++i)u+=(e=r[i]).x,a+=e.y;for(u=u/o-t,a=a/o-n,i=0;i<o;++i)(e=r[i]).x-=u,e.y-=a}return null==t&&(t=0),null==n&&(n=0),i.initialize=function(t){r=t},i.x=function(n){return arguments.length?(t=+n,i):t},i.y=function(t){return arguments.length?(n=+t,i):n},i},forceCollide:function(t){var n,r,i=1,e=1;function o(){for(var t,o,a,s,c,f,h,l=n.length,d=0;d<e;++d)for(o=Jv(n,rp,ip).visitAfter(u),t=0;t<l;++t)h=(f=r[(a=n[t]).index])*f,s=a.x+a.vx,c=a.y+a.vy,o.visit(v);function v(t,n,r,e,o){var u=t.data,l=t.r,d=f+l;if(!u)return n>s+d||e<s-d||r>c+d||o<c-d;if(u.index>a.index){var v=s-u.x-u.vx,p=c-u.y-u.vy,b=v*v+p*p;b<d*d&&(0===v&&(b+=(v=qv())*v),0===p&&(b+=(p=qv())*p),b=(d-(b=Math.sqrt(b)))/b*i,a.vx+=(v*=b)*(d=(l*=l)/(h+l)),a.vy+=(p*=b)*d,u.vx-=v*(d=1-d),u.vy-=p*d)}}}function u(t){if(t.data)return t.r=r[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function a(){if(n){var i,e,o=n.length;for(r=new Array(o),i=0;i<o;++i)r[(e=n[i]).index]=+t(e,i,n)}}return"function"!=typeof t&&(t=Gv(null==t?1:+t)),o.initialize=function(t){n=t,a()},o.iterations=function(t){return arguments.length?(e=+t,o):e},o.strength=function(t){return arguments.length?(i=+t,o):i},o.radius=function(n){return arguments.length?(t="function"==typeof n?n:Gv(+n),a(),o):t},o},forceLink:function(t){var n,r,i,e,o,u=ep,a=function(t){return 1/Math.min(e[t.source.index],e[t.target.index])},s=Gv(30),c=1;function f(i){for(var e=0,u=t.length;e<c;++e)for(var a,s,f,h,l,d,v,p=0;p<u;++p)h=(f=(a=t[p]).target).x+f.vx-(s=a.source).x-s.vx||qv(),l=f.y+f.vy-s.y-s.vy||qv(),l*=d=((d=Math.sqrt(h*h+l*l))-r[p])/d*i*n[p],f.vx-=(h*=d)*(v=o[p]),f.vy-=l*v,s.vx+=h*(v=1-v),s.vy+=l*v}function h(){if(i){var a,s,c=i.length,f=t.length,h=ee(i,u);for(a=0,e=new Array(c);a<f;++a)(s=t[a]).index=a,"object"!=typeof s.source&&(s.source=op(h,s.source)),"object"!=typeof s.target&&(s.target=op(h,s.target)),e[s.source.index]=(e[s.source.index]||0)+1,e[s.target.index]=(e[s.target.index]||0)+1;for(a=0,o=new Array(f);a<f;++a)o[a]=e[(s=t[a]).source.index]/(e[s.source.index]+e[s.target.index]);n=new Array(f),l(),r=new Array(f),d()}}function l(){if(i)for(var r=0,e=t.length;r<e;++r)n[r]=+a(t[r],r,t)}function d(){if(i)for(var n=0,e=t.length;n<e;++n)r[n]=+s(t[n],n,t)}return null==t&&(t=[]),f.initialize=function(t){i=t,h()},f.links=function(n){return arguments.length?(t=n,h(),f):t},f.id=function(t){return arguments.length?(u=t,f):u},f.iterations=function(t){return arguments.length?(c=+t,f):c},f.strength=function(t){return arguments.length?(a="function"==typeof t?t:Gv(+t),l(),f):a},f.distance=function(t){return arguments.length?(s="function"==typeof t?t:Gv(+t),d(),f):s},f},forceManyBody:function(){var t,n,r,i,e=Gv(-30),o=1,u=1/0,a=.81;function s(i){var e,o=t.length,u=Jv(t,up,ap).visitAfter(f);for(r=i,e=0;e<o;++e)n=t[e],u.visit(h)}function c(){if(t){var n,r,o=t.length;for(i=new Array(o),n=0;n<o;++n)i[(r=t[n]).index]=+e(r,n,t)}}function f(t){var n,r,e,o,u,a=0,s=0;if(t.length){for(e=o=u=0;u<4;++u)(n=t[u])&&(r=Math.abs(n.value))&&(a+=n.value,s+=r,e+=r*n.x,o+=r*n.y);t.x=e/s,t.y=o/s}else{(n=t).x=n.data.x,n.y=n.data.y;do{a+=i[n.data.index]}while(n=n.next)}t.value=a}function h(t,e,s,c){if(!t.value)return!0;var f=t.x-n.x,h=t.y-n.y,l=c-e,d=f*f+h*h;if(l*l/a<d)return d<u&&(0===f&&(d+=(f=qv())*f),0===h&&(d+=(h=qv())*h),d<o&&(d=Math.sqrt(o*d)),n.vx+=f*t.value*r/d,n.vy+=h*t.value*r/d),!0;if(!(t.length||d>=u)){(t.data!==n||t.next)&&(0===f&&(d+=(f=qv())*f),0===h&&(d+=(h=qv())*h),d<o&&(d=Math.sqrt(o*d)));do{t.data!==n&&(n.vx+=f*(l=i[t.data.index]*r/d),n.vy+=h*l)}while(t=t.next)}}return s.initialize=function(n){t=n,c()},s.strength=function(t){return arguments.length?(e="function"==typeof t?t:Gv(+t),c(),s):e},s.distanceMin=function(t){return arguments.length?(o=t*t,s):Math.sqrt(o)},s.distanceMax=function(t){return arguments.length?(u=t*t,s):Math.sqrt(u)},s.theta=function(t){return arguments.length?(a=t*t,s):Math.sqrt(a)},s},forceRadial:function(t,n,r){var i,e,o,u=Gv(.1);function a(t){for(var u=0,a=i.length;u<a;++u){var s=i[u],c=s.x-n||1e-6,f=s.y-r||1e-6,h=Math.sqrt(c*c+f*f),l=(o[u]-h)*e[u]*t/h;s.vx+=c*l,s.vy+=f*l}}function s(){if(i){var n,r=i.length;for(e=new Array(r),o=new Array(r),n=0;n<r;++n)o[n]=+t(i[n],n,i),e[n]=isNaN(o[n])?0:+u(i[n],n,i)}}return"function"!=typeof t&&(t=Gv(+t)),null==n&&(n=0),null==r&&(r=0),a.initialize=function(t){i=t,s()},a.strength=function(t){return arguments.length?(u="function"==typeof t?t:Gv(+t),s(),a):u},a.radius=function(n){return arguments.length?(t="function"==typeof n?n:Gv(+n),s(),a):t},a.x=function(t){return arguments.length?(n=+t,a):n},a.y=function(t){return arguments.length?(r=+t,a):r},a},forceSimulation:function(t){var n,r=1,i=.001,e=1-Math.pow(i,1/300),o=0,u=.6,a=ee(),s=vs(f),c=Xa("tick","end");function f(){h(),c.call("tick",n),r<i&&(s.stop(),c.call("end",n))}function h(){var n,i,s=t.length;for(r+=(o-r)*e,a.each((function(t){t(r)})),n=0;n<s;++n)null==(i=t[n]).fx?i.x+=i.vx*=u:(i.x=i.fx,i.vx=0),null==i.fy?i.y+=i.vy*=u:(i.y=i.fy,i.vy=0)}function l(){for(var n,r=0,i=t.length;r<i;++r){if((n=t[r]).index=r,isNaN(n.x)||isNaN(n.y)){var e=10*Math.sqrt(r),o=r*cp;n.x=e*Math.cos(o),n.y=e*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function d(n){return n.initialize&&n.initialize(t),n}return null==t&&(t=[]),l(),n={tick:h,restart:function(){return s.restart(f),n},stop:function(){return s.stop(),n},nodes:function(r){return arguments.length?(t=r,l(),a.each(d),n):t},alpha:function(t){return arguments.length?(r=+t,n):r},alphaMin:function(t){return arguments.length?(i=+t,n):i},alphaDecay:function(t){return arguments.length?(e=+t,n):+e},alphaTarget:function(t){return arguments.length?(o=+t,n):o},velocityDecay:function(t){return arguments.length?(u=1-t,n):1-u},force:function(t,r){return arguments.length>1?(null==r?a.remove(t):a.set(t,d(r)),n):a.get(t)},find:function(n,r,i){var e,o,u,a,s,c=0,f=t.length;for(null==i?i=1/0:i*=i,c=0;c<f;++c)(u=(e=n-(a=t[c]).x)*e+(o=r-a.y)*o)<i&&(s=a,i=u);return s},on:function(t,r){return arguments.length>1?(c.on(t,r),n):c.on(t)}}},forceX:function(t){var n,r,i,e=Gv(.1);function o(t){for(var e,o=0,u=n.length;o<u;++o)(e=n[o]).vx+=(i[o]-e.x)*r[o]*t}function u(){if(n){var o,u=n.length;for(r=new Array(u),i=new Array(u),o=0;o<u;++o)r[o]=isNaN(i[o]=+t(n[o],o,n))?0:+e(n[o],o,n)}}return"function"!=typeof t&&(t=Gv(null==t?0:+t)),o.initialize=function(t){n=t,u()},o.strength=function(t){return arguments.length?(e="function"==typeof t?t:Gv(+t),u(),o):e},o.x=function(n){return arguments.length?(t="function"==typeof n?n:Gv(+n),u(),o):t},o},forceY:function(t){var n,r,i,e=Gv(.1);function o(t){for(var e,o=0,u=n.length;o<u;++o)(e=n[o]).vy+=(i[o]-e.y)*r[o]*t}function u(){if(n){var o,u=n.length;for(r=new Array(u),i=new Array(u),o=0;o<u;++o)r[o]=isNaN(i[o]=+t(n[o],o,n))?0:+e(n[o],o,n)}}return"function"!=typeof t&&(t=Gv(null==t?0:+t)),o.initialize=function(t){n=t,u()},o.strength=function(t){return arguments.length?(e="function"==typeof t?t:Gv(+t),u(),o):e},o.y=function(n){return arguments.length?(t="function"==typeof n?n:Gv(+n),u(),o):t},o},formatDefaultLocale:Ap,get format(){return wp},get formatPrefix(){return gp},formatLocale:Lp,formatSpecifier:pp,precisionFixed:function(t){return Math.max(0,-hp(Math.abs(t)))},precisionPrefix:function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(hp(n)/3)))-hp(Math.abs(t)))},precisionRound:function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,hp(n)-hp(t))+1},geoArea:function(t){return cb.reset(),rb(t,fb),2*cb},geoBounds:function(t){var n,r,i,e,o,u,a;if(Eb=Nb=-(Lb=Ab=1/0),Ob=[],rb(t,Zb),r=Ob.length){for(Ob.sort(em),n=1,o=[i=Ob[0]];n<r;++n)om(i,(e=Ob[n])[0])||om(i,e[1])?(im(i[0],e[1])>im(i[0],i[1])&&(i[1]=e[1]),im(e[0],i[1])>im(i[0],i[1])&&(i[0]=e[0])):o.push(i=e);for(u=-1/0,n=0,i=o[r=o.length-1];n<=r;i=e,++n)(a=im(i[1],(e=o[n])[0]))>u&&(u=a,Lb=e[0],Nb=i[1])}return Ob=Ib=null,Lb===1/0||Ab===1/0?[[NaN,NaN],[NaN,NaN]]:[[Lb,Ab],[Nb,Eb]]},geoCentroid:function(t){Rb=Cb=Db=Fb=Hb=Wb=jb=_b=Ub=Pb=Bb=0,rb(t,um);var n=Ub,r=Pb,i=Bb,e=n*n+r*r+i*i;return e<1e-12&&(n=Wb,r=jb,i=_b,Cb<Tp&&(n=Db,r=Fb,i=Hb),(e=n*n+r*r+i*i)<1e-12)?[NaN,NaN]:[Wp(r,n)*Cp,$p(i/Vp(e))*Cp]},geoCircle:function(){var t,n,r=mm([0,0]),i=mm(90),e=mm(6),o={point:function(r,i){t.push(r=n(r,i)),r[0]*=Cp,r[1]*=Cp}};function u(){var u=r.apply(this,arguments),a=i.apply(this,arguments)*Dp,s=e.apply(this,arguments)*Dp;return t=[],n=gm(-u[0]*Dp,-u[1]*Dp,0).invert,Em(o,a,s,1),u={type:"Polygon",coordinates:[t]},t=n=null,u}return u.center=function(t){return arguments.length?(r="function"==typeof t?t:mm([+t[0],+t[1]]),u):r},u.radius=function(t){return arguments.length?(i="function"==typeof t?t:mm(+t),u):i},u.precision=function(t){return arguments.length?(e="function"==typeof t?t:mm(+t),u):e},u},geoClipAntimeridian:Wm,geoClipCircle:jm,geoClipExtent:function(){var t,n,r,i=0,e=0,o=960,u=500;return r={stream:function(r){return t&&n===r?t:t=Pm(i,e,o,u)(n=r)},extent:function(a){return arguments.length?(i=+a[0][0],e=+a[0][1],o=+a[1][0],u=+a[1][1],t=n=null,r):[[i,e],[o,u]]}}},geoClipRectangle:Pm,geoContains:function(t,n){return(t&&ty.hasOwnProperty(t.type)?ty[t.type]:ry)(t,n)},geoDistance:Qm,geoGraticule:fy,geoGraticule10:function(){return fy()()},geoInterpolate:function(t,n){var r=t[0]*Dp,i=t[1]*Dp,e=n[0]*Dp,o=n[1]*Dp,u=jp(i),a=Yp(i),s=jp(o),c=Yp(o),f=u*jp(r),h=u*Yp(r),l=s*jp(e),d=s*Yp(e),v=2*$p(Vp(Zp(o-i)+u*s*Zp(e-r))),p=Yp(v),b=v?function(t){var n=Yp(t*=v)/p,r=Yp(v-t)/p,i=r*f+n*l,e=r*h+n*d,o=r*a+n*c;return[Wp(e,i)*Cp,Wp(o,Vp(i*i+e*e))*Cp]}:function(){return[r*Cp,i*Cp]};return b.distance=v,b},geoLength:Xm,geoPath:function(t,n){var r,i,e=4.5;function o(t){return t&&("function"==typeof e&&i.pointRadius(+e.apply(this,arguments)),rb(t,r(i))),i.result()}return o.area=function(t){return rb(t,r(yy)),yy.result()},o.measure=function(t){return rb(t,r(ew)),ew.result()},o.bounds=function(t){return rb(t,r(xy)),xy.result()},o.centroid=function(t){return rb(t,r(Py)),Py.result()},o.projection=function(n){return arguments.length?(r=null==n?(t=null,hy):(t=n).stream,o):t},o.context=function(t){return arguments.length?(i=null==t?(n=null,new aw):new Ky(n=t),"function"!=typeof e&&i.pointRadius(e),o):n},o.pointRadius=function(t){return arguments.length?(e="function"==typeof t?t:(i.pointRadius(+t),+t),o):e},o.projection(t).context(n)},geoAlbers:Nw,geoAlbersUsa:function(){var t,n,r,i,e,o,u=Nw(),a=Aw().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=Aw().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,n){o=[t,n]}};function f(t){var n=t[0],u=t[1];return o=null,r.point(n,u),o||(i.point(n,u),o)||(e.point(n,u),o)}function h(){return t=n=null,f}return f.invert=function(t){var n=u.scale(),r=u.translate(),i=(t[0]-r[0])/n,e=(t[1]-r[1])/n;return(e>=.12&&e<.234&&i>=-.425&&i<-.214?a:e>=.166&&e<.234&&i>=-.214&&i<-.115?s:u).invert(t)},f.stream=function(r){return t&&n===r?t:(i=[u.stream(n=r),a.stream(r),s.stream(r)],e=i.length,t={point:function(t,n){for(var r=-1;++r<e;)i[r].point(t,n)},sphere:function(){for(var t=-1;++t<e;)i[t].sphere()},lineStart:function(){for(var t=-1;++t<e;)i[t].lineStart()},lineEnd:function(){for(var t=-1;++t<e;)i[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<e;)i[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<e;)i[t].polygonEnd()}});var i,e},f.precision=function(t){return arguments.length?(u.precision(t),a.precision(t),s.precision(t),h()):u.precision()},f.scale=function(t){return arguments.length?(u.scale(t),a.scale(.35*t),s.scale(t),f.translate(u.translate())):u.scale()},f.translate=function(t){if(!arguments.length)return u.translate();var n=u.scale(),o=+t[0],f=+t[1];return r=u.translate(t).clipExtent([[o-.455*n,f-.238*n],[o+.455*n,f+.238*n]]).stream(c),i=a.translate([o-.307*n,f+.201*n]).clipExtent([[o-.425*n+Tp,f+.12*n+Tp],[o-.214*n-Tp,f+.234*n-Tp]]).stream(c),e=s.translate([o-.205*n,f+.212*n]).clipExtent([[o-.214*n+Tp,f+.166*n+Tp],[o-.115*n-Tp,f+.234*n-Tp]]).stream(c),h()},f.fitExtent=function(t,n){return lw(f,t,n)},f.fitSize=function(t,n){return dw(f,t,n)},f.fitWidth=function(t,n){return vw(f,t,n)},f.fitHeight=function(t,n){return pw(f,t,n)},f.scale(1070)},geoAzimuthalEqualArea:function(){return ww(xw).scale(124.75).clipAngle(179.999)},geoAzimuthalEqualAreaRaw:xw,geoAzimuthalEquidistant:function(){return ww(Tw).scale(79.4188).clipAngle(179.999)},geoAzimuthalEquidistantRaw:Tw,geoConicConformal:function(){return Mw(Rw).scale(109.5).parallels([30,30])},geoConicConformalRaw:Rw,geoConicEqualArea:Aw,geoConicEqualAreaRaw:Lw,geoConicEquidistant:function(){return Mw(Dw).scale(131.154).center([0,13.9389])},geoConicEquidistantRaw:Dw,geoEquirectangular:function(){return ww(Cw).scale(152.63)},geoEquirectangularRaw:Cw,geoGnomonic:function(){return ww(Fw).scale(144.049).clipAngle(60)},geoGnomonicRaw:Fw,geoIdentity:function(){var t,n,r,i,e,o,u=1,a=0,s=0,c=1,f=1,h=hy,l=null,d=hy;function v(){return i=e=null,o}return o={stream:function(t){return i&&e===t?i:i=h(d(e=t))},postclip:function(i){return arguments.length?(d=i,l=t=n=r=null,v()):d},clipExtent:function(i){return arguments.length?(d=null==i?(l=t=n=r=null,hy):Pm(l=+i[0][0],t=+i[0][1],n=+i[1][0],r=+i[1][1]),v()):null==l?null:[[l,t],[n,r]]},scale:function(t){return arguments.length?(h=Hw((u=+t)*c,u*f,a,s),v()):u},translate:function(t){return arguments.length?(h=Hw(u*c,u*f,a=+t[0],s=+t[1]),v()):[a,s]},reflectX:function(t){return arguments.length?(h=Hw(u*(c=t?-1:1),u*f,a,s),v()):c<0},reflectY:function(t){return arguments.length?(h=Hw(u*c,u*(f=t?-1:1),a,s),v()):f<0},fitExtent:function(t,n){return lw(o,t,n)},fitSize:function(t,n){return dw(o,t,n)},fitWidth:function(t,n){return vw(o,t,n)},fitHeight:function(t,n){return pw(o,t,n)}}},geoProjection:ww,geoProjectionMutator:gw,geoMercator:function(){return Ow(Sw).scale(961/Rp)},geoMercatorRaw:Sw,geoNaturalEarth1:function(){return ww(Ww).scale(175.295)},geoNaturalEarth1Raw:Ww,geoOrthographic:function(){return ww(jw).scale(249.5).clipAngle(90.000001)},geoOrthographicRaw:jw,geoStereographic:function(){return ww(_w).scale(250).clipAngle(142)},geoStereographicRaw:_w,geoTransverseMercator:function(){var t=Ow(Uw),n=t.center,r=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?r([t[0],t[1],t.length>2?t[2]+90:90]):[(t=r())[0],t[1],t[2]-90]},r([0,0,90]).scale(159.155)},geoTransverseMercatorRaw:Uw,geoRotation:Nm,geoStream:rb,geoTransform:function(t){return{stream:cw(t)}},cluster:function(){var t=Pw,n=1,r=1,i=!1;function e(e){var o,u=0;e.eachAfter((function(n){var r=n.children;r?(n.x=function(t){return t.reduce(Bw,0)/t.length}(r),n.y=function(t){return 1+t.reduce(Yw,0)}(r)):(n.x=o?u+=t(n,o):0,n.y=0,o=n)}));var a=function(t){for(var n;n=t.children;)t=n[0];return t}(e),s=function(t){for(var n;n=t.children;)t=n[n.length-1];return t}(e),c=a.x-t(a,s)/2,f=s.x+t(s,a)/2;return e.eachAfter(i?function(t){t.x=(t.x-e.x)*n,t.y=(e.y-t.y)*r}:function(t){t.x=(t.x-c)/(f-c)*n,t.y=(1-(e.y?t.y/e.y:1))*r})}return e.separation=function(n){return arguments.length?(t=n,e):t},e.size=function(t){return arguments.length?(i=!1,n=+t[0],r=+t[1],e):i?null:[n,r]},e.nodeSize=function(t){return arguments.length?(i=!0,n=+t[0],r=+t[1],e):i?[n,r]:null},e},hierarchy:Vw,pack:function(){var t=null,n=1,r=1,i=lg;function e(e){return e.x=n/2,e.y=r/2,t?e.eachBefore(pg(t)).eachAfter(bg(i,.5)).eachBefore(mg(1)):e.eachBefore(pg(vg)).eachAfter(bg(lg,1)).eachAfter(bg(i,e.r/Math.min(n,r))).eachBefore(mg(Math.min(n,r)/(2*e.r))),e}return e.radius=function(n){return arguments.length?(t=fg(n),e):t},e.size=function(t){return arguments.length?(n=+t[0],r=+t[1],e):[n,r]},e.padding=function(t){return arguments.length?(i="function"==typeof t?t:dg(+t),e):i},e},packSiblings:function(t){return cg(t),t},packEnclose:Kw,partition:function(){var t=1,n=1,r=0,i=!1;function e(e){var o=e.height+1;return e.x0=e.y0=r,e.x1=t,e.y1=n/o,e.eachBefore(function(t,n){return function(i){i.children&&wg(i,i.x0,t*(i.depth+1)/n,i.x1,t*(i.depth+2)/n);var e=i.x0,o=i.y0,u=i.x1-r,a=i.y1-r;u<e&&(e=u=(e+u)/2),a<o&&(o=a=(o+a)/2),i.x0=e,i.y0=o,i.x1=u,i.y1=a}}(n,o)),i&&e.eachBefore(yg),e}return e.round=function(t){return arguments.length?(i=!!t,e):i},e.size=function(r){return arguments.length?(t=+r[0],n=+r[1],e):[t,n]},e.padding=function(t){return arguments.length?(r=+t,e):r},e},stratify:function(){var t=Lg,n=Ag;function r(r){var i,e,o,u,a,s,c,f=r.length,h=new Array(f),l={};for(e=0;e<f;++e)a=h[e]=new Zw(i=r[e]),null!=(s=t(i,e,r))&&(s+="")&&(l[c="$"+(a.id=s)]=c in l?Mg:a);for(e=0;e<f;++e)if(a=h[e],null!=(s=n(r[e],e,r))&&(s+="")){if(!(u=l["$"+s]))throw new Error("missing: "+s);if(u===Mg)throw new Error("ambiguous: "+s);u.children?u.children.push(a):u.children=[a],a.parent=u}else{if(o)throw new Error("multiple roots");o=a}if(!o)throw new Error("no root");if(o.parent=gg,o.eachBefore((function(t){t.depth=t.parent.depth+1,--f})).eachBefore($w),o.parent=null,f>0)throw new Error("cycle");return o}return r.id=function(n){return arguments.length?(t=hg(n),r):t},r.parentId=function(t){return arguments.length?(n=hg(t),r):n},r},tree:function(){var t=Ng,n=1,r=1,i=null;function e(e){var s=function(t){for(var n,r,i,e,o,u=new Sg(t,0),a=[u];n=a.pop();)if(i=n._.children)for(n.children=new Array(o=i.length),e=o-1;e>=0;--e)a.push(r=n.children[e]=new Sg(i[e],e)),r.parent=n;return(u.parent=new Sg(null,0)).children=[u],u}(e);if(s.eachAfter(o),s.parent.m=-s.z,s.eachBefore(u),i)e.eachBefore(a);else{var c=e,f=e,h=e;e.eachBefore((function(t){t.x<c.x&&(c=t),t.x>f.x&&(f=t),t.depth>h.depth&&(h=t)}));var l=c===f?1:t(c,f)/2,d=l-c.x,v=n/(f.x+l+d),p=r/(h.depth||1);e.eachBefore((function(t){t.x=(t.x+d)*v,t.y=t.depth*p}))}return e}function o(n){var r=n.children,i=n.parent.children,e=n.i?i[n.i-1]:null;if(r){!function(t){for(var n,r=0,i=0,e=t.children,o=e.length;--o>=0;)(n=e[o]).z+=r,n.m+=r,r+=n.s+(i+=n.c)}(n);var o=(r[0].z+r[r.length-1].z)/2;e?(n.z=e.z+t(n._,e._),n.m=n.z-o):n.z=o}else e&&(n.z=e.z+t(n._,e._));n.parent.A=function(n,r,i){if(r){for(var e,o=n,u=n,a=r,s=o.parent.children[0],c=o.m,f=u.m,h=a.m,l=s.m;a=kg(a),o=Eg(o),a&&o;)s=Eg(s),(u=kg(u)).a=n,(e=a.z+h-o.z-c+t(a._,o._))>0&&(xg(Tg(a,n,i),n,e),c+=e,f+=e),h+=a.m,c+=o.m,l+=s.m,f+=u.m;a&&!kg(u)&&(u.t=a,u.m+=h-f),o&&!Eg(s)&&(s.t=o,s.m+=c-l,i=n)}return i}(n,e,n.parent.A||i[0])}function u(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(t){t.x*=n,t.y=t.depth*r}return e.separation=function(n){return arguments.length?(t=n,e):t},e.size=function(t){return arguments.length?(i=!1,n=+t[0],r=+t[1],e):i?null:[n,r]},e.nodeSize=function(t){return arguments.length?(i=!0,n=+t[0],r=+t[1],e):i?[n,r]:null},e},treemap:function(){var t=Cg,n=!1,r=1,i=1,e=[0],o=lg,u=lg,a=lg,s=lg,c=lg;function f(t){return t.x0=t.y0=0,t.x1=r,t.y1=i,t.eachBefore(h),e=[0],n&&t.eachBefore(yg),t}function h(n){var r=e[n.depth],i=n.x0+r,f=n.y0+r,h=n.x1-r,l=n.y1-r;h<i&&(i=h=(i+h)/2),l<f&&(f=l=(f+l)/2),n.x0=i,n.y0=f,n.x1=h,n.y1=l,n.children&&(r=e[n.depth+1]=o(n)/2,i+=c(n)-r,f+=u(n)-r,(h-=a(n)-r)<i&&(i=h=(i+h)/2),(l-=s(n)-r)<f&&(f=l=(f+l)/2),t(n,i,f,h,l))}return f.round=function(t){return arguments.length?(n=!!t,f):n},f.size=function(t){return arguments.length?(r=+t[0],i=+t[1],f):[r,i]},f.tile=function(n){return arguments.length?(t=hg(n),f):t},f.padding=function(t){return arguments.length?f.paddingInner(t).paddingOuter(t):f.paddingInner()},f.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:dg(+t),f):o},f.paddingOuter=function(t){return arguments.length?f.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):f.paddingTop()},f.paddingTop=function(t){return arguments.length?(u="function"==typeof t?t:dg(+t),f):u},f.paddingRight=function(t){return arguments.length?(a="function"==typeof t?t:dg(+t),f):a},f.paddingBottom=function(t){return arguments.length?(s="function"==typeof t?t:dg(+t),f):s},f.paddingLeft=function(t){return arguments.length?(c="function"==typeof t?t:dg(+t),f):c},f},treemapBinary:function(t,n,r,i,e){var o,u,a=t.children,s=a.length,c=new Array(s+1);for(c[0]=u=o=0;o<s;++o)c[o+1]=u+=a[o].value;!function t(n,r,i,e,o,u,s){if(n>=r-1){var f=a[n];return f.x0=e,f.y0=o,f.x1=u,void(f.y1=s)}for(var h=c[n],l=i/2+h,d=n+1,v=r-1;d<v;){var p=d+v>>>1;c[p]<l?d=p+1:v=p}l-c[d-1]<c[d]-l&&n+1<d&&--d;var b=c[d]-h,m=i-b;if(u-e>s-o){var y=(e*m+u*b)/i;t(n,d,b,e,o,y,s),t(d,r,m,y,o,u,s)}else{var w=(o*m+s*b)/i;t(n,d,b,e,o,u,w),t(d,r,m,e,w,u,s)}}(0,s,t.value,n,r,i,e)},treemapDice:wg,treemapSlice:Og,treemapSliceDice:function(t,n,r,i,e){(1&t.depth?Og:wg)(t,n,r,i,e)},treemapSquarify:Cg,treemapResquarify:Dg,interpolate:tM,interpolateArray:qg,interpolateBasis:Hg,interpolateBasisClosed:Wg,interpolateDate:$g,interpolateNumber:Zg,interpolateObject:Xg,interpolateRound:function(t,n){return n-=t=+t,function(r){return Math.round(t+n*r)}},interpolateString:Qg,interpolateTransformCss:cM,interpolateTransformSvg:fM,interpolateZoom:function(t,n){var r,i,e=t[0],o=t[1],u=t[2],a=n[2],s=n[0]-e,c=n[1]-o,f=s*s+c*c;if(f<1e-12)i=Math.log(a/u)/hM,r=function(t){return[e+t*s,o+t*c,u*Math.exp(hM*t*i)]};else{var h=Math.sqrt(f),l=(a*a-u*u+4*f)/(2*u*2*h),d=(a*a-u*u-4*f)/(2*a*2*h),v=Math.log(Math.sqrt(l*l+1)-l),p=Math.log(Math.sqrt(d*d+1)-d);i=(p-v)/hM,r=function(t){var n=t*i,r=lM(v),a=u/(2*h)*(r*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(hM*n+v)-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[e+a*s,o+a*c,u*r/lM(hM*n+v)]}}return r.duration=1e3*i,r},interpolateRgb:Yg,interpolateRgbBasis:Vg,interpolateRgbBasisClosed:Gg,interpolateHsl:vM,interpolateHslLong:pM,interpolateLab:function(t,n){var r=Bg((t=to(t)).l,(n=to(n)).l),i=Bg(t.a,n.a),e=Bg(t.b,n.b),o=Bg(t.opacity,n.opacity);return function(n){return t.l=r(n),t.a=i(n),t.b=e(n),t.opacity=o(n),t+""}},interpolateHcl:mM,interpolateHclLong:yM,interpolateCubehelix:gM,interpolateCubehelixLong:MM,quantize:function(t,n){for(var r=new Array(n),i=0;i<n;++i)r[i]=t(i/(n-1));return r},path:xM,polygonArea:function(t){for(var n,r=-1,i=t.length,e=t[i-1],o=0;++r<i;)o+=(n=e)[1]*(e=t[r])[0]-n[0]*e[1];return o/2},polygonCentroid:function(t){for(var n,r,i=-1,e=t.length,o=0,u=0,a=t[e-1],s=0;++i<e;)s+=r=(n=a)[0]*(a=t[i])[1]-a[0]*n[1],o+=(n[0]+a[0])*r,u+=(n[1]+a[1])*r;return[o/(s*=3),u/s]},polygonHull:function(t){if((r=t.length)<3)return null;var n,r,i=new Array(r),e=new Array(r);for(n=0;n<r;++n)i[n]=[+t[n][0],+t[n][1],n];for(i.sort(SM),n=0;n<r;++n)e[n]=[i[n][0],-i[n][1]];var o=OM(i),u=OM(e),a=u[0]===o[0],s=u[u.length-1]===o[o.length-1],c=[];for(n=o.length-1;n>=0;--n)c.push(t[i[o[n]][2]]);for(n=+a;n<u.length-s;++n)c.push(t[i[u[n]][2]]);return c},polygonContains:function(t,n){for(var r,i,e=t.length,o=t[e-1],u=n[0],a=n[1],s=o[0],c=o[1],f=!1,h=0;h<e;++h)r=(o=t[h])[0],(i=o[1])>a!=c>a&&u<(s-r)*(a-i)/(c-i)+r&&(f=!f),s=r,c=i;return f},polygonLength:function(t){for(var n,r,i=-1,e=t.length,o=t[e-1],u=o[0],a=o[1],s=0;++i<e;)n=u,r=a,n-=u=(o=t[i])[0],r-=a=o[1],s+=Math.sqrt(n*n+r*r);return s},quadtree:FM,queue:GM,randomUniform:$M,randomNormal:ZM,randomLogNormal:XM,randomBates:JM,randomIrwinHall:KM,randomExponential:QM,request:tL,html:rL,json:iL,text:eL,xml:oL,csv:mL,tsv:yL,scaleBand:jL,scalePoint:function(){return _L(jL().paddingInner(1))},scaleIdentity:function t(){var n=[0,1];function r(t){return+t}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(n=DL.call(t,eA),r):n.slice()},r.copy=function(){return t().domain(n)},xA(r)},scaleLinear:TA,scaleLog:function t(){var n=fA(OA,IA).domain([1,10]),r=n.domain,i=10,e=DA(10),o=CA(10);function u(){return e=DA(i),o=CA(i),r()[0]<0&&(e=FA(e),o=FA(o)),n}return n.base=function(t){return arguments.length?(i=+t,u()):i},n.domain=function(t){return arguments.length?(r(t),u()):r()},n.ticks=function(t){var n,u=r(),a=u[0],s=u[u.length-1];(n=s<a)&&(l=a,a=s,s=l);var c,f,h,l=e(a),d=e(s),v=null==t?10:+t,p=[];if(!(i%1)&&d-l<v){if(l=Math.round(l)-1,d=Math.round(d)+1,a>0){for(;l<d;++l)for(f=1,c=o(l);f<i;++f)if(!((h=c*f)<a)){if(h>s)break;p.push(h)}}else for(;l<d;++l)for(f=i-1,c=o(l);f>=1;--f)if(!((h=c*f)<a)){if(h>s)break;p.push(h)}}else p=kL(l,d,Math.min(d-l,v)).map(o);return n?p.reverse():p},n.tickFormat=function(t,r){if(null==r&&(r=10===i?".0e":","),"function"!=typeof r&&(r=MA(r)),t===1/0)return r;null==t&&(t=10);var u=Math.max(1,i*t/n.ticks().length);return function(t){var n=t/o(Math.round(e(t)));return n*i<i-.5&&(n*=i),n<=u?r(t):""}},n.nice=function(){return r(SA(r(),{floor:function(t){return o(Math.floor(e(t)))},ceil:function(t){return o(Math.ceil(e(t)))}}))},n.copy=function(){return cA(n,t().base(i))},n},scaleOrdinal:WL,scaleImplicit:HL,scalePow:WA,scaleSqrt:function(){return WA().exponent(.5)},scaleQuantile:function t(){var n=[],r=[],i=[];function e(){var t=0,e=Math.max(1,r.length);for(i=new Array(e-1);++t<e;)i[t-1]=SL(n,t/e);return o}function o(t){if(!isNaN(t=+t))return r[ML(i,t)]}return o.invertExtent=function(t){var e=r.indexOf(t);return e<0?[NaN,NaN]:[e>0?i[e-1]:n[0],e<i.length?i[e]:n[n.length-1]]},o.domain=function(t){if(!arguments.length)return n.slice();n=[];for(var r,i=0,o=t.length;i<o;++i)null==(r=t[i])||isNaN(r=+r)||n.push(r);return n.sort(wL),e()},o.range=function(t){return arguments.length?(r=FL.call(t),e()):r.slice()},o.quantiles=function(){return i.slice()},o.copy=function(){return t().domain(n).range(r)},o},scaleQuantize:function t(){var n=0,r=1,i=1,e=[.5],o=[0,1];function u(t){if(t<=t)return o[ML(e,t,0,i)]}function a(){var t=-1;for(e=new Array(i);++t<i;)e[t]=((t+1)*r-(t-i)*n)/(i+1);return u}return u.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],a()):[n,r]},u.range=function(t){return arguments.length?(i=(o=FL.call(t)).length-1,a()):o.slice()},u.invertExtent=function(t){var u=o.indexOf(t);return u<0?[NaN,NaN]:u<1?[n,e[0]]:u>=i?[e[i-1],r]:[e[u-1],e[u]]},u.copy=function(){return t().domain([n,r]).range(o)},xA(u)},scaleThreshold:function t(){var n=[.5],r=[0,1],i=1;function e(t){if(t<=t)return r[ML(n,t,0,i)]}return e.domain=function(t){return arguments.length?(n=FL.call(t),i=Math.min(n.length,r.length-1),e):n.slice()},e.range=function(t){return arguments.length?(r=FL.call(t),i=Math.min(n.length,r.length-1),e):r.slice()},e.invertExtent=function(t){var i=r.indexOf(t);return[n[i-1],n[i]]},e.copy=function(){return t().domain(n).range(r)},e},scaleTime:function(){return VE(rN,nN,JA,XA,ZA,$A,qA,PA,bN).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},scaleUtc:function(){return VE(hN,fN,aN,oN,eN,iN,qA,PA,mN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},schemeCategory10:qE,schemeCategory20b:$E,schemeCategory20c:ZE,schemeCategory20:XE,interpolateCubehelixDefault:KE,interpolateRainbow:function(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return tk.h=360*t-100,tk.s=1.5-1.5*n,tk.l=.8-.9*n,tk+""},interpolateWarm:JE,interpolateCool:QE,interpolateViridis:rk,interpolateMagma:ik,interpolateInferno:ek,interpolatePlasma:ok,scaleSequential:function t(n){var r=0,i=1,e=!1;function o(t){var o=(t-r)/(i-r);return n(e?Math.max(0,Math.min(1,o)):o)}return o.domain=function(t){return arguments.length?(r=+t[0],i=+t[1],o):[r,i]},o.clamp=function(t){return arguments.length?(e=!!t,o):e},o.interpolator=function(t){return arguments.length?(n=t,o):n},o.copy=function(){return t(n).domain([r,i]).clamp(e)},xA(o)},create:function(t){return yx(hk(t).call(document.documentElement))},creator:hk,local:gx,matcher:wk,mouse:function(t){var n=Lx();return n.changedTouches&&(n=n.changedTouches[0]),Ax(t,n)},namespace:sk,namespaces:ak,clientPoint:Ax,select:yx,selectAll:function(t){return"string"==typeof t?new bx([document.querySelectorAll(t)],[document.documentElement]):new bx([null==t?[]:t],px)},selection:mx,selector:dk,selectorAll:pk,style:Fk,touch:function(t,n,r){arguments.length<3&&(r=n,n=Lx().changedTouches);for(var i,e=0,o=n?n.length:0;e<o;++e)if((i=n[e]).identifier===r)return Ax(t,i);return null},touches:function(t,n){null==n&&(n=Lx().touches);for(var r=0,i=n?n.length:0,e=new Array(i);r<i;++r)e[r]=Ax(t,n[r]);return e},window:Ik,get event(){return ux},customEvent:function(t,n,r,i){var e=ux;t.sourceEvent=ux,ux=t;try{return n.apply(r,i)}finally{ux=e}},arc:function(){var t=zx,n=Vx,r=Ox(0),i=null,e=Gx,o=qx,u=$x,a=null;function s(){var s,c,f=+t.apply(this,arguments),h=+n.apply(this,arguments),l=e.apply(this,arguments)-Ux,d=o.apply(this,arguments)-Ux,v=Ix(d-l),p=d>l;if(a||(a=s=Sx()),h<f&&(c=h,h=f,f=c),h>jx)if(v>Px-jx)a.moveTo(h*Cx(l),h*Hx(l)),a.arc(0,0,h,l,d,!p),f>jx&&(a.moveTo(f*Cx(d),f*Hx(d)),a.arc(0,0,f,d,l,p));else{var b,m,y=l,w=d,g=l,M=d,L=v,A=v,N=u.apply(this,arguments)/2,E=N>jx&&(i?+i.apply(this,arguments):Wx(f*f+h*h)),k=Fx(Ix(h-f)/2,+r.apply(this,arguments)),x=k,T=k;if(E>jx){var S=Yx(E/f*Hx(N)),O=Yx(E/h*Hx(N));(L-=2*S)>jx?(g+=S*=p?1:-1,M-=S):(L=0,g=M=(l+d)/2),(A-=2*O)>jx?(y+=O*=p?1:-1,w-=O):(A=0,y=w=(l+d)/2)}var I=h*Cx(y),R=h*Hx(y),C=f*Cx(M),D=f*Hx(M);if(k>jx){var F=h*Cx(w),H=h*Hx(w),W=f*Cx(g),j=f*Hx(g);if(v<_x){var _=L>jx?Zx(I,R,W,j,F,H,C,D):[C,D],U=I-_[0],P=R-_[1],B=F-_[0],Y=H-_[1],z=1/Hx(Bx((U*B+P*Y)/(Wx(U*U+P*P)*Wx(B*B+Y*Y)))/2),V=Wx(_[0]*_[0]+_[1]*_[1]);x=Fx(k,(f-V)/(z-1)),T=Fx(k,(h-V)/(z+1))}}A>jx?T>jx?(b=Xx(W,j,I,R,h,T,p),m=Xx(F,H,C,D,h,T,p),a.moveTo(b.cx+b.x01,b.cy+b.y01),T<k?a.arc(b.cx,b.cy,T,Rx(b.y01,b.x01),Rx(m.y01,m.x01),!p):(a.arc(b.cx,b.cy,T,Rx(b.y01,b.x01),Rx(b.y11,b.x11),!p),a.arc(0,0,h,Rx(b.cy+b.y11,b.cx+b.x11),Rx(m.cy+m.y11,m.cx+m.x11),!p),a.arc(m.cx,m.cy,T,Rx(m.y11,m.x11),Rx(m.y01,m.x01),!p))):(a.moveTo(I,R),a.arc(0,0,h,y,w,!p)):a.moveTo(I,R),f>jx&&L>jx?x>jx?(b=Xx(C,D,F,H,f,-x,p),m=Xx(I,R,W,j,f,-x,p),a.lineTo(b.cx+b.x01,b.cy+b.y01),x<k?a.arc(b.cx,b.cy,x,Rx(b.y01,b.x01),Rx(m.y01,m.x01),!p):(a.arc(b.cx,b.cy,x,Rx(b.y01,b.x01),Rx(b.y11,b.x11),!p),a.arc(0,0,f,Rx(b.cy+b.y11,b.cx+b.x11),Rx(m.cy+m.y11,m.cx+m.x11),p),a.arc(m.cx,m.cy,x,Rx(m.y11,m.x11),Rx(m.y01,m.x01),!p))):a.arc(0,0,f,M,g,p):a.lineTo(C,D)}else a.moveTo(0,0);if(a.closePath(),s)return a=null,s+""||null}return s.centroid=function(){var r=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,i=(+e.apply(this,arguments)+ +o.apply(this,arguments))/2-_x/2;return[Cx(i)*r,Hx(i)*r]},s.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:Ox(+n),s):t},s.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Ox(+t),s):n},s.cornerRadius=function(t){return arguments.length?(r="function"==typeof t?t:Ox(+t),s):r},s.padRadius=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:Ox(+t),s):i},s.startAngle=function(t){return arguments.length?(e="function"==typeof t?t:Ox(+t),s):e},s.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:Ox(+t),s):o},s.padAngle=function(t){return arguments.length?(u="function"==typeof t?t:Ox(+t),s):u},s.context=function(t){return arguments.length?(a=null==t?null:t,s):a},s},area:rT,line:nT,pie:function(){var t=eT,n=iT,r=null,i=Ox(0),e=Ox(Px),o=Ox(0);function u(u){var a,s,c,f,h,l=u.length,d=0,v=new Array(l),p=new Array(l),b=+i.apply(this,arguments),m=Math.min(Px,Math.max(-Px,e.apply(this,arguments)-b)),y=Math.min(Math.abs(m)/l,o.apply(this,arguments)),w=y*(m<0?-1:1);for(a=0;a<l;++a)(h=p[v[a]=a]=+t(u[a],a,u))>0&&(d+=h);for(null!=n?v.sort((function(t,r){return n(p[t],p[r])})):null!=r&&v.sort((function(t,n){return r(u[t],u[n])})),a=0,c=d?(m-l*w)/d:0;a<l;++a,b=f)p[s=v[a]]={data:u[s],index:a,value:h=p[s],startAngle:b,endAngle:f=b+(h>0?h*c:0)+w,padAngle:y};return p}return u.value=function(n){return arguments.length?(t="function"==typeof n?n:Ox(+n),u):t},u.sortValues=function(t){return arguments.length?(n=t,r=null,u):n},u.sort=function(t){return arguments.length?(r=t,n=null,u):r},u.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:Ox(+t),u):i},u.endAngle=function(t){return arguments.length?(e="function"==typeof t?t:Ox(+t),u):e},u.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:Ox(+t),u):o},u},areaRadial:fT,radialArea:fT,lineRadial:cT,radialLine:cT,pointRadial:hT,linkHorizontal:function(){return pT(bT)},linkVertical:function(){return pT(mT)},linkRadial:function(){var t=pT(yT);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},symbol:function(){var t=Ox(wT),n=Ox(64),r=null;function i(){var i;if(r||(r=i=Sx()),t.apply(this,arguments).draw(r,+n.apply(this,arguments)),i)return r=null,i+""||null}return i.type=function(n){return arguments.length?(t="function"==typeof n?n:Ox(n),i):t},i.size=function(t){return arguments.length?(n="function"==typeof t?t:Ox(+t),i):n},i.context=function(t){return arguments.length?(r=null==t?null:t,i):r},i},symbols:HT,symbolCircle:wT,symbolCross:gT,symbolDiamond:AT,symbolSquare:TT,symbolStar:xT,symbolTriangle:OT,symbolWye:FT,curveBasisClosed:function(t){return new UT(t)},curveBasisOpen:function(t){return new PT(t)},curveBasis:function(t){return new _T(t)},curveBundle:YT,curveCardinalClosed:$T,curveCardinalOpen:XT,curveCardinal:GT,curveCatmullRomClosed:nS,curveCatmullRomOpen:iS,curveCatmullRom:QT,curveLinearClosed:function(t){return new eS(t)},curveLinear:Jx,curveMonotoneX:function(t){return new cS(t)},curveMonotoneY:function(t){return new fS(t)},curveNatural:function(t){return new lS(t)},curveStep:function(t){return new vS(t,.5)},curveStepAfter:function(t){return new vS(t,1)},curveStepBefore:function(t){return new vS(t,0)},stack:function(){var t=Ox([]),n=bS,r=pS,i=mS;function e(e){var o,u,a=t.apply(this,arguments),s=e.length,c=a.length,f=new Array(c);for(o=0;o<c;++o){for(var h,l=a[o],d=f[o]=new Array(s),v=0;v<s;++v)d[v]=h=[0,+i(e[v],l,v,e)],h.data=e[v];d.key=l}for(o=0,u=n(f);o<c;++o)f[u[o]].index=o;return r(f,u),f}return e.keys=function(n){return arguments.length?(t="function"==typeof n?n:Ox(lT.call(n)),e):t},e.value=function(t){return arguments.length?(i="function"==typeof t?t:Ox(+t),e):i},e.order=function(t){return arguments.length?(n=null==t?bS:"function"==typeof t?t:Ox(lT.call(t)),e):n},e.offset=function(t){return arguments.length?(r=null==t?pS:t,e):r},e},stackOffsetExpand:function(t,n){if((i=t.length)>0){for(var r,i,e,o=0,u=t[0].length;o<u;++o){for(e=r=0;r<i;++r)e+=t[r][o][1]||0;if(e)for(r=0;r<i;++r)t[r][o][1]/=e}pS(t,n)}},stackOffsetDiverging:function(t,n){if((a=t.length)>1)for(var r,i,e,o,u,a,s=0,c=t[n[0]].length;s<c;++s)for(o=u=0,r=0;r<a;++r)(e=(i=t[n[r]][s])[1]-i[0])>=0?(i[0]=o,i[1]=o+=e):e<0?(i[1]=u,i[0]=u+=e):i[0]=o},stackOffsetNone:pS,stackOffsetSilhouette:function(t,n){if((r=t.length)>0){for(var r,i=0,e=t[n[0]],o=e.length;i<o;++i){for(var u=0,a=0;u<r;++u)a+=t[u][i][1]||0;e[i][1]+=e[i][0]=-a/2}pS(t,n)}},stackOffsetWiggle:function(t,n){if((e=t.length)>0&&(i=(r=t[n[0]]).length)>0){for(var r,i,e,o=0,u=1;u<i;++u){for(var a=0,s=0,c=0;a<e;++a){for(var f=t[n[a]],h=f[u][1]||0,l=(h-(f[u-1][1]||0))/2,d=0;d<a;++d){var v=t[n[d]];l+=(v[u][1]||0)-(v[u-1][1]||0)}s+=h,c+=l*h}r[u-1][1]+=r[u-1][0]=o,s&&(o-=c/s)}r[u-1][1]+=r[u-1][0]=o,pS(t,n)}},stackOrderAscending:yS,stackOrderDescending:function(t){return yS(t).reverse()},stackOrderInsideOut:function(t){var n,r,i=t.length,e=t.map(wS),o=bS(t).sort((function(t,n){return e[n]-e[t]})),u=0,a=0,s=[],c=[];for(n=0;n<i;++n)r=o[n],u<a?(u+=e[r],s.push(r)):(a+=e[r],c.push(r));return c.reverse().concat(s)},stackOrderNone:bS,stackOrderReverse:function(t){return bS(t).reverse()},timeInterval:LS,timeMillisecond:AS,timeMilliseconds:NS,utcMillisecond:AS,utcMilliseconds:NS,timeSecond:OS,timeSeconds:IS,utcSecond:OS,utcSeconds:IS,timeMinute:RS,timeMinutes:CS,timeHour:DS,timeHours:FS,timeDay:HS,timeDays:WS,timeWeek:_S,timeWeeks:GS,timeSunday:_S,timeSundays:GS,timeMonday:US,timeMondays:qS,timeTuesday:PS,timeTuesdays:$S,timeWednesday:BS,timeWednesdays:ZS,timeThursday:YS,timeThursdays:XS,timeFriday:zS,timeFridays:KS,timeSaturday:VS,timeSaturdays:JS,timeMonth:QS,timeMonths:tO,timeYear:nO,timeYears:rO,utcMinute:iO,utcMinutes:eO,utcHour:oO,utcHours:uO,utcDay:aO,utcDays:sO,utcWeek:fO,utcWeeks:mO,utcSunday:fO,utcSundays:mO,utcMonday:hO,utcMondays:yO,utcTuesday:lO,utcTuesdays:wO,utcWednesday:dO,utcWednesdays:gO,utcThursday:vO,utcThursdays:MO,utcFriday:pO,utcFridays:LO,utcSaturday:bO,utcSaturdays:AO,utcMonth:NO,utcMonths:EO,utcYear:kO,utcYears:xO,timeFormatDefaultLocale:vR,get timeFormat(){return tI},get timeParse(){return nI},get utcFormat(){return rI},get utcParse(){return iI},timeFormatLocale:JO,isoFormat:bR,isoParse:wR,now:TR,timer:IR,timerFlush:RR,timeout:function(t,n,r){var i=new OR;return i.restart((function(r){i.stop(),t(r+n)}),n=null==n?0:+n,r),i},interval:function(t,n,r){var i=new OR,e=n;return null==n?(i.restart(t,n,r),i):(n=+n,r=null==r?TR():+r,i.restart((function o(u){u+=e,i.restart(o,e+=n,r),t(u)}),n,r),i)},transition:aF,active:function(t,n){var r,i,e=t.__transition;if(e)for(i in n=null==n?null:n+"",e)if((r=e[i]).state>1&&r.name===n)return new uF([[t]],lF,n,+i);return null},interrupt:gD,voronoi:function(){var t=vF,n=pF,r=null;function i(i){return new XF(i.map((function(r,e){var o=[Math.round(t(r,e,i)/GF)*GF,Math.round(n(r,e,i)/GF)*GF];return o.index=e,o.data=r,o})),r)}return i.polygons=function(t){return i(t).polygons()},i.links=function(t){return i(t).links()},i.triangles=function(t){return i(t).triangles()},i.x=function(n){return arguments.length?(t="function"==typeof n?n:dF(+n),i):t},i.y=function(t){return arguments.length?(n="function"==typeof t?t:dF(+t),i):n},i.extent=function(t){return arguments.length?(r=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],i):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},i.size=function(t){return arguments.length?(r=null==t?null:[[0,0],[+t[0],+t[1]]],i):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},i},zoom:function(){var t,n,r=YH,i=zH,e=$H,o=GH,u=qH,a=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],c=250,f=$o,h=[],l=Xa("start","zoom","end"),d=500,v=0;function p(t){t.property("__zoom",VH).on("wheel.zoom",L).on("mousedown.zoom",A).on("dblclick.zoom",N).filter(u).on("touchstart.zoom",E).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(t,n){return(n=Math.max(a[0],Math.min(a[1],n)))===t.k?t:new jH(n,t.x,t.y)}function m(t,n,r){var i=n[0]-r[0]*t.k,e=n[1]-r[1]*t.k;return i===t.x&&e===t.y?t:new jH(t.k,i,e)}function y(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function w(t,n,r){t.on("start.zoom",(function(){g(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){g(this,arguments).end()})).tween("zoom",(function(){var t=this,e=arguments,o=g(t,e),u=i.apply(t,e),a=r||y(u),s=Math.max(u[1][0]-u[0][0],u[1][1]-u[0][1]),c=t.__zoom,h="function"==typeof n?n.apply(t,e):n,l=f(c.invert(a).concat(s/c.k),h.invert(a).concat(s/h.k));return function(t){if(1===t)t=h;else{var n=l(t),r=s/n[2];t=new jH(r,a[0]-n[0]*r,a[1]-n[1]*r)}o.zoom(null,t)}}))}function g(t,n){for(var r,i=0,e=h.length;i<e;++i)if((r=h[i]).that===t)return r;return new M(t,n)}function M(t,n){this.that=t,this.args=n,this.index=-1,this.active=0,this.extent=i.apply(t,n)}function L(){if(r.apply(this,arguments)){var t=g(this,arguments),n=this.__zoom,i=Math.max(a[0],Math.min(a[1],n.k*Math.pow(2,o.apply(this,arguments)))),u=mt(this);if(t.wheel)t.mouse[0][0]===u[0]&&t.mouse[0][1]===u[1]||(t.mouse[1]=n.invert(t.mouse[0]=u)),clearTimeout(t.wheel);else{if(n.k===i)return;t.mouse=[u,n.invert(u)],iH(this),t.start()}BH(),t.wheel=setTimeout(c,150),t.zoom("mouse",e(m(b(n,i),t.mouse[0],t.mouse[1]),t.extent,s))}function c(){t.wheel=null,t.end()}}function A(){if(!n&&r.apply(this,arguments)){var t=g(this,arguments),i=vt(nt.view).on("mousemove.zoom",c,!0).on("mouseup.zoom",f,!0),o=mt(this),u=nt.clientX,a=nt.clientY;Jf(nt.view),PH(),t.mouse=[o,this.__zoom.invert(o)],iH(this),t.start()}function c(){if(BH(),!t.moved){var n=nt.clientX-u,r=nt.clientY-a;t.moved=n*n+r*r>v}t.zoom("mouse",e(m(t.that.__zoom,t.mouse[0]=mt(t.that),t.mouse[1]),t.extent,s))}function f(){i.on("mousemove.zoom mouseup.zoom",null),Qf(nt.view,t.moved),BH(),t.end()}}function N(){if(r.apply(this,arguments)){var t=this.__zoom,n=mt(this),o=t.invert(n),u=e(m(b(t,t.k*(nt.shiftKey?.5:2)),n,o),i.apply(this,arguments),s);BH(),c>0?vt(this).transition().duration(c).call(w,u,n):vt(this).call(p.transform,u)}}function E(){if(r.apply(this,arguments)){var n,i,e,o,u=g(this,arguments),a=nt.changedTouches,s=a.length;for(PH(),i=0;i<s;++i)o=[o=wt(this,a,(e=a[i]).identifier),this.__zoom.invert(o),e.identifier],u.touch0?u.touch1||(u.touch1=o):(u.touch0=o,n=!0);if(t&&(t=clearTimeout(t),!u.touch1))return u.end(),void((o=vt(this).on("dblclick.zoom"))&&o.apply(this,arguments));n&&(t=setTimeout((function(){t=null}),d),iH(this),u.start())}}function k(){var n,r,i,o,u=g(this,arguments),a=nt.changedTouches,c=a.length;for(BH(),t&&(t=clearTimeout(t)),n=0;n<c;++n)i=wt(this,a,(r=a[n]).identifier),u.touch0&&u.touch0[2]===r.identifier?u.touch0[0]=i:u.touch1&&u.touch1[2]===r.identifier&&(u.touch1[0]=i);if(r=u.that.__zoom,u.touch1){var f=u.touch0[0],h=u.touch0[1],l=u.touch1[0],d=u.touch1[1],v=(v=l[0]-f[0])*v+(v=l[1]-f[1])*v,p=(p=d[0]-h[0])*p+(p=d[1]-h[1])*p;r=b(r,Math.sqrt(v/p)),i=[(f[0]+l[0])/2,(f[1]+l[1])/2],o=[(h[0]+d[0])/2,(h[1]+d[1])/2]}else{if(!u.touch0)return;i=u.touch0[0],o=u.touch0[1]}u.zoom("touch",e(m(r,i,o),u.extent,s))}function x(){var t,r,i=g(this,arguments),e=nt.changedTouches,o=e.length;for(PH(),n&&clearTimeout(n),n=setTimeout((function(){n=null}),d),t=0;t<o;++t)r=e[t],i.touch0&&i.touch0[2]===r.identifier?delete i.touch0:i.touch1&&i.touch1[2]===r.identifier&&delete i.touch1;i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0?i.touch0[1]=this.__zoom.invert(i.touch0[0]):i.end()}return p.transform=function(t,n){var r=t.selection?t.selection():t;r.property("__zoom",VH),t!==r?w(t,n):r.interrupt().each((function(){g(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()}))},p.scaleBy=function(t,n){p.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)}))},p.scaleTo=function(t,n){p.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,o=y(t),u=r.invert(o),a="function"==typeof n?n.apply(this,arguments):n;return e(m(b(r,a),o,u),t,s)}))},p.translateBy=function(t,n,r){p.transform(t,(function(){return e(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof r?r.apply(this,arguments):r),i.apply(this,arguments),s)}))},p.translateTo=function(t,n,r){p.transform(t,(function(){var t=i.apply(this,arguments),o=this.__zoom,u=y(t);return e(_H.translate(u[0],u[1]).scale(o.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof r?-r.apply(this,arguments):-r),t,s)}))},M.prototype={start:function(){return 1==++this.active&&(this.index=h.push(this)-1,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(h.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){at(new WH(p,t,this.that.__zoom),l.apply,l,[t,this.that,this.args])}},p.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:HH(+t),p):o},p.filter=function(t){return arguments.length?(r="function"==typeof t?t:HH(!!t),p):r},p.touchable=function(t){return arguments.length?(u="function"==typeof t?t:HH(!!t),p):u},p.extent=function(t){return arguments.length?(i="function"==typeof t?t:HH([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),p):i},p.scaleExtent=function(t){return arguments.length?(a[0]=+t[0],a[1]=+t[1],p):[a[0],a[1]]},p.translateExtent=function(t){return arguments.length?(s[0][0]=+t[0][0],s[1][0]=+t[1][0],s[0][1]=+t[0][1],s[1][1]=+t[1][1],p):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},p.constrain=function(t){return arguments.length?(e=t,p):e},p.duration=function(t){return arguments.length?(c=+t,p):c},p.interpolate=function(t){return arguments.length?(f=t,p):f},p.on=function(){var t=l.on.apply(l,arguments);return t===l?p:t},p.clickDistance=function(t){return arguments.length?(v=(t=+t)*t,p):Math.sqrt(v)},p},zoomTransform:UH,zoomIdentity:_H}),XH="http://www.w3.org/1999/xhtml",KH={svg:"http://www.w3.org/2000/svg",xhtml:XH,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function JH(t){var n=t+="",r=n.indexOf(":");return r>=0&&"xmlns"!==(n=t.slice(0,r))&&(t=t.slice(r+1)),KH.hasOwnProperty(n)?{space:KH[n],local:t}:t}function QH(t){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===XH&&n.documentElement.namespaceURI===XH?n.createElement(t):n.createElementNS(r,t)}}function tW(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function nW(t){var n=JH(t);return(n.local?tW:QH)(n)}function rW(){}function iW(t){return null==t?rW:function(){return this.querySelector(t)}}function eW(){return[]}function oW(t){return new Array(t.length)}function uW(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}uW.prototype={constructor:uW,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function aW(t,n,r,i,e,o){for(var u,a=0,s=n.length,c=o.length;a<c;++a)(u=n[a])?(u.__data__=o[a],i[a]=u):r[a]=new uW(t,o[a]);for(;a<s;++a)(u=n[a])&&(e[a]=u)}function sW(t,n,r,i,e,o,u){var a,s,c,f={},h=n.length,l=o.length,d=new Array(h);for(a=0;a<h;++a)(s=n[a])&&(d[a]=c="$"+u.call(s,s.__data__,a,n),c in f?e[a]=s:f[c]=s);for(a=0;a<l;++a)(s=f[c="$"+u.call(t,o[a],a,o)])?(i[a]=s,s.__data__=o[a],f[c]=null):r[a]=new uW(t,o[a]);for(a=0;a<h;++a)(s=n[a])&&f[d[a]]===s&&(e[a]=s)}function cW(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function fW(t){return function(){this.removeAttribute(t)}}function hW(t){return function(){this.removeAttributeNS(t.space,t.local)}}function lW(t,n){return function(){this.setAttribute(t,n)}}function dW(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function vW(t,n){return function(){var r=n.apply(this,arguments);null==r?this.removeAttribute(t):this.setAttribute(t,r)}}function pW(t,n){return function(){var r=n.apply(this,arguments);null==r?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function bW(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function mW(t){return function(){this.style.removeProperty(t)}}function yW(t,n,r){return function(){this.style.setProperty(t,n,r)}}function wW(t,n,r){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,r)}}function gW(t,n){return t.style.getPropertyValue(n)||bW(t).getComputedStyle(t,null).getPropertyValue(n)}function MW(t){return function(){delete this[t]}}function LW(t,n){return function(){this[t]=n}}function AW(t,n){return function(){var r=n.apply(this,arguments);null==r?delete this[t]:this[t]=r}}function NW(t){return t.trim().split(/^|\s+/)}function EW(t){return t.classList||new kW(t)}function kW(t){this._node=t,this._names=NW(t.getAttribute("class")||"")}function xW(t,n){for(var r=EW(t),i=-1,e=n.length;++i<e;)r.add(n[i])}function TW(t,n){for(var r=EW(t),i=-1,e=n.length;++i<e;)r.remove(n[i])}function SW(t){return function(){xW(this,t)}}function OW(t){return function(){TW(this,t)}}function IW(t,n){return function(){(n.apply(this,arguments)?xW:TW)(this,t)}}function RW(){this.textContent=""}function CW(t){return function(){this.textContent=t}}function DW(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function FW(){this.innerHTML=""}function HW(t){return function(){this.innerHTML=t}}function WW(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function jW(){this.nextSibling&&this.parentNode.appendChild(this)}function _W(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function UW(){return null}function PW(){var t=this.parentNode;t&&t.removeChild(this)}function BW(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function YW(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}kW.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var zW={},VW=null;function GW(t,n,r){return t=qW(t,n,r),function(n){var r=n.relatedTarget;r&&(r===this||8&r.compareDocumentPosition(this))||t.call(this,n)}}function qW(t,n,r){return function(i){var e=VW;VW=i;try{t.call(this,this.__data__,n,r)}finally{VW=e}}}function $W(t){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}}))}function ZW(t){return function(){var n=this.__on;if(n){for(var r,i=0,e=-1,o=n.length;i<o;++i)r=n[i],t.type&&r.type!==t.type||r.name!==t.name?n[++e]=r:this.removeEventListener(r.type,r.listener,r.capture);++e?n.length=e:delete this.__on}}}function XW(t,n,r){var i=zW.hasOwnProperty(t.type)?GW:qW;return function(e,o,u){var a,s=this.__on,c=i(n,o,u);if(s)for(var f=0,h=s.length;f<h;++f)if((a=s[f]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=r),void(a.value=n);this.addEventListener(t.type,c,r),a={type:t.type,name:t.name,value:n,listener:c,capture:r},s?s.push(a):this.__on=[a]}}function KW(t,n,r){var i=bW(t),e=i.CustomEvent;"function"==typeof e?e=new e(n,r):(e=i.document.createEvent("Event"),r?(e.initEvent(n,r.bubbles,r.cancelable),e.detail=r.detail):e.initEvent(n,!1,!1)),t.dispatchEvent(e)}function JW(t,n){return function(){return KW(this,t,n)}}function QW(t,n){return function(){return KW(this,t,n.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(zW={mouseenter:"mouseover",mouseleave:"mouseout"}));var tj=[null];function nj(t,n){this._groups=t,this._parents=n}function rj(t){return"string"==typeof t?new nj([[document.querySelector(t)]],[document.documentElement]):new nj([[t]],tj)}nj.prototype={constructor:nj,select:function(t){"function"!=typeof t&&(t=iW(t));for(var n=this._groups,r=n.length,i=new Array(r),e=0;e<r;++e)for(var o,u,a=n[e],s=a.length,c=i[e]=new Array(s),f=0;f<s;++f)(o=a[f])&&(u=t.call(o,o.__data__,f,a))&&("__data__"in o&&(u.__data__=o.__data__),c[f]=u);return new nj(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?eW:function(){return this.querySelectorAll(t)}}(t));for(var n=this._groups,r=n.length,i=[],e=[],o=0;o<r;++o)for(var u,a=n[o],s=a.length,c=0;c<s;++c)(u=a[c])&&(i.push(t.call(u,u.__data__,c,a)),e.push(u));return new nj(i,e)},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var n=this._groups,r=n.length,i=new Array(r),e=0;e<r;++e)for(var o,u=n[e],a=u.length,s=i[e]=[],c=0;c<a;++c)(o=u[c])&&t.call(o,o.__data__,c,u)&&s.push(o);return new nj(i,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),c=-1,this.each((function(t){d[++c]=t})),d;var r=n?sW:aW,i=this._parents,e=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=e.length,u=new Array(o),a=new Array(o),s=new Array(o),c=0;c<o;++c){var f=i[c],h=e[c],l=h.length,d=t.call(f,f&&f.__data__,c,i),v=d.length,p=a[c]=new Array(v),b=u[c]=new Array(v);r(f,h,p,b,s[c]=new Array(l),d,n);for(var m,y,w=0,g=0;w<v;++w)if(m=p[w]){for(w>=g&&(g=w+1);!(y=b[g])&&++g<v;);m._next=y||null}}return(u=new nj(u,i))._enter=a,u._exit=s,u},enter:function(){return new nj(this._enter||this._groups.map(oW),this._parents)},exit:function(){return new nj(this._exit||this._groups.map(oW),this._parents)},join:function(t,n,r){var i=this.enter(),e=this,o=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=n&&(e=n(e)),null==r?o.remove():r(o),i&&e?i.merge(e).order():e},merge:function(t){for(var n=this._groups,r=t._groups,i=n.length,e=Math.min(i,r.length),o=new Array(i),u=0;u<e;++u)for(var a,s=n[u],c=r[u],f=s.length,h=o[u]=new Array(f),l=0;l<f;++l)(a=s[l]||c[l])&&(h[l]=a);for(;u<i;++u)o[u]=n[u];return new nj(o,this._parents)},order:function(){for(var t=this._groups,n=-1,r=t.length;++n<r;)for(var i,e=t[n],o=e.length-1,u=e[o];--o>=0;)(i=e[o])&&(u&&4^i.compareDocumentPosition(u)&&u.parentNode.insertBefore(i,u),u=i);return this},sort:function(t){function n(n,r){return n&&r?t(n.__data__,r.__data__):!n-!r}t||(t=cW);for(var r=this._groups,i=r.length,e=new Array(i),o=0;o<i;++o){for(var u,a=r[o],s=a.length,c=e[o]=new Array(s),f=0;f<s;++f)(u=a[f])&&(c[f]=u);c.sort(n)}return new nj(e,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],e=0,o=i.length;e<o;++e){var u=i[e];if(u)return u}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,r=0,i=n.length;r<i;++r)for(var e,o=n[r],u=0,a=o.length;u<a;++u)(e=o[u])&&t.call(e,e.__data__,u,o);return this},attr:function(t,n){var r=JH(t);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((null==n?r.local?hW:fW:"function"==typeof n?r.local?pW:vW:r.local?dW:lW)(r,n))},style:function(t,n,r){return arguments.length>1?this.each((null==n?mW:"function"==typeof n?wW:yW)(t,n,null==r?"":r)):gW(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?MW:"function"==typeof n?AW:LW)(t,n)):this.node()[t]},classed:function(t,n){var r=NW(t+"");if(arguments.length<2){for(var i=EW(this.node()),e=-1,o=r.length;++e<o;)if(!i.contains(r[e]))return!1;return!0}return this.each(("function"==typeof n?IW:n?SW:OW)(r,n))},text:function(t){return arguments.length?this.each(null==t?RW:("function"==typeof t?DW:CW)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?FW:("function"==typeof t?WW:HW)(t)):this.node().innerHTML},raise:function(){return this.each(jW)},lower:function(){return this.each(_W)},append:function(t){var n="function"==typeof t?t:nW(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var r="function"==typeof t?t:nW(t),i=null==n?UW:"function"==typeof n?n:iW(n);return this.select((function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(PW)},clone:function(t){return this.select(t?YW:BW)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,r){var i,e,o=$W(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?XW:ZW,null==r&&(r=!1),i=0;i<u;++i)this.each(a(o[i],n,r));return this}var a=this.node().__on;if(a)for(var s,c=0,f=a.length;c<f;++c)for(i=0,s=a[c];i<u;++i)if((e=o[i]).type===s.type&&e.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?QW:JW)(t,n))}};var ij={value:function(){}};function ej(){for(var t,n=0,r=arguments.length,i={};n<r;++n){if(!(t=arguments[n]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new oj(i)}function oj(t){this._=t}function uj(t,n){return t.trim().split(/^|\s+/).map((function(t){var r="",i=t.indexOf(".");if(i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}}))}function aj(t,n){for(var r,i=0,e=t.length;i<e;++i)if((r=t[i]).name===n)return r.value}function sj(t,n,r){for(var i=0,e=t.length;i<e;++i)if(t[i].name===n){t[i]=ij,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=r&&t.push({name:n,value:r}),t}oj.prototype=ej.prototype={constructor:oj,on:function(t,n){var r,i=this._,e=uj(t+"",i),o=-1,u=e.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(r=(t=e[o]).type)i[r]=sj(i[r],t.name,n);else if(null==n)for(r in i)i[r]=sj(i[r],t.name,null);return this}for(;++o<u;)if((r=(t=e[o]).type)&&(r=aj(i[r],t.name)))return r},copy:function(){var t={},n=this._;for(var r in n)t[r]=n[r].slice();return new oj(t)},call:function(t,n){if((r=arguments.length-2)>0)for(var r,i,e=new Array(r),o=0;o<r;++o)e[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,r=(i=this._[t]).length;o<r;++o)i[o].value.apply(n,e)},apply:function(t,n,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],e=0,o=i.length;e<o;++e)i[e].value.apply(n,r)}};var cj="http://www.w3.org/1999/xhtml",fj={svg:"http://www.w3.org/2000/svg",xhtml:cj,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function hj(t){var n=t+="",r=n.indexOf(":");return r>=0&&"xmlns"!==(n=t.slice(0,r))&&(t=t.slice(r+1)),fj.hasOwnProperty(n)?{space:fj[n],local:t}:t}function lj(t){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===cj&&n.documentElement.namespaceURI===cj?n.createElement(t):n.createElementNS(r,t)}}function dj(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function vj(t){var n=hj(t);return(n.local?dj:lj)(n)}function pj(){}function bj(t){return null==t?pj:function(){return this.querySelector(t)}}function mj(){return[]}function yj(t){return new Array(t.length)}function wj(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}wj.prototype={constructor:wj,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function gj(t,n,r,i,e,o){for(var u,a=0,s=n.length,c=o.length;a<c;++a)(u=n[a])?(u.__data__=o[a],i[a]=u):r[a]=new wj(t,o[a]);for(;a<s;++a)(u=n[a])&&(e[a]=u)}function Mj(t,n,r,i,e,o,u){var a,s,c,f={},h=n.length,l=o.length,d=new Array(h);for(a=0;a<h;++a)(s=n[a])&&(d[a]=c="$"+u.call(s,s.__data__,a,n),c in f?e[a]=s:f[c]=s);for(a=0;a<l;++a)(s=f[c="$"+u.call(t,o[a],a,o)])?(i[a]=s,s.__data__=o[a],f[c]=null):r[a]=new wj(t,o[a]);for(a=0;a<h;++a)(s=n[a])&&f[d[a]]===s&&(e[a]=s)}function Lj(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Aj(t){return function(){this.removeAttribute(t)}}function Nj(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ej(t,n){return function(){this.setAttribute(t,n)}}function kj(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function xj(t,n){return function(){var r=n.apply(this,arguments);null==r?this.removeAttribute(t):this.setAttribute(t,r)}}function Tj(t,n){return function(){var r=n.apply(this,arguments);null==r?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function Sj(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Oj(t){return function(){this.style.removeProperty(t)}}function Ij(t,n,r){return function(){this.style.setProperty(t,n,r)}}function Rj(t,n,r){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,r)}}function Cj(t,n){return t.style.getPropertyValue(n)||Sj(t).getComputedStyle(t,null).getPropertyValue(n)}function Dj(t){return function(){delete this[t]}}function Fj(t,n){return function(){this[t]=n}}function Hj(t,n){return function(){var r=n.apply(this,arguments);null==r?delete this[t]:this[t]=r}}function Wj(t){return t.trim().split(/^|\s+/)}function jj(t){return t.classList||new _j(t)}function _j(t){this._node=t,this._names=Wj(t.getAttribute("class")||"")}function Uj(t,n){for(var r=jj(t),i=-1,e=n.length;++i<e;)r.add(n[i])}function Pj(t,n){for(var r=jj(t),i=-1,e=n.length;++i<e;)r.remove(n[i])}function Bj(t){return function(){Uj(this,t)}}function Yj(t){return function(){Pj(this,t)}}function zj(t,n){return function(){(n.apply(this,arguments)?Uj:Pj)(this,t)}}function Vj(){this.textContent=""}function Gj(t){return function(){this.textContent=t}}function qj(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function $j(){this.innerHTML=""}function Zj(t){return function(){this.innerHTML=t}}function Xj(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Kj(){this.nextSibling&&this.parentNode.appendChild(this)}function Jj(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Qj(){return null}function t_(){var t=this.parentNode;t&&t.removeChild(this)}function n_(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function r_(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}_j.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var i_={},e_=null;function o_(t,n,r){return t=u_(t,n,r),function(n){var r=n.relatedTarget;r&&(r===this||8&r.compareDocumentPosition(this))||t.call(this,n)}}function u_(t,n,r){return function(i){var e=e_;e_=i;try{t.call(this,this.__data__,n,r)}finally{e_=e}}}function a_(t){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}}))}function s_(t){return function(){var n=this.__on;if(n){for(var r,i=0,e=-1,o=n.length;i<o;++i)r=n[i],t.type&&r.type!==t.type||r.name!==t.name?n[++e]=r:this.removeEventListener(r.type,r.listener,r.capture);++e?n.length=e:delete this.__on}}}function c_(t,n,r){var i=i_.hasOwnProperty(t.type)?o_:u_;return function(e,o,u){var a,s=this.__on,c=i(n,o,u);if(s)for(var f=0,h=s.length;f<h;++f)if((a=s[f]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=r),void(a.value=n);this.addEventListener(t.type,c,r),a={type:t.type,name:t.name,value:n,listener:c,capture:r},s?s.push(a):this.__on=[a]}}function f_(t,n,r,i){var e=e_;t.sourceEvent=e_,e_=t;try{return n.apply(r,i)}finally{e_=e}}function h_(t,n,r){var i=Sj(t),e=i.CustomEvent;"function"==typeof e?e=new e(n,r):(e=i.document.createEvent("Event"),r?(e.initEvent(n,r.bubbles,r.cancelable),e.detail=r.detail):e.initEvent(n,!1,!1)),t.dispatchEvent(e)}function l_(t,n){return function(){return h_(this,t,n)}}function d_(t,n){return function(){return h_(this,t,n.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(i_={mouseenter:"mouseover",mouseleave:"mouseout"}));var v_=[null];function p_(t,n){this._groups=t,this._parents=n}function b_(t){return"string"==typeof t?new p_([[document.querySelector(t)]],[document.documentElement]):new p_([[t]],v_)}function m_(){for(var t,n=e_;t=n.sourceEvent;)n=t;return n}function y_(t,n){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var e=t.getBoundingClientRect();return[n.clientX-e.left-t.clientLeft,n.clientY-e.top-t.clientTop]}function w_(t){var n=m_();return n.changedTouches&&(n=n.changedTouches[0]),y_(t,n)}function g_(t,n,r){arguments.length<3&&(r=n,n=m_().changedTouches);for(var i,e=0,o=n?n.length:0;e<o;++e)if((i=n[e]).identifier===r)return y_(t,i);return null}function M_(){e_.stopImmediatePropagation()}function L_(){e_.preventDefault(),e_.stopImmediatePropagation()}function A_(t){var n=t.document.documentElement,r=b_(t).on("dragstart.drag",L_,!0);"onselectstart"in n?r.on("selectstart.drag",L_,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function N_(t){return function(){return t}}function E_(t,n,r,i,e,o,u,a,s,c){this.target=t,this.type=n,this.subject=r,this.identifier=i,this.active=e,this.x=o,this.y=u,this.dx=a,this.dy=s,this._=c}function k_(){return!e_.button}function x_(){return this.parentNode}function T_(t){return null==t?{x:e_.x,y:e_.y}:t}function S_(){return"ontouchstart"in this}function O_(){var t,n,r,i,e=k_,o=x_,u=T_,a=S_,s={},c=ej("start","drag","end"),f=0,h=0;function l(t){t.on("mousedown.drag",d).filter(a).on("touchstart.drag",b).on("touchmove.drag",m).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!i&&e.apply(this,arguments)){var u=w("mouse",o.apply(this,arguments),w_,this,arguments);u&&(b_(e_.view).on("mousemove.drag",v,!0).on("mouseup.drag",p,!0),A_(e_.view),M_(),r=!1,t=e_.clientX,n=e_.clientY,u("start"))}}function v(){if(L_(),!r){var i=e_.clientX-t,e=e_.clientY-n;r=i*i+e*e>h}s.mouse("drag")}function p(){b_(e_.view).on("mousemove.drag mouseup.drag",null),function(t,n){var r=t.document.documentElement,i=b_(t).on("dragstart.drag",null);n&&(i.on("click.drag",L_,!0),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}(e_.view,r),L_(),s.mouse("end")}function b(){if(e.apply(this,arguments)){var t,n,r=e_.changedTouches,i=o.apply(this,arguments),u=r.length;for(t=0;t<u;++t)(n=w(r[t].identifier,i,g_,this,arguments))&&(M_(),n("start"))}}function m(){var t,n,r=e_.changedTouches,i=r.length;for(t=0;t<i;++t)(n=s[r[t].identifier])&&(L_(),n("drag"))}function y(){var t,n,r=e_.changedTouches,e=r.length;for(i&&clearTimeout(i),i=setTimeout((function(){i=null}),500),t=0;t<e;++t)(n=s[r[t].identifier])&&(M_(),n("end"))}function w(t,n,r,i,e){var o,a,h,d=r(n,t),v=c.copy();if(f_(new E_(l,"beforestart",o,t,f,d[0],d[1],0,0,v),(function(){return null!=(e_.subject=o=u.apply(i,e))&&(a=o.x-d[0]||0,h=o.y-d[1]||0,!0)})))return function u(c){var p,b=d;switch(c){case"start":s[t]=u,p=f++;break;case"end":delete s[t],--f;case"drag":d=r(n,t),p=f}f_(new E_(l,c,o,t,p,d[0]+a,d[1]+h,d[0]-b[0],d[1]-b[1],v),v.apply,v,[c,i,e])}}return l.filter=function(t){return arguments.length?(e="function"==typeof t?t:N_(!!t),l):e},l.container=function(t){return arguments.length?(o="function"==typeof t?t:N_(t),l):o},l.subject=function(t){return arguments.length?(u="function"==typeof t?t:N_(t),l):u},l.touchable=function(t){return arguments.length?(a="function"==typeof t?t:N_(!!t),l):a},l.on=function(){var t=c.on.apply(c,arguments);return t===c?l:t},l.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,l):Math.sqrt(h)},l}function I_(t){return function(){return t}}p_.prototype={constructor:p_,select:function(t){"function"!=typeof t&&(t=bj(t));for(var n=this._groups,r=n.length,i=new Array(r),e=0;e<r;++e)for(var o,u,a=n[e],s=a.length,c=i[e]=new Array(s),f=0;f<s;++f)(o=a[f])&&(u=t.call(o,o.__data__,f,a))&&("__data__"in o&&(u.__data__=o.__data__),c[f]=u);return new p_(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?mj:function(){return this.querySelectorAll(t)}}(t));for(var n=this._groups,r=n.length,i=[],e=[],o=0;o<r;++o)for(var u,a=n[o],s=a.length,c=0;c<s;++c)(u=a[c])&&(i.push(t.call(u,u.__data__,c,a)),e.push(u));return new p_(i,e)},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var n=this._groups,r=n.length,i=new Array(r),e=0;e<r;++e)for(var o,u=n[e],a=u.length,s=i[e]=[],c=0;c<a;++c)(o=u[c])&&t.call(o,o.__data__,c,u)&&s.push(o);return new p_(i,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),c=-1,this.each((function(t){d[++c]=t})),d;var r=n?Mj:gj,i=this._parents,e=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=e.length,u=new Array(o),a=new Array(o),s=new Array(o),c=0;c<o;++c){var f=i[c],h=e[c],l=h.length,d=t.call(f,f&&f.__data__,c,i),v=d.length,p=a[c]=new Array(v),b=u[c]=new Array(v);r(f,h,p,b,s[c]=new Array(l),d,n);for(var m,y,w=0,g=0;w<v;++w)if(m=p[w]){for(w>=g&&(g=w+1);!(y=b[g])&&++g<v;);m._next=y||null}}return(u=new p_(u,i))._enter=a,u._exit=s,u},enter:function(){return new p_(this._enter||this._groups.map(yj),this._parents)},exit:function(){return new p_(this._exit||this._groups.map(yj),this._parents)},join:function(t,n,r){var i=this.enter(),e=this,o=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=n&&(e=n(e)),null==r?o.remove():r(o),i&&e?i.merge(e).order():e},merge:function(t){for(var n=this._groups,r=t._groups,i=n.length,e=Math.min(i,r.length),o=new Array(i),u=0;u<e;++u)for(var a,s=n[u],c=r[u],f=s.length,h=o[u]=new Array(f),l=0;l<f;++l)(a=s[l]||c[l])&&(h[l]=a);for(;u<i;++u)o[u]=n[u];return new p_(o,this._parents)},order:function(){for(var t=this._groups,n=-1,r=t.length;++n<r;)for(var i,e=t[n],o=e.length-1,u=e[o];--o>=0;)(i=e[o])&&(u&&4^i.compareDocumentPosition(u)&&u.parentNode.insertBefore(i,u),u=i);return this},sort:function(t){function n(n,r){return n&&r?t(n.__data__,r.__data__):!n-!r}t||(t=Lj);for(var r=this._groups,i=r.length,e=new Array(i),o=0;o<i;++o){for(var u,a=r[o],s=a.length,c=e[o]=new Array(s),f=0;f<s;++f)(u=a[f])&&(c[f]=u);c.sort(n)}return new p_(e,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],e=0,o=i.length;e<o;++e){var u=i[e];if(u)return u}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,r=0,i=n.length;r<i;++r)for(var e,o=n[r],u=0,a=o.length;u<a;++u)(e=o[u])&&t.call(e,e.__data__,u,o);return this},attr:function(t,n){var r=hj(t);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((null==n?r.local?Nj:Aj:"function"==typeof n?r.local?Tj:xj:r.local?kj:Ej)(r,n))},style:function(t,n,r){return arguments.length>1?this.each((null==n?Oj:"function"==typeof n?Rj:Ij)(t,n,null==r?"":r)):Cj(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?Dj:"function"==typeof n?Hj:Fj)(t,n)):this.node()[t]},classed:function(t,n){var r=Wj(t+"");if(arguments.length<2){for(var i=jj(this.node()),e=-1,o=r.length;++e<o;)if(!i.contains(r[e]))return!1;return!0}return this.each(("function"==typeof n?zj:n?Bj:Yj)(r,n))},text:function(t){return arguments.length?this.each(null==t?Vj:("function"==typeof t?qj:Gj)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?$j:("function"==typeof t?Xj:Zj)(t)):this.node().innerHTML},raise:function(){return this.each(Kj)},lower:function(){return this.each(Jj)},append:function(t){var n="function"==typeof t?t:vj(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var r="function"==typeof t?t:vj(t),i=null==n?Qj:"function"==typeof n?n:bj(n);return this.select((function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(t_)},clone:function(t){return this.select(t?r_:n_)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,r){var i,e,o=a_(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?c_:s_,null==r&&(r=!1),i=0;i<u;++i)this.each(a(o[i],n,r));return this}var a=this.node().__on;if(a)for(var s,c=0,f=a.length;c<f;++c)for(i=0,s=a[c];i<u;++i)if((e=o[i]).type===s.type&&e.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?d_:l_)(t,n))}},E_.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var R_=1e-12,C_=Math.PI,D_=C_/2,F_=2*C_;function H_(t){return t.innerRadius}function W_(t){return t.outerRadius}function j_(t){return t.startAngle}function __(t){return t.endAngle}function U_(t){return t&&t.padAngle}function P_(t){return t>=1?D_:t<=-1?-D_:Math.asin(t)}function B_(t,n,r,i,e,o,u,a){var s=r-t,c=i-n,f=u-e,h=a-o,l=(f*(n-o)-h*(t-e))/(h*s-f*c);return[t+l*s,n+l*c]}function Y_(t,n,r,i,e,o,u){var a=t-r,s=n-i,c=(u?o:-o)/Math.sqrt(a*a+s*s),f=c*s,h=-c*a,l=t+f,d=n+h,v=r+f,p=i+h,b=(l+v)/2,m=(d+p)/2,y=v-l,w=p-d,g=y*y+w*w,M=e-o,L=l*p-v*d,A=(w<0?-1:1)*Math.sqrt(Math.max(0,M*M*g-L*L)),N=(L*w-y*A)/g,E=(-L*y-w*A)/g,k=(L*w+y*A)/g,x=(-L*y+w*A)/g,T=N-b,S=E-m,O=k-b,I=x-m;return T*T+S*S>O*O+I*I&&(N=k,E=x),{cx:N,cy:E,x01:-f,y01:-h,x11:N*(e/M-1),y11:E*(e/M-1)}}function z_(t){this._context=t}function V_(t){return new z_(t)}function G_(t){return t[0]}function q_(t){return t[1]}function $_(t,n,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function Z_(t,n){this._context=t,this._k=(1-n)/6}function X_(t,n){this._context=t,this._alpha=n}z_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}},Z_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:$_(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:$_(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},X_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var r=this._x2-t,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:!function(t,n,r){var i=t._x1,e=t._y1,o=t._x2,u=t._y2;if(t._l01_a>R_){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,e=(e*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>R_){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-n*t._l12_2a)/f,u=(u*c+t._y1*t._l23_2a-r*t._l12_2a)/f}t._context.bezierCurveTo(i,e,o,u,t._x2,t._y2)}(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var K_=function t(n){function r(t){return n?new X_(t,n):new Z_(t,0)}return r.alpha=function(n){return t(+n)},r}(.5);function J_(t){return t<0?-1:1}function Q_(t,n,r){var i=t._x1-t._x0,e=n-t._x1,o=(t._y1-t._y0)/(i||e<0&&-0),u=(r-t._y1)/(e||i<0&&-0),a=(o*e+u*i)/(i+e);return(J_(o)+J_(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(a))||0}function tU(t,n){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-n)/2:n}function nU(t,n,r){var i=t._x0,e=t._x1,o=t._y1,u=(e-i)/3;t._context.bezierCurveTo(i+u,t._y0+u*n,e-u,o-u*r,e,o)}function rU(t){this._context=t}rU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:nU(this,this._t0,tU(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var r=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,nU(this,tU(this,r=Q_(this,t,n)),r);break;default:nU(this,this._t0,r=Q_(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=r}}},Object.create(rU.prototype).point=function(t,n){rU.prototype.point.call(this,n,t)};var iU={value:function(){}};function eU(){for(var t,n=0,r=arguments.length,i={};n<r;++n){if(!(t=arguments[n]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new oU(i)}function oU(t){this._=t}function uU(t,n){return t.trim().split(/^|\s+/).map((function(t){var r="",i=t.indexOf(".");if(i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}}))}function aU(t,n){for(var r,i=0,e=t.length;i<e;++i)if((r=t[i]).name===n)return r.value}function sU(t,n,r){for(var i=0,e=t.length;i<e;++i)if(t[i].name===n){t[i]=iU,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=r&&t.push({name:n,value:r}),t}oU.prototype=eU.prototype={constructor:oU,on:function(t,n){var r,i=this._,e=uU(t+"",i),o=-1,u=e.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(r=(t=e[o]).type)i[r]=sU(i[r],t.name,n);else if(null==n)for(r in i)i[r]=sU(i[r],t.name,null);return this}for(;++o<u;)if((r=(t=e[o]).type)&&(r=aU(i[r],t.name)))return r},copy:function(){var t={},n=this._;for(var r in n)t[r]=n[r].slice();return new oU(t)},call:function(t,n){if((r=arguments.length-2)>0)for(var r,i,e=new Array(r),o=0;o<r;++o)e[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,r=(i=this._[t]).length;o<r;++o)i[o].value.apply(n,e)},apply:function(t,n,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],e=0,o=i.length;e<o;++e)i[e].value.apply(n,r)}};var cU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fU=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},hU=function(){function t(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,r,i){return r&&t(n.prototype,r),i&&t(n,i),n}}(),lU=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},dU=function t(n,r,i){null===n&&(n=Function.prototype);var e=Object.getOwnPropertyDescriptor(n,r);if(void 0===e){var o=Object.getPrototypeOf(n);return null===o?void 0:t(o,r,i)}if("value"in e)return e.value;var u=e.get;return void 0!==u?u.call(i):void 0},vU=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)},pU=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n},bU=function(){function t(n){var r=n.x,i=void 0===r?0:r,e=n.y,o=void 0===e?0:e,u=n.nx,a=n.ny,s=n.dy,c=void 0===s?0:s,f=n.dx,h=void 0===f?0:f,l=n.color,d=void 0===l?"grey":l,v=n.data,p=n.type,b=n.subject,m=n.connector,y=n.note,w=n.disable,g=n.id,M=n.className;fU(this,t),this._dx=void 0!==u?u-i:h,this._dy=void 0!==a?a-o:c,this._x=i,this._y=o,this._color=d,this.id=g,this._className=M||"",this._type=p||"",this.data=v,this.note=y||{},this.connector=m||{},this.subject=b||{},this.disable=w||[]}return hU(t,[{key:"updatePosition",value:function(){this.type.setPosition&&(this.type.setPosition(),this.type.subject&&0!==this.type.subject.selectAll(":not(.handle)").nodes().length&&this.type.redrawSubject())}},{key:"clearComponents",value:function(){this.type.clearComponents&&this.type.clearComponents()}},{key:"updateOffset",value:function(){this.type.setOffset&&(this.type.setOffset(),0!==this.type.connector.selectAll(":not(.handle)").nodes().length&&this.type.redrawConnector(),this.type.redrawNote())}},{key:"className",get:function(){return this._className},set:function(t){this._className=t,this.type.setClassName&&this.type.setClassName()}},{key:"type",get:function(){return this._type},set:function(t){this._type=t,this.clearComponents()}},{key:"x",get:function(){return this._x},set:function(t){this._x=t,this.updatePosition()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this.updatePosition()}},{key:"color",get:function(){return this._color},set:function(t){this._color=t,this.updatePosition()}},{key:"dx",get:function(){return this._dx},set:function(t){this._dx=t,this.updateOffset()}},{key:"dy",get:function(){return this._dy},set:function(t){this._dy=t,this.updateOffset()}},{key:"nx",set:function(t){this._dx=t-this._x,this.updateOffset()}},{key:"ny",set:function(t){this._dy=t-this._y,this.updateOffset()}},{key:"offset",get:function(){return{x:this._dx,y:this._dy}},set:function(t){var n=t.y;this._dx=t.x,this._dy=n,this.updateOffset()}},{key:"position",get:function(){return{x:this._x,y:this._y}},set:function(t){var n=t.y;this._x=t.x,this._y=n,this.updatePosition()}},{key:"translation",get:function(){return{x:this._x+this._dx,y:this._y+this._dy}}},{key:"json",get:function(){var t={x:this._x,y:this._y,dx:this._dx,dy:this._dy};return this.data&&Object.keys(this.data).length>0&&(t.data=this.data),this.type&&(t.type=this.type),this._className&&(t.className=this._className),Object.keys(this.connector).length>0&&(t.connector=this.connector),Object.keys(this.subject).length>0&&(t.subject=this.subject),Object.keys(this.note).length>0&&(t.note=this.note),t}}]),t}(),mU=function(){function t(n){var r=n.annotations,i=n.accessors,e=n.accessorsInverse;fU(this,t),this.accessors=i,this.accessorsInverse=e,this.annotations=r}return hU(t,[{key:"clearTypes",value:function(t){this.annotations.forEach((function(n){n.type=void 0,n.subject=t&&t.subject||n.subject,n.connector=t&&t.connector||n.connector,n.note=t&&t.note||n.note}))}},{key:"setPositionWithAccessors",value:function(){var t=this;this.annotations.forEach((function(n){n.type.setPositionWithAccessors(t.accessors)}))}},{key:"editMode",value:function(t){this.annotations.forEach((function(n){n.type&&(n.type.editMode=t,n.type.updateEditMode())}))}},{key:"updateDisable",value:function(t){this.annotations.forEach((function(n){n.disable=t,n.type&&t.forEach((function(t){n.type[t]&&(n.type[t].remove&&n.type[t].remove(),n.type[t]=void 0)}))}))}},{key:"updateTextWrap",value:function(t){this.annotations.forEach((function(n){n.type&&n.type.updateTextWrap&&n.type.updateTextWrap(t)}))}},{key:"updateText",value:function(){this.annotations.forEach((function(t){t.type&&t.type.drawText&&t.type.drawText()}))}},{key:"updateNotePadding",value:function(t){this.annotations.forEach((function(n){n.type&&(n.type.notePadding=t)}))}},{key:"json",get:function(){var t=this;return this.annotations.map((function(n){var r=n.json;return t.accessorsInverse&&n.data&&(r.data={},Object.keys(t.accessorsInverse).forEach((function(i){r.data[i]=t.accessorsInverse[i]({x:n.x,y:n.y})}))),r}))}},{key:"noteNodes",get:function(){return this.annotations.map((function(t){return lU({},t.type.getNoteBBoxOffset(),{positionX:t.x,positionY:t.y})}))}}]),t}(),yU=function(t,n){return"dynamic"!==t&&"left"!==t&&"right"!==t||(t=n<0?"top":"bottom"),t},wU=function(t,n){return"dynamic"!==t&&"top"!==t&&"bottom"!==t||(t=n<0?"right":"left"),t},gU=["topBottom","top","bottom"],MU=["leftRight","left","right"],LU=function(t){var n=t.data,r=t.curve,i=void 0===r?V_:r,e=t.canvasContext,o=t.className,u=t.classID,a=function(){var t=G_,n=q_,r=I_(!0),i=null,e=V_,o=null;function u(u){var a,s,c,f=u.length,h=!1;for(null==i&&(o=e(c=Du())),a=0;a<=f;++a)!(a<f&&r(s=u[a],a,u))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(s,a,u),+n(s,a,u));if(c)return o=null,c+""||null}return u.x=function(n){return arguments.length?(t="function"==typeof n?n:I_(+n),u):t},u.y=function(t){return arguments.length?(n="function"==typeof t?t:I_(+t),u):n},u.defined=function(t){return arguments.length?(r="function"==typeof t?t:I_(!!t),u):r},u.curve=function(t){return arguments.length?(e=t,null!=i&&(o=e(i)),u):e},u.context=function(t){return arguments.length?(null==t?i=o=null:o=e(i=t),u):i},u}().curve(i),s={type:"path",className:o,classID:u,data:n};return e?(a.context(e),s.pathMethods=a):s.attrs={d:a(n)},s},AU=function(t){var n=t.data,r=t.canvasContext,i={type:"path",className:t.className,classID:t.classID,data:n},e=function(){var t=H_,n=W_,r=I_(0),i=null,e=j_,o=__,u=U_,a=null;function s(){var s,c,f=+t.apply(this,arguments),h=+n.apply(this,arguments),l=e.apply(this,arguments)-D_,d=o.apply(this,arguments)-D_,v=Math.abs(d-l),p=d>l;if(a||(a=s=Du()),h<f&&(c=h,h=f,f=c),h>R_)if(v>F_-R_)a.moveTo(h*Math.cos(l),h*Math.sin(l)),a.arc(0,0,h,l,d,!p),f>R_&&(a.moveTo(f*Math.cos(d),f*Math.sin(d)),a.arc(0,0,f,d,l,p));else{var b,m,y=l,w=d,g=l,M=d,L=v,A=v,N=u.apply(this,arguments)/2,E=N>R_&&(i?+i.apply(this,arguments):Math.sqrt(f*f+h*h)),k=Math.min(Math.abs(h-f)/2,+r.apply(this,arguments)),x=k,T=k;if(E>R_){var S=P_(E/f*Math.sin(N)),O=P_(E/h*Math.sin(N));(L-=2*S)>R_?(g+=S*=p?1:-1,M-=S):(L=0,g=M=(l+d)/2),(A-=2*O)>R_?(y+=O*=p?1:-1,w-=O):(A=0,y=w=(l+d)/2)}var I=h*Math.cos(y),R=h*Math.sin(y),C=f*Math.cos(M),D=f*Math.sin(M);if(k>R_){var F=h*Math.cos(w),H=h*Math.sin(w),W=f*Math.cos(g),j=f*Math.sin(g);if(v<C_){var _=L>R_?B_(I,R,W,j,F,H,C,D):[C,D],U=I-_[0],P=R-_[1],B=F-_[0],Y=H-_[1],z=1/Math.sin(Math.acos((U*B+P*Y)/(Math.sqrt(U*U+P*P)*Math.sqrt(B*B+Y*Y)))/2),V=Math.sqrt(_[0]*_[0]+_[1]*_[1]);x=Math.min(k,(f-V)/(z-1)),T=Math.min(k,(h-V)/(z+1))}}A>R_?T>R_?(b=Y_(W,j,I,R,h,T,p),m=Y_(F,H,C,D,h,T,p),a.moveTo(b.cx+b.x01,b.cy+b.y01),T<k?a.arc(b.cx,b.cy,T,Math.atan2(b.y01,b.x01),Math.atan2(m.y01,m.x01),!p):(a.arc(b.cx,b.cy,T,Math.atan2(b.y01,b.x01),Math.atan2(b.y11,b.x11),!p),a.arc(0,0,h,Math.atan2(b.cy+b.y11,b.cx+b.x11),Math.atan2(m.cy+m.y11,m.cx+m.x11),!p),a.arc(m.cx,m.cy,T,Math.atan2(m.y11,m.x11),Math.atan2(m.y01,m.x01),!p))):(a.moveTo(I,R),a.arc(0,0,h,y,w,!p)):a.moveTo(I,R),f>R_&&L>R_?x>R_?(b=Y_(C,D,F,H,f,-x,p),m=Y_(I,R,W,j,f,-x,p),a.lineTo(b.cx+b.x01,b.cy+b.y01),x<k?a.arc(b.cx,b.cy,x,Math.atan2(b.y01,b.x01),Math.atan2(m.y01,m.x01),!p):(a.arc(b.cx,b.cy,x,Math.atan2(b.y01,b.x01),Math.atan2(b.y11,b.x11),!p),a.arc(0,0,f,Math.atan2(b.cy+b.y11,b.cx+b.x11),Math.atan2(m.cy+m.y11,m.cx+m.x11),p),a.arc(m.cx,m.cy,x,Math.atan2(m.y11,m.x11),Math.atan2(m.y01,m.x01),!p))):a.arc(0,0,f,M,g,p):a.lineTo(C,D)}else a.moveTo(0,0);if(a.closePath(),s)return a=null,s+""||null}return s.centroid=function(){var r=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,i=(+e.apply(this,arguments)+ +o.apply(this,arguments))/2-C_/2;return[Math.cos(i)*r,Math.sin(i)*r]},s.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:I_(+n),s):t},s.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:I_(+t),s):n},s.cornerRadius=function(t){return arguments.length?(r="function"==typeof t?t:I_(+t),s):r},s.padRadius=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:I_(+t),s):i},s.startAngle=function(t){return arguments.length?(e="function"==typeof t?t:I_(+t),s):e},s.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:I_(+t),s):o},s.padAngle=function(t){return arguments.length?(u="function"==typeof t?t:I_(+t),s):u},s.context=function(t){return arguments.length?(a=null==t?null:t,s):a},s}().innerRadius(n.innerRadius||0).outerRadius(n.outerRadius||n.radius||2).startAngle(n.startAngle||0).endAngle(n.endAngle||2*Math.PI);return r?(e.context(r),i.pathMethods=lineGen):i.attrs={d:e()},i},NU=function(t){var n=t.align,r=t.x,i=void 0===r?0:r,e=t.y,o=void 0===e?0:e,u=t.bbox;return"top"===(n=yU(n,t.offset.y))?o-=u.height:"middle"===n&&(o-=u.height/2),{components:[LU({data:[[i,o],[i,o+u.height]],className:"note-line"})]}},EU=function(t){var n=t.align,r=t.x,i=void 0===r?0:r,e=t.y,o=void 0===e?0:e,u=t.bbox;return"right"===(n=wU(n,t.offset.x))?i-=u.width:"middle"===n&&(i-=u.width/2),{components:[LU({data:[[i,o],[i+u.width,o]],className:"note-line"})]}},kU=function(t){var n=t.subjectType,r=t.type.annotation,i=r.position,e=r.x-i.x,o=e+r.dx,u=r.y-i.y,a=u+r.dy,s=r.subject;if("circle"===n&&(s.outerRadius||s.radius)){var c=Math.sqrt((e-o)*(e-o)+(u-a)*(u-a)),f=Math.asin(-a/c),h=s.outerRadius||s.radius+(s.radiusPadding||0);e=Math.abs(Math.cos(f)*h)*(o<0?-1:1),u=Math.abs(Math.sin(f)*h)*(a<0?-1:1)}if("rect"===n){var l=s.width,d=s.height;(l>0&&r.dx>0||l<0&&r.dx<0)&&(e=Math.abs(l)>Math.abs(r.dx)?l/2:l),(d>0&&r.dy>0||d<0&&r.dy<0)&&(u=Math.abs(d)>Math.abs(r.dy)?d/2:d),e===l/2&&u===d/2&&(e=o,u=a)}return[[e,u],[o,a]]},xU=function(t){var n=kU(t);return{components:[LU({data:n,className:"connector"})]}},TU=function(t){var n=t.subjectType,r=t.type.annotation,i=r.position,e=r.x-i.x,o=e+r.dx,u=r.y-i.y,a=u+r.dy,s=r.subject;if("rect"===n){var c=s.width,f=s.height;(c>0&&r.dx>0||c<0&&r.dx<0)&&(e=Math.abs(c)>Math.abs(r.dx)?c/2:c),(f>0&&r.dy>0||f<0&&r.dy<0)&&(u=Math.abs(f)>Math.abs(r.dy)?f/2:f),e===c/2&&u===f/2&&(e=o,u=a)}var h=[[e,u],[o,a]],l=a-u,d=o-e,v=o,p=a,b=a<u&&o>e||o<e&&a>u?-1:1;if(Math.abs(d)<Math.abs(l)?(v=o,p=u+d*b):(p=a,v=e+l*b),"circle"===n&&(s.outerRadius||s.radius)){var m=(s.outerRadius||s.radius)+(s.radiusPadding||0),y=m/Math.sqrt(2);if(Math.abs(d)>y&&Math.abs(l)>y)h=[[e=y*(o<0?-1:1),u=y*(a<0?-1:1)],[v,p],[o,a]];else if(Math.abs(d)>Math.abs(l)){var w=Math.asin(-a/m);h=[[e=Math.abs(Math.cos(w)*m)*(o<0?-1:1),a],[o,a]]}else{var g=Math.acos(o/m);h=[[o,u=Math.abs(Math.sin(g)*m)*(a<0?-1:1)],[o,a]]}}else h=[[e,u],[v,p],[o,a]];return{components:[LU({data:h,className:"connector"})]}},SU=function(t){var n=t.type,r=t.connectorData,i=t.subjectType;r||(r={}),r.points&&"number"!=typeof r.points||(r.points=OU(n.annotation.offset,r.points)),r.curve||(r.curve=K_);var e=[];if(n.editMode){var o=r.points.map((function(t,n){return lU({},function(t){var n=t.cx,r=t.cy;return{move:{x:void 0===n?0:n,y:void 0===r?0:r}}}({cx:t[0],cy:t[1]}),{index:n})})),u=function(t){r.points[t][0]+=VW.dx,r.points[t][1]+=VW.dy,n.redrawConnector()};e=n.mapHandles(o.map((function(t){return lU({},t.move,{drag:u.bind(n,t.index)})})))}var a=kU({type:n,subjectType:i});return a=[a[0]].concat(function(t){if(Array.isArray(t)){for(var n=0,r=Array(t.length);n<t.length;n++)r[n]=t[n];return r}return Array.from(t)}(r.points),[a[1]]),{components:[LU({data:a,curve:r.curve,className:"connector"})],handles:e}},OU=function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r={x:t.x/(n+1),y:t.y/(n+1)},i=[],e=1;e<=n;e++)i.push([r.x*e+e%2*20,r.y*e-e%2*20]);return i},IU=function(t){var n=t.annotation,r=t.start,i=t.end,e=t.scale,o=n.position;r=r?[-i[0]+r[0],-i[1]+r[1]]:[n.dx,n.dy],i||(i=[n.x-o.x,n.y-o.y]);var u=i[0],a=i[1],s=r[0],c=10*(void 0===e?1:e),f=16/180*Math.PI,h=Math.atan(r[1]/s);s<0&&(h+=Math.PI);var l=[[u,a],[Math.cos(h+f)*c+u,Math.sin(h+f)*c+a],[Math.cos(h-f)*c+u,Math.sin(h-f)*c+a],[u,a]];return{components:[LU({data:l,className:"connector-end connector-arrow",classID:"connector-end"})]}},RU=function(t){var n=t.line,r=t.scale,i=AU({className:"connector-end connector-dot",classID:"connector-end",data:{radius:3*Math.sqrt(void 0===r?1:r)}});return i.attrs.transform="translate("+n.data[0][0]+", "+n.data[0][1]+")",{components:[i]}},CU=function(t){var n=t.subjectData,r=t.type;n.radius||n.outerRadius||(n.radius=20);var i=[],e=AU({data:n,className:"subject"});if(r.editMode){var o=function(t){var n=t.cx,r=void 0===n?0:n,i=t.cy,e=void 0===i?0:i,o=t.r1,u=t.r2,a=t.padding,s={move:{x:r,y:e}};return void 0!==o&&(s.r1={x:r+o/Math.sqrt(2),y:e+o/Math.sqrt(2)}),void 0!==u&&(s.r2={x:r+u/Math.sqrt(2),y:e+u/Math.sqrt(2)}),void 0!==a&&(s.padding={x:r+o+a,y:e}),s}({r1:e.data.outerRadius||e.data.radius,r2:e.data.innerRadius,padding:n.radiusPadding}),u=function(t){var i=n[t]+VW.dx*Math.sqrt(2);n[t]=i,r.redrawSubject(),r.redrawConnector()},a=[lU({},o.r1,{drag:u.bind(r,void 0!==n.outerRadius?"outerRadius":"radius")})];n.innerRadius&&a.push(lU({},o.r2,{drag:u.bind(r,"innerRadius")})),i=r.mapHandles(a)}return e.attrs["fill-opacity"]=0,{components:[e],handles:i}},DU=function(t){var n=t.subjectData,r=t.type;n.width||(n.width=100),n.height||(n.height=100);var i=[],e=n.width,o=n.height,u=LU({data:[[0,0],[e,0],[e,o],[0,o],[0,0]],className:"subject"});if(r.editMode){var a=[{x:e,y:o/2,drag:function(){n.width=VW.x,r.redrawSubject(),r.redrawConnector()}.bind(r)},{x:e/2,y:o,drag:function(){n.height=VW.y,r.redrawSubject(),r.redrawConnector()}.bind(r)}];i=r.mapHandles(a)}return u.attrs["fill-opacity"]=.1,{components:[u],handles:i}},FU=function(t){var n=t.subjectData,r=t.type.annotation.position;return{components:[LU({data:[[(void 0!==n.x1?n.x1:r.x)-r.x,(void 0!==n.y1?n.y1:r.y)-r.y],[(void 0!==n.x2?n.x2:r.x)-r.x,(void 0!==n.y2?n.y2:r.y)-r.y]],className:"subject"})]}},HU=function(t){var n=t.subjectData,r=void 0===n?{}:n,i=t.type,e=void 0===i?{}:i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=e.typeSettings&&e.typeSettings.subject;r.radius||(r.radius=u&&u.radius?u.radius:14),r.x||u&&u.x&&(r.x=u.x),r.y||u&&u.y&&(r.y=u.y);var a=[],s=[],c=r.radius,f=.7*c,h=0,l=0,d=Math.sqrt(2)*c,v={xleftcorner:-c,xrightcorner:c,ytopcorner:-c,ybottomcorner:c,xleft:-d,xright:d,ytop:-d,ybottom:d};r.x&&!r.y?h=v["x"+r.x]:r.y&&!r.x?l=v["y"+r.y]:r.x&&r.y&&(h=v["x"+r.x+"corner"],l=v["y"+r.y+"corner"]);var p="translate("+h+", "+l+")",b=AU({className:"subject",data:{radius:c}});b.attrs.transform=p,b.attrs.fill=o.color,b.attrs["stroke-linecap"]="round",b.attrs["stroke-width"]="3px";var m=AU({className:"subject-ring",data:{outerRadius:c,innerRadius:f}});m.attrs.transform=p,m.attrs["stroke-width"]="3px",m.attrs.fill="white";var y=void 0;if(h&&l||!h&&!l)y=LU({className:"subject-pointer",data:[[0,0],[h||0,0],[0,l||0],[0,0]]});else if(h||l){var w=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t&&t/Math.sqrt(2)/Math.sqrt(2)||n*c/Math.sqrt(2)};y=LU({className:"subject-pointer",data:[[0,0],[w(h),w(l)],[w(h,-1),w(l,-1)],[0,0]]})}if(y&&(y.attrs.fill=o.color,y.attrs["stroke-linecap"]="round",y.attrs["stroke-width"]="3px",s.push(y)),e.editMode){var g={x:2*h,y:2*l,drag:function(){r.x=VW.x<2*-c?"left":VW.x>2*c?"right":void 0,r.y=VW.y<2*-c?"top":VW.y>2*c?"bottom":void 0,e.redrawSubject()}.bind(e)};g.x||g.y||(g.y=-c),a=e.mapHandles([g])}var M=void 0;return r.text&&(M={type:"text",className:"badge-text",attrs:{fill:"white",stroke:"none","font-size":".7em",text:r.text,"text-anchor":"middle",dy:".25em",x:h,y:l}}),s.push(b),s.push(m),s.push(M),{components:s,handles:a}},WU=function(){function t(n){var r=n.a,i=n.annotation,e=n.editMode,o=n.dispatcher,u=n.notePadding,a=n.accessors;if(fU(this,t),this.a=r,this.note=-1===i.disable.indexOf("note")&&r.select("g.annotation-note"),this.noteContent=this.note&&r.select("g.annotation-note-content"),this.connector=-1===i.disable.indexOf("connector")&&r.select("g.annotation-connector"),this.subject=-1===i.disable.indexOf("subject")&&r.select("g.annotation-subject"),this.dispatcher=o,o){var s=XU.bind(null,o,i);s({component:this.note,name:"note"}),s({component:this.connector,name:"connector"}),s({component:this.subject,name:"subject"})}this.annotation=i,this.editMode=i.editMode||e,this.notePadding=void 0!==u?u:3,this.offsetCornerX=0,this.offsetCornerY=0,a&&i.data&&this.init(a)}return hU(t,[{key:"init",value:function(t){this.annotation.x||this.mapX(t),this.annotation.y||this.mapY(t)}},{key:"mapY",value:function(t){t.y&&(this.annotation.y=t.y(this.annotation.data))}},{key:"mapX",value:function(t){t.x&&(this.annotation.x=t.x(this.annotation.data))}},{key:"updateEditMode",value:function(){this.a.selectAll("circle.handle").remove()}},{key:"drawOnSVG",value:function(t,n){var r=this;Array.isArray(n)||(n=[n]),n.filter((function(t){return t})).forEach((function(n){var i=n.type,e=n.className,o=n.attrs,u=n.classID;if("handle"===i)!function(t){var n=t.group,r=t.handles,i=t.r,e=void 0===i?10:i,o=n.selectAll("circle.handle").data(r);o.enter().append("circle").attr("class","handle").attr("fill","grey").attr("fill-opacity",.1).attr("cursor","move").attr("stroke-dasharray",5).attr("stroke","grey").call(O_().container(rj("g.annotations").node()).on("start",(function(t){return t.start&&t.start(t)})).on("drag",(function(t){return t.drag&&t.drag(t)})).on("end",(function(t){return t.end&&t.end(t)}))),n.selectAll("circle.handle").attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y})).attr("r",(function(t){return t.r||e})).attr("class",(function(t){return"handle "+(t.className||"")})),o.exit().remove()}({group:t,r:o&&o.r,handles:n.handles});else{ZU(t,[r.annotation],i,e,u);for(var a=t.select(i+"."+(u||e)),s=Object.keys(o),c=[],f=a.node().attributes,h=f.length-1;h>=0;h--){var l=f[h].name;-1===s.indexOf(l)&&"class"!==l&&c.push(l)}s.forEach((function(t){"text"===t?a.text(o[t]):a.attr(t,o[t])})),c.forEach((function(t){return a.attr(t,null)}))}}))}},{key:"getNoteBBox",value:function(){return JU(this.note,".annotation-note-content text")}},{key:"getNoteBBoxOffset",value:function(){var t=JU(this.note,".annotation-note-content"),n=this.noteContent.attr("transform").split(/\(|\,|\)/g);return t.offsetCornerX=parseFloat(n[1])+this.annotation.dx,t.offsetCornerY=parseFloat(n[2])+this.annotation.dy,t.offsetX=this.annotation.dx,t.offsetY=this.annotation.dy,t}},{key:"drawSubject",value:function(){var t=this,n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).type,r={type:this,subjectData:this.annotation.subject},i={};"circle"===n?i=CU(r):"rect"===n?i=DU(r):"threshold"===n?i=FU(r):"badge"===n&&(i=HU(r,this.annotation));var e=i.components,o=void 0===e?[]:e,u=i.handles,a=void 0===u?[]:u;return o.forEach((function(n){n&&n.attrs&&!n.attrs.stroke&&(n.attrs.stroke=t.annotation.color)})),this.editMode&&(a=a.concat(this.mapHandles([{drag:this.dragSubject.bind(this)}])),o.push({type:"handle",handles:a})),o}},{key:"drawConnector",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.annotation.connector,i=r.type||n.type,e={type:this,connectorData:r};e.subjectType=this.typeSettings&&this.typeSettings.subject&&this.typeSettings.subject.type;var o={},u=(o="curve"===i?SU(e):"elbow"===i?TU(e):xU(e)).components,a=void 0===u?[]:u,s=o.handles,c=void 0===s?[]:s,f=a[0];f&&(f.attrs.stroke=this.annotation.color,f.attrs.fill="none");var h=r.end||n.end,l={};if("arrow"===h){var d=f.data[1],v=f.data[0];Math.sqrt(Math.pow(d[0]-v[0],2)+Math.pow(d[1]-v[1],2))<5&&f.data[2]&&(d=f.data[2]),l=IU({annotation:this.annotation,start:d,end:v,scale:r.endScale})}else"dot"===h?l=RU({line:f,scale:r.endScale}):h&&"none"!==h||this.connector&&this.connector.select(".connector-end").remove();return l.components&&(l.components.forEach((function(n){n.attrs.fill=t.annotation.color,n.attrs.stroke=t.annotation.color})),a=a.concat(l.components)),this.editMode&&0!==c.length&&a.push({type:"handle",handles:c}),a}},{key:"drawNote",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.annotation.note,i={bbox:n.bbox,align:r.align||n.align||"dynamic",offset:this.annotation.offset},e=r.lineType||n.lineType,o={};"vertical"===e?o=NU(i):"horizontal"===e&&(o=EU(i));var u=o.components,a=void 0===u?[]:u,s=o.handles,c=void 0===s?[]:s;if(a.forEach((function(n){n.attrs.stroke=t.annotation.color})),this.editMode){c=this.mapHandles([{x:0,y:0,drag:this.dragNote.bind(this)}]),a.push({type:"handle",handles:c});var f=this.dragNote.bind(this),h=this.dragstarted.bind(this),l=this.dragended.bind(this);this.note.call(O_().container(rj("g.annotations").node()).on("start",(function(t){return h(t)})).on("drag",(function(t){return f(t)})).on("end",(function(t){return l(t)})))}else this.note.on("mousedown.drag",null);return a}},{key:"drawNoteContent",value:function(t){var n=this.annotation.note,r=n.orientation||t.orientation||"topBottom",i=n.lineType||t.lineType;"vertical"===i?r="leftRight":"horizontal"===i&&(r="topBottom");var e=function(t){var n=t.padding,r=void 0===n?0:n,i=t.bbox,e=void 0===i?{x:0,y:0,width:0,height:0}:i,o=t.align,u=t.orientation,a=t.offset,s=void 0===a?{x:0,y:0}:a,c=-e.x,f=0;return-1!==gU.indexOf(u)?(o=wU(o,s.x),s.y<0&&"topBottom"===u||"top"===u?f-=e.height+r:f+=r,"middle"===o?c-=e.width/2:"right"===o&&(c-=e.width)):-1!==MU.indexOf(u)&&(o=yU(o,s.y),s.x<0&&"leftRight"===u||"left"===u?c-=e.width+r:c+=r,"middle"===o?f-=e.height/2:"top"===o&&(f-=e.height)),{x:c,y:f}}({padding:void 0!==n.padding?n.padding:this.notePadding,bbox:t.bbox,offset:this.annotation.offset,orientation:r,align:n.align||t.align||"dynamic"}),o=e.x,u=e.y;return this.offsetCornerX=o+this.annotation.dx,this.offsetCornerY=u+this.annotation.dy,this.note&&this.noteContent.attr("transform","translate("+o+", "+u+")"),[]}},{key:"drawOnScreen",value:function(t,n){return this.drawOnSVG(t,n)}},{key:"redrawSubject",value:function(){this.subject&&this.drawOnScreen(this.subject,this.drawSubject())}},{key:"redrawConnector",value:function(){this.connector&&this.drawOnScreen(this.connector,this.drawConnector())}},{key:"redrawNote",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getNoteBBox();this.noteContent&&this.drawOnScreen(this.noteContent,this.drawNoteContent({bbox:t})),this.note&&this.drawOnScreen(this.note,this.drawNote({bbox:t}))}},{key:"setPosition",value:function(){var t=this.annotation.position;this.a.attr("transform","translate("+t.x+", "+t.y+")")}},{key:"clearComponents",value:function(){this.subject&&this.subject.select("*").remove(),this.connector&&this.connector.select("*").remove()}},{key:"setOffset",value:function(){if(this.note){var t=this.annotation.offset;this.note.attr("transform","translate("+t.x+", "+t.y+")")}}},{key:"setPositionWithAccessors",value:function(t){t&&this.annotation.data&&(this.mapX(t),this.mapY(t)),this.setPosition()}},{key:"setClassName",value:function(){this.a.attr("class","annotation "+(this.className&&this.className())+" "+(this.editMode?"editable":"")+" "+(this.annotation.className||""))}},{key:"draw",value:function(){this.setClassName(),this.setPosition(),this.setOffset(),this.redrawSubject(),this.redrawConnector(),this.redrawNote()}},{key:"dragstarted",value:function(){VW.sourceEvent.stopPropagation(),this.dispatcher&&this.dispatcher.call("dragstart",this.a,this.annotation),this.a.classed("dragging",!0),this.a.selectAll("circle.handle").style("pointer-events","none")}},{key:"dragended",value:function(){this.dispatcher&&this.dispatcher.call("dragend",this.a,this.annotation),this.a.classed("dragging",!1),this.a.selectAll("circle.handle").style("pointer-events","all")}},{key:"dragSubject",value:function(){var t=this.annotation.position;t.x+=VW.dx,t.y+=VW.dy,this.annotation.position=t}},{key:"dragNote",value:function(){var t=this.annotation.offset;t.x+=VW.dx,t.y+=VW.dy,this.annotation.offset=t}},{key:"mapHandles",value:function(t){var n=this;return t.map((function(t){return lU({},t,{start:n.dragstarted.bind(n),end:n.dragended.bind(n)})}))}}]),t}(),jU=function(t,n,r){return function(t){function i(t){fU(this,i);var r=pU(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t));return r.typeSettings=n,n.disable&&n.disable.forEach((function(t){r[t]&&r[t].remove(),r[t]=void 0,"note"===t&&(r.noteContent=void 0)})),r}return vU(i,t),hU(i,[{key:"className",value:function(){return""+(n.className||dU(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"className",this)&&dU(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"className",this).call(this)||"")}},{key:"drawSubject",value:function(t){return this.typeSettings.subject=lU({},n.subject,this.typeSettings.subject),dU(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"drawSubject",this).call(this,lU({},t,this.typeSettings.subject))}},{key:"drawConnector",value:function(t){return this.typeSettings.connector=lU({},n.connector,this.typeSettings.connector),dU(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"drawConnector",this).call(this,lU({},t,n.connector,this.typeSettings.connector))}},{key:"drawNote",value:function(t){return this.typeSettings.note=lU({},n.note,this.typeSettings.note),dU(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"drawNote",this).call(this,lU({},t,n.note,this.typeSettings.note))}},{key:"drawNoteContent",value:function(t){return dU(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"drawNoteContent",this).call(this,lU({},t,n.note,this.typeSettings.note))}}],[{key:"init",value:function(t,n){return dU(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,t,n),r&&(t=r(t,n)),t}}]),i}(t)},_U=function(t){function n(t){fU(this,n);var r=pU(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return r.textWrap=t.textWrap||120,r.drawText(),r}return vU(n,t),hU(n,[{key:"updateTextWrap",value:function(t){this.textWrap=t,this.drawText()}},{key:"drawText",value:function(){if(this.note){ZU(this.note,[this.annotation],"g","annotation-note-content");var t=this.note.select("g.annotation-note-content");ZU(t,[this.annotation],"rect","annotation-note-bg"),ZU(t,[this.annotation],"text","annotation-note-label"),ZU(t,[this.annotation],"text","annotation-note-title");var n={height:0},r=this.a.select("text.annotation-note-label"),i=this.annotation.note&&this.annotation.note.wrap||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrap||this.textWrap,e=this.annotation.note&&this.annotation.note.wrapSplitter||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrapSplitter,o=this.annotation.note&&this.annotation.note.bgPadding||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.bgPadding,u={top:0,bottom:0,left:0,right:0};if("number"==typeof o?u={top:o,bottom:o,left:o,right:o}:o&&"object"===(void 0===o?"undefined":cU(o))&&(u=lU(u,o)),this.annotation.note.title){var a=this.a.select("text.annotation-note-title");a.text(this.annotation.note.title),a.attr("fill",this.annotation.color),a.attr("font-weight","bold"),a.call(KU,i,e),n=a.node().getBBox()}r.text(this.annotation.note.label).attr("dx","0"),r.call(KU,i,e),r.attr("y",1.1*n.height||0),r.attr("fill",this.annotation.color);var s=this.getNoteBBox();this.a.select("rect.annotation-note-bg").attr("width",s.width+u.left+u.right).attr("height",s.height+u.top+u.bottom).attr("x",s.x-u.left).attr("y",-u.top).attr("fill","white").attr("fill-opacity",0)}}}]),n}(WU),UU=jU(_U,{className:"label",note:{align:"middle"}}),PU=jU(_U,{className:"callout",note:{lineType:"horizontal"}}),BU=jU(PU,{className:"callout elbow",connector:{type:"elbow"}}),YU=jU(PU,{className:"callout curve",connector:{type:"curve"}}),zU=jU(WU,{className:"badge",subject:{type:"badge"},disable:["connector","note"]}),VU=jU(_U,{className:"callout circle",subject:{type:"circle"},note:{lineType:"horizontal"},connector:{type:"elbow"}}),GU=jU(_U,{className:"callout rect",subject:{type:"rect"},note:{lineType:"horizontal"},connector:{type:"elbow"}}),qU=function(t){function n(){return fU(this,n),pU(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return vU(n,t),hU(n,[{key:"mapY",value:function(t){dU(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"mapY",this).call(this,t);var r=this.annotation;(r.subject.x1||r.subject.x2)&&r.data&&t.y&&(r.y=t.y(r.data)),!r.subject.x1&&!r.subject.x2||r.x||(r.x=r.subject.x1||r.subject.x2)}},{key:"mapX",value:function(t){dU(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"mapX",this).call(this,t);var r=this.annotation;(r.subject.y1||r.subject.y2)&&r.data&&t.x&&(r.x=t.x(r.data)),!r.subject.y1&&!r.subject.y2||r.y||(r.y=r.subject.y1||r.subject.y2)}}]),n}(PU),$U=jU(qU,{className:"callout xythreshold",subject:{type:"threshold"}}),ZU=function(t,n,r,i,e){var o=t.selectAll(r+"."+(e||i)).data(n);return o.enter().append(r).merge(o).attr("class",i),o.exit().remove(),t},XU=function(t,n,r){var i=r.component,e=r.name;i&&i.on("mouseover.annotations",(function(){t.call(e+"over",i,n)})).on("mouseout.annotations",(function(){return t.call(e+"out",i,n)})).on("click.annotations",(function(){return t.call(e+"click",i,n)}))},KU=function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.2;t.each((function(){for(var t=rj(this),e=t.text().split(r||/[ \t\r\n]+/).reverse().filter((function(t){return""!==t})),o=void 0,u=[],a=t.text(null).append("tspan").attr("x",0).attr("dy","0.8em");o=e.pop();)u.push(o),a.text(u.join(" ")),a.node().getComputedTextLength()>n&&u.length>1&&(u.pop(),a.text(u.join(" ")),u=[o],a=t.append("tspan").attr("x",0).attr("dy",i+"em").text(o))}))},JU=function(t){return t?t.selectAll(arguments.length>1&&void 0!==arguments[1]?arguments[1]:":not(.handle)").nodes().reduce((function(t,n){var r=n.getBBox();t.x=Math.min(t.x,r.x),t.y=Math.min(t.y,r.y),t.width=Math.max(t.width,r.width);var i=n&&n.attributes&&n.attributes.y;return t.height=Math.max(t.height,(i&&parseFloat(i.value)||0)+r.height),t}),{x:0,y:0,width:0,height:0}):{x:0,y:0,width:0,height:0}};function QU(){var t=[],n=void 0,r=void 0,i=[],e={},o={},u=!1,a=void 0,s=PU,c=void 0,f=void 0,h=eU("subjectover","subjectout","subjectclick","connectorover","connectorout","connectorclick","noteover","noteout","noteclick","dragend","dragstart"),l=void 0,d=function(r){l=r,u||r.selectAll("circle.handle").remove();var d=t.map((function(t){return t.type||(t.type=s),t.disable||(t.disable=i),new bU(t)}));n=n||new mU({annotations:d,accessors:e,accessorsInverse:o,ids:a}),r.selectAll("g").data([n]).enter().append("g").attr("class","annotations");var v=r.select("g.annotations");ZU(v,n.annotations,"g","annotation"),v.selectAll("g.annotation").each((function(t){var n=rj(this);n.attr("class","annotation"),ZU(n,[t],"g","annotation-connector"),ZU(n,[t],"g","annotation-subject"),ZU(n,[t],"g","annotation-note"),ZU(n.select("g.annotation-note"),[t],"g","annotation-note-content"),t.type="[object Object]"===t.type.toString()?t.type:new t.type({a:n,annotation:t,textWrap:c,notePadding:f,editMode:u,dispatcher:h,accessors:e}),t.type.draw(),t.type.drawText&&t.type.drawText()}))};return d.json=function(){return console.log("Annotations JSON was copied to your clipboard. Please note the annotation type is not JSON compatible. It appears in the objects array in the console, but not in the copied JSON.",n.json),window.copy(JSON.stringify(n.json.map((function(t){return delete t.type,t})))),d},d.update=function(){return t&&n&&(t=n.annotations.map((function(t){return t.type.draw(),t}))),d},d.updateText=function(){return n&&(n.updateText(c),t=n.annotations),d},d.updatedAccessors=function(){return n.setPositionWithAccessors(),t=n.annotations,d},d.disable=function(r){return arguments.length?(i=r,n&&(n.updateDisable(i),t=n.annotations),d):i},d.textWrap=function(r){return arguments.length?(c=r,n&&(n.updateTextWrap(c),t=n.annotations),d):c},d.notePadding=function(r){return arguments.length?(f=r,n&&(n.updateNotePadding(f),t=n.annotations),d):f},d.type=function(r,i){return arguments.length?(s=r,n&&(n.annotations.map((function(t){t.type.note&&t.type.note.selectAll("*:not(.annotation-note-content)").remove(),t.type.noteContent&&t.type.noteContent.selectAll("*").remove(),t.type.subject&&t.type.subject.selectAll("*").remove(),t.type.connector&&t.type.connector.selectAll("*").remove(),t.type.typeSettings={},t.type=s,t.subject=i&&i.subject||t.subject,t.connector=i&&i.connector||t.connector,t.note=i&&i.note||t.note})),t=n.annotations),d):s},d.annotations=function(r){return arguments.length?(t=r,n&&n.annotations&&(t.some((function(t){return!t.type||"[object Object]"!==t.type.toString()}))?(n=null,d(l)):n.annotations=t),d):n&&n.annotations||t},d.context=function(t){return arguments.length?(r=t,d):r},d.accessors=function(t){return arguments.length?(e=t,d):e},d.accessorsInverse=function(t){return arguments.length?(o=t,d):o},d.ids=function(t){return arguments.length?(a=t,d):a},d.editMode=function(r){return arguments.length?(u=r,l&&l.selectAll("g.annotation").classed("editable",u),n&&(n.editMode(u),t=n.annotations),d):u},d.collection=function(t){return arguments.length?(n=t,d):n},d.on=function(){var t=h.on.apply(h,arguments);return t===h?d:t},d}var tP={annotationLabel:UU,annotationCallout:PU,annotationCalloutElbow:BU,annotationCalloutCurve:YU,annotationCalloutCircle:VU,annotationCalloutRect:GU,annotationXYThreshold:$U,annotationBadge:zU};function nP(t,n,r,i){if(t)if(t instanceof Array){if(1===t.length)return rP(n(iP(t[0],i)));if(2===t.length)return rP(n(iP(t[0],i))-n(iP(t[1],i)))}else if("string"==typeof t&&"%"===t.substring(t.length-1,t.length))return rP(r(+t.substring(0,t.length-1)));return rP(t)}function rP(t){return 0===t?1e-9:t}function iP(t,n){return n?"object"==typeof t&&"function"==typeof t.getMonth?t:new Date(t):t}function eP(t,n,r,i,e,o){var u=vt(t).select(".vcl-annotation-group").select(".annotations");u.selectAll(".annotation").style("visibility",null),u.selectAll(".annotation-detect-collision").each((function(t,n,r){var o=r[n],u=oP(vt(o).attr("transform")),a=u&&u.translate||[0,0],s=vt(o).select(".annotation-note").attr("transform")&&oP(vt(o).select(".annotation-note").attr("transform")),c=s&&s.translate||[0,0],f=vt(o).select(".annotation-note").select(".annotation-note-content").attr("transform")&&oP(vt(o).select(".annotation-note").select(".annotation-note-content").attr("transform")),h=f&&f.translate||[0,0];vt(o).selectAll("path").each((function(t,n,r){var o=vt(r[n]),u=a[0]+i.left+e.left,s=a[1]+i.top+e.top;o.classed("note-line")&&(u+=c[0],s+=c[1]),o.attr("data-d",o.attr("d")).attr("data-translate-x",u).attr("data-translate-y",s)}));var l=0;vt(o).selectAll("text").each((function(t,n,r){var o=r[n],u=getComputedStyle(o),s=parseFloat(u.fontSize),f=Math.max(s-1,1),d=sa(o.textContent,s,!0,u.fontFamily),v=vt(o),p=a[0]+c[0]+h[0]+i.left+e.left,b=a[1]+c[1]+h[1]+i.top+e.top;l=Math.max(d,l),v.attr("data-x",+v.attr("x")||0).attr("data-y",f/2+ +v.attr("y")||0).attr("data-ignore",0===d).attr("data-width",d).attr("data-height",f).attr("data-translate-x",p).attr("data-translate-y",b).attr("data-no-text-anchor",!0)})),0===l&&vt(o).attr("data-no-text",!0)})),o=Ga({bitmaps:o,labelSelection:vt(".nothing-exists-here"),avoidMarks:[u.selectAll(".annotation-detect-collision").selectAll("path")],validPositions:["middle"],offsets:[1],accessors:["cidx"],size:[Dt(n,0),Dt(r,0)]}),o=Ga({bitmaps:o,labelSelection:u.selectAll(".annotation-detect-collision text"),avoidMarks:[],validPositions:["middle"],offsets:[1],accessors:["cidx"],size:[Dt(n,0),Dt(r,0)]}),u.selectAll(".annotation-detect-collision").each((function(t,n,r){var i=r[n],e=!1;vt(i).selectAll("text").each((function(t,n,r){var i=r[n],o="false"===vt(i).attr("data-label-hidden")&&"false"===vt(i).attr("data-ignore");e=e||o})),e||"true"===vt(i).attr("data-no-text")?vt(i).style("visibility",null):vt(i).style("visibility","hidden")}))}function oP(t){var n={};return t.trim().replace(", ",",").split(" ").forEach((function(t){var r=t.split(")")[0].split(","),i=r[0].split("(");n[i[0]]=[],n[i[0]].push(+i[1],+r[1])})),n}function uP(){return uP=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},uP.apply(this,arguments)}var aP=Object.prototype.hasOwnProperty;function sP(t,n){return null!=t&&aP.call(t,n)}var cP=Array.isArray,fP="object"==typeof pr&&pr&&pr.Object===Object&&pr,hP="object"==typeof self&&self&&self.Object===Object&&self,lP=fP||hP||Function("return this")(),dP=lP.Symbol,vP=Object.prototype,pP=vP.hasOwnProperty,bP=vP.toString,mP=dP?dP.toStringTag:void 0;var yP=Object.prototype.toString;var wP=dP?dP.toStringTag:void 0;function gP(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":wP&&wP in Object(t)?function(t){var n=pP.call(t,mP),r=t[mP];try{t[mP]=void 0;var i=!0}catch(o){}var e=bP.call(t);return i&&(n?t[mP]=r:delete t[mP]),e}(t):function(t){return yP.call(t)}(t)}function MP(t){return null!=t&&"object"==typeof t}function LP(t){return"symbol"==typeof t||MP(t)&&"[object Symbol]"==gP(t)}var AP=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,NP=/^\w*$/;function EP(t,n){if(cP(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!LP(t))||NP.test(t)||!AP.test(t)||null!=n&&t in Object(n)}function kP(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}function xP(t){if(!kP(t))return!1;var n=gP(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}var TP,SP=lP["__core-js_shared__"],OP=(TP=/[^.]+$/.exec(SP&&SP.keys&&SP.keys.IE_PROTO||""))?"Symbol(src)_1."+TP:"";var IP=Function.prototype.toString;function RP(t){if(null!=t){try{return IP.call(t)}catch(n){}try{return t+""}catch(n){}}return""}var CP=/^\[object .+?Constructor\]$/,DP=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function FP(t){return!(!kP(t)||(n=t,OP&&OP in n))&&(xP(t)?DP:CP).test(RP(t));var n}function HP(t,n){var r=function(t,n){return null==t?void 0:t[n]}(t,n);return FP(r)?r:void 0}var WP=HP(Object,"create");var jP=Object.prototype.hasOwnProperty;var _P=Object.prototype.hasOwnProperty;function UP(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var i=t[n];this.set(i[0],i[1])}}function PP(t,n){return t===n||t!=t&&n!=n}function BP(t,n){for(var r=t.length;r--;)if(PP(t[r][0],n))return r;return-1}UP.prototype.clear=function(){this.__data__=WP?WP(null):{},this.size=0},UP.prototype.delete=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},UP.prototype.get=function(t){var n=this.__data__;if(WP){var r=n[t];return"__lodash_hash_undefined__"===r?void 0:r}return jP.call(n,t)?n[t]:void 0},UP.prototype.has=function(t){var n=this.__data__;return WP?void 0!==n[t]:_P.call(n,t)},UP.prototype.set=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=WP&&void 0===n?"__lodash_hash_undefined__":n,this};var YP=Array.prototype.splice;function zP(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var i=t[n];this.set(i[0],i[1])}}zP.prototype.clear=function(){this.__data__=[],this.size=0},zP.prototype.delete=function(t){var n=this.__data__,r=BP(n,t);return!(r<0||(r==n.length-1?n.pop():YP.call(n,r,1),--this.size,0))},zP.prototype.get=function(t){var n=this.__data__,r=BP(n,t);return r<0?void 0:n[r][1]},zP.prototype.has=function(t){return BP(this.__data__,t)>-1},zP.prototype.set=function(t,n){var r=this.__data__,i=BP(r,t);return i<0?(++this.size,r.push([t,n])):r[i][1]=n,this};var VP=HP(lP,"Map");function GP(t,n){var r=t.__data__;return function(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}(n)?r["string"==typeof n?"string":"hash"]:r.map}function qP(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var i=t[n];this.set(i[0],i[1])}}qP.prototype.clear=function(){this.size=0,this.__data__={hash:new UP,map:new(VP||zP),string:new UP}},qP.prototype.delete=function(t){var n=GP(this,t).delete(t);return this.size-=n?1:0,n},qP.prototype.get=function(t){return GP(this,t).get(t)},qP.prototype.has=function(t){return GP(this,t).has(t)},qP.prototype.set=function(t,n){var r=GP(this,t),i=r.size;return r.set(t,n),this.size+=r.size==i?0:1,this};function $P(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var r=function(){var i=arguments,e=n?n.apply(this,i):i[0],o=r.cache;if(o.has(e))return o.get(e);var u=t.apply(this,i);return r.cache=o.set(e,u)||o,u};return r.cache=new($P.Cache||qP),r}$P.Cache=qP;var ZP,XP,KP,JP=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,QP=/\\(\\)?/g,tB=(ZP=function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(JP,(function(t,r,i,e){n.push(i?e.replace(QP,"$1"):r||t)})),n},XP=$P(ZP,(function(t){return 500===KP.size&&KP.clear(),t})),KP=XP.cache,XP);function nB(t,n){for(var r=-1,i=null==t?0:t.length,e=Array(i);++r<i;)e[r]=n(t[r],r,t);return e}var rB=dP?dP.prototype:void 0,iB=rB?rB.toString:void 0;function eB(t){if("string"==typeof t)return t;if(cP(t))return nB(t,eB)+"";if(LP(t))return iB?iB.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}function oB(t){return null==t?"":eB(t)}function uB(t,n){return cP(t)?t:EP(t,n)?[t]:tB(oB(t))}function aB(t){return MP(t)&&"[object Arguments]"==gP(t)}var sB=Object.prototype,cB=sB.hasOwnProperty,fB=sB.propertyIsEnumerable,hB=aB(function(){return arguments}())?aB:function(t){return MP(t)&&cB.call(t,"callee")&&!fB.call(t,"callee")},lB=/^(?:0|[1-9]\d*)$/;function dB(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&lB.test(t))&&t>-1&&t%1==0&&t<n}function vB(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function pB(t){if("string"==typeof t||LP(t))return t;var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}function bB(t,n,r){for(var i=-1,e=(n=uB(n,t)).length,o=!1;++i<e;){var u=pB(n[i]);if(!(o=null!=t&&r(t,u)))break;t=t[u]}return o||++i!=e?o:!!(e=null==t?0:t.length)&&vB(e)&&dB(u,e)&&(cP(t)||hB(t))}function mB(t,n){return null!=t&&bB(t,n,sP)}function yB(t){var n=this.__data__=new zP(t);this.size=n.size}yB.prototype.clear=function(){this.__data__=new zP,this.size=0},yB.prototype.delete=function(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r},yB.prototype.get=function(t){return this.__data__.get(t)},yB.prototype.has=function(t){return this.__data__.has(t)},yB.prototype.set=function(t,n){var r=this.__data__;if(r instanceof zP){var i=r.__data__;if(!VP||i.length<199)return i.push([t,n]),this.size=++r.size,this;r=this.__data__=new qP(i)}return r.set(t,n),this.size=r.size,this};var wB=function(){try{var t=HP(Object,"defineProperty");return t({},"",{}),t}catch(n){}}();function gB(t,n,r){"__proto__"==n&&wB?wB(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r}var MB=Object.prototype.hasOwnProperty;function LB(t,n,r){var i=t[n];MB.call(t,n)&&PP(i,r)&&(void 0!==r||n in t)||gB(t,n,r)}function AB(t,n,r,i){var e=!r;r||(r={});for(var o=-1,u=n.length;++o<u;){var a=n[o],s=i?i(r[a],t[a],a,r,t):void 0;void 0===s&&(s=t[a]),e?gB(r,a,s):LB(r,a,s)}return r}var NB=n&&!n.nodeType&&n,EB=NB&&t&&!t.nodeType&&t,kB=EB&&EB.exports===NB?lP.Buffer:void 0,xB=(kB?kB.isBuffer:void 0)||function(){return!1},TB={};function SB(t){return function(n){return t(n)}}TB["[object Float32Array]"]=TB["[object Float64Array]"]=TB["[object Int8Array]"]=TB["[object Int16Array]"]=TB["[object Int32Array]"]=TB["[object Uint8Array]"]=TB["[object Uint8ClampedArray]"]=TB["[object Uint16Array]"]=TB["[object Uint32Array]"]=!0,TB["[object Arguments]"]=TB["[object Array]"]=TB["[object ArrayBuffer]"]=TB["[object Boolean]"]=TB["[object DataView]"]=TB["[object Date]"]=TB["[object Error]"]=TB["[object Function]"]=TB["[object Map]"]=TB["[object Number]"]=TB["[object Object]"]=TB["[object RegExp]"]=TB["[object Set]"]=TB["[object String]"]=TB["[object WeakMap]"]=!1;var OB=n&&!n.nodeType&&n,IB=OB&&t&&!t.nodeType&&t,RB=IB&&IB.exports===OB&&fP.process,CB=function(){try{return IB&&IB.require&&IB.require("util").types||RB&&RB.binding&&RB.binding("util")}catch(t){}}(),DB=CB&&CB.isTypedArray,FB=DB?SB(DB):function(t){return MP(t)&&vB(t.length)&&!!TB[gP(t)]},HB=Object.prototype.hasOwnProperty;function WB(t,n){var r=cP(t),i=!r&&hB(t),e=!r&&!i&&xB(t),o=!r&&!i&&!e&&FB(t),u=r||i||e||o,a=u?function(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}(t.length,String):[],s=a.length;for(var c in t)!n&&!HB.call(t,c)||u&&("length"==c||e&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||dB(c,s))||a.push(c);return a}var jB=Object.prototype;function _B(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||jB)}function UB(t,n){return function(r){return t(n(r))}}var PB=UB(Object.keys,Object),BB=Object.prototype.hasOwnProperty;function YB(t){return null!=t&&vB(t.length)&&!xP(t)}function zB(t){return YB(t)?WB(t):function(t){if(!_B(t))return PB(t);var n=[];for(var r in Object(t))BB.call(t,r)&&"constructor"!=r&&n.push(r);return n}(t)}var VB=Object.prototype.hasOwnProperty;function GB(t){if(!kP(t))return function(t){var n=[];if(null!=t)for(var r in Object(t))n.push(r);return n}(t);var n=_B(t),r=[];for(var i in t)("constructor"!=i||!n&&VB.call(t,i))&&r.push(i);return r}function qB(t){return YB(t)?WB(t,!0):GB(t)}var $B=n&&!n.nodeType&&n,ZB=$B&&t&&!t.nodeType&&t,XB=ZB&&ZB.exports===$B?lP.Buffer:void 0,KB=XB?XB.allocUnsafe:void 0;function JB(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}function QB(){return[]}var tY=Object.prototype.propertyIsEnumerable,nY=Object.getOwnPropertySymbols,rY=nY?function(t){return null==t?[]:(t=Object(t),function(t,n){for(var r=-1,i=null==t?0:t.length,e=0,o=[];++r<i;){var u=t[r];n(u,r,t)&&(o[e++]=u)}return o}(nY(t),(function(n){return tY.call(t,n)})))}:QB;function iY(t,n){for(var r=-1,i=n.length,e=t.length;++r<i;)t[e+r]=n[r];return t}var eY=UB(Object.getPrototypeOf,Object),oY=Object.getOwnPropertySymbols?function(t){for(var n=[];t;)iY(n,rY(t)),t=eY(t);return n}:QB;function uY(t,n,r){var i=n(t);return cP(t)?i:iY(i,r(t))}function aY(t){return uY(t,zB,rY)}function sY(t){return uY(t,qB,oY)}var cY=HP(lP,"DataView"),fY=HP(lP,"Promise"),hY=HP(lP,"Set"),lY=HP(lP,"WeakMap"),dY="[object Map]",vY="[object Promise]",pY="[object Set]",bY="[object WeakMap]",mY="[object DataView]",yY=RP(cY),wY=RP(VP),gY=RP(fY),MY=RP(hY),LY=RP(lY),AY=gP;(cY&&AY(new cY(new ArrayBuffer(1)))!=mY||VP&&AY(new VP)!=dY||fY&&AY(fY.resolve())!=vY||hY&&AY(new hY)!=pY||lY&&AY(new lY)!=bY)&&(AY=function(t){var n=gP(t),r="[object Object]"==n?t.constructor:void 0,i=r?RP(r):"";if(i)switch(i){case yY:return mY;case wY:return dY;case gY:return vY;case MY:return pY;case LY:return bY}return n});var NY=AY,EY=Object.prototype.hasOwnProperty;var kY=lP.Uint8Array;function xY(t){var n=new t.constructor(t.byteLength);return new kY(n).set(new kY(t)),n}var TY=/\w*$/;var SY=dP?dP.prototype:void 0,OY=SY?SY.valueOf:void 0;function IY(t,n,r){var i=t.constructor;switch(n){case"[object ArrayBuffer]":return xY(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return function(t,n){var r=n?xY(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,n){var r=n?xY(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,r);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return function(t){var n=new t.constructor(t.source,TY.exec(t));return n.lastIndex=t.lastIndex,n}(t);case"[object Symbol]":return function(t){return OY?Object(OY.call(t)):{}}(t)}}var RY=Object.create,CY=function(){function t(){}return function(n){if(!kP(n))return{};if(RY)return RY(n);t.prototype=n;var r=new t;return t.prototype=void 0,r}}();var DY=CB&&CB.isMap,FY=DY?SB(DY):function(t){return MP(t)&&"[object Map]"==NY(t)};var HY=CB&&CB.isSet,WY=HY?SB(HY):function(t){return MP(t)&&"[object Set]"==NY(t)},jY="[object Arguments]",_Y="[object Function]",UY="[object Object]",PY={};function BY(t,n,r,i,e,o){var u,a=1&n,s=2&n,c=4&n;if(r&&(u=e?r(t,i,e,o):r(t)),void 0!==u)return u;if(!kP(t))return t;var f=cP(t);if(f){if(u=function(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&EY.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!a)return JB(t,u)}else{var h=NY(t),l=h==_Y||"[object GeneratorFunction]"==h;if(xB(t))return function(t,n){if(n)return t.slice();var r=t.length,i=KB?KB(r):new t.constructor(r);return t.copy(i),i}(t,a);if(h==UY||h==jY||l&&!e){if(u=s||l?{}:function(t){return"function"!=typeof t.constructor||_B(t)?{}:CY(eY(t))}(t),!a)return s?function(t,n){return AB(t,oY(t),n)}(t,function(t,n){return t&&AB(n,qB(n),t)}(u,t)):function(t,n){return AB(t,rY(t),n)}(t,function(t,n){return t&&AB(n,zB(n),t)}(u,t))}else{if(!PY[h])return e?t:{};u=IY(t,h,a)}}o||(o=new yB);var d=o.get(t);if(d)return d;o.set(t,u),WY(t)?t.forEach((function(i){u.add(BY(i,n,r,i,t,o))})):FY(t)&&t.forEach((function(i,e){u.set(e,BY(i,n,r,e,t,o))}));var v=f?void 0:(c?s?sY:aY:s?qB:zB)(t);return function(t,n){for(var r=-1,i=null==t?0:t.length;++r<i&&!1!==n(t[r],r,t););}(v||t,(function(i,e){v&&(i=t[e=i]),LB(u,e,BY(i,n,r,e,t,o))})),u}PY[jY]=PY["[object Array]"]=PY["[object ArrayBuffer]"]=PY["[object DataView]"]=PY["[object Boolean]"]=PY["[object Date]"]=PY["[object Float32Array]"]=PY["[object Float64Array]"]=PY["[object Int8Array]"]=PY["[object Int16Array]"]=PY["[object Int32Array]"]=PY["[object Map]"]=PY["[object Number]"]=PY[UY]=PY["[object RegExp]"]=PY["[object Set]"]=PY["[object String]"]=PY["[object Symbol]"]=PY["[object Uint8Array]"]=PY["[object Uint8ClampedArray]"]=PY["[object Uint16Array]"]=PY["[object Uint32Array]"]=!0,PY["[object Error]"]=PY[_Y]=PY["[object WeakMap]"]=!1;function YY(t,n){return BY(t,5,n="function"==typeof n?n:void 0)}function zY(t){var n=-1,r=Array(t.size);return t.forEach((function(t,i){r[++n]=[i,t]})),r}function VY(t){var n=-1,r=Array(t.size);return t.forEach((function(t){r[++n]=t})),r}var GY=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function qY(t){return GY.test(t)}var $Y="\\ud800-\\udfff",ZY="["+$Y+"]",XY="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",KY="\\ud83c[\\udffb-\\udfff]",JY="[^"+$Y+"]",QY="(?:\\ud83c[\\udde6-\\uddff]){2}",tz="[\\ud800-\\udbff][\\udc00-\\udfff]",nz="(?:"+XY+"|"+KY+")?",rz="[\\ufe0e\\ufe0f]?",iz=rz+nz+("(?:\\u200d(?:"+[JY,QY,tz].join("|")+")"+rz+nz+")*"),ez="(?:"+[JY+XY+"?",XY,QY,tz,ZY].join("|")+")",oz=RegExp(KY+"(?="+KY+")|"+ez+iz,"g");function uz(t){return qY(t)?function(t){return t.match(oz)||[]}(t):function(t){return t.split("")}(t)}function az(t){return null==t?[]:function(t,n){return nB(n,(function(n){return t[n]}))}(t,zB(t))}var sz=dP?dP.iterator:void 0;function cz(t){if(!t)return[];if(YB(t))return function(t){return"string"==typeof t||!cP(t)&&MP(t)&&"[object String]"==gP(t)}(t)?uz(t):JB(t);if(sz&&t[sz])return function(t){for(var n,r=[];!(n=t.next()).done;)r.push(n.value);return r}(t[sz]());var n=NY(t);return("[object Map]"==n?zY:"[object Set]"==n?VY:az)(t)}var fz=Object.prototype.toString,hz=Error.prototype.toString,lz=RegExp.prototype.toString,dz="undefined"!=typeof Symbol?Symbol.prototype.toString:function(){return""},vz=/^Symbol\((.*)\)(.*)$/;function pz(t,n){if(void 0===n&&(n=!1),null==t||!0===t||!1===t)return""+t;var r=typeof t;if("number"===r)return function(t){return t!=+t?"NaN":0===t&&1/t<0?"-0":""+t}(t);if("string"===r)return n?'"'+t+'"':t;if("function"===r)return"[Function "+(t.name||"anonymous")+"]";if("symbol"===r)return dz.call(t).replace(vz,"Symbol($1)");var i=fz.call(t).slice(8,-1);return"Date"===i?isNaN(t.getTime())?""+t:t.toISOString(t):"Error"===i||t instanceof Error?"["+hz.call(t)+"]":"RegExp"===i?lz.call(t):null}function bz(t,n){var r=pz(t,n);return null!==r?r:JSON.stringify(t,(function(t,r){var i=pz(this[t],n);return null!==i?i:r}),2)}var mz="${path} is invalid",yz="${path} is a required field",wz="${path} must be one of the following values: ${values}",gz="${path} must not be one of the following values: ${values}",Mz=function(t){var n=t.value,r=t.originalValue,i=null!=r&&r!==n,e=t.path+" must be a `"+t.type+"` type, but the final value was: `"+bz(n,!0)+"`"+(i?" (cast from the value `"+bz(r,!0)+"`).":".");return null===n&&(e+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),e},Lz="${path} must be defined",Az="${path} must be exactly ${length} characters",Nz="${path} must be at least ${min} characters",Ez="${path} must be at most ${max} characters",kz='${path} must match the following: "${regex}"',xz="${path} must be a valid email",Tz="${path} must be a valid URL",Sz="${path} must be a trimmed string",Oz="${path} must be a lowercase string",Iz="${path} must be a upper case string",Rz="${path} must be greater than or equal to ${min}",Cz="${path} must be less than or equal to ${max}",Dz="${path} must be less than ${less}",Fz="${path} must be greater than ${more}",Hz="${path} must be a positive number",Wz="${path} must be a negative number",jz="${path} must be an integer",_z="${path} field must be later than ${min}",Uz="${path} field must be at earlier than ${max}",Pz="${path} field has unspecified keys: ${unknown}",Bz="${path} field must have at least ${min} items",Yz="${path} field must have less than or equal to ${max} items",zz=function(t){return t&&t.__isYupSchema__},Vz=function(){function t(t,n){if(this.refs=t,"function"!=typeof n){if(!mB(n,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");var r=n.is,i=n.then,e=n.otherwise,o="function"==typeof r?r:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.every((function(t){return t===r}))};this.fn=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var u=n.pop(),a=n.pop(),s=o.apply(void 0,n)?i:e;if(s)return"function"==typeof s?s(a):a.concat(s.resolve(u))}}else this.fn=n}return t.prototype.resolve=function(t,n){var r=this.refs.map((function(t){return t.getValue(n)})),i=this.fn.apply(t,r.concat(t,n));if(void 0===i||i===t)return t;if(!zz(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)},t}();function Gz(t,n){if(null==t)return{};var r,i,e={},o=Object.keys(t);for(i=0;i<o.length;i++)n.indexOf(r=o[i])>=0||(e[r]=t[r]);return e}function qz(t){return Array.prototype.slice.apply(t)}var $z="pending",Zz="resolved",Xz="rejected";function Kz(t){this.status=$z,this._continuations=[],this._parent=null,this._paused=!1,t&&t.call(this,this._continueWith.bind(this),this._failWith.bind(this))}function Jz(t){return t&&"function"==typeof t.then}function Qz(t){return t}function tV(t){return"undefined"!=typeof window&&"AggregateError"in window?new window.AggregateError(t):{errors:t}}if(Kz.prototype={then:function(t,n){var r=Kz.unresolved()._setParent(this);if(this._isRejected()){if(this._paused)return this._continuations.push({promise:r,nextFn:t,catchFn:n}),r;if(n)try{var i=n(this._error);return Jz(i)?(this._chainPromiseData(i,r),r):Kz.resolve(i)._setParent(this)}catch(e){return Kz.reject(e)._setParent(this)}return Kz.reject(this._error)._setParent(this)}return this._continuations.push({promise:r,nextFn:t,catchFn:n}),this._runResolutions(),r},catch:function(t){if(this._isResolved())return Kz.resolve(this._data)._setParent(this);var n=Kz.unresolved()._setParent(this);return this._continuations.push({promise:n,catchFn:t}),this._runRejections(),n},finally:function(t){var n=!1;function r(r,i){if(!n){n=!0,t||(t=Qz);var e=t(r);return Jz(e)?e.then((function(){if(i)throw i;return r})):r}}return this.then((function(t){return r(t)})).catch((function(t){return r(null,t)}))},pause:function(){return this._paused=!0,this},resume:function(){var t=this._findFirstPaused();return t&&(t._paused=!1,t._runResolutions(),t._runRejections()),this},_findAncestry:function(){return this._continuations.reduce((function(t,n){if(n.promise){var r={promise:n.promise,children:n.promise._findAncestry()};t.push(r)}return t}),[])},_setParent:function(t){if(this._parent)throw new Error("parent already set");return this._parent=t,this},_continueWith:function(t){var n=this._findFirstPending();n&&(n._data=t,n._setResolved())},_findFirstPending:function(){return this._findFirstAncestor((function(t){return t._isPending&&t._isPending()}))},_findFirstPaused:function(){return this._findFirstAncestor((function(t){return t._paused}))},_findFirstAncestor:function(t){for(var n,r=this;r;)t(r)&&(n=r),r=r._parent;return n},_failWith:function(t){var n=this._findFirstPending();n&&(n._error=t,n._setRejected())},_takeContinuations:function(){return this._continuations.splice(0,this._continuations.length)},_runRejections:function(){if(!this._paused&&this._isRejected()){var t=this._error,n=this._takeContinuations(),r=this;n.forEach((function(n){if(n.catchFn)try{var i=n.catchFn(t);r._handleUserFunctionResult(i,n.promise)}catch(e){n.promise.reject(e)}else n.promise.reject(t)}))}},_runResolutions:function(){if(!this._paused&&this._isResolved()&&!this._isPending()){var t=this._takeContinuations();if(Jz(this._data))return this._handleWhenResolvedDataIsPromise(this._data);var n=this._data,r=this;t.forEach((function(t){if(t.nextFn)try{var i=t.nextFn(n);r._handleUserFunctionResult(i,t.promise)}catch(e){r._handleResolutionError(e,t)}else t.promise&&t.promise.resolve(n)}))}},_handleResolutionError:function(t,n){if(this._setRejected(),n.catchFn)try{return void n.catchFn(t)}catch(Zi){t=Zi}n.promise&&n.promise.reject(t)},_handleWhenResolvedDataIsPromise:function(t){var n=this;return t.then((function(t){n._data=t,n._runResolutions()})).catch((function(t){n._error=t,n._setRejected(),n._runRejections()}))},_handleUserFunctionResult:function(t,n){Jz(t)?this._chainPromiseData(t,n):n.resolve(t)},_chainPromiseData:function(t,n){t.then((function(t){n.resolve(t)})).catch((function(t){n.reject(t)}))},_setResolved:function(){this.status=Zz,this._paused||this._runResolutions()},_setRejected:function(){this.status=Xz,this._paused||this._runRejections()},_isPending:function(){return this.status===$z},_isResolved:function(){return this.status===Zz},_isRejected:function(){return this.status===Xz}},Kz.resolve=function(t){return new Kz((function(n,r){Jz(t)?t.then((function(t){n(t)})).catch((function(t){r(t)})):n(t)}))},Kz.reject=function(t){return new Kz((function(n,r){r(t)}))},Kz.unresolved=function(){return new Kz((function(t,n){this.resolve=t,this.reject=n}))},Kz.all=function(){var t=qz(arguments);return Array.isArray(t[0])&&(t=t[0]),t.length?new Kz((function(n,r){var i=[],e=0,o=!1;t.forEach((function(u,a){Kz.resolve(u).then((function(r){i[a]=r,(e+=1)===t.length&&n(i)})).catch((function(t){!function(t){o||(o=!0,r(t))}(t)}))}))})):Kz.resolve([])},Kz.any=function(){var t=qz(arguments);return Array.isArray(t[0])&&(t=t[0]),t.length?new Kz((function(n,r){var i=[],e=0,o=!1;t.forEach((function(u,a){Kz.resolve(u).then((function(t){!function(t){o||(o=!0,n(t))}(t)})).catch((function(n){i[a]=n,(e+=1)===t.length&&r(tV(i))}))}))})):Kz.reject(tV([]))},Kz.allSettled=function(){var t=qz(arguments);return Array.isArray(t[0])&&(t=t[0]),t.length?new Kz((function(n){var r=[],i=0,e=function(){(i+=1)===t.length&&n(r)};t.forEach((function(t,n){Kz.resolve(t).then((function(t){r[n]={status:"fulfilled",value:t},e()})).catch((function(t){r[n]={status:"rejected",reason:t},e()}))}))})):Kz.resolve([])},Promise===Kz)throw new Error("Please use SynchronousPromise.installGlobally() to install globally");var nV=Promise;Kz.installGlobally=function(t){if(Promise===Kz)return t;var n=function(t){if(void 0===t||t.__patched)return t;var n=t;return t=function(){n.apply(this,qz(arguments))},t.__patched=!0,t}(t);return Promise=Kz,n},Kz.uninstallGlobally=function(){Promise===Kz&&(Promise=nV)};var rV={SynchronousPromise:Kz}.SynchronousPromise,iV=/\$\{\s*(\w+)\s*\}/g,eV=function(t){return function(n){return t.replace(iV,(function(t,r){return bz(n[r])}))}};function oV(t,n,r,i){var e=this;this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],t&&[].concat(t).forEach((function(t){e.errors=e.errors.concat(t.errors||t),t.inner&&(e.inner=e.inner.concat(t.inner.length?t.inner:t))})),this.message=this.errors.length>1?this.errors.length+" errors occurred":this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,oV)}(oV.prototype=Object.create(Error.prototype)).constructor=oV,oV.isError=function(t){return t&&"ValidationError"===t.name},oV.formatError=function(t,n){"string"==typeof t&&(t=eV(t));var r=function(n){return n.path=n.label||n.path||"this","function"==typeof t?t(n):t};return 1===arguments.length?r:r(n)};var uV=function(t){return t?rV:Promise};function aV(t,n){return t?null:function(t){return n.push(t),t.value}}function sV(t){var n=t.validations,r=t.value,i=t.path,e=t.sync,o=t.errors,u=t.sort;return o=function(t){return void 0===t&&(t=[]),t.inner&&t.inner.length?t.inner:[].concat(t)}(o),function(t,n){var r=uV(n);return r.all(t.map((function(t){return r.resolve(t).then((function(t){return{fulfilled:!0,value:t}}),(function(t){return{fulfilled:!1,value:t}}))})))}(n,e).then((function(t){var n=t.filter((function(t){return!t.fulfilled})).reduce((function(t,n){var r=n.value;if(!oV.isError(r))throw r;return t.concat(r)}),[]);if(u&&n.sort(u),(o=n.concat(o)).length)throw new oV(o,r,i);return r}))}function cV(t){var n=t.endEarly,r=Gz(t,["endEarly"]);return n?function(t,n,r){return uV(r).all(t).catch((function(t){throw"ValidationError"===t.name&&(t.value=n),t})).then((function(){return n}))}(r.validations,r.value,r.sync):sV(r)}var fV=function(t){return"[object Object]"===Object.prototype.toString.call(t)};function hV(t,n){for(var r in n)if(mB(n,r)){var i=n[r],e=t[r];if(void 0===e)t[r]=i;else{if(e===i)continue;zz(e)?zz(i)&&(t[r]=i.concat(e)):fV(e)?fV(i)&&(t[r]=hV(e,i)):Array.isArray(e)&&Array.isArray(i)&&(t[r]=i.concat(e))}}return t}var lV,dV=function(t,n,r){for(var i=-1,e=Object(t),o=r(t),u=o.length;u--;){var a=o[lV?u:++i];if(!1===n(e[a],a,e))break}return t};function vV(t,n){return t&&dV(t,n,zB)}function pV(t){var n=-1,r=null==t?0:t.length;for(this.__data__=new qP;++n<r;)this.add(t[n])}function bV(t,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}function mV(t,n){return t.has(n)}pV.prototype.add=pV.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},pV.prototype.has=function(t){return this.__data__.has(t)};function yV(t,n,r,i,e,o){var u=1&r,a=t.length,s=n.length;if(a!=s&&!(u&&s>a))return!1;var c=o.get(t),f=o.get(n);if(c&&f)return c==n&&f==t;var h=-1,l=!0,d=2&r?new pV:void 0;for(o.set(t,n),o.set(n,t);++h<a;){var v=t[h],p=n[h];if(i)var b=u?i(p,v,h,n,t,o):i(v,p,h,t,n,o);if(void 0!==b){if(b)continue;l=!1;break}if(d){if(!bV(n,(function(t,n){if(!mV(d,n)&&(v===t||e(v,t,r,i,o)))return d.push(n)}))){l=!1;break}}else if(v!==p&&!e(v,p,r,i,o)){l=!1;break}}return o.delete(t),o.delete(n),l}var wV=dP?dP.prototype:void 0,gV=wV?wV.valueOf:void 0;var MV=Object.prototype.hasOwnProperty;var LV="[object Arguments]",AV="[object Array]",NV="[object Object]",EV=Object.prototype.hasOwnProperty;function kV(t,n,r,i,e,o){var u=cP(t),a=cP(n),s=u?AV:NY(t),c=a?AV:NY(n),f=(s=s==LV?NV:s)==NV,h=(c=c==LV?NV:c)==NV,l=s==c;if(l&&xB(t)){if(!xB(n))return!1;u=!0,f=!1}if(l&&!f)return o||(o=new yB),u||FB(t)?yV(t,n,r,i,e,o):function(t,n,r,i,e,o,u){switch(r){case"[object DataView]":if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=n.byteLength||!o(new kY(t),new kY(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return PP(+t,+n);case"[object Error]":return t.name==n.name&&t.message==n.message;case"[object RegExp]":case"[object String]":return t==n+"";case"[object Map]":var a=zY;case"[object Set]":if(a||(a=VY),t.size!=n.size&&!(1&i))return!1;var s=u.get(t);if(s)return s==n;i|=2,u.set(t,n);var c=yV(a(t),a(n),i,e,o,u);return u.delete(t),c;case"[object Symbol]":if(gV)return gV.call(t)==gV.call(n)}return!1}(t,n,s,r,i,e,o);if(!(1&r)){var d=f&&EV.call(t,"__wrapped__"),v=h&&EV.call(n,"__wrapped__");if(d||v){var p=d?t.value():t,b=v?n.value():n;return o||(o=new yB),e(p,b,r,i,o)}}return!!l&&(o||(o=new yB),function(t,n,r,i,e,o){var u=1&r,a=aY(t),s=a.length;if(s!=aY(n).length&&!u)return!1;for(var c=s;c--;){var f=a[c];if(!(u?f in n:MV.call(n,f)))return!1}var h=o.get(t),l=o.get(n);if(h&&l)return h==n&&l==t;var d=!0;o.set(t,n),o.set(n,t);for(var v=u;++c<s;){var p=t[f=a[c]],b=n[f];if(i)var m=u?i(b,p,f,n,t,o):i(p,b,f,t,n,o);if(!(void 0===m?p===b||e(p,b,r,i,o):m)){d=!1;break}v||(v="constructor"==f)}if(d&&!v){var y=t.constructor,w=n.constructor;y==w||!("constructor"in t)||!("constructor"in n)||"function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w||(d=!1)}return o.delete(t),o.delete(n),d}(t,n,r,i,e,o))}function xV(t,n,r,i,e){return t===n||(null==t||null==n||!MP(t)&&!MP(n)?t!=t&&n!=n:kV(t,n,r,i,xV,e))}function TV(t){return t==t&&!kP(t)}function SV(t,n){return function(r){return null!=r&&r[t]===n&&(void 0!==n||t in Object(r))}}function OV(t){var n=function(t){for(var n=zB(t),r=n.length;r--;){var i=n[r],e=t[i];n[r]=[i,e,TV(e)]}return n}(t);return 1==n.length&&n[0][2]?SV(n[0][0],n[0][1]):function(r){return r===t||function(t,n,r,i){var e=r.length,o=e,u=!i;if(null==t)return!o;for(t=Object(t);e--;){var a=r[e];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++e<o;){var s=(a=r[e])[0],c=t[s],f=a[1];if(u&&a[2]){if(void 0===c&&!(s in t))return!1}else{var h=new yB;if(i)var l=i(c,f,s,t,n,h);if(!(void 0===l?xV(f,c,3,i,h):l))return!1}}return!0}(r,t,n)}}function IV(t,n){for(var r=0,i=(n=uB(n,t)).length;null!=t&&r<i;)t=t[pB(n[r++])];return r&&r==i?t:void 0}function RV(t,n){return null!=t&&n in Object(t)}function CV(t,n){return EP(t)&&TV(n)?SV(pB(t),n):function(r){var i=function(t,n,r){var i=null==t?void 0:IV(t,n);return void 0===i?r:i}(r,t);return void 0===i&&i===n?function(t,n){return null!=t&&bB(t,n,RV)}(r,t):xV(n,i,3)}}function DV(t){return t}function FV(t){return EP(t)?(n=pB(t),function(t){return null==t?void 0:t[n]}):function(t){return function(n){return IV(n,t)}}(t);var n}function HV(t){return"function"==typeof t?t:null==t?DV:"object"==typeof t?cP(t)?CV(t[0],t[1]):OV(t):FV(t)}function WV(t,n){var r={};return n=HV(n),vV(t,(function(t,i,e){gB(r,i,n(t,i,e))})),r}function jV(t){this._maxSize=t,this.clear()}jV.prototype.clear=function(){this._size=0,this._values=Object.create(null)},jV.prototype.get=function(t){return this._values[t]},jV.prototype.set=function(t,n){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=n};var _V=/[^.^\]^[]+|(?=\[\]|\.\.)/g,UV=/^\d+$/,PV=/^\d/,BV=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,YV=/^\s*(['"]?)(.*?)(\1)\s*$/,zV=new jV(512),VV=(new jV(512),new jV(512)),GV=function(t,n){var r=$V(t);return VV.get(t)||VV.set(t,(function(t){for(var i=0,e=r.length;i<e;){if(null==t&&n)return;t=t[r[i++]]}return t}))},qV=function(t,n,r){!function(t,n,r){var i,e,o,u,a=t.length;for(e=0;e<a;e++)(i=t[e])&&(KV(i)&&(i='"'+i+'"'),o=!(u=XV(i))&&/^\d+$/.test(i),n.call(r,i,u,o,e,t))}(Array.isArray(t)?t:ZV(t),n,r)};function $V(t){return zV.get(t)||zV.set(t,ZV(t).map((function(t){return t.replace(YV,"$2")})))}function ZV(t){return t.match(_V)||[""]}function XV(t){return"string"==typeof t&&t&&-1!==["'",'"'].indexOf(t.charAt(0))}function KV(t){return!XV(t)&&(function(t){return t.match(PV)&&!t.match(UV)}(t)||function(t){return BV.test(t)}(t))}var JV=ZV,QV=GV,tG=qV,nG="$",rG=".",iG=function(){function t(t,n){if(void 0===n&&(n={}),"string"!=typeof t)throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),""===t)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===nG,this.isValue=this.key[0]===rG,this.isSibling=!this.isContext&&!this.isValue,this.path=this.key.slice((this.isContext?nG:this.isValue?rG:"").length),this.getter=this.path&&QV(this.path,!0),this.map=n.map}var n=t.prototype;return n.getValue=function(t){var n=this.isContext?t.context:this.isValue?t.value:t.parent;return this.getter&&(n=this.getter(n||{})),this.map&&(n=this.map(n)),n},n.cast=function(t,n){return this.getValue(uP({},n,{value:t}))},n.resolve=function(){return this},n.describe=function(){return{type:"ref",key:this.key}},n.toString=function(){return"Ref("+this.key+")"},t.isRef=function(t){return t&&t.__isYupRef},t}();iG.prototype.__isYupRef=!0;var eG=oV.formatError;function oG(t){var n=t.value,r=t.label,i=t.resolve,e=t.originalValue,o=Gz(t,["value","label","resolve","originalValue"]);return function(t){var u=void 0===t?{}:t,a=u.path,s=void 0===a?o.path:a,c=u.message,f=void 0===c?o.message:c,h=u.type,l=void 0===h?o.name:h,d=u.params;return d=uP({path:s,value:n,originalValue:e,label:r},function(t,n,r){return WV(uP({},t,{},n),r)}(o.params,d,i)),uP(new oV(eG(f,d),n,s,l),{params:d})}}function uG(t){var n=t.name,r=t.message,i=t.test,e=t.params;function o(t){var o=t.value,u=t.path,a=t.label,s=t.options,c=t.originalValue,f=t.sync,h=Gz(t,["value","path","label","options","originalValue","sync"]),l=s.parent,d=function(t){return iG.isRef(t)?t.getValue({value:o,parent:l,context:s.context}):t},v=oG({message:r,path:u,value:o,originalValue:c,params:e,label:a,resolve:d,name:n}),p=uP({path:u,parent:l,type:n,createError:v,resolve:d,options:s},h);return function(t,n,r,i){var e,o=t.call(n,r);if(!i)return Promise.resolve(o);if((e=o)&&"function"==typeof e.then&&"function"==typeof e.catch)throw new Error('Validation test of type: "'+n.type+'" returned a Promise during a synchronous validate. This test will finish after the validate call has returned');return rV.resolve(o)}(i,p,o,f).then((function(t){if(oV.isError(t))throw t;if(!t)throw v()}))}return o.OPTIONS=t,o}var aG=function(){function t(){this.list=new Set,this.refs=new Map}var n=t.prototype;return n.toArray=function(){return cz(this.list).concat(cz(this.refs.values()))},n.add=function(t){iG.isRef(t)?this.refs.set(t.key,t):this.list.add(t)},n.delete=function(t){iG.isRef(t)?this.refs.delete(t.key):this.list.delete(t)},n.has=function(t,n){if(this.list.has(t))return!0;for(var r,i=this.refs.values();!(r=i.next()).done;)if(n(r.value)===t)return!0;return!1},n.clone=function(){var n=new t;return n.list=new Set(this.list),n.refs=new Map(this.refs),n},n.merge=function(t,n){var r=this.clone();return t.list.forEach((function(t){return r.add(t)})),t.refs.forEach((function(t){return r.add(t)})),n.list.forEach((function(t){return r.delete(t)})),n.refs.forEach((function(t){return r.delete(t)})),r},t}();function sG(t){var n=this;if(void 0===t&&(t={}),!(this instanceof sG))return new sG;this._deps=[],this._conditions=[],this._options={abortEarly:!0,recursive:!0},this._exclusive=Object.create(null),this._whitelist=new aG,this._blacklist=new aG,this.tests=[],this.transforms=[],this.withMutation((function(){n.typeError(Mz)})),mB(t,"default")&&(this._defaultDefault=t.default),this.type=t.type||"mixed",this._type=t.type||"mixed"}for(var cG=sG.prototype={__isYupSchema__:!0,constructor:sG,clone:function(){var t=this;return this._mutate?this:YY(this,(function(n){if(zz(n)&&n!==t)return n}))},label:function(t){var n=this.clone();return n._label=t,n},meta:function(t){if(0===arguments.length)return this._meta;var n=this.clone();return n._meta=uP(n._meta||{},t),n},withMutation:function(t){var n=this._mutate;this._mutate=!0;var r=t(this);return this._mutate=n,r},concat:function(t){if(!t||t===this)return this;if(t._type!==this._type&&"mixed"!==this._type)throw new TypeError("You cannot `concat()` schema's of different types: "+this._type+" and "+t._type);var n=hV(t.clone(),this);return mB(t,"_default")&&(n._default=t._default),n.tests=this.tests,n._exclusive=this._exclusive,n._whitelist=this._whitelist.merge(t._whitelist,t._blacklist),n._blacklist=this._blacklist.merge(t._blacklist,t._whitelist),n.withMutation((function(n){t.tests.forEach((function(t){n.test(t.OPTIONS)}))})),n},isType:function(t){return!(!this._nullable||null!==t)||!this._typeCheck||this._typeCheck(t)},resolve:function(t){var n=this;if(n._conditions.length){var r=n._conditions;(n=n.clone())._conditions=[],n=(n=r.reduce((function(n,r){return r.resolve(n,t)}),n)).resolve(t)}return n},cast:function(t,n){void 0===n&&(n={});var r=this.resolve(uP({},n,{value:t})),i=r._cast(t,n);if(void 0!==t&&!1!==n.assert&&!0!==r.isType(i)){var e=bz(t),o=bz(i);throw new TypeError("The value of "+(n.path||"field")+' could not be cast to a value that satisfies the schema type: "'+r._type+'". \n\nattempted value: '+e+" \n"+(o!==e?"result of cast: "+o:""))}return i},_cast:function(t){var n=this,r=void 0===t?t:this.transforms.reduce((function(r,i){return i.call(n,r,t)}),t);return void 0===r&&mB(this,"_default")&&(r=this.default()),r},_validate:function(t,n){var r=this;void 0===n&&(n={});var i=t,e=null!=n.originalValue?n.originalValue:t,o=this._option("strict",n),u=this._option("abortEarly",n),a=n.sync,s=n.path,c=this._label;o||(i=this._cast(i,uP({assert:!1},n)));var f={value:i,path:s,schema:this,options:n,label:c,originalValue:e,sync:a},h=[];return this._typeError&&h.push(this._typeError(f)),this._whitelistError&&h.push(this._whitelistError(f)),this._blacklistError&&h.push(this._blacklistError(f)),cV({validations:h,endEarly:u,value:i,path:s,sync:a}).then((function(t){return cV({path:s,sync:a,value:t,endEarly:u,validations:r.tests.map((function(t){return t(f)}))})}))},validate:function(t,n){return void 0===n&&(n={}),this.resolve(uP({},n,{value:t}))._validate(t,n)},validateSync:function(t,n){var r,i;if(void 0===n&&(n={}),this.resolve(uP({},n,{value:t}))._validate(t,uP({},n,{sync:!0})).then((function(t){return r=t})).catch((function(t){return i=t})),i)throw i;return r},isValid:function(t,n){return this.validate(t,n).then((function(){return!0})).catch((function(t){if("ValidationError"===t.name)return!1;throw t}))},isValidSync:function(t,n){try{return this.validateSync(t,n),!0}catch(r){if("ValidationError"===r.name)return!1;throw r}},getDefault:function(t){return void 0===t&&(t={}),this.resolve(t).default()},default:function(t){if(0===arguments.length){var n=mB(this,"_default")?this._default:this._defaultDefault;return"function"==typeof n?n.call(this):YY(n)}var r=this.clone();return r._default=t,r},strict:function(t){void 0===t&&(t=!0);var n=this.clone();return n._options.strict=t,n},_isPresent:function(t){return null!=t},required:function(t){return void 0===t&&(t=yz),this.test({message:t,name:"required",exclusive:!0,test:function(t){return this.schema._isPresent(t)}})},notRequired:function(){var t=this.clone();return t.tests=t.tests.filter((function(t){return"required"!==t.OPTIONS.name})),t},nullable:function(t){void 0===t&&(t=!0);var n=this.clone();return n._nullable=t,n},transform:function(t){var n=this.clone();return n.transforms.push(t),n},test:function(){var t;if(void 0===(t=1===arguments.length?"function"==typeof(arguments.length<=0?void 0:arguments[0])?{test:arguments.length<=0?void 0:arguments[0]}:arguments.length<=0?void 0:arguments[0]:2===arguments.length?{name:arguments.length<=0?void 0:arguments[0],test:arguments.length<=1?void 0:arguments[1]}:{name:arguments.length<=0?void 0:arguments[0],message:arguments.length<=1?void 0:arguments[1],test:arguments.length<=2?void 0:arguments[2]}).message&&(t.message=mz),"function"!=typeof t.test)throw new TypeError("`test` is a required parameters");var n=this.clone(),r=uG(t),i=t.exclusive||t.name&&!0===n._exclusive[t.name];if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n._exclusive[t.name]=!!t.exclusive,n.tests=n.tests.filter((function(n){if(n.OPTIONS.name===t.name){if(i)return!1;if(n.OPTIONS.test===r.OPTIONS.test)return!1}return!0})),n.tests.push(r),n},when:function(t,n){1===arguments.length&&(n=t,t=".");var r=this.clone(),i=[].concat(t).map((function(t){return new iG(t)}));return i.forEach((function(t){t.isSibling&&r._deps.push(t.key)})),r._conditions.push(new Vz(i,n)),r},typeError:function(t){var n=this.clone();return n._typeError=uG({message:t,name:"typeError",test:function(t){return!(void 0!==t&&!this.schema.isType(t))||this.createError({params:{type:this.schema._type}})}}),n},oneOf:function(t,n){void 0===n&&(n=wz);var r=this.clone();return t.forEach((function(t){r._whitelist.add(t),r._blacklist.delete(t)})),r._whitelistError=uG({message:n,name:"oneOf",test:function(t){if(void 0===t)return!0;var n=this.schema._whitelist;return!!n.has(t,this.resolve)||this.createError({params:{values:n.toArray().join(", ")}})}}),r},notOneOf:function(t,n){void 0===n&&(n=gz);var r=this.clone();return t.forEach((function(t){r._blacklist.add(t),r._whitelist.delete(t)})),r._blacklistError=uG({message:n,name:"notOneOf",test:function(t){var n=this.schema._blacklist;return!n.has(t,this.resolve)||this.createError({params:{values:n.toArray().join(", ")}})}}),r},strip:function(t){void 0===t&&(t=!0);var n=this.clone();return n._strip=t,n},_option:function(t,n){return mB(n,t)?n[t]:this._options[t]},describe:function(){var t=this.clone();return{type:t._type,meta:t._meta,label:t._label,tests:t.tests.map((function(t){return{name:t.OPTIONS.name,params:t.OPTIONS.params}})).filter((function(t,n,r){return r.findIndex((function(n){return n.name===t.name}))===n}))}},defined:function(t){return void 0===t&&(t=Lz),this.nullable().test({message:t,name:"defined",exclusive:!0,test:function(t){return void 0!==t}})}},fG=function(){var t=lG[hG];cG[t+"At"]=function(n,r,i){void 0===i&&(i={});var e=function(t,n,r,i){var e,o,u;return void 0===i&&(i=r),n?(tG(n,(function(a,s,c){var f=s?function(t){return t.substr(0,t.length-1).substr(1)}(a):a;if((t=t.resolve({context:i,parent:e,value:r})).innerType){var h=c?parseInt(f,10):0;if(r&&h>=r.length)throw new Error("Yup.reach cannot resolve an array item at index: "+a+", in the path: "+n+". because there is no value at that index. ");e=r,r=r&&r[h],t=t.innerType}if(!c){if(!t.fields||!t.fields[f])throw new Error("The schema does not contain the path: "+n+". (failed at: "+u+' which is a type: "'+t._type+'")');e=r,r=r&&r[f],t=t.fields[f]}o=f,u=s?"["+a+"]":"."+a})),{schema:t,parent:e,parentPath:o}):{parent:e,parentPath:n,schema:t}}(this,n,r,i.context),o=e.parent;return e.schema[t](o&&o[e.parentPath],uP({},i,{parent:o,path:n}))}},hG=0,lG=["validate","validateSync"];hG<lG.length;hG++)fG();for(var dG=0,vG=["equals","is"];dG<vG.length;dG++)cG[vG[dG]]=cG.oneOf;for(var pG=0,bG=["not","nope"];pG<bG.length;pG++)cG[bG[pG]]=cG.notOneOf;function mG(t,n,r){t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),uP(t.prototype,r)}function yG(){var t=this;if(!(this instanceof yG))return new yG;sG.call(this,{type:"boolean"}),this.withMutation((function(){t.transform((function(t){if(!this.isType(t)){if(/^(true|1)$/i.test(t))return!0;if(/^(false|0)$/i.test(t))return!1}return t}))}))}cG.optional=cG.notRequired,mG(yG,sG,{_typeCheck:function(t){return t instanceof Boolean&&(t=t.valueOf()),"boolean"==typeof t}});var wG=function(t){return null==t},gG=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,MG=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,LG=function(t){return wG(t)||t===t.trim()};function AG(){var t=this;if(!(this instanceof AG))return new AG;sG.call(this,{type:"string"}),this.withMutation((function(){t.transform((function(t){return this.isType(t)?t:null!=t&&t.toString?t.toString():t}))}))}mG(AG,sG,{_typeCheck:function(t){return t instanceof String&&(t=t.valueOf()),"string"==typeof t},_isPresent:function(t){return sG.prototype._cast.call(this,t)&&t.length>0},length:function(t,n){return void 0===n&&(n=Az),this.test({message:n,name:"length",exclusive:!0,params:{length:t},test:function(n){return wG(n)||n.length===this.resolve(t)}})},min:function(t,n){return void 0===n&&(n=Nz),this.test({message:n,name:"min",exclusive:!0,params:{min:t},test:function(n){return wG(n)||n.length>=this.resolve(t)}})},max:function(t,n){return void 0===n&&(n=Ez),this.test({name:"max",exclusive:!0,message:n,params:{max:t},test:function(n){return wG(n)||n.length<=this.resolve(t)}})},matches:function(t,n){var r,i,e=!1;return n&&("object"==typeof n?(e=n.excludeEmptyString,r=n.message,i=n.name):r=n),this.test({name:i||"matches",message:r||kz,params:{regex:t},test:function(n){return wG(n)||""===n&&e||-1!==n.search(t)}})},email:function(t){return void 0===t&&(t=xz),this.matches(gG,{name:"email",message:t,excludeEmptyString:!0})},url:function(t){return void 0===t&&(t=Tz),this.matches(MG,{name:"url",message:t,excludeEmptyString:!0})},ensure:function(){return this.default("").transform((function(t){return null===t?"":t}))},trim:function(t){return void 0===t&&(t=Sz),this.transform((function(t){return null!=t?t.trim():t})).test({message:t,name:"trim",test:LG})},lowercase:function(t){return void 0===t&&(t=Oz),this.transform((function(t){return wG(t)?t:t.toLowerCase()})).test({message:t,name:"string_case",exclusive:!0,test:function(t){return wG(t)||t===t.toLowerCase()}})},uppercase:function(t){return void 0===t&&(t=Iz),this.transform((function(t){return wG(t)?t:t.toUpperCase()})).test({message:t,name:"string_case",exclusive:!0,test:function(t){return wG(t)||t===t.toUpperCase()}})}});mG((function t(){var n=this;if(!(this instanceof t))return new t;sG.call(this,{type:"number"}),this.withMutation((function(){n.transform((function(t){var n=t;if("string"==typeof n){if(""===(n=n.replace(/\s/g,"")))return NaN;n=+n}return this.isType(n)?n:parseFloat(n)}))}))}),sG,{_typeCheck:function(t){return t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&!function(t){return t!=+t}(t)},min:function(t,n){return void 0===n&&(n=Rz),this.test({message:n,name:"min",exclusive:!0,params:{min:t},test:function(n){return wG(n)||n>=this.resolve(t)}})},max:function(t,n){return void 0===n&&(n=Cz),this.test({message:n,name:"max",exclusive:!0,params:{max:t},test:function(n){return wG(n)||n<=this.resolve(t)}})},lessThan:function(t,n){return void 0===n&&(n=Dz),this.test({message:n,name:"max",exclusive:!0,params:{less:t},test:function(n){return wG(n)||n<this.resolve(t)}})},moreThan:function(t,n){return void 0===n&&(n=Fz),this.test({message:n,name:"min",exclusive:!0,params:{more:t},test:function(n){return wG(n)||n>this.resolve(t)}})},positive:function(t){return void 0===t&&(t=Hz),this.moreThan(0,t)},negative:function(t){return void 0===t&&(t=Wz),this.lessThan(0,t)},integer:function(t){return void 0===t&&(t=jz),this.test({name:"integer",message:t,test:function(t){return wG(t)||Number.isInteger(t)}})},truncate:function(){return this.transform((function(t){return wG(t)?t:0|t}))},round:function(t){var n=["ceil","floor","round","trunc"];if("trunc"===(t=t&&t.toLowerCase()||"round"))return this.truncate();if(-1===n.indexOf(t.toLowerCase()))throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform((function(n){return wG(n)?n:Math[t](n)}))}});var NG=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;var EG=new Date("");function kG(t,n){return n||(n=t.slice(0)),t.raw=n,t}mG((function t(){var n=this;if(!(this instanceof t))return new t;sG.call(this,{type:"date"}),this.withMutation((function(){n.transform((function(t){return this.isType(t)?t:(t=function(t){var n,r,i=[1,4,5,6,7,10,11],e=0;if(r=NG.exec(t)){for(var o,u=0;o=i[u];++u)r[o]=+r[o]||0;r[2]=(+r[2]||1)-1,r[3]=+r[3]||1,r[7]=r[7]?String(r[7]).substr(0,3):0,void 0!==r[8]&&""!==r[8]||void 0!==r[9]&&""!==r[9]?("Z"!==r[8]&&void 0!==r[9]&&(e=60*r[10]+r[11],"+"===r[9]&&(e=0-e)),n=Date.UTC(r[1],r[2],r[3],r[4],r[5]+e,r[6],r[7])):n=+new Date(r[1],r[2],r[3],r[4],r[5],r[6],r[7])}else n=Date.parse?Date.parse(t):NaN;return n}(t),isNaN(t)?EG:new Date(t))}))}))}),sG,{_typeCheck:function(t){return"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime())},min:function(t,n){void 0===n&&(n=_z);var r=t;if(!iG.isRef(r)&&(r=this.cast(t),!this._typeCheck(r)))throw new TypeError("`min` must be a Date or a value that can be `cast()` to a Date");return this.test({message:n,name:"min",exclusive:!0,params:{min:t},test:function(t){return wG(t)||t>=this.resolve(r)}})},max:function(t,n){void 0===n&&(n=Uz);var r=t;if(!iG.isRef(r)&&(r=this.cast(t),!this._typeCheck(r)))throw new TypeError("`max` must be a Date or a value that can be `cast()` to a Date");return this.test({message:n,name:"max",exclusive:!0,params:{max:t},test:function(t){return wG(t)||t<=this.resolve(r)}})}});var xG=function(t){return function(n){return null==t?void 0:t[n]}}({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),TG=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,SG=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var OG=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var IG=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var RG="\\ud800-\\udfff",CG="\\u2700-\\u27bf",DG="a-z\\xdf-\\xf6\\xf8-\\xff",FG="A-Z\\xc0-\\xd6\\xd8-\\xde",HG="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",WG="["+HG+"]",jG="\\d+",_G="["+CG+"]",UG="["+DG+"]",PG="[^"+RG+HG+jG+CG+DG+FG+"]",BG="(?:\\ud83c[\\udde6-\\uddff]){2}",YG="[\\ud800-\\udbff][\\udc00-\\udfff]",zG="["+FG+"]",VG="(?:"+UG+"|"+PG+")",GG="(?:"+zG+"|"+PG+")",qG="(?:['’](?:d|ll|m|re|s|t|ve))?",$G="(?:['’](?:D|LL|M|RE|S|T|VE))?",ZG="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",XG="[\\ufe0e\\ufe0f]?",KG=XG+ZG+("(?:\\u200d(?:"+["[^"+RG+"]",BG,YG].join("|")+")"+XG+ZG+")*"),JG="(?:"+[_G,BG,YG].join("|")+")"+KG,QG=RegExp([zG+"?"+UG+"+"+qG+"(?="+[WG,zG,"$"].join("|")+")",GG+"+"+$G+"(?="+[WG,zG+VG,"$"].join("|")+")",zG+"?"+VG+"+"+qG,zG+"+"+$G,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",jG,JG].join("|"),"g");function tq(t,n,r){return t=oB(t),void 0===(n=r?void 0:n)?function(t){return IG.test(t)}(t)?function(t){return t.match(QG)||[]}(t):function(t){return t.match(OG)||[]}(t):t.match(n)||[]}var nq=RegExp("['’]","g");function rq(t){return function(n){return function(t,n,r,i){var e=-1,o=null==t?0:t.length;for(i&&o&&(r=t[++e]);++e<o;)r=n(r,t[e],e,t);return r}(tq(function(t){return(t=oB(t))&&t.replace(TG,xG).replace(SG,"")}(n).replace(nq,"")),t,"")}}var iq=rq((function(t,n,r){return t+(r?"_":"")+n.toLowerCase()}));function eq(t,n,r){var i=t.length;return r=void 0===r?i:r,!n&&r>=i?t:function(t,n,r){var i=-1,e=t.length;n<0&&(n=-n>e?0:e+n),(r=r>e?e:r)<0&&(r+=e),e=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(e);++i<e;)o[i]=t[i+n];return o}(t,n,r)}var oq,uq=(oq="toUpperCase",function(t){var n=qY(t=oB(t))?uz(t):void 0,r=n?n[0]:t.charAt(0),i=n?eq(n,1).join(""):t.slice(1);return r[oq]()+i});var aq=rq((function(t,n,r){return n=n.toLowerCase(),t+(r?function(t){return uq(oB(t).toLowerCase())}(n):n)}));var sq=function(t){return cq(function(t){for(var n=new Set,r=0,i=t.length;r<i;r++){var e=t[r];n.add(e[0]),n.add(e[1])}return Array.from(n)}(t),t)};function cq(t,n){var r=t.length,i=new Array(r),e={},o=r,u=function(t){for(var n=new Map,r=0,i=t.length;r<i;r++){var e=t[r];n.has(e[0])||n.set(e[0],new Set),n.has(e[1])||n.set(e[1],new Set),n.get(e[0]).add(e[1])}return n}(n),a=function(t){for(var n=new Map,r=0,i=t.length;r<i;r++)n.set(t[r],r);return n}(t);for(n.forEach((function(t){if(!a.has(t[0])||!a.has(t[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));o--;)e[o]||s(t[o],o,new Set);return i;function s(t,n,o){if(o.has(t)){var c;try{c=", node was:"+JSON.stringify(t)}catch(l){c=""}throw new Error("Cyclic dependency"+c)}if(!a.has(t))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(t));if(!e[n]){e[n]=!0;var f=u.get(t)||new Set;if(n=(f=Array.from(f)).length){o.add(t);do{var h=f[--n];s(h,a.get(h),o)}while(n);o.delete(t)}i[--r]=t}}}function fq(t,n){void 0===n&&(n=[]);var r=[],i=[];function e(t,e){var o=JV(t)[0];~i.indexOf(o)||i.push(o),~n.indexOf(e+"-"+o)||r.push([e,o])}for(var o in t)if(mB(t,o)){var u=t[o];~i.indexOf(o)||i.push(o),iG.isRef(u)&&u.isSibling?e(u.path,o):zz(u)&&u._deps&&u._deps.forEach((function(t){return e(t,o)}))}return sq.array(i,r).reverse()}function hq(t,n){var r=1/0;return t.some((function(t,i){if(-1!==n.path.indexOf(t))return r=i,!0})),r}function lq(t){var n=Object.keys(t);return function(t,r){return hq(n,t)-hq(n,r)}}function dq(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var e=t.reduce((function(t,n){var i=r.shift();return t+(null==i?"":i)+n}));return e.replace(/^\./,"")}function vq(){var t=kG(["",'["','"]']);return vq=function(){return t},t}function pq(){var t=kG(["",".",""]);return pq=function(){return t},t}function bq(){var t=kG(["",".",""]);return bq=function(){return t},t}sq.array=cq;var mq=function(t){return"[object Object]"===Object.prototype.toString.call(t)};function yq(t){var n=this;if(!(this instanceof yq))return new yq(t);sG.call(this,{type:"object",default:function(){var t=this;if(this._nodes.length){var n={};return this._nodes.forEach((function(r){n[r]=t.fields[r].default?t.fields[r].default():void 0})),n}}}),this.fields=Object.create(null),this._nodes=[],this._excludedEdges=[],this.withMutation((function(){n.transform((function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(n){t=null}return this.isType(t)?t:null})),t&&n.shape(t)}))}function wq(){var t=kG(["","[","]"]);return wq=function(){return t},t}function gq(){var t=kG(["","[","]"]);return gq=function(){return t},t}function Mq(t){var n=this;if(!(this instanceof Mq))return new Mq(t);sG.call(this,{type:"array"}),this._subType=void 0,this.innerType=void 0,this.withMutation((function(){n.transform((function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(n){t=null}return this.isType(t)?t:null})),t&&n.of(t)}))}mG(yq,sG,{_typeCheck:function(t){return mq(t)||"function"==typeof t},_cast:function(t,n){var r=this;void 0===n&&(n={});var i=sG.prototype._cast.call(this,t,n);if(void 0===i)return this.default();if(!this._typeCheck(i))return i;var e=this.fields,o=!0===this._option("stripUnknown",n),u=this._nodes.concat(Object.keys(i).filter((function(t){return-1===r._nodes.indexOf(t)}))),a={},s=uP({},n,{parent:a,__validating:!1}),c=!1;return u.forEach((function(t){var r=e[t],u=mB(i,t);if(r){var f,h=r._options&&r._options.strict;if(s.path=dq(bq(),n.path,t),s.value=i[t],!0===(r=r.resolve(s))._strip)return void(c=c||t in i);void 0!==(f=n.__validating&&h?i[t]:r.cast(i[t],s))&&(a[t]=f)}else u&&!o&&(a[t]=i[t]);a[t]!==i[t]&&(c=!0)})),c?a:i},_validate:function(t,n){var r,i,e=this;void 0===n&&(n={});var o=n.sync,u=[],a=null!=n.originalValue?n.originalValue:t;return r=this._option("abortEarly",n),i=this._option("recursive",n),n=uP({},n,{__validating:!0,originalValue:a}),sG.prototype._validate.call(this,t,n).catch(aV(r,u)).then((function(t){if(!i||!mq(t)){if(u.length)throw u[0];return t}a=a||t;var s=e._nodes.map((function(r){var i=-1===r.indexOf(".")?dq(pq(),n.path,r):dq(vq(),n.path,r),u=e.fields[r],s=uP({},n,{path:i,parent:t,originalValue:a[r]});return u&&u.validate?(s.strict=!0,u.validate(t[r],s)):function(t){return t?rV:Promise}(o).resolve(!0)}));return cV({sync:o,validations:s,value:t,errors:u,endEarly:r,path:n.path,sort:lq(e.fields)})}))},concat:function(t){var n=sG.prototype.concat.call(this,t);return n._nodes=fq(n.fields,n._excludedEdges),n},shape:function(t,n){void 0===n&&(n=[]);var r=this.clone(),i=uP(r.fields,t);if(r.fields=i,n.length){Array.isArray(n[0])||(n=[n]);var e=n.map((function(t){return t[0]+"-"+t[1]}));r._excludedEdges=r._excludedEdges.concat(e)}return r._nodes=fq(i,r._excludedEdges),r},from:function(t,n,r){var i=QV(t,!0);return this.transform((function(e){if(null==e)return e;var o=e;return mB(e,t)&&(o=uP({},e),r||delete o[t],o[n]=i(e)),o}))},noUnknown:function(t,n){void 0===t&&(t=!0),void 0===n&&(n=Pz),"string"==typeof t&&(n=t,t=!0);var r=this.test({name:"noUnknown",exclusive:!0,message:n,test:function(n){if(null==n)return!0;var r=function(t,n){var r=Object.keys(t.fields);return Object.keys(n).filter((function(t){return-1===r.indexOf(t)}))}(this.schema,n);return!t||0===r.length||this.createError({params:{unknown:r.join(", ")}})}});return r._options.stripUnknown=t,r},unknown:function(t,n){return void 0===t&&(t=!0),void 0===n&&(n=Pz),this.noUnknown(!t,n)},transformKeys:function(t){return this.transform((function(n){return n&&function(t,n){var r={};return n=HV(n),vV(t,(function(t,i,e){gB(r,n(t,i,e),t)})),r}(n,(function(n,r){return t(r)}))}))},camelCase:function(){return this.transformKeys(aq)},snakeCase:function(){return this.transformKeys(iq)},constantCase:function(){return this.transformKeys((function(t){return iq(t).toUpperCase()}))},describe:function(){var t=sG.prototype.describe.call(this);return t.fields=WV(this.fields,(function(t){return t.describe()})),t}}),mG(Mq,sG,{_typeCheck:function(t){return Array.isArray(t)},_cast:function(t,n){var r=this,i=sG.prototype._cast.call(this,t,n);if(!this._typeCheck(i)||!this.innerType)return i;var e=!1,o=i.map((function(t,i){var o=r.innerType.cast(t,uP({},n,{path:dq(gq(),n.path,i)}));return o!==t&&(e=!0),o}));return e?o:i},_validate:function(t,n){var r=this;void 0===n&&(n={});var i=[],e=n.sync,o=n.path,u=this.innerType,a=this._option("abortEarly",n),s=this._option("recursive",n),c=null!=n.originalValue?n.originalValue:t;return sG.prototype._validate.call(this,t,n).catch(aV(a,i)).then((function(t){if(!s||!u||!r._typeCheck(t)){if(i.length)throw i[0];return t}c=c||t;var f=t.map((function(r,i){var e=dq(wq(),n.path,i),o=uP({},n,{path:e,strict:!0,parent:t,originalValue:c[i]});return!u.validate||u.validate(r,o)}));return cV({sync:e,path:o,value:t,errors:i,endEarly:a,validations:f})}))},_isPresent:function(t){return sG.prototype._cast.call(this,t)&&t.length>0},of:function(t){var n=this.clone();if(!1!==t&&!zz(t))throw new TypeError("`array.of()` sub-schema must be a valid yup schema, or `false` to negate a current sub-schema. not: "+bz(t));return n._subType=t,n.innerType=t,n},min:function(t,n){return this.test({message:n=n||Bz,name:"min",exclusive:!0,params:{min:t},test:function(n){return wG(n)||n.length>=this.resolve(t)}})},max:function(t,n){return this.test({message:n=n||Yz,name:"max",exclusive:!0,params:{max:t},test:function(n){return wG(n)||n.length<=this.resolve(t)}})},ensure:function(){var t=this;return this.default((function(){return[]})).transform((function(n,r){return t._typeCheck(n)?n:null==r?[]:[].concat(r)}))},compact:function(t){var n=t?function(n,r,i){return!t(n,r,i)}:function(t){return!!t};return this.transform((function(t){return null!=t?t.filter(n):t}))},describe:function(){var t=sG.prototype.describe.call(this);return this.innerType&&(t.innerType=this.innerType.describe()),t}});var Lq=function(t,n){return new iG(t,n)};function Aq(t,n,r){if(!t||!zz(t.prototype))throw new TypeError("You must provide a yup schema constructor function");if("string"!=typeof n)throw new TypeError("A Method name must be provided");if("function"!=typeof r)throw new TypeError("Method function must be provided");t.prototype[n]=r}var Nq="color: #C6003F;font-size:medium;",Eq="font-size:medium;",kq="color: #0061C1;font-size:medium;",xq={MIN:5,MAX:50},Tq={MIN:40,MAX:250},Sq={MIN:40,MAX:250},Oq={MIN:40,MAX:500},Iq={MIN:40,MAX:500},Rq={MIN:40,MAX:250},Cq={MIN:40,MAX:250},Dq={MIN:0,MAX:125},Fq={MAX:125},Hq={MIN:5,MAX:50},Wq={MIN:25,MAX:125},jq={MIN:25,MAX:125},_q={MIN:1,MAX:125},Uq={WARNINGS:{TITLE:"Either mainTitle or accessibility.title is required",LONGDESCRIPTION:"Either accessibility.longDescription or accessibility.contextExplanation is required",EXECUTIVESUMMARY:"Either accessibility.purpose or accessibility.executiveSummary is required",ONCLICKEVENT:"accessibility.elementsAreInterface needs a boolean value either true or false",ANNOTATIONDESCRIPTION:"Either annotation.accessibilityDescription or annotation.note.label is required",WARNINGLOGGROUP:"CHARTNAME has accessibility warnings and other messages",NORMALIZED:"Either tooltipLabel or dataLabel should have normalized format"},RECOMMENDATIONS:{EXECUTIVESUMMARY:"Either accessibility.purpose or accessibility.executiveSummary should have minimum 40 characters and a combined length between 40 and 250 characters",LONGDESCRIPTION:"Either accessibility.longDescription or accessibility.contextExplanation should have minimum 40 characters and a combined length between 40 and 500 characters",TITLE:"Either mainTitle or accessibility.title should have length between 5 and 50 characters",STATISTICALNOTES:"accessibility.statisticalNotes should have length between 40 and 250 characters",STRUCTURENOTES:"accessibility.structureNotes should have length between 40 and 250 characters",DATAELEMENTDESCRIPTIONACCESSOR:"accessibility.elementDescriptionAccessor should have length between 0 and 125 characters",ELEMENTDESCRIPTIONACCESSOR:"Passing accessibility.elementDescriptionAccessor can add description to chart elements",ANNOTATIONNOTETITLE:"Should have length between 5 and 50 characters",ANNOTATIONNOTELABEL:"Should have length between 25 and 125 characters",ANNOTATIONACCESSIBILITYDESCRIPTION:"Should have length between 25 and 125 characters",UNIQUEID:"Should have human readable uniqueID",INCLUDEDATAKEYNAMES:"accessibility.includeDataKeyNames: data's key names are recommended as human-readable with includeDataKeyNames set to true",RECOMMENDATIONLOGGROUP:"CHARTNAME has strong accessibility recommendations",SPECIALRECOMMENDATION:"Success! CHARTNAME has met minimum accessibility, we recommend you disable accessibility validation by setting accessibility.disableValidation"}},Pq="mainTitle",Bq="contextExplanation",Yq="purpose",zq="onClickEvent",Vq="note",Gq="disableValidation",qq="includeDataKeyNames",$q="CHARTNAME",Zq="tooltipLabel",Xq="dataLabel",Kq="valueAccessor",Jq={abortEarly:!1},Qq={requiredSchema:AG().required().trim(),requiredSubSchema:yq().shape({label:AG().required().trim()}),requiredBooleanSchema:yG().required()},t$=function(t,n){return AG().required().trim().min(t).max(n)},n$=function(t,n,r,i,e){return this.test({message:t,test:function(t){var o=this.resolve(n),u=this.resolve(r),a=this.resolve(i);if(t&&AG().min(1).isValidSync(a,Jq)){var s=Array.prototype.findIndex.call(o.labelAccessor,(function(t){return t.trim()===(""+a).trim()}));return e.isValidSync(s>-1?((o||{}).format||[""])[s]:(u||{}).format,Jq)}return!0}})},r$=function(t,n,r,i){return this.test({message:t,test:function(t){i=i||r;var e=this.resolve(n),o=r.isValidSync(t,Jq);return!(!i.isValidSync(e,Jq)&&!o)}})},i$=function(t,n,r,i){return this.test({message:i,test:function(i){var e=this.resolve(r);return!t.isValidSync(e,Jq)||n.isValidSync(i,{abortyEarly:!1,strict:!0})}})},e$=function(t,n,r,i){return this.test({message:i,test:function(i){var e=(this.resolve(r)||"").toString().trim(),o=(i||"").toString().trim(),u=""+e+o,a=t.isValidSync(e,Jq),s=t.isValidSync(o,Jq),c=n.isValidSync(u,Jq);return!(e.length&&!a||o.length&&!s||!s&&!a||!c)}})},o$=function(t,n){return this.test({message:n,test:function(n){return t.isValidSync(n,Jq)}})};function u$(t,n,r,i){var e=Uq.RECOMMENDATIONS.SPECIALRECOMMENDATION.replace($q,t),o=Uq.RECOMMENDATIONS.RECOMMENDATIONLOGGROUP.replace($q,t);try{yq().shape({title:AG().validateBySchemaRef(Uq.RECOMMENDATIONS.TITLE,Lq("$"+Pq),t$(xq.MIN,xq.MAX)),longDescription:AG().validateBySchemaRefAndCondition(t$(Oq.MIN,Oq.MAX),t$(Iq.MIN,Iq.MAX),Lq(""+Bq),Uq.RECOMMENDATIONS.LONGDESCRIPTION),executiveSummary:AG().validateBySchemaRefAndCondition(t$(Tq.MIN,Tq.MAX),t$(Sq.MIN,Sq.MAX),Lq(""+Yq),Uq.RECOMMENDATIONS.EXECUTIVESUMMARY),statisticalNotes:AG().validateBySchema(t$(Rq.MIN,Rq.MAX),Uq.RECOMMENDATIONS.STATISTICALNOTES),structureNotes:AG().validateBySchema(t$(Cq.MIN,Cq.MAX),Uq.RECOMMENDATIONS.STRUCTURENOTES),elementDescriptionAccessor:AG().nullable().validateBySchema(AG().nullable().max(Fq.MAX),Uq.RECOMMENDATIONS.ELEMENTDESCRIPTIONACCESSOR),annotations:Mq().of(yq().shape({note:yq().shape({title:AG().validateBySchema(t$(Hq.MIN,Hq.MAX),Uq.RECOMMENDATIONS.ANNOTATIONNOTETITLE),label:AG().validateBySchema(t$(Wq.MIN,Wq.MAX),Uq.RECOMMENDATIONS.ANNOTATIONNOTELABEL)}),accessibilityDescription:AG().validateBySchema(t$(jq.MIN,jq.MAX),Uq.RECOMMENDATIONS.ANNOTATIONACCESSIBILITYDESCRIPTION)})),data:Mq().nullable().of(yq().shape({note:AG().nullable().validateBySchema(AG().nullable().max(Dq.MAX),Uq.RECOMMENDATIONS.DATAELEMENTDESCRIPTIONACCESSOR)})),uniqueID:AG().validateBySchema(AG().required().trim().min(_q.MIN),Uq.RECOMMENDATIONS.UNIQUEID)}).validateSync(n,r),i||!n||n[Gq]||console.log("%c "+e,kq)}catch(u){i||console.groupCollapsed("%c "+o,Eq),u.inner.map((function(t){console.log("%c "+t.path+": "+t.message,Eq)}))}n||n[qq]||console.log("%c "+Uq.RECOMMENDATIONS.INCLUDEDATAKEYNAMES,Eq),console.groupEnd()}function a$(t,n,r){var i,e=Uq.WARNINGS.WARNINGLOGGROUP.replace($q,t);try{return yq().shape({title:AG().validateBySchemaRef(Uq.WARNINGS.TITLE,Lq("$"+Pq),Qq.requiredSchema),longDescription:AG().validateBySchemaRef(Uq.WARNINGS.LONGDESCRIPTION,Lq(""+Bq),Qq.requiredSchema),executiveSummary:AG().validateBySchemaRef(Uq.WARNINGS.EXECUTIVESUMMARY,Lq(""+Yq),Qq.requiredSchema),elementsAreInterface:yG().validateBySchemaRefBoolean(Qq.requiredSchema,Qq.requiredBooleanSchema,Lq("$"+zq),Uq.WARNINGS.ONCLICKEVENT),normalized:yG().validateBySchemaRefs(Uq.WARNINGS.NORMALIZED,Lq("$"+Zq),Lq("$"+Xq),Lq("$"+Kq),(i=/^normalized$/,AG().required().trim().matches(i))),annotations:Mq().of(yq().shape({accessibilityDescription:AG().validateBySchemaRef(Uq.WARNINGS.ANNOTATIONDESCRIPTION,Lq(""+Vq),Qq.requiredSchema,Qq.requiredSubSchema)}))}).validateSync(n,r),!1}catch(o){return console.groupCollapsed("%c "+e,Nq),o.inner.map((function(t){console.warn("%c "+t.path+": "+t.message,Nq)})),!0}}var s$=Object.freeze({__proto__:null,accessibility:{longDescription:"",executiveSummary:"",purpose:"",contextExplanation:"",title:"",elementDescriptionAccessor:"",statisticalNotes:"",structureNotes:"",includeDataKeyNames:!1,hideDataTableButton:!1,disableValidation:!1,elementsAreInterface:null,hideTextures:!1,hideStrokes:!1,showSmallLabels:!1,showExperimentalTextures:!1,keyboardNavConfig:{disabled:!1}},animationConfig:{disabled:!1},highestHeadingLevel:"h2",sortOrder:"",sortOrderAsc:"asc",sortOrderDesc:"desc",layout:"vertical",xAxis:{visible:!0,gridVisible:!0,label:"X Axis",format:"0[.][0][0]a",tickInterval:1},xAxisBarChart:{visible:!0,gridVisible:!0,label:"X Axis",format:"0[.][0][0]a",tickInterval:1,centerBaseline:!1},xAxisDate:{visible:!0,gridVisible:!1,label:"X Axis",unit:"month",format:"%b %y",tickInterval:1},yAxis:{visible:!0,gridVisible:!0,label:"Y Axis",format:"0[.][0][0]a",tickInterval:1},yAxisBarChart:{visible:!0,gridVisible:!0,label:"Y Axis",format:"0[.][0][0]a",tickInterval:1,centerBaseline:!1},wrapLabel:!0,colorPaletteSingle:"single_blue",colorPaletteSequential:"sequential_suppPurple",colorPaletteSequentialGrey:"sequential_grey",colorPaletteDiverging:"diverging_RtoB",colorPaletteCategorical:"categorical",colorSteps4:4,colorSteps5:5,hoverStyle:{color:"",strokeWidth:2},clickStyle:{color:"",strokeWidth:2},symbolHoverStyle:{color:"",strokeWidth:2},symbolClickStyle:{color:"",strokeWidth:3},referenceStyle:{color:"pri_grey",strokeWidth:"1px",opacity:1,dashed:""},seriesLabel:{visible:!0,placement:"right",label:[],collisionHideOnly:!1},cursor:"default",hoverOpacity:1,strokeWidth1:1,strokeWidth2:2,roundedCorner:0,barIntervalRatio:.2,dotRadius6:6,dotRadius5:5,dotRadius4:4,dotOpacity:1,dotSymbols:["circle"],showDots:!0,showFitLine:!1,showBaselineTrue:!0,showBaselineFalse:!1,secondaryLines:{keys:[],showDataLabel:!0,showSeriesLabel:!0,opacity:1},hiddenDataLabel:{visible:!1,placement:"bottom",labelAccessor:"",format:"",collisionHideOnly:!1,collisionPlacement:"all"},dataLabel:{visible:!0,placement:"top",labelAccessor:"",format:"0[.][0][0]a",collisionHideOnly:!1,collisionPlacement:"top"},dataLabelLine:{visible:!0,placement:"top",labelAccessor:"",format:"0[.][0][0]a",collisionHideOnly:!1,collisionPlacement:"all"},dataLabelOutside:{visible:!0,placement:"outside",labelAccessor:"",format:"0[.][0][0]a",collisionHideOnly:!1},dataLabelMiddle:{visible:!0,placement:"middle",labelAccessor:"",format:"0[.][0][0]a",collisionHideOnly:!1,collisionPlacement:"middle"},dataLabelCenter:{visible:!0,placement:"center",labelAccessor:"",format:"",collisionHideOnly:!1,collisionPlacement:"centroid"},dataLabelEnds:{visible:!0,placement:"ends",labelAccessor:"",format:"0[.][0][0]a",collisionHideOnly:!1},dataLabelBottomRight:{visible:!0,placement:"bottom-right",labelAccessor:"",format:"0[.][0][0]a",collisionHideOnly:!1,collisionPlacement:"right"},dataLabelNormalizedOut:{visible:!0,placement:"outside",labelAccessor:"",format:"normalized",collisionHideOnly:!1},tooltipLabel:{labelAccessor:[],labelTitle:[],format:""},sizeConfig:{sizeAccessor:"",minValueOverride:"",maxValueOverride:"",minSizeOverride:"",maxSizeOverride:"",dualEncodeColor:!1,format:""},legend:{visible:!0,interactive:!1,format:"0[.][0][0]a",labels:""},categoryLegend:{visible:!0,interactive:!1,format:"",labels:""},keyLegend:{visible:!0,interactive:!1,type:"key",format:"0[.][0][0]a",labels:""},hiddenLegend:{visible:!1,interactive:!1,labels:""},showTooltip:!0,suppressEvents:!1,referenceLines:[],annotations:[],clickHighlight:[]});function c$(t){return t.target.depth}function f$(t,n){return t.sourceLinks.length?t.depth:n-1}function h$(t){return function(){return t}}function l$(t,n){return v$(t.source,n.source)||t.index-n.index}function d$(t,n){return v$(t.target,n.target)||t.index-n.index}function v$(t,n){return t.y0-n.y0}function p$(t){return t.value}function b$(t){return t.index}function m$(t){return t.nodes}function y$(t){return t.links}function w$(t,n){var r=t.get(n);if(!r)throw new Error("missing: "+n);return r}function g$(t){for(var n=0,r=t.nodes;n<r.length;n++){for(var i=r[n],e=i.y0,o=e,u=0,a=i.sourceLinks;u<a.length;u++)(f=a[u]).y0=e+f.width/2,e+=f.width;for(var s=0,c=i.targetLinks;s<c.length;s++){var f;(f=c[s]).y1=o+f.width/2,o+=f.width}}}function M$(t){return[t.source.x1,t.y0]}function L$(t){return[t.target.x0,t.y1]}window.VisaChartsLibOSSLicenses=lf();var A$=Object.freeze({__proto__:null,autoTextColor:function(t){var n=fc(nc.light_text),r=fc(nc.dark_text),i=fc(t),e=hc(n,i),o=hc(r,i);return o<4.5&&e<4.5||o>e?nc.dark_text:nc.light_text},buildStrokes:function(t){var n=t.root,r=t.id,i=t.clickStyle,e=t.hoverStyle,o=t.additionalStrokeSize,u=t.strokeOnHover,a=t.stacked,s=t.strokeOverride,c={},f=o||0===o,h=0;return t.colors.forEach((function(t){c["rest"+t]||(c["rest"+t]=yc({root:n,id:r,state:"rest",fillColor:t,forceStrokeColor:s&&s.length?s[h]:void 0,strokeWidth:f?o:1,includeOuterStroke:!0,alwaysShowStroke:!!f,stacked:a})),f&&!c["default"+t]&&(c["default"+t]=yc({root:n,id:r,state:"default",fillColor:t,forceStrokeColor:s&&s.length?s[h]:void 0,strokeWidth:1,includeOuterStroke:!0,alwaysShowStroke:!!f,stacked:a})),e&&e.color&&!c["hover"+e.color]?c["hover"+e.color]=yc({root:n,id:r,state:"hover",fillColor:e.color,strokeWidth:e&&e.strokeWidth?parseFloat(e.strokeWidth):2,includeOuterStroke:!0,strokeOnHover:u,alwaysShowStroke:!!f,stacked:a}):c["hover"+t]=yc({root:n,id:r,state:"hover",fillColor:t,forceStrokeColor:s&&s.length?s[h]:void 0,strokeWidth:e&&e.strokeWidth?parseFloat(e.strokeWidth):2,includeOuterStroke:!0,strokeOnHover:u,alwaysShowStroke:!!f,stacked:a}),i&&i.color&&!c["click"+i.color]?c["click"+i.color]=yc({root:n,id:r,state:"click",fillColor:i.color,strokeWidth:i&&i.strokeWidth?parseFloat(i.strokeWidth):2,includeOuterStroke:!0,alwaysShowStroke:!!f,stacked:a}):c["click"+t]=yc({root:n,id:r,state:"click",fillColor:t,forceStrokeColor:s&&s.length?s[h]:void 0,strokeWidth:i&&i.strokeWidth?parseFloat(i.strokeWidth):2,includeOuterStroke:!0,alwaysShowStroke:!!f,stacked:a}),h++})),c},checkAttributeTransitions:function(t,n){for(var r=!1,i=0;!r&&i<n.length;){var e=n[i];r=!((e.numeric?parseFloat(t.attr(e.attr)):t.attr(e.attr))===e.newValue),i++}return r},createTextStrokeFilter:mc,getBrowser:Et,getOS:function(){return Nt.os.name},findTagLevel:vf,createUrl:ji,createMultiStrokeFilter:yc,removeFilters:function(t){vt(t).selectAll(".VCL-accessibility-stroke-filter").remove()},drawHoverStrokes:function(t){var n=t.inputElement,r=t.id,i=t.key,e=t.strokeWidth,o=t.fill,u=t.recursive,a=t.strokeOverride,s=ac(o),c=a||s[0],f=!!s[1],h=Lc(r,i),l="DIV"!==n.tagName?n:vt(n.parentNode).select("svg").node(),d="vcl-accessibility-focus";vt(l).style("outline").includes("auto")&&vt(l).style("outline-width","0px").style("outline-offset","0px").style("outline-color","none");var v=l.parentNode;(function(t,n){var r=vt(t.ownerSVGElement);r.selectAll(".vcl-accessibility-focus-hoverSource").classed("vcl-accessibility-focus-hoverSource",!1),r.select("#VCL-clip-"+n).remove(),r.select("#VCL-hover-stroke-"+n).remove(),r.select("#VCL-buffer-stroke"+n).remove(),r.select("#VCL-parent-"+n).remove()})(v,h),vt(l).classed(d+"-hoverSource",!0);var p=l.cloneNode(!1),b=f?l.cloneNode(!1):null,m=l.cloneNode(!1),y=document.createElementNS("http://www.w3.org/2000/svg","clipPath");if(y.appendChild(m),u)l.nextSibling?(f&&v.insertBefore(b,l.nextSibling),v.insertBefore(p,l.nextSibling),v.insertBefore(y,l.nextSibling)):(v.appendChild(y),v.appendChild(p),f&&v.appendChild(b));else{var w=v.parentNode,g=v.cloneNode(!1),M=vt(g).attr("id","VCL-parent-"+h);g.appendChild(y),g.appendChild(p),f&&g.appendChild(b),v.nextSibling?w.insertBefore(g,v.nextSibling):w.appendChild(g),gc(M,d)}var L="VCL-clip-"+h,A=ji(L);vt(y).attr("id",L).attr("clipPathUnits","userSpaceOnUse").attr("class",d+"-highlight "+d+"-hover");var N=vt(m).attr("id","VCL-clip-element-"+h).style("opacity",1).attr("opacity",1);gc(N,d);var E=vt(p).attr("id","VCL-buffer-stroke-"+h).style("opacity",1).attr("opacity",1).style("stroke",c);if(gc(E,d),Mc(E,e,A,f,!0),f){var k=vt(b).attr("id","VCL-buffer-stroke-"+h).style("opacity",1).attr("opacity",1).style("stroke",o);gc(k,d),Mc(k,1,A,!1,!1)}},removeHoverStrokes:function(t){var n="vcl-accessibility-focus";vt(t).selectAll("."+n+"-hoverSource").classed(n+"-hoverSource",!1),vt(t).selectAll("."+n+"-hover").remove()},mirrorStrokeTransition:function(t){var n=t.attribute,r=t.newValue,i=t.easing,e=t.duration,o=Lc(t.id,t.key);["VCL-clip-element-","VCL-buffer-stroke-","VCL-buffer-stroke-"].forEach((function(t){var u=vt("#"+t+o);u.size()&&(e&&(u=u.transition(n).duration(e),i&&(u=u.ease(i))),u.attr(n,r))}))},initializeElementAccess:function(t){vt(t).attr("tabindex",-1).attr("role","presentation").attr("focusable",!1)},initializeDescriptionRoot:function(t){var n=t.rootEle,r=t.title,i=t.chartTag,e=t.uniqueID,o=t.redraw,u=t.disableKeyNav,a=vf(t.highestHeadingLevel,0),s=vf(a="h1"===a?"h2":a,1),c=vf(a,2),f=vf(a,3),h=vt(n).select(".vcl-accessibility-instructions");h.size()&&!o||(vt(n).select(".vcl-main-title").attr("aria-hidden","true"),vt(n).select(".vcl-sub-title").attr("aria-hidden","true"),h.size()?h.selectAll("*").remove():h=vt(n).select(".o-layout").insert("div",":first-child").attr("class","vcl-accessibility-instructions").style("position","absolute").style("width","200px"),h.append(f).attr("class","screen-reader-info vcl-region-label"),h.append(a).attr("class","screen-reader-info vcl-access-title").text(df["vcl-access-title"]),h.append(s).attr("class","screen-reader-info vcl-access-subtitle").text(df["vcl-access-subtitle"]),h.append(s).attr("class","screen-reader-info vcl-access-executive-summary-heading").text(df.headings),h.append(f).attr("class","screen-reader-info vcl-access-executive-summary").attr("data-level",s).text(df["vcl-access-executive-summary"]),h.append(s).attr("class","screen-reader-info vcl-access-purpose-heading").text(df.headings),h.append(f).attr("class","screen-reader-info vcl-access-purpose").attr("data-level",s).text(df["vcl-access-purpose"]),h.append(s).attr("class","screen-reader-info vcl-access-long-description-heading").text(df.headings),h.append(f).attr("class","screen-reader-info vcl-access-long-description").attr("data-level",s).text(df["vcl-access-long-description"]),h.append(f).attr("data-level",s).attr("class","screen-reader-info vcl-access-context").text(df["vcl-access-context"]),h.append(s).attr("class","screen-reader-info vcl-access-structure-heading").text("Structure"),h.append(c).attr("class","screen-reader-info vcl-access-statistics-heading").text(df.headings),h.append(f).attr("class","screen-reader-info vcl-access-statistics").attr("data-level",c).text(df["vcl-access-statistics"]),h.append(c).attr("class","screen-reader-info vcl-access-chart-layout-heading").text("Chart Layout Description"),h.append(f).attr("class","screen-reader-info vcl-access-layout").text(df["vcl-access-layout"]),h.append(f).attr("class","screen-reader-info vcl-access-xAxis").text(df["vcl-access-xAxis"]),h.append(f).attr("class","screen-reader-info vcl-access-yAxis").text(df["vcl-access-yAxis"]),h.append(c).attr("class","screen-reader-info vcl-access-notes-heading").text(df.headings),h.append(f).attr("class","screen-reader-info vcl-access-notes").attr("data-level",c).attr("data-annotationlevel",s).text(df["vcl-access-notes"]),h.append(s).attr("class","screen-reader-info vcl-access-annotations-heading").text(df.headings)),h.attr("id","chart-instructions-"+e);var l=r?", Titled: "+r:", with no title provided.",d="Keyboard interactive "+i+l+". This section contains additional information about this chart. Pressing TAB will focus the keyboard instructions menu. Tabbing again takes you to the chart area.",v="Static "+i+" image"+l+". This section contains additional information about this chart. Pressing TAB will focus the data table button.";h.select(".vcl-region-label").text(u?v:d)},setElementFocusHandler:function(t){var n=t.geomType,r=t.includeKeyNames,i=t.dataKeys,e=t.dataKeyNames,o=t.groupKeys,u=t.nested,a=t.recursive,s=t.groupName,c=t.uniqueID,f=t.disableKeyNav;vt(t.node).on("focus",f?null:function(t,f,h){var l=h[f].id;if(l){var d=document.getElementById("chart-area-"+c),v=vt(d).attr("data-sgck"),p=vt(d).attr("data-group");ni({rootNode:d,nodeID:l,geomType:n,includeKeyNames:r,dataKeys:i,dataKeyNames:e,groupKeys:o,nested:u,groupName:s,groupAccessor:p,recursive:a,sameGroupCousinKey:v,deleteControllers:!1}),Li(h[f])}})},setElementAccessID:function(t){var n=t.node,r=t.uniqueID;vt(n).attr("id",(function(){return n.id?n.id:ui(r)}))},setTooltipAccess:Fi,setLegendAccess:Hi,setHighContrastListener:_i,createLabel:Dr,createGroupLabel:Fr,setAccessibilityController:function(t){var n=t.node,r=t.chartTag,i=t.title,e=t.description,o=t.uniqueID,u=t.geomType,a=t.includeKeyNames,s=t.dataKeys,c=t.dataKeyNames,f=t.groupKeys,h=t.nested,l=t.groupName,d=t.groupAccessor,v=t.recursive,p=t.disableKeyNav,b=vt(n),m=!d||"bar-chart"!==r&&"world-map"!==r?"":d;b.attr("role","presentation").attr("focusable",!1).attr("tabindex",-1).style("overflow","hidden").on("focus",p?null:function(){hi(vt(y).select(".VCL-controller").node())});var y=n.parentNode,w=vt(y).select(".VCL-controller"),g=function(){return i+". "+(e?e+". ":"")+" Navigate into the chart area by pressing ENTER."};w.size()||(vt(y).style("position","relative"),(w=vt(y).insert("div",":first-child")).attr("class","VCL-controller").style("position","absolute").style("top",0).style("left",0).style("opacity",0).style("pointer-events","none"));var M=n.getBoundingClientRect();w.style("width",M.width+"px").style("height",M.height+"px").attr("id","chart-area-"+o).attr("data-sgck",m||null).attr("data-group",d).attr("aria-label",p?null:g()).text(p?"":"Interactive "+r+".").attr("role",p?"presentation":Xr).attr("tabindex",p?"-1":"0").on("keyup",p?null:function(){Qr=!1}).on("focus",p?null:function(t,r,i){vt(i[r]).selectAll("[tabindex]").attr("tabindex",-1),Ai(i[r],v);var e=n.getBoundingClientRect();w.style("width",e.width+"px").style("height",e.height+"px").attr("aria-label",g())}).on("blur",p?null:function(t,n,i){Mi(vt(i[n].parentNode).select("svg :first-child").node(),!0),w.attr("aria-label","Interactive "+r+".")}).on("keydown",p?null:function(){var t=nt;if(ti(nt.keyCode||nt.which)&&!Qr){Qr=!0,t.stopPropagation();var n=bi(t);n&&ni({rootNode:w.node(),nodeID:n.id,geomType:u,includeKeyNames:a,dataKeys:s,dataKeyNames:c,groupKeys:f,nested:h,groupName:l,groupAccessor:d,recursive:v,sameGroupCousinKey:m})}});var L=w.attr("aria-activedescendant");if(L&&!p){var A=document.getElementById(L.substring(5));A?ci(A):w.attr("aria-activedescendant",null)}else w.attr("aria-activedescendant",null);var N=w.node();if(p&&N.children&&N.children.length)for(var E=N.children.length;E;)N.removeChild(N.children[0]),E--;_i(n,o)},hideNonessentialGroups:function(t,n){var r=t.childNodes.length>1?t.childNodes:t.firstElementChild.childNodes;r&&yt(r).each((function(t,r,i){i[r]!==n&&Wi(i[r])}))},hideNode:Wi,setAccessTitle:function(t,n){vt(t).select(".vcl-access-title").text(n?"Chart title: "+n:df["vcl-access-title"])},setAccessSubtitle:function(t,n){vt(t).select(".vcl-access-subtitle").text(n?"Chart subtitle: "+n:df["vcl-access-subtitle"])},setAccessLongDescription:function(t,n){pf(vt(t).select(".vcl-accessibility-instructions"),n,"Long Description","vcl-access-long-description",n||vt(t).select(".vcl-access-context").text())},setAccessExecutiveSummary:function(t,n){pf(vt(t).select(".vcl-accessibility-instructions"),n,"Executive Summary","vcl-access-executive-summary",!!n)},setAccessPurpose:function(t,n){pf(vt(t).select(".vcl-accessibility-instructions"),n,"Purpose","vcl-access-purpose",!!n)},setAccessContext:function(t,n){pf(vt(t).select(".vcl-accessibility-instructions"),n,"Long Description","vcl-access-context",n||vt(t).select(".vcl-access-long-description").text(),"vcl-access-long-description")},setAccessStatistics:function(t,n){pf(vt(t).select(".vcl-accessibility-instructions"),n,"Statistical Information","vcl-access-statistics",!!n)},setAccessChartCounts:function(t){var n=t.rootEle,r=t.chartTag,i=t.geomType,e=t.groupName,o=t.recursive,u=vt(t.parentGNode),a=u.selectAll("g").selectAll("*:not(title)").size()>1||(0===u.selectAll("g").selectAll("*:not(title)").size()&&u.selectAll("*:not(title)").size())>1?"s":"",s=e||i+" group",c=u.selectAll("g").size()>1?"s":"",f=o?u.selectAll("g").size()+" "+i+a+" (more "+i+"s may be revealed upon interaction)":u.selectAll("g").size()?u.selectAll("g").size()+" "+s+c+" containing a total "+(u.selectAll("g").selectAll("*:not(title)").size()-u.selectAll("g").selectAll(".vcl-accessibility-focus-highlight").size())+" "+i+a:u.selectAll("*:not(title)").size()-u.selectAll(".vcl-accessibility-focus-highlight").size()+" "+i+a;vt(n).select(".vcl-access-layout").text("This is a "+r+" with "+f+".")},setAccessXAxis:function(t){var n=t.xAxis,r=t.xAxisLabel,i=df["vcl-access-xAxis"];if(t.hasXAxis){var e=n&&n.formattedTicks&&n.formattedTicks[0]?n.formattedTicks:[];i="The chart has a horizontal X Axis"+(r?", titled "+r:"")+(e.length?" with a range that starts with "+e[0]+" and ends with "+e[e.length-1]:"")+"."}vt(t.rootEle).select(".vcl-access-xAxis").text(i)},setAccessYAxis:function(t){var n,r,i=t.rootEle,e=t.yAxis,o=t.secondaryYAxis,u=t.yAxisLabel,a=t.secondaryYAxisLabel,s=t.xAxisLabel,c=df["vcl-access-yAxis"];if(e&&e.formattedTicks&&(n=e.formattedTicks),o&&o.formattedTicks&&(r=o.formattedTicks),t.hasYAxis)if(r)c="The chart has a primary vertical Y Axis"+(u?", titled "+u:"")+(n?" with a range that starts with "+n[0]+" and ends with "+n[n.length-1]:"")+". ",c+="The chart has a secondary vertical Y Axis"+(a?", titled "+a:"")+(r?" with a range that starts with "+r[0]+" and ends with "+r[r.length-1]:"")+".";else if("function"!=typeof e){var f=Object.keys(e),h=e[f[0]].y&&e[f[0]].y.formattedTicks&&e[f[0]].y.formattedTicks[0]?e[f[0]].y.formattedTicks:[];if(c=f.length>1?"The chart has "+f.length+" vertical Y Axis sections, all using different scales"+(s?". This series is titled "+s:"")+".":"The chart has a vertical Y Axis, titled "+f[0]+(h.length?", with a range that starts with "+h[0]+" and ends with "+h[h.length-1]:"")+".",f.length>1){var l=0;for(l=0;l<f.length;l++){var d=e[f[l]].y,v=d&&d.formattedTicks&&d.formattedTicks[0]?d.formattedTicks:[];c+=" Y Axis "+(l+1)+" of "+f.length+", titled "+f[l]+(v.length?", with a range that starts with "+v[0]+" and ends with "+v[v.length-1]:"")+"."}}}else{var p=e&&e.formattedTicks&&e.formattedTicks[0]?e.formattedTicks:[];c="The chart has a vertical Y axis"+(u?", titled "+u:"")+(p.length?" with a range that starts with "+p[0]+" and ends with "+p[p.length-1]:"")+"."}vt(i).select(".vcl-access-yAxis").text(c)},setAccessStructure:function(t,n){pf(vt(t).select(".vcl-accessibility-instructions"),n,"Notes about the chart structure","vcl-access-notes",!!n)},setAccessAnnotation:function(t,n){var r=vt(t).select(".vcl-accessibility-instructions"),i=r.select(".vcl-access-notes").node(),e=r.select(".vcl-access-annotations-heading"),o=".vcl-interaction-instructions",u=i.dataset.annotationlevel,a=vf(u,1),s=vf(u,2);r.selectAll(".vcl-access-annotation").remove();var c=1;n&&n.length&&(e.size()||(e=r.insert(u,o).attr("class","screen-reader-info vcl-access-annotations-heading")),n.forEach((function(t){var n=!1;t.accessibilityDecorationOnly?n=!1:(t.note&&(t.note.title&&(n=!0,r.insert(a,o).attr("class","screen-reader-info vcl-access-annotation").text(t.note.title||"Annotation "+c)),t.note.label&&(n=!0,r.insert(s,o).attr("class","screen-reader-info vcl-access-annotation").text(t.note.label))),t.accessibilityDescription&&(n=!0,r.insert(s,o).attr("class","screen-reader-info vcl-access-annotation").text(t.accessibilityDescription))),n&&c++}))),c-1?e.text(c-1+" annotation"+(c-2>0?"s":"")+" on the chart"):e.remove()},retainAccessFocus:function(t){var n=t.parentGNode,r=t.focusDidExist,i=t.recursive,e=vt(n);if(e.select(".vcl-accessibility-focus-source").size()){var o=e.select(".vcl-accessibility-focus-source").node(),u=e.select(".vcl-accessibility-focus-indicator").classed("hidden");Ai(o,i),u&&Li(o)}else if(r){var a;if(e.selectAll("[tabindex]").each((function(t,n,r){a||null===vt(r[n]).attr("tabindex")||(a=r[n])})),!a){var s=pi(n);a=vt(s).select("[tabindex]").node()||s}hi(a),Ai(a,i)}},checkAccessFocus:function(t){return!!vt(t).select(".vcl-accessibility-focus-source").size()},setElementInteractionAccessState:function(t,n,r){var i="#"+Jr+vt(t).attr("id");vt(t).attr("data-aria-pressed",r?n:null).attr("data-role",r?Kr:"img"),vt(i).attr("aria-pressed",r?n:null).attr("role",r?Kr:"img")},setAccessibilityDescriptionWidth:function(t,n){vt("#chart-instructions-"+t).style("width",(function(){return Math.max(n,200)+"px"}))},annotate:function(t){var n=t.source,r=t.data,e=t.xScale,o=t.xAccessor,u=t.yScale,a=t.yAccessor,s=t.ignoreScales,c=t.width,f=t.height,h=t.padding,l=t.margin,d=t.bitmaps;yx(n).selectAll(".vcl-annotation-group").remove();var v=yx(n).append("g").attr("class","vcl-annotation-group").attr("data-testid","annotation-group");Wi(v.node());var p=yx(n).append("g").attr("class","editable vcl-annotation-group").attr("data-testid","editable-annotation-group");if(Wi(p.node()),r&&r.length){var b=TA().range(e?e.range():[0,100]).domain([0,100]),m=u?u.range():[0,100],y=m[0]>=m[1]?100:0,w=100-y,g=TA().range(m).domain([y,w]),M=function(t){var n=m[0]>=m[1]?m[0]:m[1];return u(t)-n},L=[],A=[];r.forEach((function(t){var n={};Object.keys(t).forEach((function(r){"data"!==r&&"subject"!==r&&"connector"!==r&&"note"!==r?n[r]=t[r]instanceof Array?i(t[r]):t[r]:(n[r]={},Object.keys(t[r]).forEach((function(e){t[r][e]instanceof Array?"points"===e?(n[r][e]=[],t[r][e].forEach((function(t){var o=[];t[0]instanceof Array&&t[1]instanceof Array?(o.push(i(t[0])),o.push(i(t[1]))):(o.push(t[0]),o.push(t[1])),n[r][e].push(o)}))):n[r][e]=i(t[r][e]):n[r][e]=t[r][e]})))}));var r=n.parseAsDates&&(n.parseAsDates.includes("y")||n.parseAsDates.includes(a)),s=n.parseAsDates&&(n.parseAsDates.includes("x")||n.parseAsDates.includes(o)),c=0;if(n.data){var f=Object.keys(n.data),h=0;if(r||s)for(h=0;h<f.length;h++)"x"===f[h]||f[h]===o?n.data[f[h]]=iP(n.data[f[h]],s):f[h]!==a&&"y"!==f[h]||(n.data[f[h]]=iP(n.data[f[h]],r))}n.x&&(n.x=nP(n.x,e,b,s)),n.y&&(n.y=nP(n.y,u,g,r)),n.dx&&(n.dx instanceof Array&&(c=n.data&&void 0!==n.data[o]?e(n.data[o]):n.x?n.x:0),n.dx=nP(n.dx,e,b,s)-c),n.dy&&(c=0,n.dy instanceof Array&&(c=n.data&&void 0!==n.data[a]?u(n.data[a]):n.y?n.y:0),n.dy=nP(n.dy,u,g,r)-c),n.subject&&(n.subject.x1&&(n.subject.x1=nP(n.subject.x1,e,b,s)),n.subject.y1&&(n.subject.y1=nP(n.subject.y1,u,g,r)),n.subject.x2&&(n.subject.x2=nP(n.subject.x2,e,b,s)),n.subject.y2&&(n.subject.y2=nP(n.subject.y2,u,g,r)),n.subject.width&&(n.subject.width=nP(n.subject.width,e,b,s)),n.subject.height&&(n.subject.height=nP(n.subject.height,M,g,r))),n.connector&&("string"==typeof n.connector.curve&&(n.connector.curve=ZH[n.connector.curve]),n.connector.points instanceof Array&&n.connector.points.forEach((function(t){t[0]=nP(t[0],e,b,s),t[1]=nP(t[1],u,g,r)}))),n.type&&"string"==typeof n.type&&(n.type=tP[n.type]),n.editMode?A.push(n):L.push(n),n.color&&(n.color=lc(n.color)||n.color),n.collisionHideOnly&&(n.className=n.className?n.className+" annotation-detect-collision":"annotation-detect-collision")}));var N=QU().annotations(L),E=QU().editMode(!0).annotations(A);s||(N=QU().accessors({x:function(t){return e(t[o])},y:function(t){return u(t[a])}}).annotations(L),E=QU().editMode(!0).accessors({x:function(t){return e(t[o])},y:function(t){return u(t[a])}}).annotations(A)),v.call(N),p.call(E),L&&L.some((function(t){return!0===t.collisionHideOnly}))&&eP(n,c,f,h,l,d),A&&A.some((function(t){return!0===t.collisionHideOnly}))&&eP(n,c,f,h,l,d)}},getTexture:pc,convertColorsToTextures:function(t){var n=t.colors,r=t.rootSVG,i=t.id,e=t.scheme,o=t.disableTransitions,u=[],a=[],s=0,c=n.range?n.range():n;return c.forEach((function(t){var r=i+"_texture_"+s,o=bc(t,s,c,e),f=pc({scheme:o.textureScheme,id:r,index:vc[o.textureScheme][n.length][s],fillColor:o.fillColor,textureColor:o.textureColor});f.scheme=o.textureScheme,f.index=vc[o.textureScheme][n.length][s],a.push(f),u.push(ji(r)),s++})),function(t,n,r){var i=vt(t),e=i.select("defs");e.size()||(e=i.append("defs"));var o=e.selectAll(".VCL-texture-pattern").data(n,(function(t){return t.scheme+t.index})),u=o.enter().append("pattern"),a=o.merge(u);a.transition("exit").duration(r?0:750).call(dc,(function(){o.exit().remove()})),a.each((function(t,n,r){var i=Object.keys(t.attributes),e=vt(r[n]);i.forEach((function(n){e.attr(n,t.attributes[n])}))})).attr("patternContentUnits","userSpaceOnUse").attr("x",0).attr("y",0);var s=a.selectAll(".VCL-t-p-e").data((function(t){return t.children}),(function(t,n){return t.name+n}));s.exit().remove();var c=s.enter().append((function(t){return document.createElementNS("http://www.w3.org/2000/svg",t.name)})).attr("class","VCL-t-p-e");s.merge(c).each((function(t,n,r){var i=vt(r[n]);Object.keys(t.attributes).forEach((function(n){i.attr(n,t.attributes[n])}))}))}(r,a,o),u},prepareStrokeColorsFromScheme:bc,calculateLuminance:fc,calculateRelativeLuminance:hc,getAccessibleStrokes:ac,getRecursiveStroke:function(t,n){var r={},i=fc(t),e=fc(n),o=hc(i,1),u=hc(e,1);r[t]={},r[n]={},r[t].min=o-3>1?o-3:1,r[t].max=o+3<21?o+3:21,r[n].min=u-3>1?u-3:1,r[n].max=u+3<21?u+3:21;var a=r[t].max>=r[n].max?t:n,s=r[t].min<=r[n].min?t:n,c=r[s].min,f=r[a].max,h=21-f>0?21-f:0,l=c-1>0?c-1:0,d="",v="",p="";if(s===t&&r[t].max<r[n].min?(v="darken",p=t):a===t&&r[t].min>r[n].max&&(v="lighten",p=t),v){var b=sc(p,v,3);d=hc(e,fc(b))>=3?b:0}return d||(a===t&&h?(v="darken",p=t):s===t&&l&&(v="lighten",p=t),d=v?sc(p,v,3):""),d||(h>l?(v="darken",p=n):(v="lighten",p=n),d=v?sc(p,v,3):""),d||(d=t),d},getContrastingStroke:cc,ensureTextContrast:function(t){var n=hc(fc(t),1),r=Pe(t);if(n<4.5)for(r.l-=.01;r.l>0&&hc(fc(r.hex()),1)<4.5&&r.l;)r.l-=.01,r.l<0&&(r.l=0);return r.hex()},convertVisaColor:function(t){return t[0].includes("_")&&t.map((function(n,r){return t[r]=nc[n]})),t},circularFind:function(t,n){var r=n%t.length;return t[0===r?0:r]},resolveLabelCollision:Ga,prepareBitmap:Ra,addToBitmap:Ca,findCollision:function(t,n){return t.x<=n.x+n.width&&n.x<=t.x+t.width&&n.y<=t.y+t.height&&t.y<=n.y+n.height},capitalized:Bi,chartAccessors:{singleAccessors:["valueAccessor","sizeAccessor","xAccessor","yAccessor","latitudeAccessor","longitudeAccessor","ordinalAccessor","idAccessor","markerAccessor","markerNameAccessor","joinAccessor","joinNameAccessor","nodeAccessor","parentAccessor","groupAccessor","seriesAccessor","sourceAccessor","targetAccessor"],arrayAccessors:["interactionKeys"],nestedAccessors:[{objectName:"tooltipLabel",objectAccessors:["labelAccessor"],formatAccessors:["format"]},{objectName:"accessibility",objectAccessors:["elementDescriptionAccessor"]},{objectName:"dataLabel",objectAccessors:["labelAccessor"],formatAccessors:["format"]},{objectName:"sizeConfig",objectAccessors:["sizeAccessor"],formatAccessors:["format"]}]},checkInteraction:Ac,checkClicked:Ec,checkHovered:Nc,drawAxis:function(t){var n=t.root,r=t.height,i=t.width,e=t.left,o=t.right,u=t.top,a=t.format,s=t.dateFormat,c=t.tickInterval,f=t.label,h=t.padding,l=t.markOffset,d=t.duration;Oc=d||0===d?d:Oc,kc=t.axisScale,xc=t.hidePath,Sc=t.ticks||null;var v=1;if(t.hide&&(v=0),jc=t.wrapLabel||0,l)if(e){(b=n.selectAll(".axis-mark-y")).empty()&&(Oc=0,b=n.append("g").attr("class","axis-mark-y axis-mark")),Rc=function(){return null},Ic=4,Vc();var p=b.attr("data-testid","y-axis-mark");Oc&&(p=p.transition("axis_base").ease(Ks).duration(Oc)),p.attr("transform",l>0?"translate("+l+", 0)":"").attr("opacity",v).call(Yc)}else{var b;(b=n.selectAll(".axis-mark-x")).empty()&&(Oc=0,b=n.append("g")),Rc=function(){return null},Ic=3,Vc(),p=b.attr("class","axis-mark-x axis-mark").attr("data-testid","x-axis-mark"),Oc&&(p=p.transition("axis_base").ease(Ks).duration(Oc)),p.attr("transform",l>0?"translate(0, "+l+")":"").attr("opacity",v).call(Yc)}else if(e){var m=n.selectAll(".axis").filter(".y").filter(".left"),y=n.selectAll(".axis-label").filter(".y").filter(".left");m.empty()&&(Oc=0,m=n.append("g"),y=n.append("text")),Rc=function(t,n){return c&&n%c!=0?null:a&&"number"==typeof t?Ct(t,a):t instanceof Date?an(s)(t):t},Cc=0,Dc=0,Fc=10,jc&&(Hc=-8,Wc=.6),Ic=4,Vc(),p=m.attr("class","y axis left").attr("data-testid","y-axis"),Oc&&(p=p.transition("axis_node").ease(Ks).duration(Oc)),p.attr("opacity",v).call(Yc);var w=y.attr("class","y axis-label left").attr("data-testid","y-axis-label").attr("transform","rotate(-90)").text(f);Oc&&(w=w.transition("axis_label").ease(Ks).duration(Oc)),w.attr("y",h?0-h.left:-50).attr("x",0-r/2).attr("dy","1em")}else o?(m=n.selectAll(".axis").filter(".y").filter(".right"),y=n.selectAll(".axis-label").filter(".y").filter(".right"),m.empty()&&(Oc=0,m=n.append("g"),y=n.append("text")),Rc=function(t,n){return c&&n%c!=0?null:a&&"number"==typeof t?Ct(t,a):t instanceof Date?an(s)(t):t},Cc=0,Dc=0,Fc=10,jc&&(Hc=8,Wc=.6),Ic=2,Vc(),p=m.attr("class","y axis right").attr("data-testid","sec-y-axis"),Oc&&(p=p.transition("axis_node").ease(Ks).duration(Oc)),p.attr("transform","translate("+i+",0)").attr("opacity",v).call(Yc),w=y.attr("class","y axis-label right").attr("data-testid","sec-y-axis-label").attr("transform","rotate(-90)").text(f||"Cumulative Percentage"),Oc&&(w=w.transition("axis_label").ease(Ks).duration(Oc)),w.attr("y",h?i+h.left+h.right-50:i-50).attr("x",0-r/2).attr("dy","1em")):u?(m=n.selectAll(".axis").filter(".x").filter(".top"),y=n.selectAll(".axis-label").filter(".x").filter(".top"),m.empty()&&(Oc=0,m=n.append("g"),y=n.append("text")),Rc=function(t,n){return c&&n%c!=0?null:a&&"number"==typeof t?Ct(t,a):t instanceof Date?an(s)(t):t},Cc=0,Dc=0,Fc=10,jc&&(Hc=0,Wc=1),Ic=1,Vc(),p=m.attr("class","x axis top").attr("data-testid","sec-x-axis"),Oc&&(p=p.transition("axis_node").ease(Ks).duration(Oc)),p.attr("transform","translate(0, 0)").attr("opacity",v).call(Yc),w=y.attr("class","x axis-label top").attr("data-testid","sec-x-axis-label").attr("transform","translate(0, 0)").text(a&&"number"==typeof f?Ct(f,a):f),Oc&&(w=w.transition("axis_label").ease(Ks).duration(Oc)),w.attr("x",i/2).attr("y",h?-h.top:-50).attr("dy","1em")):(m=n.selectAll(".axis").filter(".x").filter(".bottom"),y=n.selectAll(".axis-label").filter(".x").filter(".bottom"),m.empty()&&(Oc=0,m=n.append("g"),y=n.append("text")),Rc=function(t,n){return c&&n%c!=0?null:a&&"number"==typeof t?Ct(t,a):t instanceof Date?an(s)(t):t},Cc=0,Dc=0,Fc=10,jc&&(Hc=0,Wc=1),Ic=3,Vc(),p=m.attr("class","x axis bottom").attr("data-testid","x-axis"),Oc&&(p=p.transition("axis_node").ease(Ks).duration(Oc)),p.attr("transform","translate(0, "+r+")").attr("opacity",v).call(Yc),w=y.attr("class","x axis-label bottom").attr("data-testid","x-axis-label").attr("transform","translate(0, 0)").text(a&&"number"==typeof f?Ct(f,a):f),Oc&&(w=w.transition("axis_node").ease(Ks).duration(Oc)),w.attr("x",i/2).attr("y",h?r+h.bottom:r))},wrap:zc,halve:function(t){return t/2},drawGrid:function(t,n,r,i,e,o,u,a){var s=a||0===a?a:750,c=1;if(o&&(c=0),e){(h=t.selectAll(".grid").filter(".left")).node()||(s=0,h=t.append("g").attr("class","grid left").attr("data-testid","grid-left"));var f=h;s&&(f=h.transition("grid-left-update").duration(s).ease(Ks)),f.attr("opacity",c).call(sf(i).tickSize(-r).tickFormat("").tickValues((i.ticks?i.ticks():i.domain()).filter((function(t,n){return!(u&&n%u!=0)}))))}else{var h;(h=t.selectAll(".grid").filter(".bottom")).node()||(s=0,h=t.append("g").attr("class","grid bottom").attr("data-testid","grid-bottom")),f=h,s&&(f=h.transition("grid-bottom-update").duration(s).ease(Ks)),f.attr("opacity",c).call(function(t){return af(3,t)}(i).tickSize(n).tickFormat("").tickValues((i.ticks?i.ticks():i.domain()).filter((function(t,n){return!(u&&n%u!=0)}))))}},drawLegend:function(t){var n=t.root,r=t.uniqueID,i=t.width,e=t.height,o=t.colorArr,u=t.baseColorArr,a=t.hideStrokes,s=t.dashPatterns,c=t.scale,f=t.steps,h=t.padding,l=t.duration,d=t.type,v=t.secondary,p=t.fontSize,b=t.data,m=t.labelKey,y=t.label,w=t.symbol,g=t.format,M=t.hide,L=t.hoverHighlight,A=t.clickHighlight,N=t.groupAccessor,E=t.interactionKeys,k=t.hoverStyle,x=t.clickStyle,T=t.hoverOpacity,S=i+h.left+h.right+5,O=h.left+t.margin.left,I="scatter"===d||"key"===d||"line"===d||"bar"===d,R=f?i/f:0,C=M?0:1;"parallel"===d&&(d="line"),n.attr("viewBox","0 0 "+S+" "+(e=M?0:e+(I?25:5)));var D=n.select(".legend-padding-wrapper");n.select(".legend-padding-wrapper").size()||(D=n.append("g").attr("class","legend-padding-wrapper")),D.attr("transform","translate("+((I?O:0)+(w?7:4))+","+(I?24:4)+")");var F=mc({root:n.node(),id:r+"-legend",color:"#ffffff"});switch(d){default:n.attr("opacity",C).attr("width",S).attr("height",e).attr("style",M?"display: none;":null).attr("transform","translate(0, 0)");var H=D.selectAll(".legend.default").data([0].concat(o));n.selectAll(".key").remove(),n.selectAll(".gradient").remove(),H.enter().append("g").attr("class","legend default").merge(H).attr("transform",(function(t,n){return 0===n?"translate("+O+", 20)":"translate("+((n-1)*R+O)+", 20)"})).each((function(t,n,r){var i=Ct(0===n?c.invertExtent(o[0])[0]:c.invertExtent(t)[1],g),e=0===n?0:R,u=vt(r[n]).selectAll("rect").data([t]),a=u.enter().append("rect").attr("opacity",0).merge(u).attr("width",R).attr("height",15).attr("x",0).attr("y",0).attr("fill",t),s=u.exit(),f=vt(r[n]).selectAll("text").data([t]),h=f.enter().append("text").attr("opacity",0).merge(f).attr("dx",e).attr("dy","2.5em").text(i),d=f.exit();l&&(a=a.transition().duration(l).ease(Ks),s=s.transition().duration(l).ease(Ks),h=h.transition().duration(l).ease(Ks),d=d.transition().duration(l).ease(Ks)),a.attr("opacity",C),s.attr("opacity",0).remove(),h.attr("opacity",C),d.attr("opacity",0).remove()})),H.exit().remove();break;case"gradient":var W=(new Date).getTime();n.attr("width",S).attr("height",e).attr("style",M?"display: none;":null).attr("transform","translate(0, 20)").attr("opacity",C),n.selectAll(".key").remove(),n.selectAll(".default").remove();var j=D.selectAll("text.gradient").data([0].concat(o)),_=j.enter().append("text").attr("class","legend-text gradient").merge(j).attr("transform",(function(t,n){return 0===n?"translate("+O+", 0)":"translate("+((n-1)*R+O)+", 0)"})).attr("opacity",0).attr("dx",(function(t,n){return 0===n?0:R})).attr("dy","2.5em").text((function(t,n){return Ct(0===n?c.invertExtent(o[0])[0]:c.invertExtent(t)[1],g)})),U=j.exit();l&&(_=_.transition().duration(l).ease(Ks),U=U.transition().duration(l).ease(Ks)),_.attr("opacity",(function(t,n){return 0===n||n===o.length?C:0})),U.attr("opacity",0).remove(),D.selectAll(".legend").empty()||D.selectAll(".legend").remove();var P=D.append("g").attr("class","legend gradient");P.append("defs").append("linearGradient").attr("id","mainGradient-"+W).selectAll("stop").data(o).enter().append("stop").attr("offset",(function(t,n){return 100/o.length*(n+1)+"%"})).attr("stop-color",(function(t){return t})),P.append("rect").attr("class","legend-gradient").attr("x",O).attr("y",0).attr("width",i).attr("height",15).attr("style","fill: url(#mainGradient-"+W+")");break;case"key":var B=0,Y=0;n.attr("width",S).attr("height",e).attr("opacity",C).attr("style",M?"display: none;":null);var z=D.selectAll(".legend.key").data(o);n.selectAll(".default").remove(),n.selectAll(".gradient").remove(),z.enter().append("g").attr("class","legend key").merge(z).each((function(t,n,r){var e=0===n?"":y?y[n-1]:Ct(c.invertExtent(o[n-1])[0],g)+"-"+Ct(c.invertExtent(o[n-1])[1],g);(B=0===n?0:B+sa(e,p)+40)+sa(e,p)>i&&(B=0,Y+=p+10);var u=y?y[n]:Ct(c.invertExtent(t)[0],g)+"-"+Ct(c.invertExtent(t)[1],g),a=vt(r[n]).selectAll("rect").data([t]),s=a.enter().append("rect").attr("opacity",0).merge(a).attr("fill",t).attr("width",15).attr("height",15),f=a.exit(),h=vt(r[n]).selectAll("text").data([u]),d=h.enter().append("text").attr("class","key-text").attr("opacity",0).merge(h).attr("dx",".2em").attr("dy",13).text(u),v=h.exit();l&&(s=s.transition().duration(l).ease(Ks),f=f.transition().duration(l).ease(Ks),d=d.transition().duration(l).ease(Ks),v=v.transition().duration(l).ease(Ks)),s.attr("x",B).attr("y",Y).attr("opacity",C),f.attr("opacity",0).remove(),d.attr("x",B+20).attr("y",Y).attr("opacity",C),v.attr("opacity",0).remove()})),z.exit().remove();break;case"line":var V=0,G=0,q=[28,28,26,28,26];n.attr("width",S).attr("height",e).attr("opacity",1).attr("style",M?"display: none;":null);var $=D.selectAll(".legend").data(b);$.enter().append("g").attr("class","legend").merge($).each((function(t,n,r){var e=y?y[n]:t.key;(V=0===n?0:V+sa(0===n?"":y?y[n-1]:b[n-1].key,p)+60)+sa(e,p)>i&&(V=0,G+=p+10);var u=vt(r[n]).selectAll("line").data([t.key]),a=u.enter().append("line").merge(u).style("stroke-width",v.includes(t.key)?2:3).style("stroke",o[n]).style("stroke-dasharray",v.includes(t.key)?"2,2":s&&n<s.length?s[n]:"").attr("stroke-width",v.includes(t.key)?2:3).attr("stroke",o[n]).attr("stroke-dasharray",v.includes(t.key)?"2,2":s&&n<s.length?s[n]:"").style("opacity",C),c=u.exit(),f=vt(r[n]).selectAll("text").data([t.key]),h=f.enter().append("text").attr("class","key-text").attr("opacity",0).merge(f).attr("dx",".2em").attr("dy",13).text(e),d=f.exit();l&&(a=a.transition().duration(l).ease(Ks),c=c.transition().duration(l).ease(Ks),h=h.transition().duration(l).ease(Ks),d=d.transition().duration(l).ease(Ks)),a.attr("x1",V).attr("x2",V+(v.includes(t.key)?30:s&&n<s.length?q[n]:30)).attr("y1",G+8).attr("y2",G+8),c.attr("opacity",0).remove(),h.attr("x",V+5+(v.includes(t.key)?30:s&&n<s.length?q[n]:30)).attr("y",G).attr("opacity",C),d.attr("opacity",0).remove()})),$.exit().remove();break;case"bar":var Z=0,X=0;n.attr("width",S).attr("height",e).attr("opacity",C).attr("style",M?"display: none;":null);var K=D.selectAll(".legend.bar").data(b);K.enter().append("g").attr("class","legend bar").merge(K).each((function(t,n,r){var e=0===n?"":y&&y[n-1]?g?Ct(y[n-1],g):y[n-1]:g?Ct(b[n-1][m],g):b[n-1][m],u=y&&y[n]?g?Ct(y[n],g):y[n]:g?Ct(t[m],g):t[m];(Z=0===n?0:Z+sa(e,p)+45)+sa(u,p)>i&&(Z=0,X+=p+10);var a=vt(r[n]).selectAll("rect").data([t[m]]),s=a.enter().append("rect").attr("class","bar-rect").attr("opacity",0).merge(a).attr("fill",c?c(t[m]):o[n]||o(t[m])).attr("width",20).attr("height",20),f=a.exit(),h=vt(r[n]).selectAll("text").data([t[m]]),d=h.enter().append("text").attr("class","bar-text").attr("opacity",0).merge(h).attr("dx",".2em").attr("dy",16).text(u),v=h.exit();l&&(s=s.transition().duration(l).ease(Ks),f=f.transition().duration(l).ease(Ks),d=d.transition().duration(l).ease(Ks),v=v.transition().duration(l).ease(Ks)),s.attr("x",Z).attr("y",X).attr("opacity",C),f.attr("opacity",0).remove(),d.attr("x",Z+25).attr("y",X).attr("opacity",C),v.attr("opacity",0).remove()})),K.exit().remove();break;case"scatter":var J=0,Q=0;n.attr("width",S).attr("height",e).attr("opacity",C).attr("style",M?"display: none;":null);var tt=D.selectAll(".legend").data(b);tt.enter().append("g").attr("class","legend").merge(tt).each((function(t,n,r){var e=y?y[n]:t.key;(J=0===n?0:J+sa(0===n?"":y?y[n-1]:b[n-1].key,p)+50)+sa(e,p)>i&&(J=0,Q+=p+10);var u=vt(r[n]).selectAll("path").data([t]),a=u.enter().append("path").attr("opacity",0).merge(u).attr("fill",o[n]),s=u.exit(),c=vt(r[n]).selectAll("text").data([t]),f=c.enter().append("text").attr("class","key-text").attr("opacity",0).merge(c).attr("dx",".2em").attr("dy",13).text(e),h=c.exit();l&&(a=a.transition().duration(l).ease(Ks),s=s.transition().duration(l).ease(Ks),f=f.transition().duration(l).ease(Ks),h=h.transition().duration(l).ease(Ks)),a.attr("transform","translate("+(+J+4)+","+(+Q+8)+")  scale(4)").attr("d",cf[w[n]||w[0]].general).attr("opacity",C),s.attr("opacity",0).remove(),f.attr("x",J+15).attr("y",Q).attr("opacity",C),h.attr("opacity",0).remove()})),tt.exit().remove()}if(u&&!a){var nt=Array.isArray(u);n.selectAll(".legend").each((function(t,n,r){var i=nt&&1===u.length?u[0]:nt?u[n]:u[n]||u(t[m]);if(i){var e=hc(fc(i),1)<3?cc(i):i;vt(r[n].firstElementChild).attr("data-base-color",i),vt(r[n].firstElementChild).attr("stroke",e),vt(r[n].firstElementChild).attr("stroke-width",1)}}))}else"line"!==d&&n.selectAll(".legend").selectAll("*").attr("stroke","none").attr("stroke-width",0);n.selectAll("text").attr("filter",F),n.attr("data-type",d||"default"),n.selectAll(".legend *:first-child").each((function(t,n,r){var i=vt(r[n]);i.attr("fill")&&i.attr("data-fill",i.attr("fill")),i.attr("stroke")&&i.attr("data-stroke",i.attr("stroke")),i.attr("stroke-width")&&i.attr("data-stroke-width",i.attr("stroke-width"))})),ff({root:n,uniqueID:r,interactionKeys:E,groupAccessor:N,hoverHighlight:L,clickHighlight:A,hoverStyle:k,clickStyle:x,hoverOpacity:T}),Hi(n.node(),r)},setLegendInteractionState:ff,drawTooltip:tc,darkerColor:rc,equalizePath:function(t,n){var r=t.getTotalLength();try{if(r>n)throw"Path length exceeds supplied limit. Raise limit."}catch(u){console.log(u)}for(var i=0,e="M",o={};i<=r;)i&&(e+="L"),e+=(o=t.getPointAtLength(i)).x+","+o.y,i+=1;for(;i<=n;)e+=o.x+","+o.y,i+=1;return e+"Z"},formatDataLabel:$a,formatStats:Ct,setNumeralLocale:function(t){void 0===t&&(t="en"),It.locales&&It.locales[t]?It.locale(t):console.error("numeral instance does not have the locale ",t," registered.")},registerNumeralFormat:function(t,n){void 0===t&&(t="formatName"),Rt("format",t,n)},registerNumeralLocale:function(t,n){void 0===t&&(t="formatName"),Rt("locale",t,n)},getNumeralInstance:function(){return It},formatDate:Tr,getColors:function(t,n){var r=[];r.single_blue=[nc.categorical_blue],r.single_brown=[nc.categorical_brown],r.single_grey=[nc.pri_grey],r.single_secBlue=[nc.sec_blue],r.single_secOrange=[nc.sec_orange],r.single_compBlue=[nc.comp_blue],r.single_compGreen=[nc.comp_green],r.single_suppPink=[nc.supp_pink],r.single_suppPurple=[nc.supp_purple],r.single_suppGreen=[nc.supp_green],r.single_ossBlue=[nc.oss_blue],r.single_ossLightBlue=[nc.oss_light_blue],r.single_ossGrey=[nc.oss_dark_grey],r.single_ossLightGrey=[nc.oss_light_grey],r.single_categorical_blue=[nc.categorical_blue],r.single_categorical_light_blue=[nc.categorical_light_blue],r.single_categorical_blue_text=[nc.categorical_blue_text],r.single_categorical_purple=[nc.categorical_purple],r.single_categorical_light_purple=[nc.categorical_light_purple],r.single_categorical_purple_text=[nc.categorical_purple_text],r.single_categorical_olive=[nc.categorical_olive],r.single_categorical_light_olive=[nc.categorical_light_olive],r.single_categorical_olive_text=[nc.categorical_olive_text],r.single_categorical_grey=[nc.categorical_grey],r.single_categorical_light_grey=[nc.categorical_light_grey],r.single_categorical_grey_text=[nc.categorical_grey_text],r.single_categorical_rose=[nc.categorical_rose],r.single_categorical_light_rose=[nc.categorical_light_rose],r.single_categorical_rose_text=[nc.categorical_rose_text],r.single_categorical_brown=[nc.categorical_brown],r.single_categorical_light_brown=[nc.categorical_light_brown],r.single_categorical_brown_text=[nc.categorical_brown_text],r.sequential_grey=["#f2f2f2","#d7d7d7","#bdbdbd","#a3a3a3","#898989","#717171","#595959","#434343","#2e2e2e"],r.sequential_secBlue=["#ecf9f9","#c0e0f1","#91c8ea","#57b0e2","#0c96d7","#1778c7","#145bb8","#003da8","#002c76"],r.sequential_secOrange=["#fee9c7","#ffc78d","#faa654","#ef8506","#e36001","#c04e04","#9c3d05","#7b2c05","#5c1c00"],r.sequential_compBlue=["#f3fbfe","#bde3f2","#81cae6","#2ab1d7","#2294b5","#1b7994","#135d74","#0c4557","#062c3a"],r.sequential_compGreen=["#eafed4","#bae7b4","#89cf95","#53b677","#009e5c","#00814b","#00663b","#004b2b","#00321d"],r.sequential_suppPink=["#f8f4f9","#f3cef3","#eca6ed","#e37ce6","#d74adf","#aa45af","#86378a","#632a66","#421b44"],r.sequential_suppPurple=["#f7fcfd","#e3daec","#cebadd","#b59acc","#977ebb","#7367a5","#554f87","#423667","#331d48"],r.sequential_suppGreen=["#ffffe5","#deebc3","#bed6a2","#9ec283","#7fae61","#5e9a48","#448340","#286e3a","#005a32"],r.diverging_RtoB=["#a50026","#c7422a","#df7232","#f3a14b","#ffcf7b","#afdbf1","#7ab7e5","#5390d1","#386bb6","#2d4697"],r.diverging_RtoG=["#972800","#ba4d18","#df7131","#f0a04e","#fecd6e","#bcdeba","#72c1a7","#529f8e","#307e75","#015e5d"],r.diverging_GtoP=["#194f46","#377258","#57976f","#7abb8c","#a6e0b5","#bbd4f9","#aba6ea","#9879d2","#7655b2","#3c3f85"],r.categorical=["#7c99b1","#cacae7","#abb798","#a19491","#e7c0b8","#624c48"],r.categorical_light=["#7c99b1","#cacae7","#abb798","#a19491","#e7c0b8","#624c48"],r.categorical_dark=["#226092","#796aaf","#829e46","#7a6763","#c18174","#43312d"],r.categorical_text=["#164d79","#66589b","#498329","#6e5a55","#954737","#43312d"];var i="string"==typeof t?r[t]:t;if(Array.isArray(n)){var e=void 0;if("string"==typeof n[0]){var o=[],u=t.includes("diverging")?oc:t.includes("categorical")?uc:ec;"string"==typeof t&&u[n.length]?u[n.length].map((function(t){o.push(i[t]?i[t]:i[0])})):o=i,e=ce().domain(n).range(o)}else e=Tu().domain(n).range(i);return e}if(Number.isInteger(n)){var a=[];return(u=t.includes("diverging")?oc:t.includes("categorical")?uc:ec)[n]?u[n].map((function(t){a.push(i[t]?i[t]:i[0])})):a=i,a}return i},getLicenses:lf,generalizePath:function(t,n){for(var r=t.getTotalLength(),i=0,e=r/n,o="M";i<=r;){i&&(o+="L");var u=t.getPointAtLength(i);o+=u.x+","+u.y,i+=e}return o+"Z"},getDataSymbol:function(t,n){var r={cross:Gu,circle:Vu,square:ta,star:Qu,triangle:ra,diamond:Zu};return r[n]?t.type(r[n])():t.type(Vu)()},getScopedData:Cr,getTextWidth:sa,verifyTextHasSpace:function(t){var n=t.text,r=t.dimensions,i=t.fontSize,e=t.noPadding,o=document.createElement("canvas").getContext("2d");o.font=i+"px OpenSans";for(var u=o.measureText(n),a=e?1:1.1,s=Object.keys(r),c=!0,f=0;c&&f<s.length;)c="height"!==s[f]?u[s[f]]*a<=r[s[f]]:i*a<=r[s[f]],f++;return c},manuallyWrapText:ca,getPadding:function(t){var n;return"large"===t?n={top:40,bottom:60,right:100,left:80}:"small"===t?n={top:10,bottom:20,right:40,left:40}:""===t&&(n={top:20,bottom:50,right:70,left:60}),n},interactionStyle:function(t){var n=t.data,r=t.clickHighlight,i=t.hoverHighlight,e=t.clickStyle,o=t.hoverStyle,u=t.interactionKeys,a=t.defaultStroke,s=t.defaultStrokeWidth,c=t.offset,f=r.length>0&&Ec(n,r,u)||i&&Nc(n,i,u)?a:"none",h=Ec(n,r,u)?"solid":"dashed",l=Ec(n,r,u)?e.strokeWidth||s:i&&Nc(n,i,u)&&o.strokeWidth?o.strokeWidth||s:0;return"string"==typeof l&&l.includes("px")&&(l=parseInt(l.substr(0,l.indexOf("p")))),"outline-color:"+f+";\n        outline-style:"+h+";\n        outline-width:"+l+"px;\n        outline-offset:-"+(c?l+c:l)+"px;"},initTooltipStyle:function(t){t.style("position","absolute").style("padding","0.5rem").style("opacity",0).style("background-color","#ffffff").style("font-size","14px").style("font-weight","400").style("color","#222222").style("border","1px solid #565656").style("border-radius","3px").style("pointer-events","none").style("min-width","80px").style("max-width","300px").style("z-index",10),t.append("p").style("margin",0)},leastSquares:function(t,n){var r=function(t,n){return t+n},i=1*t.reduce(r)/t.length,e=1*n.reduce(r)/n.length,o=t.map((function(t){return Math.pow(t-i,2)})).reduce(r),u=n.map((function(t){return Math.pow(t-e,2)})).reduce(r),a=t.map((function(t,r){return(t-i)*(n[r]-e)})).reduce(r),s=a/o;return[s,e-i*s,Math.pow(a,2)/(o*u)]},moveToFront:function(t){return t.each((function(){this.parentNode.appendChild(this)}))},mapButtons:{alaska:"M0.2,1ZM0,0ZM0.1,0.3ZM0,0.2L8.1,6.9L3.8,7.5L0,0.2ZM0,0.3ZM0.5,1.2L0.5,1.2ZM1.4,2.5L1.4,2.5ZM5.1,6.6L5.1,6.6ZM1,0.7L4,7.2L1,0.7ZM0,0ZM0.6,0.8L5.5,4.1L0.6,0.8ZM2.1,0ZM0.8,0ZM51.5,5.8L60.5,5.3L66.9,10.4L68.9,20.3L70.9,30.2L72.8,40.1L74.8,50L76.8,60L82.9,61.6L89.5,68.2L94.3,62.3L101.8,67.6L108.9,74.6L116.4,77.9L119.6,85.6L114.5,84.3L110.2,81.3L105.5,75.8L98.9,70.1L97.7,69.7L92.3,68.5L92.3,71.8L83.6,67.7L79.2,66.4L69.8,66.2L62.1,64.5L59.9,61.7L56,64L53.2,68.1L47.1,73.4L45.4,70.6L48.6,62.5L45.6,62.8L41.4,70.4L40.4,75.3L34.9,81.6L29.7,87.2L23.9,90.9L18,93.5L11.9,94.7L7.5,97.8L2.3,99.3L5.3,96.9L12.3,92.3L16.4,91.7L23.2,86.2L27.5,77.7L23.2,76L18.8,74.1L14,72.7L11.2,67.6L5.2,62.2L3.5,56.3L8.3,49.6L15.4,46.7L19.5,41.1L16.1,39.7L8.9,38.9L4.8,32.3L9.5,28.7L14.2,29.8L19.4,28.7L20,27.4L15.2,21.7L10.7,14.4L18.3,10.6L24.8,4.6L32.7,0.2L36.9,1.5L43.1,4.9ZM0.9,2.9L0.9,2.9ZM2.6,2.8L7.4,1.5L3.5,6.8L2.6,2.8ZM0.7,0ZM0.6,0ZM1.4,0ZM1.1,0ZM0.4,0ZM0.5,0ZM0,0ZM0.5,0ZM1.2,0.3ZM3.2,0.1L3.2,0.1ZM5.6,0.1L0.1,3.6L5.6,0.1ZM0,1.8L0,1.8ZM0.9,0ZM0.6,0ZM0.6,0ZM0.7,0L6.6,4.9L0.7,0ZM0.6,0ZM0,0ZM2.6,0.6L2.6,0.6ZM1.7,0.8ZM0.8,0ZM0,0ZM1.6,0.8Z",hawaii:"M67.6,57L65.7,56.3L63.8,55.6L62.9,53.9L63.1,51.9L63.3,49.9L62.5,48.1L61.7,46.2L60.9,44.4L61.2,42.7L62.7,41.3L63.6,39.5L64.1,37.7L63.2,36L63.6,34.2L65.4,35.1L67.2,36.1L69.1,36.9L71,37.5L72.9,38.2L74.5,39.4L76.1,40.7L76.4,42.5L77.5,44.1L79.1,45.3L80.7,46.6L80.2,48L78.8,49.5L77.1,50.4L75.1,50.9L73.2,51.5L71.5,52.6L69.8,53.7L68.6,55.3ZM51.8,20.9L53.1,22.6L54.7,22.8L56.6,22.5L58.5,23.5L60.4,24.5L61.1,25.9L60.1,27.6L58.1,28L56,28.5L54.1,28.2L53.9,26.1L52.7,24.9L50.8,24.2L50.3,22.4L51.8,20.9ZM45.3,17.8L43.9,19.4L41.9,19.6L40,19.4L41.1,17.6L43.2,17.7ZM29.4,9.3L30.3,11.3L31.2,13.2L30.5,15.2L28.8,15.9L26.7,16L25.8,14L24.9,12.1L25.7,11.2L27.7,10.5L29.4,9.3ZM4.7,0L6.7,0.4L7.4,2.4L6.9,4.6L5.2,6L3.2,5.4L1.2,4.6L0,3.3L0.6,1.2L2.6,0.6Z",puertoRico:"M37.3,0L35.4,0.7L34.6,2.3L33.8,4.2L32.5,5.6L30.9,6.7L30.2,8.4L31.3,10.1L32.9,11.3L33.7,13.1L33.9,15L33.6,17L33.2,19L32.5,20.9L32.8,22.9L32.1,24.7L32.6,26.5L34.1,26.2L36,26.9L37.8,26.5L39.8,26.2L41.8,26.5L43.7,27L45.7,27.2L47.7,27L49.6,26.5L51.4,25.6L53.2,25.1L55.2,25.4L57.1,25.9L59.1,25.9L61.2,25.9L63.1,25.5L65,25.3L67,25.8L68.6,26.9L70.5,26.3L72.4,26.4L74.4,26.7L76.4,26.8L78.3,26.8L80,27.3L82,26.7L83.9,26.2L85.9,25.8L87.9,25.7L89.9,25.4L91.8,24.8L93.6,23.9L94.6,22.2L95.8,20.6L96.9,19L97.8,17.2L99.5,16.2L101.1,15L103,14.3L104.7,13.4L105.1,12.1L104,10.5L103.7,8.5L104.2,6.6L102.5,6.2L100.5,6.1L98.6,5.5L96.7,4.7L94.9,3.8L93,3.4L91,2.9L89,2.7L87,2.6L85,2.6L83.1,2.1L81.1,2.3L79.1,2.7L77.3,1.9L75.3,1.7L73.3,1.5L71.3,1.3L69.3,1.1L67.3,1.3L65.3,1.6L63.3,1.5L61.3,1.2L59.3,1.1L57.3,1.2L55.3,1.4L53.3,1.4L51.3,1.2L49.3,1.1L47.2,1.2L45.2,1.1L43.3,0.7L41.3,0.3L39.3,0.1L37.3,0ZM105,5.5ZM20.4,5.8ZM106.8,6.1ZM107.8,6.6ZM115.1,6.6ZM105.7,7ZM116.2,7L116.7,9.1L118.3,10.2L120.1,9.8L120.2,8.5L118.3,7.5L116.2,7ZM114,8ZM105.5,8.7ZM104.2,8.9ZM-1,16.4ZM114,16.5L112,16.7L110.1,17.3L108.2,17.8L106.5,18.7L106.8,20.1L108.7,20.4L110.7,20.1L112.6,19.7L114.6,19.3L116.5,18.8L118.3,18L117.9,17L116,16.7ZM2.8,18.2L0.6,18.5L-0.1,20.4L1.9,21.4L3.8,20.2L2.8,18.2ZM58.2,25.9ZM41.3,26.6ZM37,27.8ZM63.5,28.7Z",continentalUS:"M78.9,25.6L79.9,23.8L81.4,27.2L81.4,23.5L82.8,21.8L84.4,18.8L83.3,18.3L86.8,16.4L87.2,14.9L87.2,11.2L90,8.7L89.5,5.7L87.2,3L85.5,6.1L83.4,9.2L79.6,10.2L77.4,13.3L74.4,15L72.2,18L68.9,20.1L68,17.6L66.1,15.3L65.8,12.1L62.8,13L61.6,16.5L61.5,20.2L59.6,17.9L60,14L60,12.1L63.6,10.7L62.9,9.2L59,9.6L57.1,9L53.6,9.7L54.9,7.7L53.1,6.8L49.3,5.9L45.8,5.1L41.8,5.1L37.8,4.9L33.8,4.6L29.8,4.2L25.8,3.7L21.9,3L18,2.2L14,1.4L10.2,0.4L7.6,1.6L4.5,1.1L4.2,5L2.9,8.8L1.2,12.4L0.4,16.2L0.1,20.1L1.2,24L1.8,27.8L2.8,31.5L6,33.8L8.1,37.1L11.8,38.1L15.2,40.2L18.7,42.1L22.7,42.6L26.5,42.1L29.4,44.8L31.4,48.2L34.5,47.1L37.6,49.3L39.6,52.7L42,55.6L43.6,53.8L45.8,50.7L49.1,48.4L52.9,47.9L56,48.7L59.6,48.4L59.3,45.9L63.2,45.6L67,46.3L70.5,46.3L72.3,49.6L74.2,52.8L77,55.3L78,51.8L76.3,48.1L74.3,44.7L74.5,40.8L76.9,37.7L79.2,34.8L81.2,31.9L81.2,28.5L78.9,25.6ZM75.2,56.8ZM76.5,56.3L76.5,56.3ZM82,32.1L82,32.1ZM88.4,16.4ZM87.5,16.5ZM88.6,9.7ZM89.3,9.2ZM80.4,25.4ZM56.6,7.2ZM65.2,10.4ZM6.8,0.2ZM44.1,55.7L44.6,51.7L44.1,55.7ZM3.3,32.7ZM3.5,32.7ZM5.5,34.7ZM5.4,35.5Z"},orderScopedData:Rr,outlineColor:function(t){var n=nc[t]||t;return Pe(n).l>.4?rc(n):ic(n)},overrideTitleTooltip:function(t,n){var r=vt("#visa-viz-padding-container-g-"+t);n?0===r.select("title").size()&&r.append("title").text(""):r.select("title").remove()},placeDataLabels:function(t){var n,r,i,e,o,u=t.root,a=t.xScale,s=t.yScale,c=t.sizeScale,f=t.ordinalAccessor,h=t.valueAccessor,l=t.groupAccessor,d=t.sizeAccessor,v=t.shapeArea,p=t.placement,b=t.layout,m=t.labelOffset,y=t.radius,w=t.chartType,g=t.normalized,M=t.avoidCollision;if("bar"===w)switch(p){case"auto":"vertical"===b?(n=function(t){return a(t[f])+a.bandwidth()/2},r=function(t){return s(Math.max(0,t[h]*(m||1)))},e="0.25em",o="middle"):"horizontal"===b&&(r=function(t){return s(t[f])+s.bandwidth()/2},n=function(t){return a(Math.max(0,t[h]*(m||1)))},e="0.25em",o="middle");break;case"top":n=function(t){return a(t[f])+a.bandwidth()/2},r=function(t){return s(Math.max(0,t[h]*(m||1)))},i="-.3em",o="middle";break;case"bottom":n=function(t){return a(t[f])+a.bandwidth()/2},r=function(t){return s(Math.min(0,t[h]*(-m||1)))},i="-.3em",o="middle";break;case"left":r=function(t){return s(t[f])+s.bandwidth()/2},n=function(t){return a(Math.min(0,t[h]*(-m||1)))},i=".2em",e=".3em",o="start";break;case"right":r=function(t){return s(t[f])+s.bandwidth()/2},n=function(t){return a(Math.max(0,t[h]*(m||1)))},i=".3em",e=".3em",o="start";break;case"top-left":r=function(t){return s(t[f])},n=function(t){return a(Math.min(0,t[h]*(-m||1)))},i=".2em",e="-.2em",o="start";break;case"top-right":r=function(t){return s(t[f])},n=function(t){return a(Math.max(0,t[h]*(m||1)))},i="-3em",e="-.2em",o="start";break;case"bottom-left":r=function(t){return s(t[f])+s.bandwidth()},n=function(t){return a(Math.min(0,t[h]*(-m||1)))},i=".2em",e="1em",o="start";break;case"bottom-right":r=function(t){return s(t[f])+s.bandwidth()},n=function(t){return a(Math.max(0,t[h]*(m||1)))},i="-3em",e="1em",o="start"}else if("stacked"===w){var L=function(t){return g?t.getSum():1};if("vertical"===b)switch(p){case"auto":n=function(t){return a(t[f])+a.bandwidth()/2},r=function(t){return(s(t.stackStart/L(t))+s(t.stackEnd/L(t)))/2},e="0.25em",o="middle";break;case"bottom":n=function(t){return a(t[f])+a.bandwidth()/2},r=function(t){return s(t.stackEnd/L(t))},i="-.3em",o="middle";break;case"top":n=function(t){return a(t[f])+a.bandwidth()/2},r=function(t){return s(t.stackStart/L(t))},i="1em",o="middle";break;case"middle":n=function(t){return a(t[f])+a.bandwidth()/2},r=function(t){return(s(t.stackStart/L(t))+s(t.stackEnd/L(t)))/2},i=".3em",o="middle"}else switch(p){case"auto":case"middle":r=function(t){return s(t[f])+s.bandwidth()/2+4},n=function(t){return(a(t.stackStart)+a(t.stackEnd))/2},i="0em",o="middle";break;case"base":r=function(t){return s(t[f])+s.bandwidth()/2+4},n=function(t){return a(t.stackEnd<0?t.stackStart/L(t):t.stackEnd/L(t))},i=function(t){return t.stackEnd<0?"-.3em":".3em"},o=function(t){return t.stackEnd<0?"end":"start"};break;case"end":r=function(t){return s(t[f])+s.bandwidth()/2+4},n=function(t){return a(t.stackEnd<0?t.stackEnd/L(t):t.stackStart/L(t))},i=function(t){return t.stackEnd<0?".3em":"-.3em"},o=function(t){return t.stackEnd<0?"start":"end"}}}else if("line"===w)switch(p){case"auto":case"top":n=function(t){return a(t[f])},r=function(t){return s(t[h])},e="-0.6em",o="middle";break;case"bottom":n=function(t){return a(t[f])},r=function(t){return s(t[h])+20},o="middle";break;case"left":r=function(t){return s(t[f])},n=function(t){return a(t[h])},i=".2em",o="start";break;case"right":r=function(t){return s(t[f])},n=function(t){return a(t[h])+4},i=".2em",o="start"}else if("parallel"===w)switch(p){case"auto":n=function(t){return a(t[f])},r=function(t){return s(t)},i="0em",e="0em",o="middle";break;case"bottom-right":n=function(t){return a(t[f])},r=function(t){return s(t)},i="0.45em",e="1.1em",o="start";break;case"top-right":n=function(t){return a(t[f])},r=function(t){return s(t)},i="0.45em",e="-0.3em",o="start";break;case"bottom-left":n=function(t){return a(t[f])},r=function(t){return s(t)},i="-0.45em",e="1.1em",o="end";break;case"top-left":n=function(t){return a(t[f])},r=function(t){return s(t)},i="-0.45em",e="-0.3em",o="end"}else if("dumbbell"===w)switch(p){case"ends":case"auto":n=function(t){return"vertical"===b?a(t[f]):a(t[h])-t.offset},r=function(t){return"vertical"===b?s(t[h])+t.offset:s(t[f])},i=function(t){return"vertical"===b&&t.offset>=0?"0.9em":"vertical"===b||t.offset>=0?"-0.3em":"0.3em"},e="vertical"===b?"0.0em":"0.3em",o=function(t){return"vertical"===b?"middle":t.offset>=0?"end":"start"};break;case"top":r=function(t){return s(t[f])-Math.abs(t.offset)},n=function(t){return a(t[h])},e="-0.3em",i="0.0em",o="middle";break;case"bottom":r=function(t){return s(t[f])+Math.abs(t.offset)},n=function(t){return a(t[h])+4},e="0.9em",i="0.0em",o="middle";break;case"left":r=function(t){return s(t[h])},n=function(t){return a(t[f])-4-Math.abs(t.offset)},e="0.0em",i="0.3em",o="end";break;case"right":r=function(t){return s(t[h])},n=function(t){return a(t[f])+4+Math.abs(t.offset)},e="0.0em",i="0.3em",o="start"}else if("pie"===w)switch(p){case"inside":e="0.1em",o="middle";break;case"outside":o=function(t,n){return t.endAngle<Math.PI||0===n?"start":"end"},n=function(t){return(y+5)*Math.sin((t.startAngle+t.endAngle)/2)},r=function(t){return-(y+5)*Math.cos((t.startAngle+t.endAngle)/2)},i=function(t){return t.endAngle<Math.PI?-m:m},e=function(t){return t.endAngle<Math.PI?m:-m};break;case"edge":n=function(t){return(y+10)*Math.sin(t.endAngle)},r=function(t){return-(y+10)*Math.cos(t.endAngle)},i=function(t){return t.endAngle<Math.PI?-m:m},e=function(t){return t.endAngle<Math.PI?m:-m},o=function(t,n){return t.endAngle<Math.PI||0===n?"start":"end"};break;case"note":o=function(t,n){return t.endAngle<Math.PI||0===n?"start":"end"},n=function(t){return(y+5)*Math.sin((t.startAngle+t.endAngle)/2)},r=function(t){return-(y+5)*Math.cos((t.startAngle+t.endAngle)/2)},i=function(t){return t.endAngle<Math.PI?-m:m},e=function(t){return t.endAngle<Math.PI?m+15:15-m};break;case"note_edge":n=function(t){return(y+10)*Math.sin(t.endAngle)},r=function(t){return-(y+10)*Math.cos(t.endAngle)},i=function(t){return t.endAngle<Math.PI?-m:m},e=function(t){return t.endAngle<Math.PI?m+15:15-m},o=function(t,n){return t.endAngle<Math.PI||0===n?"start":"end"}}else if("scatter"===w){var A=function(){return xu.apply(null,arguments).exponent(.5)}().domain([c.domain()[0],c.domain()[1]]).range([1,4]),N=function(t){return v[l?t[l]:""].shape},E=function(t){return c(t[d]*v[l?t[l]:""].toCircle)||m};switch(p){case"auto":case"middle":n=function(t){return a(t[f])},r=function(t){return s(t[h])},e="0.25em",o="middle";break;case"top":n=function(t){return a(t[f])},r=function(t){return s(t[h])-E(t)},e=function(t){return["diamond","triangle","star"].includes(N(t))&&d?-1*(.35+.35*A(t[d]))+"em":"-0.35em"},o="middle";break;case"bottom":n=function(t){return a(t[f])},r=function(t){return s(t[h])+E(t)},e=function(t){return"diamond"===N(t)&&d?.75+.5*A(t[d])+"em":"triangle"===N(t)&&d?1.1-.2*A(t[d])+"em":"1.1em"},o="middle";break;case"left":n=function(t){return a(t[f])-E(t)},r=function(t){return s(t[h])},i=function(t){return"diamond"===N(t)&&d?"-.2em":"-.4em"},e="0.3em",o="end";break;case"right":n=function(t){return a(t[f])+E(t)},r=function(t){return s(t[h])},i=function(t){return"diamond"===N(t)&&d?".125em":".35em"},e="0.3em",o="start"}}else"heat-map"===w?(n=function(t){return a(t[f])+a.bandwidth()/2},r=function(t){return s(t[h])+s.bandwidth()/2},e=".5em",o="middle"):"world-map"===w&&(n=function(t){return a([+t[f],+t[h]])[0]},r=function(t){return a([+t[f],+t[h]])[1]});var k=M&&M.runOccupancyBitmap&&"auto"===p,x=M&&M.hideOnly&&!k;if("heat-map"!==w&&k&&!x){var T=Ga({bitmaps:M.bitmaps,labelSelection:M.labelSelection,avoidMarks:M.avoidMarks,validPositions:M.validPositions,offsets:M.offsets,accessors:M.accessors,size:M.size,boundsScope:M.boundsScope,hideOnly:x,removeOnly:M.removeOnly,suppressMarkDraw:M.suppressMarkDraw});return u.filter((function(t,n,r){return"true"!==vt(r[n]).attr("data-label-moved")&&!vt(r[n]).classed("collision-added")})).attr("x",n).attr("y",r).attr("vertical"===b?"dy":"dx",i).attr("vertical"===b?"dx":"dy",e).attr("text-anchor",o),T}return"heat-map"!==w&&x?(u.each((function(t,u,a){vt(a[u]).attr("data-x",n).attr("data-use-dx",!0).attr("dx","vertical"===b?e:i).attr("data-y",r).attr("data-use-dy",!0).attr("dy","vertical"===b?i:e).attr("text-anchor",o)})),T=void 0,M.suppressMarkDraw||(T=Ga({bitmaps:M.bitmaps,labelSelection:vt(".empty-stuff-vcc-do-not-use"),avoidMarks:M.avoidMarks,validPositions:["middle"],offsets:[1],accessors:M.accessors,size:M.size})),T=Ga({bitmaps:T||M.bitmaps,labelSelection:u,avoidMarks:[],validPositions:["middle"],offsets:[1],accessors:M.accessors,size:M.size,hideOnly:x,removeOnly:M.removeOnly,suppressMarkDraw:M.suppressMarkDraw}),u.attr("x",n).attr("y",r).attr("vertical"===b?"dy":"dx",i).attr("vertical"===b?"dx":"dy",e).attr("text-anchor",o),T):(u.attr("x",n).attr("y",r).attr("vertical"===b?"dy":"dx",i).attr("vertical"===b?"dx":"dy",e).attr("text-anchor",o),null)},propDefaultValues:s$,resolveLines:function(t,n,i){var e=[[],[]];if(t.length<1||n.length<1)return[];var o={},u={},a=[],s=0;for(s=0;s<t.length;s++)o[t[s][i]]=1;for(s=0,s=0;s<n.length;s++)u[n[s][i]]=1,a.push(o[n[s][i]]?0:1);s=0;var c=0,f=0;function h(i){var o=r({},t[f]),u=r({},n[c]);i&&(o[i]=!0,u[i]=!0),e[0].push(o),e[1].push(u)}function l(t,n){f+=t,c+=n}for(var d=0,v=!1;f<t.length&&c<n.length;){var p=0===c,b=a[c],m=!(v&&b||u[t[f][i]]),y=!v&&!m;if(m){var w=p||v?[0,0]:[0,-1],g=p||v?[1,0]:[1,1];l(w[0],w[1]),h("exit"),l(g[0],g[1])}else b?(h("enter"),l(0,1)):y&&(h(!1),l(1,1));!v&&f===t.length&&c<n.length?(v=!0,l(-1,0)):!v&&f<t.length&&c===n.length&&(v=!0,l(0,-1)),d+=m||b?1:0}return d?e:[]},roundTo:Dt,symbols:cf,sankey:function(t,n){var r,i,e,o=0,u=0,a=1,s=1,c=24,f=8,h=b$,l=f$,d=m$,v=y$,p=6;function b(){var t={nodes:d.apply(null,arguments),links:v.apply(null,arguments)};return m(t),y(t),w(t),g(t),M(t),g$(t),t}function m(t){var n=t.nodes,r=t.links;n.forEach((function(t,n){t.index=n,t.sourceLinks=[],t.targetLinks=[]}));var i=new Map(n.map((function(t,r){return[h(t,r,n),t]})));if(r.forEach((function(t,n){t.index=n;var r=t.source,e=t.target;"object"!=typeof r&&(r=t.source=w$(i,r)),"object"!=typeof e&&(e=t.target=w$(i,e)),r.sourceLinks.push(t),e.targetLinks.push(t)})),null!=e)for(var o=0,u=n;o<u.length;o++){var a=u[o],s=a.targetLinks;a.sourceLinks.sort(e),s.sort(e)}}function y(t){for(var n=0,r=t.nodes;n<r.length;n++){var i=r[n];i.value=void 0===i.fixedValue?Math.max(te(i.sourceLinks,p$),te(i.targetLinks,p$)):i.fixedValue}}function w(t){for(var n=t.nodes,r=n.length,i=new Set(n),e=new Set,o=0;i.size;){if(i.forEach((function(t){t.depth=o;for(var n=0,r=t.sourceLinks;n<r.length;n++)e.add(r[n].target)})),++o>r)throw new Error("circular link");i=e,e=new Set}}function g(t){for(var n=t.nodes,r=n.length,i=new Set(n),e=new Set,o=0;i.size;){if(i.forEach((function(t){t.height=o;for(var n=0,r=t.targetLinks;n<r.length;n++)e.add(r[n].source)})),++o>r)throw new Error("circular link");i=e,e=new Set}}function M(e){var h=n?function(t){for(var n=t.nodes,r=Ki(n,(function(t){return t.depth}))+1,e=(a-o-c)/(r-1),u=new Array(r),s=0,f=n;s<f.length;s++){var h=f[s],d=Math.max(0,Math.min(r-1,Math.floor(l.call(null,h,r))));h.layer=d,h.x0=o+d*e,h.x1=h.x0+c,u[d]?u[d].push(h):u[d]=[h]}if(i)for(var v=0,p=u;v<p.length;v++)p[v].sort(i);return u}(e):function(t){for(var n=t.nodes,r=Ki(n,(function(t){return t.depth})),e=(a-r*(2*c))/2,o=new Array(r+1),u=0,s=n;u<s.length;u++){var f=s[u],h=Math.max(0,Math.min(r,Math.floor(l.call(null,f,r+1))));f.layer=h,f.x0=e+f.depth*(2*c),f.x1=f.x0+c,o[h]?o[h].push(f):o[h]=[f]}if(i)for(var d=0,v=o;d<v.length;d++)v[d].sort(i);return o}(e);r=Math.min(f,(s-u)/(Ki(h,(function(t){return t.length}))-1)),t?function(t){for(var n=Ki(t,(function(t){return t.length})),i=[],e=0;e<n;++e){for(var o=0,a=0;a<t.length;++a)t[a][e]&&t[a][e].value&&t[a][e].value>o&&(o=t[a][e].value);i[e]=o}for(var c=(s-u-(n-1)*r)/te(i),f=0,h=t;f<h.length;f++){var l=h[f],d=u;for(e=0;e<l.length;++e){l[e].y1=d+i[e]*c,l[e].y0=l[e].y1-l[e].value*c,d=l[e].y1+r;for(var v=0,p=l[e].sourceLinks;v<p.length;v++){var b=p[v];b.width=b.value*c}}}}(h):function(t){for(var n=Qi(t,(function(t){return(s-u-(t.length-1)*r)/te(t,p$)})),i=0,e=t;i<e.length;i++){for(var o=e[i],a=u,c=0,f=o;c<f.length;c++){(p=f[c]).y0=a,p.y1=a+p.value*n,a=p.y1+r;for(var h=0,l=p.sourceLinks;h<l.length;h++){var d=l[h];d.width=d.value*n}}a=(s-a+r)/(o.length+1);for(var v=0;v<o.length;++v){var p;(p=o[v]).y0+=a*(v+1),p.y1+=a*(v+1)}T(o)}}(h);for(var d=0;d<p;++d){var v=Math.pow(.99,d),b=Math.max(1-v,(d+1)/p);t||(A(h,v,b),L(h,v,b))}}function L(t,n,r){for(var e=1,o=t.length;e<o;++e){for(var u=t[e],a=0,s=u;a<s.length;a++){for(var c=s[a],f=0,h=0,l=0,d=c.targetLinks;l<d.length;l++){var v=d[l],p=v.source,b=v.value*(c.layer-p.layer);f+=S(p,c)*b,h+=b}if(h>0){var m=(f/h-c.y0)*n;c.y0+=m,c.y1+=m,x(c)}}void 0===i&&u.sort(v$),N(u,r)}}function A(t,n,r){for(var e=t.length-2;e>=0;--e){for(var o=t[e],u=0,a=o;u<a.length;u++){for(var s=a[u],c=0,f=0,h=0,l=s.sourceLinks;h<l.length;h++){var d=l[h],v=d.target,p=d.value*(v.layer-s.layer);c+=O(s,v)*p,f+=p}if(f>0){var b=(c/f-s.y0)*n;s.y0+=b,s.y1+=b,x(s)}}void 0===i&&o.sort(v$),N(o,r)}}function N(t,n){var i=t.length>>1,e=t[i];k(t,e.y0-r,i-1,n),E(t,e.y1+r,i+1,n),k(t,s,t.length-1,n),E(t,u,0,n)}function E(t,n,i,e){for(;i<t.length;++i){var o=t[i],u=(n-o.y0)*e;u>1e-6&&(o.y0+=u,o.y1+=u),n=o.y1+r}}function k(t,n,i,e){for(;i>=0;--i){var o=t[i],u=(o.y1-n)*e;u>1e-6&&(o.y0-=u,o.y1-=u),n=o.y0-r}}function x(t){var n=t.sourceLinks;if(void 0===e){for(var r=0,i=t.targetLinks;r<i.length;r++)i[r].source.sourceLinks.sort(d$);for(var o=0,u=n;o<u.length;o++)u[o].target.targetLinks.sort(l$)}}function T(t){if(void 0===e)for(var n=0,r=t;n<r.length;n++){var i=r[n],o=i.targetLinks;i.sourceLinks.sort(d$),o.sort(l$)}}function S(t,n){for(var i=t.y0-(t.sourceLinks.length-1)*r/2,e=0,o=t.sourceLinks;e<o.length;e++){var u=o[e],a=u.width;if(u.target===n)break;i+=a+r}for(var s=0,c=n.targetLinks;s<c.length;s++){var f=c[s];if(a=f.width,f.source===t)break;i-=a}return i}function O(t,n){for(var i=n.y0-(n.targetLinks.length-1)*r/2,e=0,o=n.targetLinks;e<o.length;e++){var u=o[e],a=u.width;if(u.source===t)break;i+=a+r}for(var s=0,c=t.sourceLinks;s<c.length;s++){var f=c[s];if(a=f.width,f.target===n)break;i-=a}return i}return b.update=function(t){return g$(t),t},b.nodeId=function(t){return arguments.length?(h="function"==typeof t?t:h$(t),b):h},b.nodeAlign=function(t){return arguments.length?(l="function"==typeof t?t:h$(t),b):l},b.nodeSort=function(t){return arguments.length?(i=t,b):i},b.nodeWidth=function(t){return arguments.length?(c=+t,b):c},b.nodePadding=function(t){return arguments.length?(f=r=+t,b):f},b.nodes=function(t){return arguments.length?(d="function"==typeof t?t:h$(t),b):d},b.links=function(t){return arguments.length?(v="function"==typeof t?t:h$(t),b):v},b.linkSort=function(t){return arguments.length?(e=t,b):e},b.size=function(t){return arguments.length?(o=u=0,a=+t[0],s=+t[1],b):[a-o,s-u]},b.extent=function(t){return arguments.length?(o=+t[0][0],a=+t[1][0],u=+t[0][1],s=+t[1][1],b):[[o,u],[a,s]]},b.iterations=function(t){return arguments.length?(p=+t,b):p},b},sankeyCenter:function(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?Qi(t.sourceLinks,c$)-1:0},sankeyJustify:f$,sankeyLeft:function(t){return t.depth},sankeyLinkHorizontal:function(){return zu().source(M$).target(L$)},sankeyRight:function(t,n){return n-1-t.height},transitionEndAll:dc,transformData:function(t,n,r,i){var e=[];return t.forEach((function(t){var o={};if(e.length)if(o=e.filter((function(r){return r[n]===t[n]})).pop()){var u=e.findIndex((function(r){return r[n]===t[n]}));o[t[r]]=t[i],e[u]=o}else(o={})[n]=t[n],o[t[r]]=t[i],e.push(o);else o[n]=t[n],o[t[r]]=t[i],e.push(o)})),e},scopeDataKeys:function(t,n,r,i){var e={},o={};if(n.nestedAccessors&&n.nestedAccessors instanceof Array&&n.nestedAccessors.forEach((function(n){n.objectName&&n.objectAccessors&&n.objectAccessors instanceof Array&&t[n.objectName]&&n.objectAccessors.forEach((function(r,i){t[n.objectName][r]instanceof Array?t[n.objectName][r].forEach((function(r,u){o[r]||(e[r]=n.formatAccessors&&n.formatAccessors instanceof Array&&t[n.objectName][n.formatAccessors[i]]?t[n.objectName][n.formatAccessors[i]][u]:void 0,o[r]=1)})):t[n.objectName][r]&&!o[t[n.objectName][r]]&&(e[t[n.objectName][r]]=n.formatAccessors?t[n.objectName][n.formatAccessors]:void 0,o[t[n.objectName][r]]=1)}))})),n.singleAccessors&&n.singleAccessors instanceof Array&&n.singleAccessors.forEach((function(n){if(t[n]&&!o[t[n]]){var i=function(t,n,r,i){if(n[t]){if(n[t]instanceof Array){var e=void 0;return n[t].forEach((function(t){e=t.charts.indexOf(i)>=0?r[t.type]:e||(e="")})),e}return r[n[t]]?r[n[t]]:""}return""}(n,Or,Sr,r);e[t[n]]=i,o[t[n]]=1}})),n.arrayAccessors&&n.arrayAccessors instanceof Array&&n.arrayAccessors.forEach((function(n){t[n]&&t[n].forEach((function(t){o[t]||"xAccessor"===t||"yAccessor"===t||(e[t]=void 0,o[t]=1)}))})),!i){var u={};Rr(t,e,r).forEach((function(t){u[t]=e[t]})),e=u}return e},visaColors:nc,validateAccessibilityProps:function(t,n,i){void 0===n&&(n={}),void 0===i&&(i={context:{},data:{},uniqueID:"",annotations:[],misc:{}});var e=i.annotations,o=i.data,u=i.uniqueID,a=i.misc,s={context:i.context,abortEarly:!1},c=r(r(r({},n),{annotations:e,data:o,uniqueID:u}),a);Aq(AG,"validateBySchemaRefAndCondition",e$),Aq(AG,"validateBySchema",o$),Aq(yG,"validateBySchemaRefs",n$),Aq(AG,"validateBySchemaRef",r$),Aq(yG,"validateBySchemaRefBoolean",i$),u$(t,c,s,a$(t,c,s))},fixNestedSparseness:function(t,n,r,i,e){var o={},u={};t.forEach((function(t){o[t[n]]=1,u[t[r]]||(u[t[r]]={}),u[t[r]][t[n]]=1}));var a=Object.keys(o);Object.keys(u).forEach((function(o){a.forEach((function(a){if(!u[o][a]){var s={};s[i]=e||0,s[n]=a,s[r]=o,t.push(s)}}))}))},prepareRenderChange:function(t){var n=t.selection,r=t.duration,i=t.easing,e=t.delay;if(!r)return n;var o=t.namespace||"generic-transition";n.interrupt(o);var u=n.transition(o).duration(r);return i&&(u=u.ease(i)),e&&(u=u.delay(e)),u}});return r({},A$)}()},dr(vr={path:undefined,exports:{},require:function(){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},vr.exports),vr.exports);const{propDefaultValues:mr}=br;class yr{}var wr;yr.mainTitle="This is bar chart title",yr.subTitle="This is the bar chart subtitle",yr.height=325,yr.width=675,yr.margin={top:3.25,bottom:3.25,right:6.75,left:6.75},yr.padding={top:20,bottom:50,right:60,left:60},yr.ordinalAccessor="label",yr.valueAccessor="value",yr.groupAccessor="",yr.highestHeadingLevel=mr.highestHeadingLevel,yr.layout=mr.layout,yr.accessibility=mr.accessibility,yr.animationConfig=mr.animationConfig,yr.sortOrder=mr.sortOrder,yr.xAxis=mr.xAxisBarChart,yr.yAxis=mr.yAxisBarChart,yr.wrapLabel=mr.wrapLabel,yr.colorPalette=mr.colorPaletteSingle,yr.hoverStyle=mr.hoverStyle,yr.clickStyle=mr.clickStyle,yr.referenceStyle=mr.referenceStyle,yr.cursor=mr.cursor,yr.roundedCorner=mr.roundedCorner,yr.barIntervalRatio=mr.barIntervalRatio,yr.hoverOpacity=mr.hoverOpacity,yr.dataLabel=mr.dataLabel,yr.legend=mr.categoryLegend,yr.tooltipLabel=mr.tooltipLabel,yr.showTooltip=mr.showTooltip,yr.suppressEvents=mr.suppressEvents,yr.referenceLines=mr.referenceLines,yr.annotations=mr.annotations,yr.clickHighlight=mr.clickHighlight;var gr=new Uint8Array(16);function Mr(){if(!wr&&!(wr="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wr(gr)}const Lr=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Ar(t){return"string"==typeof t&&Lr.test(t)}for(var Nr=[],Er=0;Er<256;++Er)Nr.push((Er+256).toString(16).substr(1));function kr(t,n,r){var i=(t=t||{}).random||(t.rng||Mr)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,n){r=r||0;for(var e=0;e<16;++e)n[r+e]=i[e];return n}return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(Nr[t[n+0]]+Nr[t[n+1]]+Nr[t[n+2]]+Nr[t[n+3]]+"-"+Nr[t[n+4]]+Nr[t[n+5]]+"-"+Nr[t[n+6]]+Nr[t[n+7]]+"-"+Nr[t[n+8]]+Nr[t[n+9]]+"-"+Nr[t[n+10]]+Nr[t[n+11]]+Nr[t[n+12]]+Nr[t[n+13]]+Nr[t[n+14]]+Nr[t[n+15]]).toLowerCase();if(!Ar(r))throw TypeError("Stringified UUID is invalid");return r}(i)}var xr={value:function(){}};function Tr(){for(var t,n=0,r=arguments.length,i={};n<r;++n){if(!(t=arguments[n]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new Sr(i)}function Sr(t){this._=t}function Or(t,n){return t.trim().split(/^|\s+/).map((function(t){var r="",i=t.indexOf(".");if(i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}}))}function Ir(t,n){for(var r,i=0,e=t.length;i<e;++i)if((r=t[i]).name===n)return r.value}function Rr(t,n,r){for(var i=0,e=t.length;i<e;++i)if(t[i].name===n){t[i]=xr,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=r&&t.push({name:n,value:r}),t}Sr.prototype=Tr.prototype={constructor:Sr,on:function(t,n){var r,i=this._,e=Or(t+"",i),o=-1,u=e.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(r=(t=e[o]).type)i[r]=Rr(i[r],t.name,n);else if(null==n)for(r in i)i[r]=Rr(i[r],t.name,null);return this}for(;++o<u;)if((r=(t=e[o]).type)&&(r=Ir(i[r],t.name)))return r},copy:function(){var t={},n=this._;for(var r in n)t[r]=n[r].slice();return new Sr(t)},call:function(t,n){if((r=arguments.length-2)>0)for(var r,i,e=new Array(r),o=0;o<r;++o)e[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,r=(i=this._[t]).length;o<r;++o)i[o].value.apply(n,e)},apply:function(t,n,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],e=0,o=i.length;e<o;++e)i[e].value.apply(n,r)}};var Cr,Dr,Fr=0,Hr=0,Wr=0,jr=0,_r=0,Ur=0,Pr="object"==typeof performance&&performance.now?performance:Date,Br="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Yr(){return _r||(Br(zr),_r=Pr.now()+Ur)}function zr(){_r=0}function Vr(){this._call=this._time=this._next=null}function Gr(t,n,r){var i=new Vr;return i.restart(t,n,r),i}function qr(){_r=(jr=Pr.now())+Ur,Fr=Hr=0;try{!function(){Yr(),++Fr;for(var t,n=Cr;n;)(t=_r-n._time)>=0&&n._call.call(null,t),n=n._next;--Fr}()}finally{Fr=0,function(){for(var t,n,r=Cr,i=1/0;r;)r._call?(i>r._time&&(i=r._time),t=r,r=r._next):(n=r._next,r._next=null,r=t?t._next=n:Cr=n);Dr=t,Zr(i)}(),_r=0}}function $r(){var t=Pr.now(),n=t-jr;n>1e3&&(Ur-=n,jr=t)}function Zr(t){Fr||(Hr&&(Hr=clearTimeout(Hr)),t-_r>24?(t<1/0&&(Hr=setTimeout(qr,t-Pr.now()-Ur)),Wr&&(Wr=clearInterval(Wr))):(Wr||(jr=Pr.now(),Wr=setInterval($r,1e3)),Fr=1,Br(qr)))}function Xr(t,n,r){var i=new Vr;return i.restart((function(r){i.stop(),t(r+n)}),n=null==n?0:+n,r),i}Vr.prototype=Gr.prototype={constructor:Vr,restart:function(t,n,r){if("function"!=typeof t)throw new TypeError("callback is not a function");r=(null==r?Yr():+r)+(null==n?0:+n),this._next||Dr===this||(Dr?Dr._next=this:Cr=this,Dr=this),this._call=t,this._time=r,Zr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Zr())}};var Kr=Tr("start","end","interrupt"),Jr=[];function Qr(t,n,r,i,e,o){var u=t.__transition;if(u){if(r in u)return}else t.__transition={};!function(t,n,r){var i,e=t.__transition;function o(s){var c,f,h,l;if(1!==r.state)return a();for(c in e)if((l=e[c]).name===r.name){if(3===l.state)return Xr(o);4===l.state?(l.state=6,l.timer.stop(),l.on.call("interrupt",t,t.__data__,l.index,l.group),delete e[c]):+c<n&&(l.state=6,l.timer.stop(),delete e[c])}if(Xr((function(){3===r.state&&(r.state=4,r.timer.restart(u,r.delay,r.time),u(s))})),r.state=2,r.on.call("start",t,t.__data__,r.index,r.group),2===r.state){for(r.state=3,i=new Array(h=r.tween.length),c=0,f=-1;c<h;++c)(l=r.tween[c].value.call(t,t.__data__,r.index,r.group))&&(i[++f]=l);i.length=f+1}}function u(n){for(var e=n<r.duration?r.ease.call(null,n/r.duration):(r.timer.restart(a),r.state=5,1),o=-1,u=i.length;++o<u;)i[o].call(null,e);5===r.state&&(r.on.call("end",t,t.__data__,r.index,r.group),a())}function a(){for(var i in r.state=6,r.timer.stop(),delete e[n],e)return;delete t.__transition}e[n]=r,r.timer=Gr((function(t){r.state=1,r.timer.restart(o,r.delay,r.time),r.delay<=t&&o(t-r.delay)}),0,r.time)}(t,r,{name:n,index:i,group:e,on:Kr,tween:Jr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function ti(t,n){var r=ri(t,n);if(r.state>0)throw new Error("too late; already scheduled");return r}function ni(t,n){var r=ri(t,n);if(r.state>2)throw new Error("too late; already started");return r}function ri(t,n){var r=t.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function ii(t,n){var r,i;return function(){var e=ni(this,t),o=e.tween;if(o!==r)for(var u=0,a=(i=r=o).length;u<a;++u)if(i[u].name===n){(i=i.slice()).splice(u,1);break}e.tween=i}}function ei(t,n,r){var i,e;if("function"!=typeof r)throw new Error;return function(){var o=ni(this,t),u=o.tween;if(u!==i){e=(i=u).slice();for(var a={name:n,value:r},s=0,c=e.length;s<c;++s)if(e[s].name===n){e[s]=a;break}s===c&&e.push(a)}o.tween=e}}function oi(t,n,r){var i=t._id;return t.each((function(){var t=ni(this,i);(t.value||(t.value={}))[n]=r.apply(this,arguments)})),function(t){return ri(t,i).value[n]}}function ui(t,n){var r;return("number"==typeof n?Nn:n instanceof on?gn:(r=on(n))?(n=r,gn):Tn)(t,n)}function ai(t){return function(){this.removeAttribute(t)}}function si(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ci(t,n,r){var i,e;return function(){var o=this.getAttribute(t);return o===r?null:o===i?e:e=n(i=o,r)}}function fi(t,n,r){var i,e;return function(){var o=this.getAttributeNS(t.space,t.local);return o===r?null:o===i?e:e=n(i=o,r)}}function hi(t,n,r){var i,e,o;return function(){var u,a=r(this);if(null!=a)return(u=this.getAttribute(t))===a?null:u===i&&a===e?o:o=n(i=u,e=a);this.removeAttribute(t)}}function li(t,n,r){var i,e,o;return function(){var u,a=r(this);if(null!=a)return(u=this.getAttributeNS(t.space,t.local))===a?null:u===i&&a===e?o:o=n(i=u,e=a);this.removeAttributeNS(t.space,t.local)}}function di(t,n){function r(){var r=this,i=n.apply(r,arguments);return i&&function(n){r.setAttributeNS(t.space,t.local,i(n))}}return r._value=n,r}function vi(t,n){function r(){var r=this,i=n.apply(r,arguments);return i&&function(n){r.setAttribute(t,i(n))}}return r._value=n,r}function pi(t,n){return function(){ti(this,t).delay=+n.apply(this,arguments)}}function bi(t,n){return n=+n,function(){ti(this,t).delay=n}}function mi(t,n){return function(){ni(this,t).duration=+n.apply(this,arguments)}}function yi(t,n){return n=+n,function(){ni(this,t).duration=n}}function wi(t,n){if("function"!=typeof n)throw new Error;return function(){ni(this,t).ease=n}}function gi(t,n,r){var i,e,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?ti:ni;return function(){var u=o(this,t),a=u.on;a!==i&&(e=(i=a).copy()).on(n,r),u.on=e}}var Mi=lt.prototype.constructor;function Li(t,n,r){function i(){var i=this,e=n.apply(i,arguments);return e&&function(n){i.style.setProperty(t,e(n),r)}}return i._value=n,i}var Ai=0;function Ni(t,n,r,i){this._groups=t,this._parents=n,this._name=r,this._id=i}function Ei(){return++Ai}var ki=lt.prototype;Ni.prototype={constructor:Ni,select:function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=h(t));for(var i=this._groups,e=i.length,o=new Array(e),u=0;u<e;++u)for(var a,s,c=i[u],f=c.length,l=o[u]=new Array(f),d=0;d<f;++d)(a=c[d])&&(s=t.call(a,a.__data__,d,c))&&("__data__"in a&&(s.__data__=a.__data__),l[d]=s,Qr(l[d],n,r,d,l,ri(a,r)));return new Ni(o,this._parents,n,r)},selectAll:function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=d(t));for(var i=this._groups,e=i.length,o=[],u=[],a=0;a<e;++a)for(var s,c=i[a],f=c.length,h=0;h<f;++h)if(s=c[h]){for(var l,v=t.call(s,s.__data__,h,c),p=ri(s,r),b=0,m=v.length;b<m;++b)(l=v[b])&&Qr(l,n,r,b,v,p);o.push(v),u.push(s)}return new Ni(o,u,n,r)},filter:function(t){"function"!=typeof t&&(t=v(t));for(var n=this._groups,r=n.length,i=new Array(r),e=0;e<r;++e)for(var o,u=n[e],a=u.length,s=i[e]=[],c=0;c<a;++c)(o=u[c])&&t.call(o,o.__data__,c,u)&&s.push(o);return new Ni(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,r=t._groups,i=n.length,e=Math.min(i,r.length),o=new Array(i),u=0;u<e;++u)for(var a,s=n[u],c=r[u],f=s.length,h=o[u]=new Array(f),l=0;l<f;++l)(a=s[l]||c[l])&&(h[l]=a);for(;u<i;++u)o[u]=n[u];return new Ni(o,this._parents,this._name,this._id)},selection:function(){return new Mi(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,r=Ei(),i=this._groups,e=i.length,o=0;o<e;++o)for(var u,a=i[o],s=a.length,c=0;c<s;++c)if(u=a[c]){var f=ri(u,n);Qr(u,t,r,c,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Ni(i,this._parents,t,r)},call:ki.call,nodes:ki.nodes,node:ki.node,size:ki.size,empty:ki.empty,each:ki.each,on:function(t,n){var r=this._id;return arguments.length<2?ri(this.node(),r).on.on(t):this.each(gi(r,t,n))},attr:function(t,n){var r=u(t),i="transform"===r?Un:ui;return this.attrTween(t,"function"==typeof n?(r.local?li:hi)(r,i,oi(this,"attr."+t,n)):null==n?(r.local?si:ai)(r):(r.local?fi:ci)(r,i,n+""))},attrTween:function(t,n){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;var i=u(t);return this.tween(r,(i.local?di:vi)(i,n))},style:function(t,n,r){var i="transform"==(t+="")?_n:ui;return null==n?this.styleTween(t,function(t,n){var r,i,e;return function(){var o=O(this,t),u=(this.style.removeProperty(t),O(this,t));return o===u?null:o===r&&u===i?e:e=n(r=o,i=u)}}(t,i)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof n?function(t,n,r){var i,e,o;return function(){var u=O(this,t),a=r(this);return null==a&&(this.style.removeProperty(t),a=O(this,t)),u===a?null:u===i&&a===e?o:o=n(i=u,e=a)}}(t,i,oi(this,"style."+t,n)):function(t,n,r){var i,e;return function(){var o=O(this,t);return o===r?null:o===i?e:e=n(i=o,r)}}(t,i,n+""),r)},styleTween:function(t,n,r){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;return this.tween(i,Li(t,n,null==r?"":r))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(oi(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var r=this._id;if(t+="",arguments.length<2){for(var i,e=ri(this.node(),r).tween,o=0,u=e.length;o<u;++o)if((i=e[o]).name===t)return i.value;return null}return this.each((null==n?ii:ei)(r,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?pi:bi)(n,t)):ri(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?mi:yi)(n,t)):ri(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(wi(n,t)):ri(this.node(),n).ease}};var xi={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Ti(t,n){for(var r;!(r=t.__transition)||!(r=r[n]);)if(!(t=t.parentNode))return xi.time=Yr(),xi;return r}lt.prototype.interrupt=function(t){return this.each((function(){!function(t,n){var r,i,e,o=t.__transition,u=!0;if(o){for(e in n=null==n?null:n+"",o)(r=o[e]).name===n?(i=r.state>2&&r.state<5,r.state=6,r.timer.stop(),i&&r.on.call("interrupt",t,t.__data__,r.index,r.group),delete o[e]):u=!1;u&&delete t.__transition}}(this,t)}))},lt.prototype.transition=function(t){var n,r;t instanceof Ni?(n=t._id,t=t._name):(n=Ei(),(r=xi).time=Yr(),t=null==t?null:t+"");for(var i=this._groups,e=i.length,o=0;o<e;++o)for(var u,a=i[o],s=a.length,c=0;c<s;++c)(u=a[c])&&Qr(u,t,n,c,a,r||Ti(u,n));return new Ni(i,this._parents,t,n)};const{prepareStrokeColorsFromScheme:Si,calculateLuminance:Oi,verifyTextHasSpace:Ii,checkAttributeTransitions:Ri,createTextStrokeFilter:Ci,drawHoverStrokes:Di,removeHoverStrokes:Fi,buildStrokes:Hi,convertColorsToTextures:Wi,initializeElementAccess:ji,initializeDescriptionRoot:_i,setElementFocusHandler:Ui,setElementAccessID:Pi,setAccessibilityController:Bi,hideNonessentialGroups:Yi,setAccessTitle:zi,setAccessSubtitle:Vi,setAccessLongDescription:Gi,setAccessExecutiveSummary:qi,setAccessPurpose:$i,setAccessContext:Zi,setAccessStatistics:Xi,setAccessChartCounts:Ki,setAccessXAxis:Ji,setAccessYAxis:Qi,setAccessStructure:te,setAccessAnnotation:ne,retainAccessFocus:re,checkAccessFocus:ie,setElementInteractionAccessState:ee,setAccessibilityDescriptionWidth:oe,autoTextColor:ue,annotate:ae,chartAccessors:se,checkInteraction:ce,checkClicked:fe,checkHovered:he,convertVisaColor:le,drawAxis:de,drawGrid:ve,drawLegend:pe,setLegendInteractionState:be,drawTooltip:me,formatDataLabel:ye,getColors:we,getLicenses:ge,getPadding:Me,getScopedData:Le,initTooltipStyle:Ae,placeDataLabels:Ne,overrideTitleTooltip:Ee,transitionEndAll:ke,scopeDataKeys:xe,visaColors:Te,validateAccessibilityProps:Se,findTagLevel:Oe,prepareRenderChange:Ie,roundTo:Re,resolveLabelCollision:Ce,halve:De}=br,Fe=class{constructor(r){t(this,r),this.clickEvent=n(this,"clickEvent",7),this.hoverEvent=n(this,"hoverEvent",7),this.mouseOutEvent=n(this,"mouseOutEvent",7),this.initialLoadEvent=n(this,"initialLoadEvent",7),this.initialLoadEndEvent=n(this,"initialLoadEndEvent",7),this.drawStartEvent=n(this,"drawStartEvent",7),this.drawEndEvent=n(this,"drawEndEvent",7),this.transitionEndEvent=n(this,"transitionEndEvent",7),this.shouldValidateAccessibility=!0,this.updated=!0,this.shouldUpdateXAxis=!1,this.shouldUpdateYAxis=!1,this.shouldUpdateXGrid=!1,this.shouldUpdateYGrid=!1,this.shouldValidate=!1,this.shouldUpdateData=!1,this.shouldUpdateLayoutVariables=!1,this.shouldUpdateScales=!1,this.shouldUpdateTableData=!1,this.shouldUpdateAnnotations=!1,this.shouldDrawInteractionState=!1,this.shouldValidateClickStyle=!1,this.shouldValidateHoverStyle=!1,this.shouldSetSelectionClass=!1,this.shouldUpdateCursor=!1,this.shouldSetColors=!1,this.shouldUpdateGeometries=!1,this.shouldUpdateLegend=!1,this.shouldUpdateReferenceLines=!1,this.shouldBindInteractivity=!1,this.shouldUpdateLegendInteractivity=!1,this.shouldResetRoot=!1,this.shouldUpdateBaseline=!1,this.shouldValidateInteractionKeys=!1,this.shouldUpdateLegendData=!1,this.shouldCheckValueAxis=!1,this.shouldCheckLabelAxis=!1,this.shouldUpdateCorners=!1,this.shouldEnterUpdateExit=!1,this.shouldSetGlobalSelections=!1,this.shouldSetTestingAttributes=!1,this.shouldValidateLabelPlacement=!1,this.shouldValidateDataLabelAccessor=!1,this.shouldCheckLabelColor=!1,this.shouldSetLabelOpacity=!1,this.shouldSetLabelPosition=!1,this.shouldSetLabelContent=!1,this.shouldUpdateDescriptionWrapper=!1,this.shouldSetChartAccessibilityTitle=!1,this.shouldSetChartAccessibilitySubtitle=!1,this.shouldSetChartAccessibilityLongDescription=!1,this.shouldSetChartAccessibilityExecutiveSummary=!1,this.shouldSetChartAccessibilityStatisticalNotes=!1,this.shouldSetChartAccessibilityStructureNotes=!1,this.shouldSetParentSVGAccessibility=!1,this.shouldSetGeometryAccessibilityAttributes=!1,this.shouldSetGeometryAriaLabels=!1,this.shouldSetGroupAccessibilityAttributes=!1,this.shouldSetGroupAccessibilityLabel=!1,this.shouldSetChartAccessibilityPurpose=!1,this.shouldSetChartAccessibilityContext=!1,this.shouldSetLegendCursor=!1,this.shouldRedrawWrapper=!1,this.shouldSetTagLevels=!1,this.shouldSetChartAccessibilityCount=!1,this.shouldSetYAxisAccessibility=!1,this.shouldSetXAxisAccessibility=!1,this.shouldSetAnnotationAccessibility=!1,this.shouldSetStrokes=!1,this.topLevel="h2",this.bottomLevel="p",this.shouldSetTextures=!1,this.strokes={},this.textTreatmentHandler=(t,n,r)=>{const i=this.preparedColors.range?this.preparedColors.range():this.preparedColors,e=this.groupAccessor||1===i.length?"categorical":this.colorPalette&&this.colorPalette.includes("diverging")?"diverging":"sequential",o=!this.accessibility.hideTextures&&"categorical"!==e&&this.accessibility.showExperimentalTextures?"fillColors":"preparedColors",u=this.clickHighlight&&this.clickHighlight.length>0&&fe(t,this.clickHighlight,this.innerInteractionKeys)&&this.innerClickStyle.color?Te[this.innerClickStyle.color]||this.innerClickStyle.color:this.hoverHighlight&&he(t,this.hoverHighlight,this.innerInteractionKeys)&&this.innerHoverStyle.color?Te[this.innerHoverStyle.color]||this.innerHoverStyle.color:this[o](this.groupAccessor?t[this.groupAccessor]:t[this.valueAccessor]),a=dt(r[n]),s="auto"===this.placement&&("vertical"===this.layout?"top"===this.dataLabel.collisionPlacement&&"bottom"!==a.attr("data-baseline")||"middle"===this.dataLabel.collisionPlacement&&"bottom"!==a.attr("data-baseline")||"bottom"===this.dataLabel.collisionPlacement&&"bottom"===a.attr("data-baseline")&&(t[this.valueAccessor]>=0&&this.y(0)-this.y(t[this.valueAccessor])>20||t[this.valueAccessor]<0&&this.y(0)-this.y(t[this.valueAccessor])<-20):"right"===this.dataLabel.collisionPlacement&&"left"!==a.attr("data-align")||"middle"===this.dataLabel.collisionPlacement&&"left"!==a.attr("data-align")||"left"===this.dataLabel.collisionPlacement&&"right"!==a.attr("data-align")),c=s||"bottom"===this.placement||"left"===this.placement?ue(u):Te.dark_text;return a.attr("filter",a.classed("textIsMoving")?null:Ci({root:this.svg.node(),id:this.chartID,color:s||"bottom"===this.placement||"left"===this.placement?u:"#ffffff"})),c},this.mainTitle=yr.mainTitle,this.subTitle=yr.subTitle,this.height=yr.height,this.width=yr.width,this.layout=yr.layout,this.highestHeadingLevel=yr.highestHeadingLevel,this.margin=yr.margin,this.padding=yr.padding,this.data=void 0,this.uniqueID=void 0,this.ordinalAccessor=yr.ordinalAccessor,this.valueAccessor=yr.valueAccessor,this.groupAccessor=yr.groupAccessor,this.sortOrder=yr.sortOrder,this.xAxis=yr.xAxis,this.yAxis=yr.yAxis,this.wrapLabel=yr.wrapLabel,this.colorPalette=yr.colorPalette,this.colors=void 0,this.hoverStyle=yr.hoverStyle,this.clickStyle=yr.clickStyle,this.referenceStyle=yr.referenceStyle,this.cursor=yr.cursor,this.roundedCorner=yr.roundedCorner,this.barIntervalRatio=yr.barIntervalRatio,this.hoverOpacity=yr.hoverOpacity,this.animationConfig=yr.animationConfig,this.dataLabel=yr.dataLabel,this.dataKeyNames=void 0,this.showTooltip=yr.showTooltip,this.tooltipLabel=yr.tooltipLabel,this.accessibility=yr.accessibility,this.legend=yr.legend,this.annotations=yr.annotations,this.maxValueOverride=void 0,this.minValueOverride=void 0,this.referenceLines=yr.referenceLines,this.suppressEvents=yr.suppressEvents,this.hoverHighlight=void 0,this.clickHighlight=yr.clickHighlight,this.interactionKeys=void 0,this.unitTest=!1}dataWatcher(t,n){this.updated=!0,this.shouldUpdateData=!0,this.shouldSetColors=!0,this.shouldSetTextures=!0,this.shouldSetGlobalSelections=!0,this.shouldSetTestingAttributes=!0,this.shouldEnterUpdateExit=!0,this.shouldSetLabelContent=!0,this.shouldSetLabelPosition=!0,this.shouldSetGeometryAccessibilityAttributes=!0,this.shouldSetGeometryAriaLabels=!0,this.shouldUpdateLegendData=!0,this.shouldUpdateTableData=!0,this.shouldUpdateScales=!0,this.shouldValidate=!0,this.shouldUpdateGeometries=!0,this.shouldUpdateXAxis=!0,this.shouldSetXAxisAccessibility=!0,this.shouldUpdateYAxis=!0,this.shouldSetYAxisAccessibility=!0,this.shouldUpdateXGrid=!0,this.shouldUpdateYGrid=!0,this.shouldUpdateLegend=!0,this.shouldUpdateReferenceLines=!0,this.shouldUpdateBaseline=!0,this.shouldUpdateAnnotations=!0,this.shouldSetStrokes=!0}sortWatcher(t,n){this.updated=!0,this.shouldUpdateData=!0,this.shouldSetGlobalSelections=!0,this.shouldSetTestingAttributes=!0,this.shouldEnterUpdateExit=!0,this.shouldSetGeometryAccessibilityAttributes=!0,this.shouldSetGeometryAriaLabels=!0,this.shouldUpdateTableData=!0,this.shouldUpdateScales=!0,this.shouldUpdateGeometries=!0,this.shouldSetLabelContent=!0,this.shouldSetLabelPosition=!0,this.shouldUpdateAnnotations=!0}groupAccessorWatcher(t,n){this.shouldUpdateLegendData=!0,this.shouldSetColors=!0,this.shouldSetTextures=!0,this.shouldDrawInteractionState=!0,this.shouldCheckLabelColor=!0,this.shouldUpdateLegend=!0,this.shouldSetGeometryAriaLabels=!0,this.shouldSetGeometryAccessibilityAttributes=!0,this.shouldUpdateTableData=!0,this.shouldSetStrokes=!0,this.interactionKeys&&this.interactionKeys.length||(this.shouldValidateInteractionKeys=!0,this.shouldSetSelectionClass=!0)}ordinalAccessorWatcher(t,n){this.shouldUpdateTableData=!0,this.shouldUpdateScales=!0,this.shouldUpdateGeometries=!0,this.shouldDrawInteractionState=!0,this.shouldCheckLabelColor=!0,this.shouldCheckLabelAxis=!0,this.shouldUpdateReferenceLines=!0,this.shouldUpdateBaseline=!0,this.shouldUpdateAnnotations=!0,this.shouldSetGeometryAriaLabels=!0,this.shouldSetStrokes=!0,this.interactionKeys&&this.interactionKeys.length||(this.shouldValidateInteractionKeys=!0,this.shouldSetSelectionClass=!0)}valueAccessorWatcher(t,n){this.shouldUpdateTableData=!0,this.shouldUpdateScales=!0,this.shouldSetColors=!0,this.shouldSetTextures=!0,this.shouldUpdateGeometries=!0,this.shouldDrawInteractionState=!0,this.shouldCheckValueAxis=!0,this.shouldValidateDataLabelAccessor=!0,this.shouldCheckLabelColor=!0,this.shouldSetLabelContent=!0,this.shouldSetLabelPosition=!0,this.shouldUpdateReferenceLines=!0,this.shouldUpdateBaseline=!0,this.shouldUpdateAnnotations=!0,this.shouldSetGeometryAriaLabels=!0,this.shouldSetStrokes=!0}valueOverrideWatcher(t,n){this.shouldUpdateScales=!0,this.shouldUpdateGeometries=!0,this.shouldCheckValueAxis=!0,this.shouldSetLabelPosition=!0,this.shouldCheckLabelColor=!0,this.shouldUpdateReferenceLines=!0,this.shouldUpdateBaseline=!0,this.shouldUpdateAnnotations=!0}headingWatcher(t,n){this.shouldRedrawWrapper=!0,this.shouldSetTagLevels=!0,this.shouldSetChartAccessibilityCount=!0,this.shouldSetYAxisAccessibility=!0,this.shouldSetXAxisAccessibility=!0,this.shouldUpdateDescriptionWrapper=!0,this.shouldSetAnnotationAccessibility=!0,this.shouldSetChartAccessibilityTitle=!0,this.shouldSetChartAccessibilitySubtitle=!0,this.shouldSetChartAccessibilityLongDescription=!0,this.shouldSetChartAccessibilityContext=!0,this.shouldSetChartAccessibilityExecutiveSummary=!0,this.shouldSetChartAccessibilityPurpose=!0,this.shouldSetChartAccessibilityStatisticalNotes=!0,this.shouldSetChartAccessibilityStructureNotes=!0}titleWatcher(t,n){this.shouldValidate=!0,this.shouldUpdateDescriptionWrapper=!0,this.shouldSetChartAccessibilityTitle=!0,this.shouldSetParentSVGAccessibility=!0}subtitleWatcher(t,n){this.shouldSetChartAccessibilitySubtitle=!0,this.shouldSetParentSVGAccessibility=!0}xAxisWatcher(t,n){this.shouldUpdateXAxis=!0,this.shouldSetXAxisAccessibility=!0,(t&&t.gridVisible)===(n&&n.gridVisible)&&(t&&t.tickInterval?t.tickInterval:0)===(n&&n.tickInterval?n.tickInterval:0)||(this.shouldUpdateXGrid=!0),(t&&t.centerBaseline)!==(n&&n.centerBaseline)&&(this.shouldValidateLabelPlacement=!0,this.shouldUpdateScales=!0,this.shouldResetRoot=!0,this.shouldUpdateGeometries=!0,this.shouldSetGeometryAccessibilityAttributes=!0,this.shouldUpdateXAxis=!0,this.shouldUpdateYAxis=!0,this.shouldUpdateXGrid=!0,this.shouldUpdateYGrid=!0,this.shouldSetLabelPosition=!0,this.shouldCheckLabelColor=!0,this.shouldUpdateLegend=!0,this.shouldUpdateReferenceLines=!0,this.shouldUpdateBaseline=!0,this.shouldUpdateAnnotations=!0)}yAxisWatcher(t,n){this.shouldUpdateYAxis=!0,this.shouldSetYAxisAccessibility=!0,(t&&t.gridVisible)===(n&&n.gridVisible)&&(t&&t.tickInterval?t.tickInterval:0)===(n&&n.tickInterval?n.tickInterval:0)||(this.shouldUpdateYGrid=!0),(t&&t.centerBaseline)!==(n&&n.centerBaseline)&&(this.shouldValidateLabelPlacement=!0,this.shouldUpdateScales=!0,this.shouldResetRoot=!0,this.shouldUpdateGeometries=!0,this.shouldSetGeometryAccessibilityAttributes=!0,this.shouldUpdateXAxis=!0,this.shouldUpdateYAxis=!0,this.shouldUpdateXGrid=!0,this.shouldUpdateYGrid=!0,this.shouldSetLabelPosition=!0,this.shouldCheckLabelColor=!0,this.shouldUpdateLegend=!0,this.shouldUpdateReferenceLines=!0,this.shouldUpdateBaseline=!0,this.shouldUpdateAnnotations=!0)}wrapLabelWatcher(t,n){this.shouldCheckLabelAxis=!0}colorsWatcher(t,n){this.shouldSetColors=!0,this.shouldSetTextures=!0,this.shouldDrawInteractionState=!0,this.shouldCheckLabelColor=!0,this.shouldUpdateLegend=!0,this.shouldSetStrokes=!0}layoutWatcher(t,n){this.shouldValidateLabelPlacement=!0,this.shouldUpdateScales=!0,this.shouldResetRoot=!0,this.shouldUpdateGeometries=!0,this.shouldSetGeometryAccessibilityAttributes=!0,this.shouldUpdateXAxis=!0,this.shouldUpdateYAxis=!0,this.shouldUpdateXGrid=!0,this.shouldUpdateYGrid=!0,this.shouldSetLabelPosition=!0,this.shouldCheckLabelColor=!0,this.shouldUpdateLegend=!0,this.shouldUpdateReferenceLines=!0,this.shouldUpdateBaseline=!0,this.shouldUpdateAnnotations=!0}dimensionWatcher(t,n){this.shouldUpdateLayoutVariables=!0,this.shouldUpdateScales=!0,this.shouldResetRoot=!0,this.shouldUpdateGeometries=!0,this.shouldUpdateXAxis=!0,this.shouldUpdateYAxis=!0,this.shouldUpdateXGrid=!0,this.shouldUpdateYGrid=!0,this.shouldSetLabelPosition=!0,this.shouldCheckLabelColor=!0,this.shouldUpdateLegend=!0,this.shouldUpdateReferenceLines=!0,this.shouldUpdateBaseline=!0,this.shouldUpdateAnnotations=!0}cornerWatcher(t,n){this.shouldUpdateCorners=!0}intervalRatioWatcher(t,n){this.shouldUpdateScales=!0,this.shouldUpdateGeometries=!0,this.shouldCheckLabelAxis=!0,this.shouldSetLabelPosition=!0,this.shouldCheckLabelColor=!0,this.shouldUpdateAnnotations=!0}labelWatcher(t,n){const r=!(!t||!t.placement)&&t.placement,i=!(!n||!n.placement)&&n.placement,e=!(!t||!t.collisionPlacement)&&t.collisionPlacement,o=!(!n||!n.collisionPlacement)&&n.collisionPlacement,u=!(!t||!t.labelAccessor)&&t.labelAccessor,a=!(!n||!n.labelAccessor)&&n.labelAccessor,s=!(!t||!t.format)&&t.format,c=!(!n||!n.format)&&n.format,f=!(!t||!t.collisionHideOnly)&&t.collisionHideOnly,h=!(!n||!n.collisionHideOnly)&&n.collisionHideOnly;(t&&t.visible)!==(n&&n.visible)&&(this.shouldSetLabelOpacity=!0),r===i&&e===o&&f===h||(this.shouldValidateLabelPlacement=!0,this.shouldSetLabelPosition=!0,this.shouldCheckLabelColor=!0),u===a&&s===c||(this.shouldUpdateTableData=!0,this.shouldValidateDataLabelAccessor=!0,this.shouldSetLabelContent=!0,this.shouldCheckLabelColor=!0)}legendWatcher(t,n){this.shouldUpdateLegend=!0,(t&&t.interactive)!==(n&&n.interactive)&&(this.shouldSetLegendCursor=!0,this.shouldUpdateLegendInteractivity=!0)}referenceWatcher(t,n){this.shouldUpdateReferenceLines=!0}tooltipLabelWatcher(t,n){this.shouldUpdateTableData=!0,this.shouldSetParentSVGAccessibility=!0,this.shouldSetGeometryAriaLabels=!0}showTooltipWatcher(t,n){this.shouldDrawInteractionState=!0}hoverOpacityWatcher(t,n){this.shouldDrawInteractionState=!0,this.shouldCheckLabelColor=!0}clickStyleWatcher(t,n){this.shouldDrawInteractionState=!0,this.shouldCheckLabelColor=!0,this.shouldValidateClickStyle=!0,this.shouldSetStrokes=!0}hoverStyleWatcher(t,n){this.shouldDrawInteractionState=!0,this.shouldCheckLabelColor=!0,this.shouldValidateHoverStyle=!0,this.shouldSetStrokes=!0}clickWatcher(t,n){this.shouldDrawInteractionState=!0,this.shouldCheckLabelColor=!0,this.shouldSetSelectionClass=!0}hoverWatcher(t,n){this.shouldDrawInteractionState=!0,this.shouldCheckLabelColor=!0}interactionWatcher(t,n){this.shouldValidateInteractionKeys=!0,this.shouldDrawInteractionState=!0,this.shouldCheckLabelColor=!0,this.shouldSetSelectionClass=!0,this.shouldSetGeometryAriaLabels=!0,this.shouldUpdateTableData=!0}dataKeyNamesWatcher(t,n){this.shouldUpdateXAxis=!0,this.shouldSetXAxisAccessibility=!0,this.shouldUpdateYAxis=!0,this.shouldSetYAxisAccessibility=!0,this.shouldSetParentSVGAccessibility=!0,this.shouldSetGroupAccessibilityLabel=!0,this.shouldSetGeometryAriaLabels=!0}cursorWatcher(t,n){this.shouldUpdateCursor=!0,this.shouldSetLegendCursor=!0}accessibilityWatcher(t,n){this.shouldValidate=!0,(!(!t||!t.title)&&t.title)!==(!(!n||!n.title)&&n.title)&&(this.shouldUpdateDescriptionWrapper=!0,this.shouldSetChartAccessibilityTitle=!0,this.shouldSetParentSVGAccessibility=!0),(!(!t||!t.executiveSummary)&&t.executiveSummary)!==(!(!n||!n.executiveSummary)&&n.executiveSummary)&&(this.shouldSetChartAccessibilityExecutiveSummary=!0),(!(!t||!t.purpose)&&t.purpose)!==(!(!n||!n.purpose)&&n.purpose)&&(this.shouldSetChartAccessibilityPurpose=!0),(!(!t||!t.longDescription)&&t.longDescription)!==(!(!n||!n.longDescription)&&n.longDescription)&&(this.shouldSetChartAccessibilityLongDescription=!0),(!(!t||!t.contextExplanation)&&t.contextExplanation)!==(!(!n||!n.contextExplanation)&&n.contextExplanation)&&(this.shouldSetChartAccessibilityContext=!0),(!(!t||!t.statisticalNotes)&&t.statisticalNotes)!==(!(!n||!n.statisticalNotes)&&n.statisticalNotes)&&(this.shouldSetChartAccessibilityStatisticalNotes=!0),(!(!t||!t.structureNotes)&&t.structureNotes)!==(!(!n||!n.structureNotes)&&n.structureNotes)&&(this.shouldSetChartAccessibilityStructureNotes=!0);const r=t&&t.includeDataKeyNames,i=n&&n.includeDataKeyNames;r===i&&(!(!t||!t.elementDescriptionAccessor)&&t.elementDescriptionAccessor)===(!(!n||!n.elementDescriptionAccessor)&&n.elementDescriptionAccessor)||(r!==i&&(this.shouldSetGroupAccessibilityLabel=!0),this.shouldSetGeometryAriaLabels=!0,this.shouldSetParentSVGAccessibility=!0),(!(!t||!t.hideTextures)&&t.hideTextures)===(!(!n||!n.hideTextures)&&n.hideTextures)&&(!(!t||!t.showExperimentalTextures)&&t.showExperimentalTextures)===(!(!n||!n.showExperimentalTextures)&&n.showExperimentalTextures)||(this.shouldSetTextures=!0,this.shouldUpdateLegend=!0,this.shouldDrawInteractionState=!0,this.shouldCheckLabelColor=!0),(!(!t||!t.showSmallLabels)&&t.showSmallLabels)!==(!(!n||!n.showSmallLabels)&&n.showSmallLabels)&&(this.shouldSetLabelOpacity=!0),(!(!t||!t.hideStrokes)&&t.hideStrokes)!==(!(!n||!n.hideStrokes)&&n.hideStrokes)&&(this.shouldSetStrokes=!0,this.shouldUpdateLegend=!0,this.shouldDrawInteractionState=!0);const e=!(!t||!t.elementsAreInterface)&&t.elementsAreInterface,o=!(!n||!n.elementsAreInterface)&&n.elementsAreInterface;(!!(t&&t.keyboardNavConfig&&t.keyboardNavConfig.disabled)&&t.keyboardNavConfig.disabled)===(!!(n&&n.keyboardNavConfig&&n.keyboardNavConfig.disabled)&&n.keyboardNavConfig.disabled)&&e===o||(this.shouldSetGeometryAriaLabels=!0,this.shouldSetParentSVGAccessibility=!0,this.shouldUpdateDescriptionWrapper=!0,this.shouldRedrawWrapper=!0,this.shouldSetChartAccessibilityTitle=!0,this.shouldSetChartAccessibilitySubtitle=!0,this.shouldSetChartAccessibilityLongDescription=!0,this.shouldSetChartAccessibilityContext=!0,this.shouldSetChartAccessibilityExecutiveSummary=!0,this.shouldSetChartAccessibilityPurpose=!0,this.shouldSetChartAccessibilityStatisticalNotes=!0,this.shouldSetChartAccessibilityStructureNotes=!0),e!==o&&(this.shouldSetSelectionClass=!0)}annotationsWatcher(t,n){this.shouldValidate=!0,this.shouldUpdateAnnotations=!0,this.shouldSetAnnotationAccessibility=!0}idWatcher(t,n){console.error("Change detected in prop uniqueID from value "+n+" to value "+t+". This prop cannot be changed after component has loaded.")}suppressWatcher(t,n){this.shouldBindInteractivity=!0,this.shouldUpdateCursor=!0,this.shouldSetLegendCursor=!0,this.shouldUpdateLegendInteractivity=!0,this.shouldSetGeometryAriaLabels=!0,this.shouldSetParentSVGAccessibility=!0,this.shouldUpdateDescriptionWrapper=!0,this.shouldValidate=!0,this.shouldRedrawWrapper=!0,this.shouldSetChartAccessibilityTitle=!0,this.shouldSetChartAccessibilitySubtitle=!0,this.shouldSetChartAccessibilityLongDescription=!0,this.shouldSetChartAccessibilityContext=!0,this.shouldSetChartAccessibilityExecutiveSummary=!0,this.shouldSetChartAccessibilityPurpose=!0,this.shouldSetChartAccessibilityStatisticalNotes=!0,this.shouldSetChartAccessibilityStructureNotes=!0}unitTestWatcher(t,n){this.shouldSetTestingAttributes=!0}componentWillLoad(){const t=this.uniqueID||"bar-chart-"+kr();return this.initialLoadEvent.emit({chartID:t}),new Promise((n=>{this.duration=0,this.defaults=!0,this.chartID=t,this.barChartEl.id=this.chartID,this.setTagLevels(),this.prepareData(),this.prepareLegendData(),this.updateChartVariable(),this.prepareScales(),this.validateInteractionKeys(),this.setTableData(),this.shouldValidateAccessibilityProps(),this.validateClickStyle(),this.validateHoverStyle(),this.setColors(),n("component will load")}))}componentWillUpdate(){return new Promise((t=>{t("component will update")}))}componentDidLoad(){return new Promise((t=>{this.shouldValidateAccessibilityProps(),this.renderRootElements(),this.setTooltipInitialStyle(),this.setChartDescriptionWrapper(),this.setChartAccessibilityTitle(),this.setChartAccessibilitySubtitle(),this.setChartAccessibilityLongDescription(),this.setChartAccessibilityExecutiveSummary(),this.setChartAccessibilityPurpose(),this.setChartAccessibilityContext(),this.setChartAccessibilityStatisticalNotes(),this.setChartAccessibilityStructureNotes(),this.setParentSVGAccessibility(),this.reSetRoot(),this.setTextures(),this.setStrokes(),this.drawXGrid(),this.drawYGrid(),this.setGlobalSelections(),this.setTestingAttributes(),this.validateClickStyle(),this.validateHoverStyle(),this.validateDataLabelAccessor(),this.enterGeometries(),this.updateGeometries(),this.exitGeometries(),this.enterLabels(),this.updateLabels(),this.exitLabels(),this.drawGeometries(),this.setChartCountAccessibility(),this.setGeometryAccessibilityAttributes(),this.setGeometryAriaLabels(),this.setRoundedCorners(),this.drawLegendElements(),this.validateLabelPlacement(),this.setLabelContent(),this.processLabelPosition(this.updatingLabels,!1,!0,!1),this.drawReferenceLines(),this.setSelectedClass(),this.checkLabelColorAgainstBackground(),this.updateCursor(),this.bindInteractivity(),this.bindLegendInteractivity(),this.drawXAxis(),this.setXAxisAccessibility(),this.drawYAxis(),this.setYAxisAccessibility(),this.drawAnnotations(),this.setAnnotationAccessibility(),this.drawBaseline(),this.onChangeHandler(),Yi(this.root.node(),this.bars.node()),this.setGroupAccessibilityAttributes(),this.setGroupAccessibilityID(),this.defaults=!1,this.updatingLabels.classed("entering",!1),t("component did load")})).then((()=>this.initialLoadEndEvent.emit({chartID:this.chartID})))}componentDidUpdate(){return new Promise((t=>{this.duration=this.animationConfig&&this.animationConfig.disabled?0:750,this.shouldUpdateDescriptionWrapper&&(this.setChartDescriptionWrapper(),this.shouldUpdateDescriptionWrapper=!1),this.shouldSetChartAccessibilityCount&&(this.setChartCountAccessibility(),this.shouldSetChartAccessibilityCount=!1),this.shouldSetChartAccessibilityTitle&&(this.setChartAccessibilityTitle(),this.shouldSetChartAccessibilityTitle=!1),this.shouldSetChartAccessibilitySubtitle&&(this.setChartAccessibilitySubtitle(),this.shouldSetChartAccessibilitySubtitle=!1),this.shouldSetChartAccessibilityLongDescription&&(this.setChartAccessibilityLongDescription(),this.shouldSetChartAccessibilityLongDescription=!1),this.shouldSetChartAccessibilityExecutiveSummary&&(this.setChartAccessibilityExecutiveSummary(),this.shouldSetChartAccessibilityExecutiveSummary=!1),this.shouldSetChartAccessibilityPurpose&&(this.setChartAccessibilityPurpose(),this.shouldSetChartAccessibilityPurpose=!1),this.shouldSetChartAccessibilityContext&&(this.setChartAccessibilityContext(),this.shouldSetChartAccessibilityContext=!1),this.shouldSetChartAccessibilityStatisticalNotes&&(this.setChartAccessibilityStatisticalNotes(),this.shouldSetChartAccessibilityStatisticalNotes=!1),this.shouldSetChartAccessibilityStructureNotes&&(this.setChartAccessibilityStructureNotes(),this.shouldSetChartAccessibilityStructureNotes=!1),this.shouldSetParentSVGAccessibility&&(this.setParentSVGAccessibility(),this.shouldSetParentSVGAccessibility=!1),this.shouldResetRoot&&(this.reSetRoot(),this.shouldResetRoot=!1),this.shouldSetTextures&&(this.setTextures(),this.shouldSetTextures=!1),this.shouldSetStrokes&&(this.setStrokes(),this.shouldSetStrokes=!1),this.shouldSetGlobalSelections&&(this.setGlobalSelections(),this.shouldSetGlobalSelections=!1),this.shouldSetTestingAttributes&&(this.setTestingAttributes(),this.shouldSetTestingAttributes=!1),this.shouldUpdateXGrid&&(this.drawXGrid(),this.shouldUpdateXGrid=!1),this.shouldUpdateYGrid&&(this.drawYGrid(),this.shouldUpdateYGrid=!1),this.shouldEnterUpdateExit&&(this.enterGeometries(),this.updateGeometries(),this.exitGeometries(),this.enterLabels(),this.updateLabels(),this.exitLabels(),this.shouldEnterUpdateExit=!1),this.shouldUpdateGeometries&&(this.drawGeometries(),this.shouldUpdateGeometries=!1),this.shouldSetGeometryAccessibilityAttributes&&(this.setGeometryAccessibilityAttributes(),this.shouldSetGeometryAccessibilityAttributes=!1),this.shouldSetGeometryAriaLabels&&(this.setGeometryAriaLabels(),this.shouldSetGeometryAriaLabels=!1),this.shouldSetGroupAccessibilityLabel&&(this.setGroupAccessibilityID(),this.shouldSetGroupAccessibilityLabel=!1),this.shouldUpdateCorners&&(this.setRoundedCorners(),this.shouldUpdateCorners=!1),this.shouldUpdateLegend&&(this.drawLegendElements(),this.shouldUpdateLegend=!1),this.shouldSetLabelContent&&(this.setLabelContent(),this.shouldSetLabelContent=!1),this.shouldSetLabelPosition&&(this.setLabelPosition(),this.shouldSetLabelPosition=!1),this.shouldUpdateReferenceLines&&(this.drawReferenceLines(),this.shouldUpdateReferenceLines=!1),this.shouldDrawInteractionState&&(this.updateInteractionState(),this.shouldDrawInteractionState=!1),this.shouldSetLabelOpacity&&(this.setLabelOpacity(),this.shouldSetLabelOpacity=!1),this.shouldCheckLabelColor&&(this.checkLabelColorAgainstBackground(),this.shouldCheckLabelColor=!1),this.shouldSetSelectionClass&&(this.setSelectedClass(),this.shouldSetSelectionClass=!1),this.shouldUpdateLegendInteractivity&&(this.bindLegendInteractivity(),this.shouldUpdateLegendInteractivity=!1),this.shouldSetLegendCursor&&(this.setLegendCursor(),this.shouldSetLegendCursor=!1),this.shouldUpdateCursor&&(this.updateCursor(),this.shouldUpdateCursor=!1),this.shouldBindInteractivity&&(this.bindInteractivity(),this.shouldBindInteractivity=!1),this.shouldUpdateXAxis&&(this.drawXAxis(),this.shouldUpdateXAxis=!1),this.shouldSetXAxisAccessibility&&(this.setXAxisAccessibility(),this.shouldSetXAxisAccessibility=!1),this.shouldUpdateYAxis&&(this.drawYAxis(),this.shouldUpdateYAxis=!1),this.shouldSetYAxisAccessibility&&(this.setYAxisAccessibility(),this.shouldSetYAxisAccessibility=!1),this.shouldUpdateAnnotations&&(this.drawAnnotations(),this.shouldUpdateAnnotations=!1),this.shouldSetAnnotationAccessibility&&(this.setAnnotationAccessibility(),this.shouldSetAnnotationAccessibility=!1),this.shouldUpdateBaseline&&(this.drawBaseline(),this.shouldUpdateBaseline=!1),this.onChangeHandler(),this.updatingLabels.classed("entering",!1),t("component did update")})).then((()=>this.drawEndEvent.emit({chartID:this.chartID})))}shouldValidateAccessibilityProps(){this.shouldValidateAccessibility&&!this.accessibility.disableValidation&&(this.shouldValidateAccessibility=!1,Se(this.chartID,Object.assign({},this.accessibility),{annotations:this.annotations,data:this.data,uniqueID:this.uniqueID,context:{mainTitle:this.mainTitle,onClickEvent:this.suppressEvents?void 0:this.clickEvent.emit}}))}validateInteractionKeys(){this.innerInteractionKeys=this.interactionKeys&&this.interactionKeys.length?this.interactionKeys:[this.groupAccessor||this.ordinalAccessor]}validateDataLabelAccessor(){this.innerLabelAccessor=this.dataLabel.labelAccessor?this.dataLabel.labelAccessor:this.valueAccessor}setTagLevels(){this.topLevel=Oe(this.highestHeadingLevel),this.bottomLevel=Oe(this.highestHeadingLevel,3)}updateChartVariable(){this.padding="string"==typeof this.padding?Me(this.padding):this.padding,this.innerHeight=this.height-this.margin.top-this.margin.bottom,this.innerWidth=this.width-this.margin.left-this.margin.right,this.innerPaddedHeight=this.innerHeight-this.padding.top-this.padding.bottom,this.innerPaddedWidth=this.innerWidth-this.padding.left-this.padding.right}prepareData(){this.data&&("asc"===this.sortOrder?this.preppedData=[...this.data].sort(((t,n)=>(t[this.valueAccessor]=parseFloat(t[this.valueAccessor]),n[this.valueAccessor]=parseFloat(n[this.valueAccessor]),t[this.valueAccessor]-n[this.valueAccessor]))):"desc"===this.sortOrder?this.preppedData=[...this.data].sort(((t,n)=>(t[this.valueAccessor]=parseFloat(t[this.valueAccessor]),n[this.valueAccessor]=parseFloat(n[this.valueAccessor]),n[this.valueAccessor]-t[this.valueAccessor]))):(this.preppedData=this.data,this.preppedData.map((t=>{t[this.valueAccessor]=parseFloat(t[this.valueAccessor])}))))}prepareLegendData(){const t=St().key((t=>t[this.groupAccessor])).entries(this.preppedData);this.legendData=[],t.forEach((t=>{this.legendData.push(t.values[0])}))}setColors(){const t=this.colors?le(this.colors):this.colorPalette,n=Nt(this.preppedData,(t=>t[this.valueAccessor])),r=At(this.preppedData,(t=>t[this.valueAccessor]));this.preparedColors=we(t,this.groupAccessor?jt().domain(this.data.map((t=>t[this.groupAccessor]))).domain():[n,r]);const i=this.preparedColors.range?this.preparedColors.range():this.preparedColors,e=[],o=[];let u=0;const a=Math.ceil(i.length/2),s=this.colorPalette&&this.colorPalette.includes("diverging"),c=this.colorPalette&&this.colorPalette.includes("dark"),f=this.groupAccessor||1===i.length?"categorical":s?"diverging":"sequential";i.forEach((t=>{const n=Si(t,u,i,f);if("diverging"===f){const t=Oi(n.fillColor),r=Oi(n.textureColor),a=t>r?n.textureColor:n.fillColor,s=t<r?n.textureColor:n.fillColor;i.length%2&&u===(i.length-1)/2?(o.push(c?a:s),e.push(c?s:a)):(e.push(c?a:s),o.push(c?s:a))}else u+1<a?(o.push(i[0]),e.push(i[i.length-1])):(e.push(i[0]),o.push(i[i.length-1]));u++})),this.fillColors=this.preparedColors.copy().range(o),this.strokeColors=this.preparedColors.copy().range(e)}setTextures(){const t=this.preparedColors.range?this.preparedColors.range():this.preparedColors,n=this.groupAccessor||1===t.length?"categorical":this.colorPalette&&this.colorPalette.includes("diverging")?"diverging":"sequential";if(this.accessibility.hideTextures||"categorical"===n&&t.length>6||"categorical"!==n&&!this.accessibility.showExperimentalTextures)this.colorArr=this.preparedColors;else{const r=Wi({colors:t,rootSVG:this.svg.node(),id:this.chartID,scheme:n,disableTransitions:!this.duration});this.colorArr=this.preparedColors.copy().range(r)}}setStrokes(){const t=this.preparedColors.range?this.preparedColors.range():this.preparedColors,n=this.groupAccessor||1===t.length?"categorical":this.colorPalette&&this.colorPalette.includes("diverging")?"diverging":"sequential";this.strokes=Hi({root:this.svg.node(),id:this.chartID,colors:!this.accessibility.hideTextures&&"categorical"!==n&&this.accessibility.showExperimentalTextures?this.fillColors.range():t,clickStyle:this.innerClickStyle,hoverStyle:this.innerHoverStyle,strokeOverride:!this.accessibility.hideTextures&&"categorical"!==n&&this.accessibility.showExperimentalTextures?this.strokeColors.range():void 0})}setTableData(){const t=xe(this,se,"bar-chart");this.tableData=Le(this.preppedData,t),this.tableColumns=Object.keys(t)}validateLabelPlacement(){this.placement=this.dataLabel.placement,"vertical"===this.layout?"top"!==this.placement&&"bottom"!==this.placement&&"auto"!==this.placement&&(this.placement="top"):this.placement&&"top"!==this.placement&&"bottom"!==this.placement||(this.placement="right")}shouldCenterBaseline(){return(this.xAxis.centerBaseline&&"horizontal"===this.layout||this.yAxis.centerBaseline&&"vertical"===this.layout)&&Nt(this.preppedData,(t=>t[this.valueAccessor]))>=0}prepareScales(){const t=this.shouldCenterBaseline()?this.maxValueOverride&&this.maxValueOverride>At(this.preppedData,(t=>t[this.valueAccessor]))?-De(this.maxValueOverride):-De(At(this.preppedData,(t=>t[this.valueAccessor]))):this.minValueOverride&&this.minValueOverride<Nt(this.preppedData,(t=>t[this.valueAccessor]))?this.minValueOverride:Nt(this.preppedData,(t=>t[this.valueAccessor])),n=this.shouldCenterBaseline()?this.maxValueOverride&&this.maxValueOverride>At(this.preppedData,(t=>t[this.valueAccessor]))?De(this.maxValueOverride):De(At(this.preppedData,(t=>t[this.valueAccessor]))):this.maxValueOverride&&this.maxValueOverride>At(this.preppedData,(t=>t[this.valueAccessor]))?this.maxValueOverride:At(this.preppedData,(t=>t[this.valueAccessor]));"vertical"===this.layout?(this.y=hr().domain([Math.min(0,t),Math.max(0,n)]).range([this.innerPaddedHeight,0]),this.x=_t().domain(this.preppedData.map((t=>t[this.ordinalAccessor]))).range([0,this.innerPaddedWidth]).padding(this.barIntervalRatio)):"horizontal"===this.layout&&(this.x=hr().domain([Math.min(0,t),Math.max(0,n)]).range([0,this.innerPaddedWidth]),this.y=_t().domain(this.preppedData.map((t=>t[this.ordinalAccessor]))).range([0,this.innerPaddedHeight]).padding(this.barIntervalRatio))}reSetRoot(){Ie({selection:this.svg,duration:this.duration,namespace:"root_reset",easing:lr}).attr("width",this.width).attr("height",this.height).attr("viewBox","0 0 "+this.width+" "+this.height),Ie({selection:this.root,duration:this.duration,namespace:"root_reset",easing:lr}).attr("transform",`translate(${this.margin.left}, ${this.margin.top})`),Ie({selection:this.rootG,duration:this.duration,namespace:"root_reset",easing:lr}).attr("transform",`translate(${this.padding.left}, ${this.padding.top})`),oe(this.chartID,this.width)}checkHideAxisState(t,n,r){return!!(this[t].centerBaseline&&this.layout===n&&r>=0)||!this[t].visible}drawXAxis(){const t="vertical"===this.layout?this.ordinalAccessor:this.valueAccessor;de({root:this.rootG,height:this.innerPaddedHeight,width:this.innerPaddedWidth,axisScale:this.x,left:!1,wrapLabel:this.wrapLabel&&"vertical"===this.layout?this.innerPaddedWidth/this.data.length:"",format:this.xAxis.format,dateFormat:this.xAxis.format,tickInterval:this.xAxis.tickInterval,label:this.xAxis.label||""===this.xAxis.label?this.xAxis.label:this.dataKeyNames&&this.dataKeyNames[t]?this.dataKeyNames[t]:this.xAxis.label,padding:this.padding,hide:this.checkHideAxisState("xAxis","horizontal",Nt(this.preppedData,(t=>t[this.valueAccessor]))),duration:this.duration})}drawYAxis(){const t="vertical"===this.layout?this.valueAccessor:this.ordinalAccessor;de({root:this.rootG,height:this.innerPaddedHeight,width:this.innerPaddedWidth,axisScale:this.y,left:!0,wrapLabel:this.wrapLabel?this.padding.left||100:"",format:this.yAxis.format,dateFormat:this.yAxis.format,tickInterval:this.yAxis.tickInterval,label:this.yAxis.label&&""!==this.yAxis.label?this.yAxis.label:this.dataKeyNames&&this.dataKeyNames[t]?this.dataKeyNames[t]:this.yAxis.label,padding:this.padding,hide:this.checkHideAxisState("yAxis","vertical",Nt(this.preppedData,(t=>t[this.valueAccessor]))),duration:this.duration})}drawBaseline(){"vertical"!==this.layout||this.shouldCenterBaseline()||de({root:this.rootG,height:this.innerPaddedHeight,width:this.innerPaddedWidth,axisScale:this.x,left:!1,padding:this.padding,markOffset:this.y(0)||-1,duration:this.duration}),"horizontal"===this.layout&&de({root:this.rootG,height:this.innerPaddedHeight,width:this.innerPaddedWidth,axisScale:this.y,left:!0,padding:this.padding,markOffset:this.shouldCenterBaseline()?this.maxValueOverride&&this.maxValueOverride>At(this.preppedData,(t=>t[this.valueAccessor]))?-De(this.maxValueOverride):-De(At(this.preppedData,(t=>t[this.valueAccessor]))):this.minValueOverride&&this.minValueOverride<Nt(this.preppedData,(t=>t[this.valueAccessor]))?this.minValueOverride:this.x(0)||-1,duration:this.duration})}setXAxisAccessibility(){const t="vertical"===this.layout?this.ordinalAccessor:this.valueAccessor,n=this.xAxis.label&&""!==this.xAxis.label?this.xAxis.label:this.dataKeyNames&&this.dataKeyNames[t]?this.dataKeyNames[t]:this.xAxis.label;Ji({rootEle:this.barChartEl,hasXAxis:!this.checkHideAxisState("xAxis","horizontal",Nt(this.preppedData,(t=>t[this.valueAccessor]))),xAxis:!!this.x&&this.x,xAxisLabel:n||""})}setYAxisAccessibility(){const t="vertical"===this.layout?this.valueAccessor:this.ordinalAccessor,n=this.yAxis.label&&""!==this.yAxis.label?this.yAxis.label:this.dataKeyNames&&this.dataKeyNames[t]?this.dataKeyNames[t]:this.yAxis.label;Qi({rootEle:this.barChartEl,hasYAxis:!this.checkHideAxisState("yAxis","vertical",Nt(this.preppedData,(t=>t[this.valueAccessor]))),yAxis:!!this.y&&this.y,yAxisLabel:n||""})}drawXGrid(){ve(this.gridG,this.innerPaddedHeight,this.innerPaddedWidth,this.x,!1,this.shouldCenterBaseline()&&this.xAxis.gridVisible?!("vertical"===this.layout):!("vertical"!==this.layout&&this.xAxis.gridVisible),this.xAxis.tickInterval,this.duration)}drawYGrid(){ve(this.gridG,this.innerPaddedHeight,this.innerPaddedWidth,this.y,!0,this.shouldCenterBaseline()&&this.yAxis.gridVisible?!("horizontal"===this.layout):!("vertical"===this.layout&&this.yAxis.gridVisible),this.yAxis.tickInterval,this.duration)}enterGeometries(){this.enter.interrupt();const t="vertical"===this.layout?"x":"y",n="vertical"===this.layout?"width":"height",r="innerPadded"+n[0].toUpperCase()+n.substring(1),i="vertical"===this.layout?"y":"x",e="vertical"===this.layout?"height":"width",o="vertical"===this.layout?"max":"min";this.enter.attr("class","bar").on("click",this.suppressEvents?null:(t,n,r)=>this.onClickHandler(t,r[n])).on("mouseover",this.suppressEvents?null:(t,n,r)=>this.onHoverHandler(t,r[n])).on("mouseout",this.suppressEvents?null:()=>this.onMouseOutHandler()).attr("cursor",this.suppressEvents?null:this.cursor).attr("rx",this.roundedCorner).attr("ry",this.roundedCorner).attr("fill",(t=>this.clickHighlight&&this.clickHighlight.length>0&&fe(t,this.clickHighlight,this.innerInteractionKeys)&&this.innerClickStyle.color?Te[this.innerClickStyle.color]||this.innerClickStyle.color:this.hoverHighlight&&he(t,this.hoverHighlight,this.innerInteractionKeys)&&this.innerHoverStyle.color?Te[this.innerHoverStyle.color]||this.innerHoverStyle.color:this.colorArr(this.groupAccessor?t[this.groupAccessor]:t[this.valueAccessor]))).attr(i,(t=>this.shouldCenterBaseline()?this[i](De(t[this.valueAccessor])*("vertical"===this.layout?1:-1)):this[i](Math[o](0,t[this.valueAccessor])))).attr(e,(t=>Math.abs("vertical"===this.layout?this[i](0)-this[i](t[this.valueAccessor]):this[i](t[this.valueAccessor])-this[i](0)))).each(((t,n,r)=>{ji(r[n])})),this.defaults?this.enter.attr("opacity",(t=>ce(t,1,this.hoverOpacity,this.hoverHighlight,this.clickHighlight,this.innerInteractionKeys))).attr(t,(n=>this[t](n[this.ordinalAccessor]))).attr(n,this[t].bandwidth()):this.enter.attr("opacity",0).attr(t,(n=>{let i=this[t](n[this.ordinalAccessor])+this[t].bandwidth()/2;return i=this[t](n[this.ordinalAccessor])+this[t].bandwidth()/2*(i/(this[r]/2)),i})).attr(n,0),this.update.order()}updateGeometries(){this.update.interrupt(),this.update.transition("opacity").duration(this.duration).ease(lr).attr("opacity",(t=>ce(t,1,this.hoverOpacity,this.hoverHighlight,this.clickHighlight,this.innerInteractionKeys)))}exitGeometries(){this.exit.interrupt();const t="vertical"===this.layout?"x":"y",n="vertical"===this.layout?"width":"height",r="innerPadded"+n[0].toUpperCase()+n.substring(1);this.exit.transition("exit").duration(this.duration).ease(lr).attr(t,((i,e,o)=>{const u=dt(o[e]);let a=+u.attr(t)+ +u.attr(n)/2;return a=+u.attr(t)+ +u.attr(n)/2*(a/(this[r]/2)),a})).attr(n,0).attr("opacity",0),this.update.transition("accessibilityAfterExit").duration(this.duration).ease(lr).call(ke,(()=>{const t=ie(this.rootG.node());this.exit.remove(),this.setChartCountAccessibility(),this.setGroupAccessibilityID(),this.setGeometryAriaLabels(),re({parentGNode:this.rootG.node(),focusDidExist:t})}))}drawGeometries(){const t="vertical"===this.layout?"x":"y",n="vertical"===this.layout?"width":"height",r="vertical"===this.layout?"y":"x",i="vertical"===this.layout?"height":"width",e="vertical"===this.layout?"max":"min";this.update.classed("geometryIsMoving",((o,u,a)=>Ri(dt(a[u]),[{attr:t,numeric:!0,newValue:this[t](o[this.ordinalAccessor])},{attr:n,numeric:!0,newValue:this[t].bandwidth()},{attr:r,numeric:!0,newValue:this.shouldCenterBaseline()?this[r](De(o[this.valueAccessor])*("vertical"===this.layout?1:-1)):this[r](Math[e](0,o[this.valueAccessor]))},{attr:i,numeric:!0,newValue:Math.abs("vertical"===this.layout?this[r](0)-this[r](o[this.valueAccessor]):this[r](o[this.valueAccessor])-this[r](0))}]))).attr("data-translate-x",this.padding.left+this.margin.left).attr("data-translate-y",this.padding.top+this.margin.top).attr(`data-${t}`,(n=>this[t](n[this.ordinalAccessor]))).attr(`data-${n}`,this[t].bandwidth()).attr(`data-${r}`,(t=>this.shouldCenterBaseline()?this[r](De(t[this.valueAccessor])*("vertical"===this.layout?1:-1)):this[r](Math[e](0,t[this.valueAccessor])))).attr(`data-${i}`,(t=>Math.abs("vertical"===this.layout?this[r](0)-this[r](t[this.valueAccessor]):this[r](t[this.valueAccessor])-this[r](0)))).transition("update").duration(this.duration).ease(lr).attr(t,(n=>this[t](n[this.ordinalAccessor]))).attr(n,this[t].bandwidth()).attr(r,(t=>this.shouldCenterBaseline()?this[r](De(t[this.valueAccessor])*("vertical"===this.layout?1:-1)):this[r](Math[e](0,t[this.valueAccessor])))).attr(i,(t=>Math.abs("vertical"===this.layout?this[r](0)-this[r](t[this.valueAccessor]):this[r](t[this.valueAccessor])-this[r](0)))).call(ke,(()=>{this.update.classed("geometryIsMoving",!1),this.updateInteractionState(),this.checkLabelColorAgainstBackground(),re({parentGNode:this.rootG.node()}),this.transitionEndEvent.emit({chartID:this.chartID})}))}setGlobalSelections(){const t=this.bars.selectAll(".bar").data(this.preppedData,(t=>t[this.ordinalAccessor]));this.enter=t.enter().append("rect"),this.exit=t.exit(),this.update=t.merge(this.enter),this.exitSize=this.exit.size(),this.enterSize=this.enter.size();const n=this.labels.selectAll("text").data(this.preppedData,(t=>t[this.ordinalAccessor]));this.enteringLabels=n.enter().append("text"),this.exitingLabels=n.exit(),this.updatingLabels=n.merge(this.enteringLabels)}setTestingAttributes(){this.unitTest?(dt(this.barChartEl).select(".visa-viz-d3-bar-container").attr("data-testid","chart-container"),dt(this.barChartEl).select(".bar-main-title").attr("data-testid","main-title"),dt(this.barChartEl).select(".bar-sub-title").attr("data-testid","sub-title"),this.svg.attr("data-testid","root-svg"),this.root.attr("data-testid","margin-container"),this.rootG.attr("data-testid","padding-container"),this.legendG.attr("data-testid","legend-container"),this.tooltipG.attr("data-testid","tooltip-container"),this.bars.attr("data-testid","bar-group"),this.labels.attr("data-testid","dataLabel-group"),this.references.attr("data-testid","reference-line-group"),this.svg.select("defs").attr("data-testid","pattern-defs"),this.updatingLabels.attr("data-testid","dataLabel").attr("data-id",(t=>`label-${t[this.ordinalAccessor]}`)),this.update.attr("data-testid","bar").attr("data-id",(t=>`bar-${t[this.ordinalAccessor]}`)),this.references.selectAll(".bar-reference-line").attr("data-testid","reference-line"),this.references.selectAll(".bar-reference-line-label").attr("data-testid","reference-line-label")):(dt(this.barChartEl).select(".visa-viz-d3-bar-container").attr("data-testid",null),dt(this.barChartEl).select(".bar-main-title").attr("data-testid",null),dt(this.barChartEl).select(".bar-sub-title").attr("data-testid",null),this.svg.attr("data-testid",null),this.root.attr("data-testid",null),this.rootG.attr("data-testid",null),this.legendG.attr("data-testid",null),this.tooltipG.attr("data-testid",null),this.bars.attr("data-testid",null),this.labels.attr("data-testid",null),this.references.attr("data-testid",null),this.svg.select("defs").attr("data-testid",null),this.updatingLabels.attr("data-testid",null).attr("data-id",null),this.update.attr("data-testid",null).attr("data-id",null),this.references.selectAll(".bar-reference-line").attr("data-testid",null),this.references.selectAll(".bar-reference-line-label").attr("data-testid",null))}renderRootElements(){this.svg=dt(this.barChartEl).select(".visa-viz-d3-bar-container").append("svg").attr("width",this.width).attr("height",this.height).attr("viewBox","0 0 "+this.width+" "+this.height),this.root=this.svg.append("g").attr("id","visa-viz-margin-container-g-"+this.chartID),this.rootG=this.root.append("g").attr("id","visa-viz-padding-container-g-"+this.chartID),this.gridG=this.rootG.append("g").attr("class","grid-group"),this.bars=this.rootG.append("g").attr("class","bar-group"),this.labels=this.rootG.append("g").attr("class","bar-dataLabel-group"),this.legendG=dt(this.barChartEl).select(".bar-legend").append("svg"),this.tooltipG=dt(this.barChartEl).select(".bar-tooltip"),this.references=this.rootG.append("g").attr("class","bar-reference-line-group")}setRoundedCorners(){this.update.transition("corners").duration(this.duration).ease(lr).attr("rx",this.roundedCorner).attr("ry",this.roundedCorner)}validateClickStyle(){this.innerClickStyle=this.clickStyle?this.clickStyle:{strokeWidth:2}}validateHoverStyle(){this.innerHoverStyle=this.hoverStyle?this.hoverStyle:{strokeWidth:2}}updateInteractionState(){Fi(this.svg.node()),this.update.interrupt("opacity"),this.update.attr("opacity",(t=>ce(t,1,this.hoverOpacity,this.hoverHighlight,this.clickHighlight,this.innerInteractionKeys))).attr("fill",(t=>this.clickHighlight&&this.clickHighlight.length>0&&fe(t,this.clickHighlight,this.innerInteractionKeys)&&this.innerClickStyle.color?Te[this.innerClickStyle.color]||this.innerClickStyle.color:this.hoverHighlight&&he(t,this.hoverHighlight,this.innerInteractionKeys)&&this.innerHoverStyle.color?Te[this.innerHoverStyle.color]||this.innerHoverStyle.color:this.colorArr(this.groupAccessor?t[this.groupAccessor]:t[this.valueAccessor]))).attr("filter",((t,n,r)=>{if(!this.accessibility.hideStrokes&&!dt(r[n]).classed("geometryIsMoving")){const i=this.preparedColors.range?this.preparedColors.range():this.preparedColors,e=this.groupAccessor||1===i.length?"categorical":this.colorPalette&&this.colorPalette.includes("diverging")?"diverging":"sequential",o=!this.accessibility.hideTextures&&"categorical"!==e&&this.accessibility.showExperimentalTextures?"fillColors":"preparedColors",u=this.clickHighlight&&this.clickHighlight.length>0&&fe(t,this.clickHighlight,this.innerInteractionKeys),a=this.hoverHighlight&&he(t,this.hoverHighlight,this.innerInteractionKeys),s=this[o](this.groupAccessor?t[this.groupAccessor]:t[this.valueAccessor]),c=u?"click":a&&!dt(r[n]).classed("geometryIsMoving")?"hover":"rest",f=u&&this.innerClickStyle.color?Te[this.innerClickStyle.color]||this.innerClickStyle.color:u?s:a&&this.innerHoverStyle.color?Te[this.innerHoverStyle.color]||this.innerHoverStyle.color:s,h=!this.accessibility.hideTextures&&"categorical"!==e&&this.accessibility.showExperimentalTextures&&f===s?this.strokeColors(t[this.groupAccessor||this.valueAccessor]):void 0;return"hover"===c&&Di({inputElement:r[n],id:this.chartID,key:t[this.ordinalAccessor],strokeWidth:this.innerHoverStyle.strokeWidth,fill:f,strokeOverride:h}),this.strokes[c+f]}return null})),re({parentGNode:this.rootG.node()}),be({root:this.legendG,uniqueID:this.chartID,interactionKeys:this.innerInteractionKeys,groupAccessor:this.groupAccessor,hoverHighlight:this.hoverHighlight,clickHighlight:this.clickHighlight,hoverStyle:this.innerHoverStyle,clickStyle:this.innerClickStyle,hoverOpacity:this.hoverOpacity}),this.updatingLabels.interrupt("opacity");const t="auto"===this.placement||this.dataLabel.collisionHideOnly,n="auto"!==this.placement&&this.dataLabel.collisionHideOnly;if(this.processLabelOpacity(this.updatingLabels,t),t){const t=this.updatingLabels.filter(((t,n,r)=>dt(r[n]).classed("collision-added"))),r=this.updatingLabels.filter(((t,n,r)=>dt(r[n]).classed("collision-removed"))).attr("data-use-dx",n).attr("data-use-dy",n);r.size()>0&&(this.bitmaps=Ce({bitmaps:this.bitmaps,labelSelection:r,avoidMarks:[],validPositions:["middle"],offsets:[1],accessors:["key"],size:[Re(this.width,0),Re(this.height,0)],hideOnly:!1,removeOnly:!0}),r.classed("collision-removed",!1)),t.size()>0&&(this.processLabelPosition(t,!1,!1,!0),t.classed("collision-added",!1))}}setLabelOpacity(){this.processLabelOpacity(this.updatingLabels)}processLabelOpacity(t,n){const r=this.dataLabel.visible?1:0,i="vertical"===this.layout?"x":"y",e="vertical"===this.layout?"width":"height",o="vertical"===this.layout?"y":"x",u="vertical"===this.layout?"height":"width",a="vertical"===this.layout?this.innerPaddedWidth/this.data.length:this.innerPaddedHeight/this.data.length;t.attr("opacity",((t,s,c)=>{const f=+dt(c[s]).attr("opacity"),h=dt(c[s]).style("visibility"),l={};l[e]="left"===this.placement||"bottom"===this.placement?this[i].bandwidth():a,"left"!==this.placement&&"bottom"!==this.placement||(l[u]=Math.abs("vertical"===this.layout?this[o](0)-this[o](t[this.valueAccessor]):this[o](t[this.valueAccessor])-this[o](0)));const d="auto"===this.placement||this.dataLabel.collisionHideOnly||this.accessibility.showSmallLabels||Ii({text:ye(t,this.innerLabelAccessor,this.dataLabel.format),dimensions:l,fontSize:14})?ce(t,r,this.hoverOpacity,this.hoverHighlight,this.clickHighlight,this.innerInteractionKeys)<1?0:1:0;return(1===d&&"hidden"===h||f!==d)&&n&&(1===d?dt(c[s]).classed("collision-added",!0).style("visibility",null):dt(c[s]).classed("collision-removed",!0)),d}))}checkLabelColorAgainstBackground(){this.updatingLabels.attr("fill",this.textTreatmentHandler)}setSelectedClass(){this.update.classed("highlight",(t=>{const n=ce(t,!0,!1,"",this.clickHighlight,this.innerInteractionKeys);return!(!this.clickHighlight||!this.clickHighlight.length)&&n})).each(((t,n,r)=>{let i=ce(t,!0,!1,"",this.clickHighlight,this.innerInteractionKeys);i=!(!this.clickHighlight||!this.clickHighlight.length)&&i,ee(r[n],i,this.accessibility.elementsAreInterface)}))}updateCursor(){this.update.attr("cursor",this.suppressEvents?null:this.cursor),this.updatingLabels.attr("cursor",this.suppressEvents?null:this.cursor)}bindLegendInteractivity(){dt(this.barChartEl).selectAll(".legend").on("click",this.legend.interactive&&!this.suppressEvents?(t,n,r)=>this.onClickHandler(t,r[n]):null).on("mouseover",this.legend.interactive&&!this.suppressEvents?(t,n,r)=>this.onHoverHandler(t,r[n],!0):null).on("mouseout",this.legend.interactive&&!this.suppressEvents?()=>this.onMouseOutHandler():null)}setLegendCursor(){dt(this.barChartEl).selectAll(".legend").style("cursor",this.legend.interactive&&!this.suppressEvents?this.cursor:null)}bindInteractivity(){this.update.on("click",this.suppressEvents?null:(t,n,r)=>this.onClickHandler(t,r[n])).on("mouseover",this.suppressEvents?null:(t,n,r)=>this.onHoverHandler(t,r[n])).on("mouseout",this.suppressEvents?null:()=>this.onMouseOutHandler()),this.updatingLabels.on("click",this.suppressEvents?null:(t,n,r)=>this.onClickHandler(t,r[n])).on("mouseover",this.suppressEvents?null:(t,n,r)=>this.onHoverHandler(t,r[n])).on("mouseout",this.suppressEvents?null:()=>this.onMouseOutHandler())}enterLabels(){const t=this.dataLabel.visible?1:0;this.enteringLabels.attr("opacity",(n=>ce(n,t,this.hoverOpacity,this.hoverHighlight,this.clickHighlight,this.innerInteractionKeys)<1?0:Number.EPSILON)).attr("class","bar-dataLabel entering").attr("fill",this.textTreatmentHandler).attr("cursor",this.suppressEvents?null:this.cursor).on("click",this.suppressEvents?null:(t,n,r)=>this.onClickHandler(t,r[n])).on("mouseover",this.suppressEvents?null:(t,n,r)=>this.onHoverHandler(t,r[n])).on("mouseout",this.suppressEvents?null:()=>this.onMouseOutHandler())}updateLabels(){const t=this.updatingLabels.transition("opacity").ease(lr).duration(this.duration);this.processLabelOpacity(t)}exitLabels(){this.exitingLabels.transition("exit").ease(lr).duration(this.duration/2).attr("opacity",0).remove()}setLabelContent(){this.updatingLabels.text((t=>ye(t,this.innerLabelAccessor,this.dataLabel.format)))}setLabelPosition(){const t=this.enteringLabels.filter(((t,n,r)=>dt(r[n]).classed("entering"))),n=this.updatingLabels.filter(((t,n,r)=>!dt(r[n]).classed("entering")));t.size()>0?(this.processLabelPosition(t,!1,!0,!1),this.processLabelPosition(n,!0,!1,!0)):this.processLabelPosition(n,!0,!0,!1)}processLabelPosition(t,n,r,i){const e="vertical"===this.layout?"x":"y",o="vertical"===this.layout?"width":"height",u="vertical"===this.layout?"y":"x",a="vertical"===this.layout?"height":"width",s="vertical"===this.layout?"max":"min";let c=15;const f="auto"!==this.placement&&this.dataLabel.collisionHideOnly,h={vertical:{top:{validPositions:["top","bottom"],offsets:[5,1]},middle:{validPositions:["middle","top"],offsets:[1,c/2]},bottom:{validPositions:["middle","top"],offsets:[1,c/2]}},horizontal:{right:{validPositions:["right","left"],offsets:[4,8]},middle:{validPositions:["middle","right"],offsets:[1,15]},left:{validPositions:["left","right"],offsets:[4,20]}}},l=this.dataLabel&&this.dataLabel.collisionPlacement,d=l&&h[this.layout][l]?this.dataLabel.collisionPlacement:"vertical"===this.layout?"top":"right";t.style("visibility",((t,n,r)=>{if(0===n){const t=getComputedStyle(r[n]),i=parseFloat(t.fontSize);c=Math.max(i-1,1)}return"auto"===this.placement||this.dataLabel.collisionHideOnly?dt(r[n]).style("visibility"):null})).attr(`data-${e}`,(t=>this[e](t[this.ordinalAccessor]))).attr(`data-${o}`,this[e].bandwidth()).attr(`data-${u}`,(t=>this.shouldCenterBaseline()?this[u](De(t[this.valueAccessor])*("vertical"===this.layout?1:-1)):this[u](Math[s](0,t[this.valueAccessor])))).attr(`data-${a}`,(t=>Math.abs("vertical"===this.layout?this[u](0)-this[u](t[this.valueAccessor]):this[u](t[this.valueAccessor])-this[u](0)))).attr("data-translate-x",this.padding.left+this.margin.left).attr("data-translate-y",this.padding.top+this.margin.top);const v=Ie({selection:t,duration:n?this.duration:0,namespace:"position-labels",easing:lr});this.bitmaps=Ne({root:v,xScale:this.x,yScale:this.y,ordinalAccessor:this.ordinalAccessor,valueAccessor:this.valueAccessor,placement:this.placement,layout:this.layout,labelOffset:this.shouldCenterBaseline()?De(1):void 0,chartType:"bar",avoidCollision:{runOccupancyBitmap:this.dataLabel.visible&&"auto"===this.placement,bitmaps:r?void 0:this.bitmaps,labelSelection:v,avoidMarks:[this.update],validPositions:f?["middle"]:h[this.layout][d].validPositions,offsets:f?[1]:h[this.layout][d].offsets,accessors:[this.ordinalAccessor,this.groupAccessor],size:[Re(this.width,0),Re(this.height,0)],boundsScope:f?void 0:d,hideOnly:this.dataLabel.visible&&this.dataLabel.collisionHideOnly,suppressMarkDraw:i}})}drawReferenceLines(){const t=this.references.selectAll("g").data(this.referenceLines,(t=>t.label)),n=t.enter().append("g").attr("class","bar-reference").attr("opacity",1),r=n.append("line");r.attr("class","bar-reference-line").attr("opacity",0);const i=n.append("text");i.attr("class","bar-reference-line-label").attr("opacity",0);const e=t.merge(n),o=e.selectAll(".bar-reference-line").data((t=>[t])).transition("merge").ease(lr).duration(this.duration),u=e.selectAll(".bar-reference-line-label").data((t=>[t])).transition("merge").ease(lr).duration(this.duration).text((t=>t.label));t.exit().transition("exit").ease(lr).duration(this.duration).attr("opacity",0).remove(),"vertical"===this.layout?(n.attr("transform",(t=>"translate(0,"+this.y(t.value)+")")),e.transition("merge").ease(lr).duration(this.duration).attr("transform",(t=>"translate(0,"+this.y(t.value)+")")),r.attr("x1",0).attr("y1",0).attr("y2",0).attr("x2",this.innerPaddedWidth),i.attr("text-anchor",(t=>"right"===(t.labelPlacementHorizontal||"right")?"start":"end")).attr("x",(t=>"right"===(t.labelPlacementHorizontal||"right")?this.innerPaddedWidth:0)).attr("y",0).attr("dx",(t=>"right"===(t.labelPlacementHorizontal||"right")?"0.1em":"-0.1em")).attr("dy","0.3em"),o.attr("x1",0).attr("y1",0).attr("y2",0).attr("x2",this.innerPaddedWidth),u.attr("text-anchor",(t=>"right"===(t.labelPlacementHorizontal||"right")?"start":"end")).attr("x",(t=>"right"===(t.labelPlacementHorizontal||"right")?this.innerPaddedWidth:0)).attr("y",0).attr("dx",(t=>"right"===(t.labelPlacementHorizontal||"right")?"0.1em":"-0.1em")).attr("dy","0.3em")):"horizontal"===this.layout&&(n.attr("transform",(t=>"translate("+this.x(t.value)+",0)")),e.transition("merge").ease(lr).duration(this.duration).attr("transform",(t=>"translate("+this.x(t.value)+",0)")),r.attr("x1",0).attr("y1",this.innerPaddedHeight).attr("x2",0).attr("y2",0),o.attr("x1",0).attr("y1",this.innerPaddedHeight).attr("x2",0).attr("y2",0),i.attr("text-anchor","middle").attr("x",0).attr("y",(t=>"top"===(t.labelPlacementVertical||"top")?0:this.innerPaddedHeight)).attr("dx",0).attr("dy",(t=>"top"===(t.labelPlacementVertical||"top")?"-0.3em":"1em")),u.attr("text-anchor","middle").attr("x",0).attr("y",(t=>"top"===(t.labelPlacementVertical||"top")?0:this.innerPaddedHeight)).attr("dx",0).attr("dy",(t=>"top"===(t.labelPlacementVertical||"top")?"-0.3em":"1em"))),o.style("stroke",Te[this.referenceStyle.color]||this.referenceStyle.color).style("stroke-width",this.referenceStyle.strokeWidth).attr("stroke-dasharray",this.referenceStyle.dashed?this.referenceStyle.dashed:"").attr("opacity",this.referenceStyle.opacity),u.style("fill",Te[this.referenceStyle.color]||this.referenceStyle.color).attr("opacity",1)}drawLegendElements(){pe({root:this.legendG,uniqueID:this.chartID,width:this.innerPaddedWidth,height:this.margin.top+20,colorArr:this.colorArr,baseColorArr:this.preparedColors,hideStrokes:this.accessibility.hideStrokes,margin:this.margin,padding:this.padding,duration:this.duration,type:"bar",fontSize:16,data:this.legendData,labelKey:this.groupAccessor,label:this.legend.labels,format:this.legend.format,hide:!this.legend.visible||!this.groupAccessor,interactionKeys:this.innerInteractionKeys,groupAccessor:this.groupAccessor,hoverHighlight:this.hoverHighlight,clickHighlight:this.clickHighlight,hoverStyle:this.innerHoverStyle,clickStyle:this.innerClickStyle,hoverOpacity:this.hoverOpacity})}drawAnnotations(){ae({source:this.rootG.node(),data:this.annotations,xScale:this.x,xAccessor:"horizontal"!==this.layout?this.ordinalAccessor:this.valueAccessor,yScale:this.y,yAccessor:"horizontal"!==this.layout?this.valueAccessor:this.ordinalAccessor,width:this.width,height:this.height,padding:this.padding,margin:this.margin,bitmaps:this.bitmaps})}setAnnotationAccessibility(){ne(this.barChartEl,this.annotations)}setChartDescriptionWrapper(){_i({rootEle:this.barChartEl,title:this.accessibility.title||this.mainTitle,chartTag:"bar-chart",uniqueID:this.chartID,highestHeadingLevel:this.highestHeadingLevel,redraw:this.shouldRedrawWrapper,disableKeyNav:this.suppressEvents&&!1===this.accessibility.elementsAreInterface&&this.accessibility.keyboardNavConfig&&this.accessibility.keyboardNavConfig.disabled}),this.shouldRedrawWrapper=!1}setParentSVGAccessibility(){Bi({node:this.svg.node(),chartTag:"bar-chart",title:this.accessibility.title||this.mainTitle,description:this.subTitle,uniqueID:this.chartID,geomType:"bar",includeKeyNames:this.accessibility.includeDataKeyNames,dataKeys:xe(this,se,"bar-chart"),dataKeyNames:this.dataKeyNames,groupAccessor:this.groupAccessor,disableKeyNav:this.suppressEvents&&!1===this.accessibility.elementsAreInterface&&this.accessibility.keyboardNavConfig&&this.accessibility.keyboardNavConfig.disabled})}setGeometryAccessibilityAttributes(){this.update.each(((t,n,r)=>{ji(r[n])}))}setGeometryAriaLabels(){const t=xe(this,se,"bar-chart");this.update.each(((n,r,i)=>{Ui({node:i[r],geomType:"bar",includeKeyNames:this.accessibility.includeDataKeyNames,dataKeys:t,dataKeyNames:this.dataKeyNames,uniqueID:this.chartID,disableKeyNav:this.suppressEvents&&!1===this.accessibility.elementsAreInterface&&this.accessibility.keyboardNavConfig&&this.accessibility.keyboardNavConfig.disabled}),Pi({node:i[r],uniqueID:this.chartID})}))}setGroupAccessibilityAttributes(){ji(this.bars.node())}setGroupAccessibilityID(){this.bars.each(((t,n,r)=>{Pi({node:r[n],uniqueID:this.chartID})}))}setChartAccessibilityTitle(){zi(this.barChartEl,this.accessibility.title||this.mainTitle)}setChartAccessibilitySubtitle(){Vi(this.barChartEl,this.subTitle)}setChartAccessibilityLongDescription(){Gi(this.barChartEl,this.accessibility.longDescription)}setChartAccessibilityExecutiveSummary(){qi(this.barChartEl,this.accessibility.executiveSummary)}setChartAccessibilityPurpose(){$i(this.barChartEl,this.accessibility.purpose)}setChartAccessibilityContext(){Zi(this.barChartEl,this.accessibility.contextExplanation)}setChartAccessibilityStatisticalNotes(){Xi(this.barChartEl,this.accessibility.statisticalNotes)}setChartCountAccessibility(){Ki({rootEle:this.barChartEl,parentGNode:this.bars.node(),chartTag:"bar-chart",geomType:"bar"})}setChartAccessibilityStructureNotes(){te(this.barChartEl,this.accessibility.structureNotes)}onChangeHandler(){this.accessibility&&"function"==typeof this.accessibility.onChangeFunc&&this.accessibility.onChangeFunc({updated:this.updated,added:this.enterSize,removed:this.exitSize}),this.updated=!1,this.enterSize=0,this.exitSize=0}onClickHandler(t,n){this.clickEvent.emit({data:t,target:n})}onHoverHandler(t,n,r){Ee(this.chartID,!0),this.hoverEvent.emit({data:t,target:n}),this.showTooltip&&!r&&this.eventsTooltip({data:t,evt:nt,isToShow:!0})}onMouseOutHandler(){Ee(this.chartID,!1),this.mouseOutEvent.emit(),this.showTooltip&&this.eventsTooltip({isToShow:!1})}setTooltipInitialStyle(){Ae(this.tooltipG)}eventsTooltip({data:t,evt:n,isToShow:r}){me({root:this.tooltipG,data:t,event:n,isToShow:r,tooltipLabel:this.tooltipLabel,dataKeyNames:this.dataKeyNames,xAxis:this.xAxis,yAxis:this.yAxis,dataLabel:this.dataLabel,layout:this.layout,ordinalAccessor:this.ordinalAccessor,valueAccessor:this.valueAccessor,groupAccessor:this.groupAccessor,chartType:"bar"})}render(){return this.drawStartEvent.emit({chartID:this.chartID}),this.init(),this.shouldSetTagLevels&&(this.setTagLevels(),this.shouldSetTagLevels=!1),this.shouldCheckValueAxis&&("horizontal"===this.layout?(this.shouldUpdateXAxis=!0,this.shouldSetXAxisAccessibility=!0,this.shouldUpdateXGrid=!0):"vertical"===this.layout&&(this.shouldUpdateYAxis=!0,this.shouldSetYAxisAccessibility=!0,this.shouldUpdateYGrid=!0),this.shouldCheckValueAxis=!1),this.shouldCheckLabelAxis&&("vertical"===this.layout?(this.shouldUpdateXAxis=!0,this.shouldSetXAxisAccessibility=!0):"horizontal"===this.layout&&(this.shouldUpdateYAxis=!0,this.shouldSetYAxisAccessibility=!0),this.shouldCheckLabelAxis=!1),this.shouldUpdateData&&(this.prepareData(),this.shouldUpdateData=!1),this.shouldUpdateLegendData&&(this.prepareLegendData(),this.shouldUpdateLegendData=!1),this.shouldUpdateLayoutVariables&&(this.updateChartVariable(),this.shouldUpdateLayoutVariables=!1),this.shouldUpdateScales&&(this.prepareScales(),this.shouldUpdateScales=!1),this.shouldValidateInteractionKeys&&(this.validateInteractionKeys(),this.shouldValidateInteractionKeys=!1),this.shouldUpdateTableData&&(this.setTableData(),this.shouldUpdateTableData=!1),this.shouldValidate&&(this.shouldValidateAccessibilityProps(),this.shouldValidate=!1),this.shouldValidateClickStyle&&(this.validateClickStyle(),this.shouldValidateClickStyle=!1),this.shouldValidateHoverStyle&&(this.validateHoverStyle(),this.shouldValidateHoverStyle=!1),this.shouldValidateDataLabelAccessor&&(this.validateDataLabelAccessor(),this.shouldValidateDataLabelAccessor=!1),this.shouldSetColors&&(this.setColors(),this.shouldSetColors=!1),this.shouldValidateLabelPlacement&&(this.validateLabelPlacement(),this.shouldValidateLabelPlacement=!1),r("div",{class:`o-layout is--${this.layout} light`},r("div",{class:"o-layout--chart"},r(this.topLevel,{class:"bar-main-title vcl-main-title"},this.mainTitle),r(this.bottomLevel,{class:"visa-ui-text--instructions bar-sub-title vcl-sub-title"},this.subTitle),r("div",{class:"bar-legend vcl-legend",style:{display:this.legend.visible&&this.groupAccessor?"block":"none"}}),r("keyboard-instructions",{uniqueID:this.chartID,geomType:"bar",groupName:"bar group",chartTag:"bar-chart",width:this.width-(this.margin&&this.margin.right||0),isInteractive:this.accessibility.elementsAreInterface,hasCousinNavigation:!!this.groupAccessor,disabled:this.suppressEvents&&!1===this.accessibility.elementsAreInterface&&this.accessibility.keyboardNavConfig&&this.accessibility.keyboardNavConfig.disabled}),r("div",{class:"visa-viz-d3-bar-container"}),r("div",{class:"bar-tooltip vcl-tooltip",style:{display:this.showTooltip?"block":"none"}}),r("data-table",{uniqueID:this.chartID,isCompact:!0,tableColumns:this.tableColumns,dataKeyNames:this.dataKeyNames,data:this.tableData,padding:this.padding,margin:this.margin,hideDataTable:this.accessibility.hideDataTableButton,unitTest:this.unitTest})))}init(){const t=Object.keys(yr);let n=0;const r={showTooltip:{exception:!1},mainTitle:{exception:""},subTitle:{exception:""},barIntervalRatio:{exception:0},wrapLabel:{exception:!1},hoverOpacity:{exception:0}};for(n=0;n<t.length;n++)this[t[n]]=this[t[n]]||r[t[n]]&&this[t[n]]===r[t[n]].exception?this[t[n]]:yr[t[n]]}get barChartEl(){return i(this)}static get watchers(){return{data:["dataWatcher"],sortOrder:["sortWatcher"],groupAccessor:["groupAccessorWatcher"],ordinalAccessor:["ordinalAccessorWatcher"],valueAccessor:["valueAccessorWatcher"],maxValueOverride:["valueOverrideWatcher"],minValueOverride:["valueOverrideWatcher"],highestHeadingLevel:["headingWatcher"],mainTitle:["titleWatcher"],subTitle:["subtitleWatcher"],xAxis:["xAxisWatcher"],yAxis:["yAxisWatcher"],wrapLabel:["wrapLabelWatcher"],colors:["colorsWatcher"],colorPalette:["colorsWatcher"],layout:["layoutWatcher"],height:["dimensionWatcher"],width:["dimensionWatcher"],padding:["dimensionWatcher"],margin:["dimensionWatcher"],roundedCorner:["cornerWatcher"],barIntervalRatio:["intervalRatioWatcher"],dataLabel:["labelWatcher"],legend:["legendWatcher"],referenceLines:["referenceWatcher"],referenceStyle:["referenceWatcher"],tooltipLabel:["tooltipLabelWatcher"],showTooltip:["showTooltipWatcher"],hoverOpacity:["hoverOpacityWatcher"],clickStyle:["clickStyleWatcher"],hoverStyle:["hoverStyleWatcher"],clickHighlight:["clickWatcher"],hoverHighlight:["hoverWatcher"],interactionKeys:["interactionWatcher"],dataKeyNames:["dataKeyNamesWatcher"],cursor:["cursorWatcher"],accessibility:["accessibilityWatcher"],annotations:["annotationsWatcher"],uniqueID:["idWatcher"],suppressEvents:["suppressWatcher"],unitTest:["unitTestWatcher"]}}};window.VisaChartsLibOSSLicenses=ge(),Fe.style=".o-layout{width:100%;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.o-layout--chart{width:100%}.is--vertical .o-layout--chart{width:90%}bar-chart{cursor:default}bar-chart .annotations{pointer-events:none}bar-chart .annotations .handle{pointer-events:all}bar-chart .screen-reader-info{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}bar-chart .data-table-link{color:#767676;text-decoration:none;font-size:12px;margin-left:5%}bar-chart .hidden{display:none}bar-chart .light .grid line{stroke:#767676;stroke-opacity:1;stroke-width:0.8;stroke-dasharray:4, 4}bar-chart .light .grid path{stroke-width:0}bar-chart .light .axis{font-size:12px}bar-chart .light .axis .tick text{fill:#767676}bar-chart .light .axis .tick line{stroke:#767676}bar-chart .light .axis-label{text-anchor:middle;font:1rem sans-serif}bar-chart .light .y.axis path{stroke:#767676;opacity:0}bar-chart .light .x.axis path{stroke:#767676}bar-chart .light .o-layout--chart .bar-dataLabel-vertical{text-anchor:middle}bar-chart .light .o-layout--chart .bar-dataLabel-horizontal{text-anchor:start}bar-chart .dark .grid line{stroke:lightgrey;stroke-opacity:0.7;shape-rendering:crispEdges}bar-chart .dark .grid path{stroke-width:0}bar-chart .dark .axis{font-size:12px}bar-chart .dark .axis .tick line{stroke:lightgrey}bar-chart .dark .axis .tick text{fill:grey}bar-chart .dark .axis path{stroke:black}bar-chart .dark .axis-label{text-anchor:middle;font:1rem sans-serif}bar-chart .dark .o-layout--chart svg{background:black}bar-chart .dark .o-layout--chart svg .bar-dataLabel-vertical{text-anchor:middle}bar-chart .dark .o-layout--chart svg .bar-dataLabel-horizontal{text-anchor:start}";export{Fe as bar_chart}