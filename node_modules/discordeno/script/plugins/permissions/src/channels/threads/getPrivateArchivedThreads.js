"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getPrivateArchivedThreads = void 0;
const deps_js_1 = require("../../../deps.js");
const permissions_js_1 = require("../../permissions.js");
function getPrivateArchivedThreads(bot) {
    const getPrivateArchivedThreads = bot.helpers.getPrivateArchivedThreads;
    bot.helpers.getPrivateArchivedThreads = async function (channelId, options) {
        const channel = bot.channels.get(bot.transformers.snowflake(channelId));
        if (channel) {
            const isThreadParent = [deps_js_1.ChannelTypes.GuildText, deps_js_1.ChannelTypes.GuildAnnouncement, deps_js_1.ChannelTypes.GuildForum]
                .includes(channel.type);
            if (!isThreadParent) {
                throw new Error("Channel must be a text channel, a forum channel, or an announcement channel");
            }
        }
        (0, permissions_js_1.requireBotChannelPermissions)(bot, bot.transformers.snowflake(channelId), [
            "VIEW_CHANNEL",
            "READ_MESSAGE_HISTORY",
            "MANAGE_MESSAGES",
        ]);
        return await getPrivateArchivedThreads(channelId, options);
    };
}
exports.getPrivateArchivedThreads = getPrivateArchivedThreads;
